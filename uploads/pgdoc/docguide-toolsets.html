<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>J.2. Tool Sets</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="docguide-docbook.html" title="J.1. DocBook" /><link rel="next" href="docguide-build.html" title="J.3. Building The Documentation" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">J.2. Tool Sets</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="docguide-docbook.html" title="J.1. DocBook">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="docguide.html" title="Appendix J. Documentation">Up</a></td><th width="60%" align="center">Appendix J. Documentation</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10devel Documentation">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="docguide-build.html" title="J.3. Building The Documentation">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="docguide-toolsets"><div class="titlepage"><div><div><h2 class="title" style="clear: both">J.2. Tool Sets</h2></div></div></div><p>   The following tools are used to process the documentation.  Some
   might be optional, as noted.

   </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="ulink" href="http://www.oasis-open.org/docbook/" target="_top">DocBook DTD</a></span></dt><dd><p>       This is the definition of DocBook itself.  We currently use
       version 4.2; you cannot use later or earlier versions.  You
       need the <acronym class="acronym">SGML</acronym> variant of the DocBook DTD,
       but to build man pages you also need the <acronym class="acronym">XML</acronym>
       variant of the same version.
      </p></dd><dt><span class="term"><a class="ulink" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879 character entities</a></span></dt><dd><p>       These are required by DocBook but are distributed separately
       because they are maintained by ISO.
      </p></dd><dt><span class="term"><a class="ulink" href="http://wiki.docbook.org/DocBookDssslStylesheetDocs" target="_top">DocBook DSSSL Stylesheets</a></span></dt><dd><p>       These contain the processing instructions for converting the
       DocBook sources to other formats, such as
       <acronym class="acronym">HTML</acronym>.
      </p></dd><dt><span class="term"><a class="ulink" href="http://wiki.docbook.org/DocBookXslStylesheets" target="_top">DocBook XSL Stylesheets</a></span></dt><dd><p>       This is another stylesheet for converting DocBook to other
       formats.  We currently use this to produce man pages and
       optionally HTMLHelp.  You can also use this toolchain to
       produce HTML or PDF output, but official PostgreSQL releases
       use the DSSSL stylesheets for that.
      </p><p>       The minimum required version is currently 1.74.0.
      </p></dd><dt><span class="term"><a class="ulink" href="http://openjade.sourceforge.net" target="_top">OpenJade</a></span></dt><dd><p>       This is the base package of <acronym class="acronym">SGML</acronym> processing.
       It contains an <acronym class="acronym">SGML</acronym> parser, a
       <acronym class="acronym">DSSSL</acronym> processor (that is, a program to
       convert <acronym class="acronym">SGML</acronym> to other formats using
       <acronym class="acronym">DSSSL</acronym> stylesheets), as well as a number of
       related tools.  <span class="productname">Jade</span> is now being
       maintained by the OpenJade group, no longer by James Clark.
      </p></dd><dt><span class="term"><a class="ulink" href="http://xmlsoft.org/" target="_top">Libxml2</a> for <code class="command">xmllint</code></span></dt><dd><p>       This library and the <code class="command">xmllint</code> tool it contains are
       used for processing XML.  Many developers will already
       have <span class="application">Libxml2</span> installed, because it is also
       used when building the PostgreSQL code.  Note, however,
       that <code class="command">xmllint</code> might need to be installed from a
       separate subpackage.
      </p></dd><dt><span class="term"><a class="ulink" href="http://xmlsoft.org/XSLT/" target="_top">Libxslt</a> for <code class="command">xsltproc</code></span></dt><dd><p>       This is the processing tool to use with the XSLT stylesheets
       (like <code class="command">jade</code> is the processing tool for DSSSL
       stylesheets).
      </p></dd><dt><span class="term"><a class="ulink" href="http://jadetex.sourceforge.net" target="_top">JadeTeX</a></span></dt><dd><p>       If you want to, you can also install
       <span class="productname">JadeTeX</span> to use
       <span class="productname">TeX</span> as a formatting backend for
       <span class="productname">Jade</span>.
       <span class="application">JadeTeX</span> can create PostScript or
       <acronym class="acronym">PDF</acronym> files (the latter with bookmarks).
      </p><p>       However, the output from <span class="application">JadeTeX</span> is
       inferior to what you get from the <acronym class="acronym">RTF</acronym>
       backend.  Particular problem areas are tables and various
       artifacts of vertical and horizontal spacing.  Also, there is
       no opportunity to manually polish the results.
      </p></dd></dl></div><p>
  </p><p>   We have documented experience with several installation methods for
   the various tools that are needed to process the documentation.
   These will be described below.  There might be some other packaged
   distributions for these tools. Please report package status to the
   documentation mailing list, and we will include that information
   here.
  </p><div class="sect2" id="idm45642298296608"><div class="titlepage"><div><div><h3 class="title">J.2.1. Installation on Fedora, RHEL, and Derivatives</h3></div></div></div><p>    To install the required packages, use:
</p><pre class="programlisting">yum install docbook-dtds docbook-style-dsssl docbook-style-xsl libxslt openjade</pre><p>
   </p></div><div class="sect2" id="idm45642298295088"><div class="titlepage"><div><div><h3 class="title">J.2.2. Installation on FreeBSD</h3></div></div></div><p>    The FreeBSD Documentation Project is itself a heavy user of
    DocBook, so it comes as no surprise that there is a full set of
    <span class="quote">“<span class="quote">ports</span>”</span> of the documentation tools available on
    FreeBSD.  The following ports need to be installed to build the
    documentation on FreeBSD.
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">textproc/docbook-sgml</code></p></li><li class="listitem"><p><code class="filename">textproc/docbook-xml</code></p></li><li class="listitem"><p><code class="filename">textproc/docbook-xsl</code></p></li><li class="listitem"><p><code class="filename">textproc/dsssl-docbook-modular</code></p></li><li class="listitem"><p><code class="filename">textproc/libxslt</code></p></li><li class="listitem"><p><code class="filename">textproc/openjade</code></p></li></ul></div><p>
   </p><p>    A number of things from <code class="filename">/usr/ports/print</code>
    (<code class="filename">tex</code>, <code class="filename">jadetex</code>) might
    also be of interest.
   </p><p>    More information about the FreeBSD documentation tools can be
    found in the <a class="ulink" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/fdp-primer/tools.html" target="_top">    FreeBSD Documentation Project's instructions</a>.
   </p></div><div class="sect2" id="idm45642298284896"><div class="titlepage"><div><div><h3 class="title">J.2.3. Debian Packages</h3></div></div></div><p>    There is a full set of packages of the documentation tools
    available for <span class="productname">Debian GNU/Linux</span>.
    To install, simply use:
</p><pre class="programlisting">apt-get install docbook docbook-dsssl docbook-xsl libxml2-utils openjade1.3 opensp xsltproc</pre><p>
   </p></div><div class="sect2" id="idm45642298282624"><div class="titlepage"><div><div><h3 class="title">J.2.4. macOS</h3></div></div></div><p>    If you use MacPorts, the following will get you set up:
</p><pre class="programlisting">sudo port install docbook-dsssl docbook-sgml-4.2 docbook-xml-4.2 docbook-xsl libxslt openjade opensp</pre><p>
   </p></div><div class="sect2" id="idm45642298281104"><div class="titlepage"><div><div><h3 class="title">J.2.5. Manual Installation from Source</h3></div></div></div><p>    The manual installation process of the DocBook tools is somewhat
    complex, so if you have pre-built packages available, use them.
    We describe here only a standard setup, with reasonably standard
    installation paths, and no <span class="quote">“<span class="quote">fancy</span>”</span> features.  For
    details, you should study the documentation of the respective
    package, and read <acronym class="acronym">SGML</acronym> introductory material.
   </p><div class="sect3" id="idm45642298279152"><div class="titlepage"><div><div><h4 class="title">J.2.5.1. Installing OpenJade</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>        The installation of OpenJade offers a GNU-style
        <code class="literal">./configure; make; make install</code> build
        process.  Details can be found in the OpenJade source
        distribution. In a nutshell:
</p><pre class="synopsis">./configure --enable-default-catalog=/usr/local/share/sgml/catalog
make
make install</pre><p>
        Be sure to remember where you put the <span class="quote">“<span class="quote">default
        catalog</span>”</span>; you will need it below.  You can also leave
        it off, but then you will have to set the environment variable
        <code class="envar">SGML_CATALOG_FILES</code> to point to the file
        whenever you use <span class="application">jade</span> later on.
        (This method is also an option if OpenJade is already
        installed and you want to install the rest of the toolchain
        locally.)
       </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>        Some users have reported encountering a segmentation fault using
        OpenJade 1.4devel to build the PDFs, with a message like:
</p><pre class="screen">openjade:./stylesheet.dsl:664:2:E: flow object not accepted by port; only display flow objects accepted
make: *** [postgres-A4.tex-pdf] Segmentation fault</pre><p>
        Downgrading to OpenJade 1.3 should get rid of this error.
       </p></div></li><li class="step" id="doc-openjade-install"><p>        Additionally, you should install the files
        <code class="filename">dsssl.dtd</code>, <code class="filename">fot.dtd</code>,
        <code class="filename">style-sheet.dtd</code>, and
        <code class="filename">catalog</code> from the
        <code class="filename">dsssl</code> directory somewhere, perhaps into
        <code class="filename">/usr/local/share/sgml/dsssl</code>.  It's
        probably easiest to copy the entire directory:
</p><pre class="synopsis">cp -R dsssl /usr/local/share/sgml</pre><p>
       </p></li><li class="step"><p>        Finally, create the file
        <code class="filename">/usr/local/share/sgml/catalog</code> and add
        this line to it:
</p><pre class="programlisting">CATALOG "dsssl/catalog"</pre><p>
        (This is a relative path reference to the file installed in
        <a class="xref" href="docguide-toolsets.html#doc-openjade-install" title="Step 2">Step 2</a>.  Be sure to adjust it
        if you chose your installation layout differently.)
       </p></li></ol></div></div><div class="sect3" id="idm45642298263440"><div class="titlepage"><div><div><h4 class="title">J.2.5.2. Installing the <span class="productname">DocBook</span> <acronym class="acronym">DTD</acronym> Kit</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>       Obtain the <a class="ulink" href="http://www.docbook.org/sgml/4.2/docbook-4.2.zip" target="_top">       DocBook V4.2 distribution</a>.
      </p></li><li class="step"><p>       Create the directory
       <code class="filename">/usr/local/share/sgml/docbook-4.2</code> and change
       to it. (The exact location is irrelevant, but this one is
       reasonable within the layout we are following here.)
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>mkdir /usr/local/share/sgml/docbook-4.2</code></strong>
<code class="prompt">$ </code><strong class="userinput"><code>cd /usr/local/share/sgml/docbook-4.2</code></strong></pre><p>
      </p></li><li class="step"><p>       Unpack the archive:
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>unzip -a ...../docbook-4.2.zip</code></strong></pre><p>
       (The archive will unpack its files into the current directory.)
      </p></li><li class="step"><p>       Edit the file
       <code class="filename">/usr/local/share/sgml/catalog</code> (or whatever
       you told jade during installation) and put a line like this
       into it:
</p><pre class="programlisting">CATALOG "docbook-4.2/docbook.cat"</pre><p>
      </p></li><li class="step"><p>       Download the <a class="ulink" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">       ISO 8879 character entities archive</a>, unpack it, and put the
       files in the same directory you put the DocBook files in:
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>cd /usr/local/share/sgml/docbook-4.2</code></strong>
<code class="prompt">$ </code><strong class="userinput"><code>unzip ...../ISOEnts.zip</code></strong></pre><p>
      </p></li><li class="step"><p>       Run the following command in the directory with the DocBook and ISO files:
</p><pre class="programlisting">perl -pi -e 's/iso-(.*).gml/ISO\1/g' docbook.cat</pre><p>
       (This fixes a mixup between the names used in the DocBook
       catalog file and the actual names of the ISO character entity
       files.)
      </p></li></ol></div></div><div class="sect3" id="idm45642298245232"><div class="titlepage"><div><div><h4 class="title">J.2.5.3. Installing the DocBook <acronym class="acronym">DSSSL</acronym> Style Sheets</h4></div></div></div><p>     To install the style sheets, unzip and untar the distribution and
     move it to a suitable place, for example
     <code class="filename">/usr/local/share/sgml</code>.  (The archive will
     automatically create a subdirectory.)
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>gunzip docbook-dsssl-1.<em class="replaceable"><code>xx</code></em>.tar.gz</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>tar -C /usr/local/share/sgml -xf docbook-dsssl-1.<em class="replaceable"><code>xx</code></em>.tar</code></strong></pre><p>
    </p><p>     The usual catalog entry in
     <code class="filename">/usr/local/share/sgml/catalog</code> can also be
     made:
</p><pre class="programlisting">CATALOG "docbook-dsssl-1.<em class="replaceable"><code>xx</code></em>/catalog"</pre><p>
     Because stylesheets change rather often, and it's sometimes
     beneficial to try out alternative versions,
     <span class="productname">PostgreSQL</span> doesn't use this catalog
     entry.  See <a class="xref" href="docguide-toolsets.html#docguide-toolsets-configure" title="J.2.6. Detection by configure">Section J.2.6, “Detection by <code class="command">configure</code>”</a> for
     information about how to select the stylesheets instead.
    </p></div><div class="sect3" id="idm45642298235216"><div class="titlepage"><div><div><h4 class="title">J.2.5.4. Installing <span class="productname">JadeTeX</span></h4></div></div></div><p>     To install and use <span class="productname">JadeTeX</span>, you will
     need a working installation of <span class="productname">TeX</span> and
     <span class="productname">LaTeX2e</span>, including the supported
     <span class="productname">tools</span> and
     <span class="productname">graphics</span> packages,
     <span class="productname">Babel</span>,
     <span class="productname"><acronym class="acronym">AMS</acronym> fonts</span> and
     <span class="productname">AMS-LaTeX</span>, the
     <span class="productname"><acronym class="acronym">PSNFSS</acronym></span> extension
     and companion kit of <span class="quote">“<span class="quote">the 35 fonts</span>”</span>, the
     <span class="productname">dvips</span> program for generating
     <span class="productname">PostScript</span>, the macro packages
     <span class="productname">fancyhdr</span>,
     <span class="productname">hyperref</span>,
     <span class="productname">minitoc</span>,
     <span class="productname">url</span> and
     <span class="productname">ot2enc</span>.  All of these can be found on
     your friendly neighborhood <a class="ulink" href="http://www.ctan.org" target="_top">     <acronym class="acronym">CTAN</acronym> site</a>.
     The installation of the <span class="application">TeX</span> base
     system is far beyond the scope of this introduction.  Binary
     packages should be available for any system that can run
     <span class="application">TeX</span>.
    </p><p>     Before you can use <span class="application">JadeTeX</span> with the
     <span class="productname">PostgreSQL</span> documentation sources, you
     will need to increase the size of
     <span class="application">TeX</span>'s internal data structures.
     Details on this can be found in the <span class="application">JadeTeX</span>
     installation instructions.
    </p><p>     Once that is finished you can install <span class="application">JadeTeX</span>:
</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>gunzip jadetex-<em class="replaceable"><code>xxx</code></em>.tar.gz</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>tar xf jadetex-<em class="replaceable"><code>xxx</code></em>.tar</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>cd jadetex</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>make install</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>mktexlsr</code></strong></pre><p>
     The last two need to be done as <span class="systemitem">root</span>.
    </p></div></div><div class="sect2" id="docguide-toolsets-configure"><div class="titlepage"><div><div><h3 class="title">J.2.6. Detection by <code class="command">configure</code></h3></div></div></div><p>   Before you can build the documentation you need to run the
   <code class="filename">configure</code> script as you would when building
   the <span class="productname">PostgreSQL</span> programs themselves.
   Check the output near the end of the run, it should look something
   like this:
</p><pre class="screen"><code class="computeroutput">checking for onsgmls... onsgmls
checking for openjade... openjade
checking for DocBook V4.2... yes
checking for DocBook stylesheets... /usr/share/sgml/docbook/stylesheet/dsssl/modular
checking for collateindex.pl... /usr/bin/collateindex.pl
checking for xsltproc... xsltproc
checking for osx... osx</code></pre><p>
   If neither <code class="filename">onsgmls</code> nor
   <code class="filename">nsgmls</code> were found then some of the following tests
   will be skipped.  <code class="filename">nsgmls</code> is part of the Jade
   package.  You can pass the environment variables
   <code class="envar">JADE</code> and <code class="envar">NSGMLS</code> to configure to point
   to the programs if they are not found automatically.  If
   <span class="quote">“<span class="quote">DocBook V4.2</span>”</span> was not found then you did not install
   the DocBook DTD kit in a place where Jade can find it, or you have
   not set up the catalog files correctly.  See the installation hints
   above.  The DocBook stylesheets are looked for in a number of
   relatively standard places, but if you have them some other place
   then you should set the environment variable
   <code class="envar">DOCBOOKSTYLE</code> to the location and rerun
   <code class="filename">configure</code> afterwards.
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="docguide-docbook.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="docguide.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="docguide-build.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">J.1. DocBook </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> J.3. Building The Documentation</td></tr></table></div></body></html>