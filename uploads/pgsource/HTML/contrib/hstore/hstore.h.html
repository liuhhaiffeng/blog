<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>contrib\hstore\hstore.h</title>
<LINK REL=StyleSheet HREF="../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>contrib\hstore\hstore.h</b></p></td>
<td align='right'>
Wed Jun 14 08:25:25 2017
</td></tr>
<tr><td><a href='../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* 
 * contrib/hstore/hstore.h 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="hstore.h.html#LN4"><span class='Ref_to_Const'>__HSTORE_H__</span></a> 
<a name="LN4"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>__HSTORE_H__</span> 
 
<span class='Keyword'>#include </span><span class='String'>"fmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/array.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * HEntry: there is one of these for each key _and_ value in an hstore 
 * 
 * the position offset points to the _end_ so that we can get the length 
 * by subtraction from the previous entry.  the ISFIRST flag lets us tell 
 * whether there is a previous entry. 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN19"></a>    <a href="../../src/include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>entry</span><span class='Delimiter'>; 
</span><a name="LN20"></a>} <span class='Declare_Typedef'>HEntry</span><span class='Delimiter'>; 
</span> 
<a name="LN22"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HENTRY_ISFIRST</span> <span class='Number'>0x80000000</span> 
<a name="LN23"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HENTRY_ISNULL</span>  <span class='Number'>0x40000000</span> 
<a name="LN24"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HENTRY_POSMASK</span> <span class='Number'>0x3FFFFFFF</span> 
 
<span class='Comment_Multi_Line'>/* note possible multiple evaluations, also access to prior array element */ 
</span><a name="LN27"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSE_ISFIRST</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>he_</span><span class='Parentheses'>) (((</span><a href="hstore.h.html#LN27"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>entry <span class='Operator'>& </span><a href="hstore.h.html#LN22"><span class='Ref_to_Const'>HENTRY_ISFIRST</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
<a name="LN28"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSE_ISNULL</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>he_</span><span class='Parentheses'>) (((</span><a href="hstore.h.html#LN28"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>entry <span class='Operator'>& </span><a href="hstore.h.html#LN23"><span class='Ref_to_Const'>HENTRY_ISNULL</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
<a name="LN29"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSE_ENDPOS</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>he_</span><span class='Parentheses'>) ((</span><a href="hstore.h.html#LN29"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>entry <span class='Operator'>& </span><a href="hstore.h.html#LN24"><span class='Ref_to_Const'>HENTRY_POSMASK</span></a><span class='Parentheses'>)</span> 
<a name="LN30"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSE_OFF</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>he_</span><span class='Parentheses'>) (</span><a href="hstore.h.html#LN27"><span class='Ref_to_Macro'>HSE_ISFIRST</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN30"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span> <span class='Operator'>? </span><span class='Number'>0</span> <span class='Operator'>: </span><a href="hstore.h.html#LN29"><span class='Ref_to_Macro'>HSE_ENDPOS</span></a><span class='Parentheses'>((</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN30"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>))</span><span class='Delimiter'>[</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
<a name="LN31"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSE_LEN</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>he_</span><span class='Parentheses'>) (</span><a href="hstore.h.html#LN27"><span class='Ref_to_Macro'>HSE_ISFIRST</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN31"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>                      <span class='Operator'>? </span><a href="hstore.h.html#LN29"><span class='Ref_to_Macro'>HSE_ENDPOS</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN31"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span>                      <span class='Operator'>: </span><a href="hstore.h.html#LN29"><span class='Ref_to_Macro'>HSE_ENDPOS</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN31"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>)</span> <span class='Operator'>- </span><a href="hstore.h.html#LN29"><span class='Ref_to_Macro'>HSE_ENDPOS</span></a><span class='Parentheses'>((</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN31"><span class='Ref_to_Parameter'>he_</span></a><span class='Parentheses'>))</span><span class='Delimiter'>[</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * determined by the size of "endpos" (ie HENTRY_POSMASK), though this is a 
 * bit academic since currently varlenas (and hence both the input and the 
 * whole hstore) have the same limit 
 */ 
</span><a name="LN40"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HSTORE_MAX_KEY_LEN</span> <span class='Number'>0x3FFFFFFF</span> 
<a name="LN41"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HSTORE_MAX_VALUE_LEN</span> <span class='Number'>0x3FFFFFFF</span> 
 
<span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN45"></a>    <a href="../../src/include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>vl_len_</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* varlena header (do not touch directly!) */ 
</span><a name="LN46"></a>    <a href="../../src/include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>size_</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* flags and number of items in hstore */ 
</span>    <span class='Comment_Multi_Line'>/* array of HEntry follows */ 
</span><a name="LN48"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>HStore</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * It's not possible to get more than 2^28 items into an hstore, so we reserve 
 * the top few bits of the size field.  See hstore_compat.c for one reason 
 * why.  Some bits are left for future use here.  MaxAllocSize makes the 
 * practical count limit slightly more than 2^28 / 3, or INT_MAX / 24, the 
 * limit for an hstore full of 4-byte keys and null values.  Therefore, we 
 * don't explicitly check the format-imposed limit. 
 */ 
</span><a name="LN58"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HS_FLAG_NEWVERSION</span> <span class='Number'>0x80000000</span> 
 
<a name="LN60"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HS_COUNT</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>hsp_</span><span class='Parentheses'>) ((</span><a href="hstore.h.html#LN60"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>size_ <span class='Operator'>& </span><span class='Number'>0x0FFFFFFF</span><span class='Parentheses'>)</span> 
<a name="LN61"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HS_SETCOUNT</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>hsp_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>c_</span><span class='Parentheses'>) ((</span><a href="hstore.h.html#LN61"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>size_ <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN61"><span class='Ref_to_Parameter'>c_</span></a><span class='Parentheses'>) </span><span class='Operator'>| </span><a href="hstore.h.html#LN58"><span class='Ref_to_Const'>HS_FLAG_NEWVERSION</span></a><span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * "x" comes from an existing HS_COUNT() (as discussed, &LT;= INT_MAX/24) or a 
 * Pairs array length (due to MaxAllocSize, &LT;= INT_MAX/40).  "lenstr" is no 
 * more than INT_MAX, that extreme case arising in hstore_from_arrays(). 
 * Therefore, this calculation is limited to about INT_MAX / 5 + INT_MAX. 
 */ 
</span><a name="LN70"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HSHRDSIZE</span>   <span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN43"><span class='Ref_to_Typedef'>HStore</span></a><span class='Parentheses'>))</span> 
<a name="LN71"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>CALCDATASIZE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>lenstr</span><span class='Parentheses'>) (</span> <span class='Parentheses'>(</span><a href="hstore.h.html#LN71"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN17"><span class='Ref_to_Typedef'>HEntry</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="hstore.h.html#LN70"><span class='Ref_to_Const'>HSHRDSIZE</span></a> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN71"><span class='Ref_to_Parameter'>lenstr</span></a><span class='Parentheses'>) )</span> 
 
<span class='Comment_Multi_Line'>/* note multiple evaluations of x */ 
</span><a name="LN74"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ARRPTR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>       <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="hstore.h.html#LN17"><span class='Ref_to_Typedef'>HEntry</span></a><span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="hstore.h.html#LN43"><span class='Ref_to_Typedef'>HStore</span></a><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="hstore.h.html#LN74"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span> <span class='Parentheses'>)</span> <span class='Parentheses'>)</span> 
<a name="LN75"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>STRPTR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>       <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><span class='Keyword'>char</span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="../intarray/_int.h.html#LN13"><span class='Ref_to_Macro'>ARRPTR</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN75"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><a href="hstore.h.html#LN60"><span class='Ref_to_Macro'>HS_COUNT</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN43"><span class='Ref_to_Typedef'>HStore</span></a><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="hstore.h.html#LN75"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>))</span> <span class='Operator'>* </span><span class='Number'>2</span><span class='Parentheses'>)</span> <span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* note multiple/non evaluations */ 
</span><a name="LN78"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_KEY</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>str_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>i_</span><span class='Parentheses'>)</span>    <span class='Parentheses'>((</span><a href="hstore.h.html#LN78"><span class='Ref_to_Parameter'>str_</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><a href="hstore.h.html#LN30"><span class='Ref_to_Macro'>HSE_OFF</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN78"><span class='Ref_to_Parameter'>arr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN78"><span class='Ref_to_Parameter'>i_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
<a name="LN79"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_VAL</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>str_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>i_</span><span class='Parentheses'>)</span>    <span class='Parentheses'>((</span><a href="hstore.h.html#LN79"><span class='Ref_to_Parameter'>str_</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><a href="hstore.h.html#LN30"><span class='Ref_to_Macro'>HSE_OFF</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN79"><span class='Ref_to_Parameter'>arr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN79"><span class='Ref_to_Parameter'>i_</span></a><span class='Parentheses'>)</span><span class='Operator'>+</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
<a name="LN80"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_KEYLEN</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>i_</span><span class='Parentheses'>)</span>      <span class='Parentheses'>(</span><a href="hstore.h.html#LN31"><span class='Ref_to_Macro'>HSE_LEN</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN80"><span class='Ref_to_Parameter'>arr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN80"><span class='Ref_to_Parameter'>i_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
<a name="LN81"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_VALLEN</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>i_</span><span class='Parentheses'>)</span>      <span class='Parentheses'>(</span><a href="hstore.h.html#LN31"><span class='Ref_to_Macro'>HSE_LEN</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN81"><span class='Ref_to_Parameter'>arr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN81"><span class='Ref_to_Parameter'>i_</span></a><span class='Parentheses'>)</span><span class='Operator'>+</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
<a name="LN82"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_VALISNULL</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>i_</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span><a href="hstore.h.html#LN28"><span class='Ref_to_Macro'>HSE_ISNULL</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN82"><span class='Ref_to_Parameter'>arr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN82"><span class='Ref_to_Parameter'>i_</span></a><span class='Parentheses'>)</span><span class='Operator'>+</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * currently, these following macros are the _only_ places that rely 
 * on internal knowledge of HEntry. Everything else should be using 
 * the above macros. Exception: the in-place upgrade in hstore_compat.c 
 * messes with entries directly. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * copy one key/value pair (which must be contiguous starting at 
 * sptr_) into an under-construction hstore; dent_ is an HEntry*, 
 * dbuf_ is the destination's string buffer, dptr_ is the current 
 * position in the destination. lots of modification and multiple 
 * evaluation here. 
 */ 
</span><a name="LN98"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HS_COPYITEM</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>dent_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>dbuf_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>dptr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>sptr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>klen_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>vlen_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>vnull_</span><span class='Parentheses'>)</span>         <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                                <span class='Operator'>\ 
</span>        memcpy<span class='Parentheses'>((</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>sptr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>klen_</span></a><span class='Parentheses'>)</span><span class='Operator'>+</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>vlen_</span></a><span class='Parentheses'>))</span><span class='Delimiter'>;</span>                      <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>klen_</span></a><span class='Parentheses'>)</span><span class='Operator'>+</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>vlen_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>                                     <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dent_</span></a><span class='Parentheses'>)</span><span class='Operator'>++-&GT;</span>entry <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dbuf_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>vlen_</span></a><span class='Parentheses'>))</span> <span class='Operator'>& </span><a href="hstore.h.html#LN24"><span class='Ref_to_Const'>HENTRY_POSMASK</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dent_</span></a><span class='Parentheses'>)</span><span class='Operator'>++-&GT;</span>entry <span class='Operator'>= </span><span class='Parentheses'>((((</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>dbuf_</span></a><span class='Parentheses'>))</span> <span class='Operator'>& </span><a href="hstore.h.html#LN24"><span class='Ref_to_Const'>HENTRY_POSMASK</span></a><span class='Parentheses'>)</span>      <span class='Operator'>\ 
</span>                             <span class='Operator'>| </span><span class='Parentheses'>((</span><a href="hstore.h.html#LN98"><span class='Ref_to_Parameter'>vnull_</span></a><span class='Parentheses'>)</span> <span class='Operator'>? </span><a href="hstore.h.html#LN23"><span class='Ref_to_Const'>HENTRY_ISNULL</span></a> <span class='Operator'>: </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>;</span>         <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * add one key/item pair, from a Pairs structure, into an 
 * under-construction hstore 
 */ 
</span><a name="LN111"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HS_ADDITEM</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>dent_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>dbuf_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>dptr_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>pair_</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                                <span class='Operator'>\ 
</span>        memcpy<span class='Parentheses'>((</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>key<span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>keylen<span class='Parentheses'>)</span><span class='Delimiter'>;</span>                   <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>keylen<span class='Delimiter'>;</span>                                      <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dent_</span></a><span class='Parentheses'>)</span><span class='Operator'>++-&GT;</span>entry <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dbuf_</span></a><span class='Parentheses'>))</span> <span class='Operator'>& </span><a href="hstore.h.html#LN24"><span class='Ref_to_Const'>HENTRY_POSMASK</span></a><span class='Delimiter'>;</span>        <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>isnull<span class='Parentheses'>)</span>                                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dent_</span></a><span class='Parentheses'>)</span><span class='Operator'>++-&GT;</span>entry <span class='Operator'>= </span><span class='Parentheses'>((((</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dbuf_</span></a><span class='Parentheses'>))</span> <span class='Operator'>& </span><a href="hstore.h.html#LN24"><span class='Ref_to_Const'>HENTRY_POSMASK</span></a><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>                                 <span class='Operator'>| </span><a href="hstore.h.html#LN23"><span class='Ref_to_Const'>HENTRY_ISNULL</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>                      <span class='Operator'>\ 
</span>        <span class='Control'>else</span>                                                            <span class='Operator'>\ 
</span>        <span class='Delimiter'>{</span>                                                               <span class='Operator'>\ 
</span>            memcpy<span class='Parentheses'>((</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>val<span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>vallen<span class='Parentheses'>)</span><span class='Delimiter'>;</span>               <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>pair_</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>vallen<span class='Delimiter'>;</span>                                  <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dent_</span></a><span class='Parentheses'>)</span><span class='Operator'>++-&GT;</span>entry <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN111"><span class='Ref_to_Parameter'>dbuf_</span></a><span class='Parentheses'>))</span> <span class='Operator'>& </span><a href="hstore.h.html#LN24"><span class='Ref_to_Const'>HENTRY_POSMASK</span></a><span class='Delimiter'>;</span>    <span class='Operator'>\ 
</span>        <span class='Delimiter'>}</span>                                                               <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* finalize a newly-constructed hstore */ 
</span><a name="LN128"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HS_FINALIZE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>hsp_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>count_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>buf_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>ptr_</span><span class='Parentheses'>)</span>                          <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Keyword'>int </span>buflen <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>ptr_</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>buf_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>                               <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>))</span>                                               <span class='Operator'>\ 
</span>            <a href="../intarray/_int.h.html#LN13"><span class='Ref_to_Macro'>ARRPTR</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Operator'>.</span>entry <span class='Operator'>|= </span><a href="hstore.h.html#LN22"><span class='Ref_to_Const'>HENTRY_ISFIRST</span></a><span class='Delimiter'>;</span>                <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><a href="hstore.h.html#LN60"><span class='Ref_to_Macro'>HS_COUNT</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)))</span>                           <span class='Operator'>\ 
</span>        <span class='Delimiter'>{</span>                                                           <span class='Operator'>\ 
</span>            <a href="hstore.h.html#LN61"><span class='Ref_to_Macro'>HS_SETCOUNT</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>,</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>))</span><span class='Delimiter'>;</span>                           <span class='Operator'>\ 
</span>            <a href="../../src/include/c.h.html#LN1057"><span class='Ref_to_Macro'>memmove</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN75"><span class='Ref_to_Macro'>STRPTR</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>buf_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span>buflen<span class='Parentheses'>)</span><span class='Delimiter'>;</span>                  <span class='Operator'>\ 
</span>        <span class='Delimiter'>}</span>                                                           <span class='Operator'>\ 
</span>        <a href="../../src/include/postgres.h.html#LN327"><span class='Ref_to_Macro'>SET_VARSIZE</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="hstore.h.html#LN71"><span class='Ref_to_Macro'>CALCDATASIZE</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN128"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span>buflen<span class='Parentheses'>))</span><span class='Delimiter'>;</span>        <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* ensure the varlena size of an existing hstore is correct */ 
</span><a name="LN142"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HS_FIXSIZE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>hsp_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>count_</span><span class='Parentheses'>)</span>                                         <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                                <span class='Operator'>\ 
</span>        <span class='Keyword'>int </span>bl <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="hstore.h.html#LN142"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="hstore.h.html#LN29"><span class='Ref_to_Macro'>HSE_ENDPOS</span></a><span class='Parentheses'>(</span><a href="../intarray/_int.h.html#LN13"><span class='Ref_to_Macro'>ARRPTR</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN142"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN142"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>)</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <a href="../../src/include/postgres.h.html#LN327"><span class='Ref_to_Macro'>SET_VARSIZE</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN142"><span class='Ref_to_Parameter'>hsp_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="hstore.h.html#LN71"><span class='Ref_to_Macro'>CALCDATASIZE</span></a><span class='Parentheses'>((</span><a href="hstore.h.html#LN142"><span class='Ref_to_Parameter'>count_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>,</span>bl<span class='Parentheses'>))</span><span class='Delimiter'>;</span>                 <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* DatumGetHStoreP includes support for reading old-format hstore values */ 
</span><a name="LN149"></a><span class='Keyword'>extern </span><a href="hstore.h.html#LN43"><span class='Ref_to_Typedef'>HStore</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>hstoreUpgrade</span><span class='Parentheses'>(</span><a href="../../src/include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>orig</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN151"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>DatumGetHStoreP</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>d</span><span class='Parentheses'>) </span><a href="hstore.h.html#LN149"><span class='Ref_to_Proto'>hstoreUpgrade</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN151"><span class='Ref_to_Parameter'>d</span></a><span class='Parentheses'>) 
</span> 
<a name="LN153"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>PG_GETARG_HS</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) </span><a href="hstore.h.html#LN151"><span class='Ref_to_Macro'>DatumGetHStoreP</span></a><span class='Parentheses'>(</span><a href="../../src/include/fmgr.h.html#LN232"><span class='Ref_to_Macro'>PG_GETARG_DATUM</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN153"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>))</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Pairs is a "decompressed" representation of one key/value pair. 
 * The two strings are not necessarily null-terminated. 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN162"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>key</span><span class='Delimiter'>; 
</span><a name="LN163"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>val</span><span class='Delimiter'>; 
</span><a name="LN164"></a>    size_t      <span class='Declare_Member'>keylen</span><span class='Delimiter'>; 
</span><a name="LN165"></a>    size_t      <span class='Declare_Member'>vallen</span><span class='Delimiter'>; 
</span><a name="LN166"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isnull</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* value is null? */ 
</span><a name="LN167"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>needfree</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* need to pfree the value? */ 
</span><a name="LN168"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>Pairs</span><span class='Delimiter'>; 
</span> 
<a name="LN170"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>hstoreUniquePairs</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN160"><span class='Ref_to_Typedef'>Pairs</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../../src/include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>l</span><span class='Delimiter'>, </span><a href="../../src/include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>buflen</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN171"></a><span class='Keyword'>extern </span><a href="hstore.h.html#LN43"><span class='Ref_to_Typedef'>HStore</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>hstorePairs</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN160"><span class='Ref_to_Typedef'>Pairs</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pairs</span><span class='Delimiter'>, </span><a href="../../src/include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>pcount</span><span class='Delimiter'>, </span><a href="../../src/include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>buflen</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN173"></a><span class='Keyword'>extern </span>size_t <span class='Declare_Prototype'>hstoreCheckKeyLen</span><span class='Parentheses'>(</span>size_t <span class='Declare_Parameter'>len</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN174"></a><span class='Keyword'>extern </span>size_t <span class='Declare_Prototype'>hstoreCheckValLen</span><span class='Parentheses'>(</span>size_t <span class='Declare_Parameter'>len</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN176"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>hstoreFindKey</span><span class='Parentheses'>(</span><a href="hstore.h.html#LN43"><span class='Ref_to_Typedef'>HStore</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>hs</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>lowbound</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>keylen</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN177"></a><span class='Keyword'>extern </span><a href="hstore.h.html#LN160"><span class='Ref_to_Typedef'>Pairs</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>hstoreArrayToPairs</span><span class='Parentheses'>(</span><a href="../../src/include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>npairs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN179"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HStoreContainsStrategyNumber</span>    <span class='Number'>7</span> 
<a name="LN180"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HStoreExistsStrategyNumber</span>      <span class='Number'>9</span> 
<a name="LN181"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HStoreExistsAnyStrategyNumber</span>   <span class='Number'>10</span> 
<a name="LN182"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HStoreExistsAllStrategyNumber</span>   <span class='Number'>11</span> 
<a name="LN183"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HStoreOldContainsStrategyNumber</span> <span class='Number'>13</span>      <span class='Comment_Single_Line'>/* backwards compatibility */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * defining HSTORE_POLLUTE_NAMESPACE=0 will prevent use of old function names; 
 * for now, we default to on for the benefit of people restoring old dumps 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="hstore.h.html#LN190"><span class='Ref_to_Const'>HSTORE_POLLUTE_NAMESPACE</span></a> 
<a name="LN190"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HSTORE_POLLUTE_NAMESPACE</span> <span class='Number'>1</span> 
<span class='Directive'>#endif</span> 
 
<span class='Directive'>#if</span> <a href="hstore.h.html#LN190"><span class='Ref_to_Const'>HSTORE_POLLUTE_NAMESPACE</span></a> 
<a name="LN194"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_POLLUTE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>newname_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>oldname_</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../btree_gist/btree_bytea.c.html#LN14"><span class='Ref_to_Proto'>PG_FUNCTION_INFO_V1</span></a><span class='Parentheses'>(</span><a href="hstore.h.html#LN194"><span class='Ref_to_Parameter'>oldname_</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Operator'>\ 
</span>    <a href="../../src/include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <a href="hstore.h.html#LN194"><span class='Ref_to_Parameter'>newname_</span></a><span class='Parentheses'>(</span><a href="../../src/include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Operator'>\ 
</span>    <a href="../../src/include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <a href="hstore.h.html#LN194"><span class='Ref_to_Parameter'>oldname_</span></a><span class='Parentheses'>(</span><a href="../../src/include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) </span><span class='Delimiter'>{ </span><span class='Control'>return</span> <a href="hstore.h.html#LN194"><span class='Ref_to_Parameter'>newname_</span></a><span class='Parentheses'>(</span>fcinfo<span class='Parentheses'>)</span><span class='Delimiter'>; } </span><span class='Operator'>\ 
</span>    <span class='Keyword'>extern int </span>no_such_variable 
<span class='Directive'>#else</span> 
<a name="LN200"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HSTORE_POLLUTE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>newname_</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>oldname_</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Keyword'>extern int </span>no_such_variable 
<span class='Directive'>#endif</span> 
 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* __HSTORE_H__ */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>