<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\access\hash\hashfunc.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\access\hash\hashfunc.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:28 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * hashfunc.c 
 *    Support functions for hash access method. 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * 
 * IDENTIFICATION 
 *    src/backend/access/hash/hashfunc.c 
 * 
 * NOTES 
 *    These functions are stored in pg_amproc.  For each operator class 
 *    defined for hash indexes, they compute the hash value of the argument. 
 * 
 *    Additional hash functions appear in /utils/adt/ files for various 
 *    specialized datatypes. 
 * 
 *    It is expected that every bit of a hash function's 32-bit result is 
 *    as random as every other; failure to ensure this is likely to lead 
 *    to poor performance of hash joins, for example.  In most cases a hash 
 *    function should use hash_any() or its variant hash_uint32(). 
 *------------------------------------------------------------------------- 
 */ 
</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/hash.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/builtins.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Datatype-specific hash functions. 
 * 
 * These support both hash indexes and hash joins. 
 * 
 * NOTE: some of these are also used by catcache operations, without 
 * any direct connection to hash indexes.  Also, the common hash_any 
 * routine is also used by dynahash tables. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* Note: this is used for both "char" and boolean datatypes */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN43"></a><span class='Declare_Function'>hashchar</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../../include/access/hash.h.html#LN326"><span class='Ref_to_Proto'>hash_uint32</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN237"><span class='Ref_to_Macro'>PG_GETARG_CHAR</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN49"></a><span class='Declare_Function'>hashint2</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../../include/access/hash.h.html#LN326"><span class='Ref_to_Proto'>hash_uint32</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN235"><span class='Ref_to_Macro'>PG_GETARG_INT16</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN55"></a><span class='Declare_Function'>hashint4</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../../include/access/hash.h.html#LN326"><span class='Ref_to_Proto'>hash_uint32</span></a><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN61"></a><span class='Declare_Function'>hashint8</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * The idea here is to produce a hash value compatible with the values 
     * produced by hashint4 and hashint2 for logically equal inputs; this is 
     * necessary to support cross-type hash joins across these input types. 
     * Since all three types are signed, we can xor the high half of the int8 
     * value if the sign is positive, or the complement of the high half when 
     * the sign is negative. 
     */ 
</span><a name="LN71"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>val</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN246"><span class='Ref_to_Macro'>PG_GETARG_INT64</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN72"></a>    <a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Local'>lohalf</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN71"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span><a name="LN73"></a>    <a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Local'>hihalf</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) (</span><a href="hashfunc.c.html#LN71"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;&GT; </span><span class='Number'>32</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="hashfunc.c.html#LN72"><span class='Ref_To_Local'>lohalf</span></a> <span class='Operator'>^= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN71"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="hashfunc.c.html#LN73"><span class='Ref_To_Local'>hihalf</span></a> <span class='Operator'>: ~</span><a href="hashfunc.c.html#LN73"><span class='Ref_To_Local'>hihalf</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="../../../include/access/hash.h.html#LN326"><span class='Ref_to_Proto'>hash_uint32</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN72"><span class='Ref_To_Local'>lohalf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN81"></a><span class='Declare_Function'>hashoid</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../../include/access/hash.h.html#LN326"><span class='Ref_to_Proto'>hash_uint32</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN87"></a><span class='Declare_Function'>hashenum</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../../include/access/hash.h.html#LN326"><span class='Ref_to_Proto'>hash_uint32</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN93"></a><span class='Declare_Function'>hashfloat4</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN95"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>key</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN96"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>key8</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * On IEEE-float machines, minus zero and zero have different bit patterns 
     * but should compare as equal.  We must ensure that they have the same 
     * hash value, which is most reliably done this way: 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN95"><span class='Ref_To_Local'>key</span></a> <span class='Operator'>== </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN314"><span class='Ref_to_Macro'>PG_RETURN_UINT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * To support cross-type hashing of float8 and float4, we want to return 
     * the same hash value hashfloat8 would produce for an equal float8 value. 
     * So, widen the value to float8 and hash that.  (We must do this rather 
     * than have hashfloat8 try to narrow its value to float4; that could fail 
     * on overflow.) 
     */ 
</span>    <a href="hashfunc.c.html#LN96"><span class='Ref_To_Local'>key8</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN95"><span class='Ref_To_Local'>key</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="hashfunc.c.html#LN96"><span class='Ref_To_Local'>key8</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN96"><span class='Ref_To_Local'>key8</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end hashfloat4 &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN119"></a><span class='Declare_Function'>hashfloat8</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN121"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>key</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * On IEEE-float machines, minus zero and zero have different bit patterns 
     * but should compare as equal.  We must ensure that they have the same 
     * hash value, which is most reliably done this way: 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN121"><span class='Ref_To_Local'>key</span></a> <span class='Operator'>== </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN314"><span class='Ref_to_Macro'>PG_RETURN_UINT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="hashfunc.c.html#LN121"><span class='Ref_To_Local'>key</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN121"><span class='Ref_To_Local'>key</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN135"></a><span class='Declare_Function'>hashoidvector</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN137"></a>    <a href="../../../include/c.h.html#LN477"><span class='Ref_to_Typedef'>oidvector</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>key</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN477"><span class='Ref_to_Typedef'>oidvector</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN240"><span class='Ref_to_Macro'>PG_GETARG_POINTER</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN137"><span class='Ref_To_Local'>key</span></a><span class='Operator'>-&GT;</span><a href="../../../include/c.h.html#LN485"><span class='Ref_to_Member'>values</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN137"><span class='Ref_To_Local'>key</span></a><span class='Operator'>-&GT;</span><a href="../../../include/c.h.html#LN483"><span class='Ref_to_Member'>dim1</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN143"></a><span class='Declare_Function'>hashname</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN145"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>key</span> <span class='Operator'>= </span><a href="../../../include/c.h.html#LN498"><span class='Ref_to_Macro'>NameStr</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="../../../include/fmgr.h.html#LN242"><span class='Ref_to_Macro'>PG_GETARG_NAME</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN145"><span class='Ref_To_Local'>key</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="hashfunc.c.html#LN145"><span class='Ref_To_Local'>key</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN151"></a><span class='Declare_Function'>hashtext</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN153"></a>    <a href="../../../../contrib/seg/segparse.y.html#LN46"><span class='Ref_to_Global_Var'>text</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>key</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN272"><span class='Ref_to_Macro'>PG_GETARG_TEXT_PP</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN154"></a>    <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Note: this is currently identical in behavior to hashvarlena, but keep 
     * it as a separate function in case we someday want to do something 
     * different in non-C locales.  (See also hashbpchar, if so.) 
     */ 
</span>    <a href="hashfunc.c.html#LN154"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/postgres.h.html#LN346"><span class='Ref_to_Macro'>VARDATA_ANY</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN153"><span class='Ref_To_Local'>key</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../../include/postgres.h.html#LN339"><span class='Ref_to_Macro'>VARSIZE_ANY_EXHDR</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN153"><span class='Ref_To_Local'>key</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Avoid leaking memory for toasted inputs */ 
</span>    <a href="../../../include/fmgr.h.html#LN224"><span class='Ref_to_Macro'>PG_FREE_IF_COPY</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN153"><span class='Ref_To_Local'>key</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="hashfunc.c.html#LN154"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * hashvarlena() can be used for any varlena datatype in which there are 
 * no non-significant bits, ie, distinct bitpatterns never compare as equal. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN175"></a><span class='Declare_Function'>hashvarlena</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN177"></a>    <span class='Control'>struct</span> <a href="../../../include/c.h.html#LN438"><span class='Ref_to_Struct'>varlena</span></a> <span class='Operator'>*</span><span class='Declare_Local'>key</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN252"><span class='Ref_to_Macro'>PG_GETARG_VARLENA_PP</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN178"></a>    <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="hashfunc.c.html#LN178"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/postgres.h.html#LN346"><span class='Ref_to_Macro'>VARDATA_ANY</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN177"><span class='Ref_To_Local'>key</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../../include/postgres.h.html#LN339"><span class='Ref_to_Macro'>VARSIZE_ANY_EXHDR</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN177"><span class='Ref_To_Local'>key</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Avoid leaking memory for toasted inputs */ 
</span>    <a href="../../../include/fmgr.h.html#LN224"><span class='Ref_to_Macro'>PG_FREE_IF_COPY</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN177"><span class='Ref_To_Local'>key</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="hashfunc.c.html#LN178"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * This hash function was written by Bob Jenkins 
 * (bob_jenkins@burtleburtle.net), and superficially adapted 
 * for PostgreSQL by Neil Conway. For more information on this 
 * hash function, see http://burtleburtle.net/bob/hash/doobs.html, 
 * or Bob's article in Dr. Dobb's Journal, Sept. 1997. 
 * 
 * In the current code, we have adopted Bob's 2006 update of his hash 
 * function to fetch the data a word at a time when it is suitably aligned. 
 * This makes for a useful speedup, at the cost of having to maintain 
 * four code paths (aligned vs unaligned, and little-endian vs big-endian). 
 * It also uses two separate mixing functions mix() and final(), instead 
 * of a slower multi-purpose function. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* Get a bit mask of the bits set in non-uint32 aligned addresses */ 
</span><a name="LN205"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>UINT32_ALIGN_MASK</span> <span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* Rotate a uint32 value left by k bits - note multiple evaluation! */ 
</span><a name="LN208"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>rot</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>k</span><span class='Parentheses'>) (((</span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Operator'>&LT;&LT;</span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Parameter'>k</span></a><span class='Parentheses'>))</span> <span class='Operator'>| </span><span class='Parentheses'>((</span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Operator'>&GT;&GT;</span><span class='Parentheses'>(</span><span class='Number'>32</span><span class='Operator'>-</span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Parameter'>k</span></a><span class='Parentheses'>))))</span> 
 
<span class='Comment_Multi_Line'>/*---------- 
 * mix -- mix 3 32-bit values reversibly. 
 * 
 * This is reversible, so any information in (a,b,c) before mix() is 
 * still in (a,b,c) after mix(). 
 * 
 * If four pairs of (a,b,c) inputs are run through mix(), or through 
 * mix() in reverse, there are at least 32 bits of the output that 
 * are sometimes the same for one pair and different for another pair. 
 * This was tested for: 
 * * pairs that differed by one bit, by two bits, in any combination 
 *   of top bits of (a,b,c), or in any combination of bottom bits of 
 *   (a,b,c). 
 * * "differ" is defined as +, -, ^, or ~^.  For + and -, I transformed 
 *   the output delta to a Gray code (a^(a&GT;&GT;1)) so a string of 1's (as 
 *   is commonly produced by subtraction) look like a single 1-bit 
 *   difference. 
 * * the base values were pseudorandom, all zero but one bit set, or 
 *   all zero plus a counter that starts at zero. 
 * 
 * This does not achieve avalanche.  There are input bits of (a,b,c) 
 * that fail to affect some output bits of (a,b,c), especially of a.  The 
 * most thoroughly mixed value is c, but it doesn't really even achieve 
 * avalanche in c. 
 * 
 * This allows some parallelism.  Read-after-writes are good at doubling 
 * the number of bits affected, so the goal of mixing pulls in the opposite 
 * direction from the goal of parallelism.  I did what I could.  Rotates 
 * seem to cost as much as shifts on every machine I could lay my hands on, 
 * and rotates are much kinder to the top and bottom bits, so I used rotates. 
 *---------- 
 */ 
</span><a name="LN242"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>mix</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>b</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>,</span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>,</span><span class='Number'>19</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN242"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/*---------- 
 * final -- final mixing of 3 32-bit values (a,b,c) into c 
 * 
 * Pairs of (a,b,c) values differing in only a few bits will usually 
 * produce values of c that look totally different.  This was tested for 
 * * pairs that differed by one bit, by two bits, in any combination 
 *   of top bits of (a,b,c), or in any combination of bottom bits of 
 *   (a,b,c). 
 * * "differ" is defined as +, -, ^, or ~^.  For + and -, I transformed 
 *   the output delta to a Gray code (a^(a&GT;&GT;1)) so a string of 1's (as 
 *   is commonly produced by subtraction) look like a single 1-bit 
 *   difference. 
 * * the base values were pseudorandom, all zero but one bit set, or 
 *   all zero plus a counter that starts at zero. 
 * 
 * The use of separate functions for mix() and final() allow for a 
 * substantial performance increase since final() does not need to 
 * do well in reverse, but is does need to affect all output bits. 
 * mix(), on the other hand, does not need to affect all output 
 * bits (affecting 32 bits is enough).  The original hash function had 
 * a single mixing operation that had to satisfy both sets of requirements 
 * and was slower as a result. 
 *---------- 
 */ 
</span><a name="LN276"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>final</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>b</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>,</span><span class='Number'>14</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>,</span><span class='Number'>11</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>,</span><span class='Number'>25</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>,</span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>,</span><span class='Number'>14</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>  <a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>^= </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; </span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>-= </span><a href="hashfunc.c.html#LN208"><span class='Ref_to_Macro'>rot</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN276"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>,</span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * hash_any() -- hash a variable-length key into a 32-bit value 
 *      k       : the key (the unaligned variable-length array of bytes) 
 *      len     : the length of the key, counting by bytes 
 * 
 * Returns a uint32 value.  Every bit of the key affects every bit of 
 * the return value.  Every 1-bit and 2-bit delta achieves avalanche. 
 * About 6*len+35 instructions. The best hash table sizes are powers 
 * of 2.  There is no need to do mod a prime (mod is sooo slow!). 
 * If you need less than 32 bits, use a bitmask. 
 * 
 * This procedure must never throw elog(ERROR); the ResourceOwner code 
 * relies on this not to fail. 
 * 
 * Note: we could easily change this function to return a 64-bit hash value 
 * by using the final values of both b and c.  b is perhaps a little less 
 * well mixed than c, however. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN306"></a><span class='Declare_Function'>hash_any</span><span class='Parentheses'>(</span><span class='Keyword'>register const unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>k</span><span class='Delimiter'>, </span><span class='Keyword'>register int </span><span class='Declare_Parameter'>keylen</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN308"></a>    <span class='Keyword'>register </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Local'>a</span><span class='Delimiter'>, 
</span><a name="LN309"></a>                <span class='Declare_Local'>b</span><span class='Delimiter'>, 
</span><a name="LN310"></a>                <span class='Declare_Local'>c</span><span class='Delimiter'>, 
</span><a name="LN311"></a>                <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Set up the internal state */ 
</span>    <a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>keylen</span></a><span class='Delimiter'>; 
</span>    <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0x9e3779b9</span> <span class='Operator'>+ </span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>+ </span><span class='Number'>3923095</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* If the source pointer is word-aligned, we use word-wide fetches */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(((</span>uintptr_t<span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a> <span class='Operator'>& </span><a href="hashfunc.c.html#LN205"><span class='Ref_to_Const'>UINT32_ALIGN_MASK</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Code path for aligned source data */ 
</span><a name="LN321"></a>        <span class='Keyword'>register const </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Operator'>*</span><span class='Declare_Local'>ka</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* handle most of the key */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>&GT;= </span><span class='Number'>12</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>            <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>            <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>            <a href="hashfunc.c.html#LN242"><span class='Ref_to_Macro'>mix</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a> <span class='Operator'>+= </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>-= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* handle the last 11 bytes */ 
</span>        <a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>const unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> WORDS_BIGENDIAN 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='Number'>11</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>10</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>9</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* the lowest byte of c is reserved for the length */ 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>8</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>7</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>6</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>5</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* case 0: nothing left to add */ 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch len &raquo; </span> 
<span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* !WORDS_BIGENDIAN */ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='Number'>11</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>10</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>9</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* the lowest byte of c is reserved for the length */ 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>8</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>7</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>6</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>5</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN321"><span class='Ref_To_Local'>ka</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* fall through */ 
</span>            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Comment_Multi_Line'>/* case 0: nothing left to add */ 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch len &raquo; </span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WORDS_BIGENDIAN */ 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if ((uintptr_t)k&UINT32_... &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Code path for non-aligned source data */ 
</span> 
        <span class='Comment_Multi_Line'>/* handle most of the key */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>&GT;= </span><span class='Number'>12</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> WORDS_BIGENDIAN 
            <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>11</span><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* !WORDS_BIGENDIAN */ 
</span>            <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>11</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WORDS_BIGENDIAN */ 
</span>            <a href="hashfunc.c.html#LN242"><span class='Ref_to_Macro'>mix</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>            <a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>-= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* handle the last 11 bytes */ 
</span><span class='Directive'>#ifdef</span> WORDS_BIGENDIAN 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a><span class='Parentheses'>)</span>            <span class='Comment_Single_Line'>/* all the case statements fall through */ 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='Number'>11</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>10</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>9</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* the lowest byte of c is reserved for the length */ 
</span>            <span class='Control'>case</span> <span class='Number'>8</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]; 
</span>            <span class='Control'>case</span> <span class='Number'>7</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>6</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>5</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>            <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* case 0: nothing left to add */ 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch len &raquo; </span> 
<span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* !WORDS_BIGENDIAN */ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="hashfunc.c.html#LN311"><span class='Ref_To_Local'>len</span></a><span class='Parentheses'>)</span>            <span class='Comment_Single_Line'>/* all the case statements fall through */ 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='Number'>11</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>10</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>9</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* the lowest byte of c is reserved for the length */ 
</span>            <span class='Control'>case</span> <span class='Number'>8</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>7</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>6</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>5</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>            <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>24</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                <a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN306"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Comment_Multi_Line'>/* case 0: nothing left to add */ 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch len &raquo; </span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WORDS_BIGENDIAN */ 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Keyword'>final</span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN308"><span class='Ref_To_Local'>a</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN309"><span class='Ref_To_Local'>b</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* report the result */ 
</span>    <span class='Control'>return</span> <a href="../../../include/postgres.h.html#LN498"><span class='Ref_to_Macro'>UInt32GetDatum</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN310"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end hash_any &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * hash_uint32() -- hash a 32-bit value 
 * 
 * This has the same result as 
 *      hash_any(&k, sizeof(uint32)) 
 * but is faster and doesn't force the caller to store k into memory. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN511"></a><span class='Declare_Function'>hash_uint32</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>k</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN513"></a>    <span class='Keyword'>register </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Local'>a</span><span class='Delimiter'>, 
</span><a name="LN514"></a>                <span class='Declare_Local'>b</span><span class='Delimiter'>, 
</span><a name="LN515"></a>                <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span> 
    <a href="hashfunc.c.html#LN513"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN514"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>= </span><a href="hashfunc.c.html#LN515"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0x9e3779b9</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>3923095</span><span class='Delimiter'>; 
</span>    <a href="hashfunc.c.html#LN513"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>+= </span><a href="hashfunc.c.html#LN511"><span class='Ref_to_Parameter'>k</span></a><span class='Delimiter'>; 
</span> 
    <span class='Keyword'>final</span><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN513"><span class='Ref_To_Local'>a</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN514"><span class='Ref_To_Local'>b</span></a><span class='Delimiter'>, </span><a href="hashfunc.c.html#LN515"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* report the result */ 
</span>    <span class='Control'>return</span> <a href="../../../include/postgres.h.html#LN498"><span class='Ref_to_Macro'>UInt32GetDatum</span></a><span class='Parentheses'>(</span><a href="hashfunc.c.html#LN515"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>