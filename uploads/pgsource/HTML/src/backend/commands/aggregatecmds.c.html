<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\commands\aggregatecmds.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\commands\aggregatecmds.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:33 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * aggregatecmds.c 
 * 
 *    Routines for aggregate-manipulation commands 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * 
 * IDENTIFICATION 
 *    src/backend/commands/aggregatecmds.c 
 * 
 * DESCRIPTION 
 *    The "DefineFoo" routines take the parse tree and pick out the 
 *    appropriate arguments/flags, passing the results to the 
 *    corresponding "FooDefine" routines (in src/catalog) that do 
 *    the actual catalog-munging.  These routines also verify permission 
 *    of the user to execute the command. 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/htup_details.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/dependency.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/indexing.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_aggregate.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_proc.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"commands/alter.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"commands/defrem.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"miscadmin.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_func.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/acl.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/builtins.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/lsyscache.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/syscache.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *  DefineAggregate 
 * 
 * "oldstyle" signals the old (pre-8.2) style where the aggregate input type 
 * is specified by a BASETYPE element in the parameters.  Otherwise, 
 * "args" is a pair, whose first element is a list of FunctionParameter structs 
 * defining the agg's arguments (both direct and aggregated), and whose second 
 * element is an Integer node with the number of direct args, or -1 if this 
 * isn't an ordered-set aggregate. 
 * "parameters" is a list of DefElem representing the agg's definition clauses. 
 */ 
</span><a href="../../include/catalog/objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> 
<a name="LN53"></a><span class='Declare_Function'>DefineAggregate</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>args</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>oldstyle</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>parameters</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN55"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>aggName</span><span class='Delimiter'>; 
</span><a name="LN56"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>aggNamespace</span><span class='Delimiter'>; 
</span><a name="LN57"></a>    <a href="../../include/utils/acl.h.html#LN169"><span class='Ref_to_Typedef'>AclResult</span></a>   <span class='Declare_Local'>aclresult</span><span class='Delimiter'>; 
</span><a name="LN58"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>aggKind</span> <span class='Operator'>= </span><a href="../../include/catalog/pg_aggregate.h.html#LN123"><span class='Ref_to_Const'>AGGKIND_NORMAL</span></a><span class='Delimiter'>; 
</span><a name="LN59"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>transfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN60"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>finalfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN61"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>combinefuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN62"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>serialfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN63"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>deserialfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN64"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>mtransfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN65"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>minvtransfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN66"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>mfinalfuncName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN67"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>finalfuncExtraArgs</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN68"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>mfinalfuncExtraArgs</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN69"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>sortoperatorName</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN70"></a>    <a href="../../include/nodes/parsenodes.h.html#LN205"><span class='Ref_to_Struct'>TypeName</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>baseType</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN71"></a>    <a href="../../include/nodes/parsenodes.h.html#LN205"><span class='Ref_to_Struct'>TypeName</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>transType</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN72"></a>    <a href="../../include/nodes/parsenodes.h.html#LN205"><span class='Ref_to_Struct'>TypeName</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>mtransType</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN73"></a>    <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>transSpace</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN74"></a>    <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>mtransSpace</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN75"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>initval</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN76"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>minitval</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN77"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>parallel</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN78"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>numArgs</span><span class='Delimiter'>; 
</span><a name="LN79"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>numDirectArgs</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN80"></a>    <a href="../../include/c.h.html#LN477"><span class='Ref_to_Typedef'>oidvector</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>parameterTypes</span><span class='Delimiter'>; 
</span><a name="LN81"></a>    <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>allParameterTypes</span><span class='Delimiter'>; 
</span><a name="LN82"></a>    <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>parameterModes</span><span class='Delimiter'>; 
</span><a name="LN83"></a>    <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>parameterNames</span><span class='Delimiter'>; 
</span><a name="LN84"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>parameterDefaults</span><span class='Delimiter'>; 
</span><a name="LN85"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>variadicArgType</span><span class='Delimiter'>; 
</span><a name="LN86"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>transTypeId</span><span class='Delimiter'>; 
</span><a name="LN87"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>mtransTypeId</span> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span><a name="LN88"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>transTypeType</span><span class='Delimiter'>; 
</span><a name="LN89"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>mtransTypeType</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN90"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>proparallel</span> <span class='Operator'>= </span><a href="../../include/catalog/pg_proc.h.html#LN5493"><span class='Ref_to_Const'>PROPARALLEL_UNSAFE</span></a><span class='Delimiter'>; 
</span><a name="LN91"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>pl</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Convert list of names to a name and namespace */ 
</span>    <a href="aggregatecmds.c.html#LN56"><span class='Ref_To_Local'>aggNamespace</span></a> <span class='Operator'>= </span><a href="../../include/catalog/namespace.h.html#LN118"><span class='Ref_to_Proto'>QualifiedNameGetCreationNamespace</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>name</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="aggregatecmds.c.html#LN55"><span class='Ref_To_Local'>aggName</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Check we have creation rights in target namespace */ 
</span>    <a href="aggregatecmds.c.html#LN57"><span class='Ref_To_Local'>aclresult</span></a> <span class='Operator'>= </span><a href="../../include/utils/acl.h.html#LN289"><span class='Ref_to_Proto'>pg_namespace_aclcheck</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN56"><span class='Ref_To_Local'>aggNamespace</span></a><span class='Delimiter'>, </span><a href="../utils/init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN81"><span class='Ref_to_Const'>ACL_CREATE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN57"><span class='Ref_To_Local'>aclresult</span></a> <span class='Operator'>!= </span><a href="../../include/utils/acl.h.html#LN171"><span class='Ref_to_EnumConst'>ACLCHECK_OK</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/utils/acl.h.html#LN295"><span class='Ref_to_Proto'>aclcheck_error</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN57"><span class='Ref_To_Local'>aclresult</span></a><span class='Delimiter'>, </span><a href="../../include/utils/acl.h.html#LN189"><span class='Ref_to_EnumConst'>ACL_KIND_NAMESPACE</span></a><span class='Delimiter'>, 
</span>                       <a href="../../include/utils/lsyscache.h.html#LN175"><span class='Ref_to_Proto'>get_namespace_name</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN56"><span class='Ref_To_Local'>aggNamespace</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Deconstruct the output of the aggr_args grammar production */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>oldstyle</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN79"><span class='Ref_To_Local'>numDirectArgs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN51"><span class='Ref_to_Macro'>intVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>args</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN79"><span class='Ref_To_Local'>numDirectArgs</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="aggregatecmds.c.html#LN58"><span class='Ref_To_Local'>aggKind</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_aggregate.h.html#LN124"><span class='Ref_to_Const'>AGGKIND_ORDERED_SET</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="aggregatecmds.c.html#LN79"><span class='Ref_To_Local'>numDirectArgs</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN113"><span class='Ref_to_Macro'>linitial_node</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Examine aggregate's definition clauses */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN91"><span class='Ref_To_Local'>pl</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>parameters</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN117"></a>        <a href="../../include/nodes/parsenodes.h.html#LN715"><span class='Ref_to_Struct'>DefElem</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>defel</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN108"><span class='Ref_to_Macro'>lfirst_node</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN715"><span class='Ref_to_Struct'>DefElem</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN91"><span class='Ref_To_Local'>pl</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * sfunc1, stype1, and initcond1 are accepted as obsolete spellings 
         * for sfunc, stype, initcond. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"sfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN59"><span class='Ref_To_Local'>transfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"sfunc1"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN59"><span class='Ref_To_Local'>transfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"finalfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN60"><span class='Ref_To_Local'>finalfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"combinefunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN61"><span class='Ref_To_Local'>combinefuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"serialfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN62"><span class='Ref_To_Local'>serialfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"deserialfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN63"><span class='Ref_To_Local'>deserialfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"msfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN64"><span class='Ref_To_Local'>mtransfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"minvfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN65"><span class='Ref_To_Local'>minvtransfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"mfinalfunc"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN66"><span class='Ref_To_Local'>mfinalfuncName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"finalfunc_extra"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN67"><span class='Ref_To_Local'>finalfuncExtraArgs</span></a> <span class='Operator'>= </span><a href="define.c.html#LN109"><span class='Ref_to_Func'>defGetBoolean</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"mfinalfunc_extra"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN68"><span class='Ref_To_Local'>mfinalfuncExtraArgs</span></a> <span class='Operator'>= </span><a href="define.c.html#LN109"><span class='Ref_to_Func'>defGetBoolean</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"sortop"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN69"><span class='Ref_To_Local'>sortoperatorName</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN161"><span class='Ref_to_Proto'>defGetQualifiedName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"basetype"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN70"><span class='Ref_To_Local'>baseType</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN162"><span class='Ref_to_Proto'>defGetTypeName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"hypothetical"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="define.c.html#LN109"><span class='Ref_to_Func'>defGetBoolean</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN58"><span class='Ref_To_Local'>aggKind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_aggregate.h.html#LN123"><span class='Ref_to_Const'>AGGKIND_NORMAL</span></a><span class='Parentheses'>) 
</span>                    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"only ordered-set aggregates can be hypothetical"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>                <a href="aggregatecmds.c.html#LN58"><span class='Ref_To_Local'>aggKind</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_aggregate.h.html#LN125"><span class='Ref_to_Const'>AGGKIND_HYPOTHETICAL</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"stype"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN71"><span class='Ref_To_Local'>transType</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN162"><span class='Ref_to_Proto'>defGetTypeName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"stype1"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN71"><span class='Ref_To_Local'>transType</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN162"><span class='Ref_to_Proto'>defGetTypeName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"sspace"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN73"><span class='Ref_To_Local'>transSpace</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN159"><span class='Ref_to_Proto'>defGetInt32</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"mstype"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN72"><span class='Ref_To_Local'>mtransType</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN162"><span class='Ref_to_Proto'>defGetTypeName</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"msspace"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN74"><span class='Ref_To_Local'>mtransSpace</span></a> <span class='Operator'>= </span><a href="../../include/commands/defrem.h.html#LN159"><span class='Ref_to_Proto'>defGetInt32</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"initcond"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN75"><span class='Ref_To_Local'>initval</span></a> <span class='Operator'>= </span><a href="define.c.html#LN47"><span class='Ref_to_Func'>defGetString</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"initcond1"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN75"><span class='Ref_To_Local'>initval</span></a> <span class='Operator'>= </span><a href="define.c.html#LN47"><span class='Ref_to_Func'>defGetString</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"minitcond"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN76"><span class='Ref_To_Local'>minitval</span></a> <span class='Operator'>= </span><a href="define.c.html#LN47"><span class='Ref_to_Func'>defGetString</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Delimiter'>, </span><span class='String'>"parallel"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN77"><span class='Ref_To_Local'>parallel</span></a> <span class='Operator'>= </span><a href="define.c.html#LN47"><span class='Ref_to_Func'>defGetString</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN39"><span class='Ref_to_Const'>WARNING</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate attribute \"%s\" not recognized"</span><span class='Delimiter'>, 
</span>                            <a href="aggregatecmds.c.html#LN117"><span class='Ref_To_Local'>defel</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN719"><span class='Ref_to_Member'>defname</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * make sure we have our required definitions 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN71"><span class='Ref_To_Local'>transType</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate stype must be specified"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN59"><span class='Ref_To_Local'>transfuncName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate sfunc must be specified"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * if mtransType is given, mtransfuncName and minvtransfuncName must be as 
     * well; if not, then none of the moving-aggregate options should have 
     * been given. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN72"><span class='Ref_To_Local'>mtransType</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN64"><span class='Ref_To_Local'>mtransfuncName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate msfunc must be specified when mstype is specified"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN65"><span class='Ref_To_Local'>minvtransfuncName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate minvfunc must be specified when mstype is specified"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN64"><span class='Ref_To_Local'>mtransfuncName</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>            <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate msfunc must not be specified without mstype"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN65"><span class='Ref_To_Local'>minvtransfuncName</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate minvfunc must not be specified without mstype"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN66"><span class='Ref_To_Local'>mfinalfuncName</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate mfinalfunc must not be specified without mstype"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN74"><span class='Ref_To_Local'>mtransSpace</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate msspace must not be specified without mstype"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN76"><span class='Ref_To_Local'>minitval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate minitcond must not be specified without mstype"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * look up the aggregate's input datatype(s). 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>oldstyle</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Old style: use basetype parameter.  This supports aggregates of 
         * zero or one input, with input type ANY meaning zero inputs. 
         * 
         * Historically we allowed the command to look like basetype = 'ANY' 
         * so we must do a case-insensitive comparison for the name ANY. Ugh. 
         */ 
</span><a name="LN249"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>aggArgTypes</span><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN70"><span class='Ref_To_Local'>baseType</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate input type must be specified"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="../../include/parser/parse_type.h.html#LN31"><span class='Ref_to_Proto'>TypeNameToString</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN70"><span class='Ref_To_Local'>baseType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"ANY"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="aggregatecmds.c.html#LN78"><span class='Ref_To_Local'>numArgs</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="aggregatecmds.c.html#LN249"><span class='Ref_To_Local'>aggArgTypes</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="aggregatecmds.c.html#LN78"><span class='Ref_To_Local'>numArgs</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="aggregatecmds.c.html#LN249"><span class='Ref_To_Local'>aggArgTypes</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/parser/parse_type.h.html#LN27"><span class='Ref_to_Proto'>typenameTypeId</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN70"><span class='Ref_To_Local'>baseType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="aggregatecmds.c.html#LN80"><span class='Ref_To_Local'>parameterTypes</span></a> <span class='Operator'>= </span><a href="../../include/utils/builtins.h.html#LN67"><span class='Ref_to_Proto'>buildoidvector</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN249"><span class='Ref_To_Local'>aggArgTypes</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN78"><span class='Ref_To_Local'>numArgs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN81"><span class='Ref_To_Local'>allParameterTypes</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN82"><span class='Ref_To_Local'>parameterModes</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN83"><span class='Ref_To_Local'>parameterNames</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN84"><span class='Ref_To_Local'>parameterDefaults</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN85"><span class='Ref_To_Local'>variadicArgType</span></a> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if oldstyle &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * New style: args is a list of FunctionParameters (possibly zero of 
         * 'em).  We share functioncmds.c's code for processing them. 
         */ 
</span><a name="LN279"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>requiredResultType</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN70"><span class='Ref_To_Local'>baseType</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"basetype is redundant with aggregate input type specification"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
        <a href="aggregatecmds.c.html#LN78"><span class='Ref_To_Local'>numArgs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/commands/defrem.h.html#LN63"><span class='Ref_to_Proto'>interpret_function_parameter_list</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                          <a href="aggregatecmds.c.html#LN53"><span class='Ref_to_Parameter'>args</span></a><span class='Delimiter'>, 
</span>                                          <a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, 
</span>                                          <span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Comment_Single_Line'>/* is an aggregate */ 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN80"><span class='Ref_To_Local'>parameterTypes</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN81"><span class='Ref_To_Local'>allParameterTypes</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN82"><span class='Ref_To_Local'>parameterModes</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN83"><span class='Ref_To_Local'>parameterNames</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN84"><span class='Ref_To_Local'>parameterDefaults</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN85"><span class='Ref_To_Local'>variadicArgType</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="aggregatecmds.c.html#LN279"><span class='Ref_To_Local'>requiredResultType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* Parameter defaults are not currently allowed by the grammar */ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN84"><span class='Ref_To_Local'>parameterDefaults</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* There shouldn't have been any OUT parameters, either */ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN279"><span class='Ref_To_Local'>requiredResultType</span></a> <span class='Operator'>== </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * look up the aggregate's transtype. 
     * 
     * transtype can't be a pseudo-type, since we need to be able to store 
     * values of the transtype.  However, we can allow polymorphic transtype 
     * in some cases (AggregateCreate will check).  Also, we allow "internal" 
     * for functions that want to pass pointers to private data structures; 
     * but allow that only to superusers, since you could crash the system (or 
     * worse) by connecting up incompatible internal-using functions in an 
     * aggregate. 
     */ 
</span>    <a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_type.h.html#LN27"><span class='Ref_to_Proto'>typenameTypeId</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN71"><span class='Ref_To_Local'>transType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="aggregatecmds.c.html#LN88"><span class='Ref_To_Local'>transTypeType</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN149"><span class='Ref_to_Proto'>get_typtype</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN88"><span class='Ref_To_Local'>transTypeType</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_type.h.html#LN723"><span class='Ref_to_Const'>TYPTYPE_PSEUDO</span></a> <span class='Operator'>&& 
</span>        <span class='Operator'>!</span><a href="../../include/catalog/pg_type.h.html#LN744"><span class='Ref_to_Macro'>IsPolymorphicType</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_type.h.html#LN697"><span class='Ref_to_Const'>INTERNALOID</span></a> <span class='Operator'>&& </span><a href="../utils/misc/superuser.c.html#LN45"><span class='Ref_to_Func'>superuser</span></a><span class='Parentheses'>())</span> 
             <span class='Comment_Multi_Line'>/* okay */ </span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate transition data type cannot be %s"</span><span class='Delimiter'>, 
</span>                            <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN62"><span class='Ref_To_Local'>serialfuncName</span></a> <span class='Operator'>&& </span><a href="aggregatecmds.c.html#LN63"><span class='Ref_To_Local'>deserialfuncName</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Serialization is only needed/allowed for transtype INTERNAL. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_type.h.html#LN697"><span class='Ref_to_Const'>INTERNALOID</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"serialization functions may be specified only when the aggregate transition data type is %s"</span><span class='Delimiter'>, 
</span>                            <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_type.h.html#LN697"><span class='Ref_to_Const'>INTERNALOID</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN62"><span class='Ref_To_Local'>serialfuncName</span></a> <span class='Operator'>|| </span><a href="aggregatecmds.c.html#LN63"><span class='Ref_To_Local'>deserialfuncName</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Cannot specify one function without the other. 
         */ 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"must specify both or neither of serialization and deserialization functions"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If a moving-aggregate transtype is specified, look that up.  Same 
     * restrictions as for transtype. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN72"><span class='Ref_To_Local'>mtransType</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_type.h.html#LN27"><span class='Ref_to_Proto'>typenameTypeId</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN72"><span class='Ref_To_Local'>mtransType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="aggregatecmds.c.html#LN89"><span class='Ref_To_Local'>mtransTypeType</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN149"><span class='Ref_to_Proto'>get_typtype</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN89"><span class='Ref_To_Local'>mtransTypeType</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_type.h.html#LN723"><span class='Ref_to_Const'>TYPTYPE_PSEUDO</span></a> <span class='Operator'>&& 
</span>            <span class='Operator'>!</span><a href="../../include/catalog/pg_type.h.html#LN744"><span class='Ref_to_Macro'>IsPolymorphicType</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_type.h.html#LN697"><span class='Ref_to_Const'>INTERNALOID</span></a> <span class='Operator'>&& </span><a href="../utils/misc/superuser.c.html#LN45"><span class='Ref_to_Func'>superuser</span></a><span class='Parentheses'>())</span> 
                 <span class='Comment_Multi_Line'>/* okay */ </span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_FUNCTION_DEFINITION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"aggregate transition data type cannot be %s"</span><span class='Delimiter'>, 
</span>                                <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If we have an initval, and it's not for a pseudotype (particularly a 
     * polymorphic type), make sure it's acceptable to the type's input 
     * function.  We will store the initval as text, because the input 
     * function isn't necessarily immutable (consider "now" for timestamp), 
     * and we want to use the runtime not creation-time interpretation of the 
     * value.  However, if it's an incorrect value it seems much more 
     * user-friendly to complain at CREATE AGGREGATE time. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN75"><span class='Ref_To_Local'>initval</span></a> <span class='Operator'>&& </span><a href="aggregatecmds.c.html#LN88"><span class='Ref_To_Local'>transTypeType</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_type.h.html#LN723"><span class='Ref_to_Const'>TYPTYPE_PSEUDO</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN382"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>typinput</span><span class='Delimiter'>, 
</span><a name="LN383"></a>                    <span class='Declare_Local'>typioparam</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/utils/lsyscache.h.html#LN161"><span class='Ref_to_Proto'>getTypeInputInfo</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="aggregatecmds.c.html#LN382"><span class='Ref_To_Local'>typinput</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="aggregatecmds.c.html#LN383"><span class='Ref_To_Local'>typioparam</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="../../include/fmgr.h.html#LN644"><span class='Ref_to_Proto'>OidInputFunctionCall</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN382"><span class='Ref_To_Local'>typinput</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN75"><span class='Ref_To_Local'>initval</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN383"><span class='Ref_To_Local'>typioparam</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Likewise for moving-aggregate initval. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN76"><span class='Ref_To_Local'>minitval</span></a> <span class='Operator'>&& </span><a href="aggregatecmds.c.html#LN89"><span class='Ref_To_Local'>mtransTypeType</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_type.h.html#LN723"><span class='Ref_to_Const'>TYPTYPE_PSEUDO</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN394"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>typinput</span><span class='Delimiter'>, 
</span><a name="LN395"></a>                    <span class='Declare_Local'>typioparam</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/utils/lsyscache.h.html#LN161"><span class='Ref_to_Proto'>getTypeInputInfo</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="aggregatecmds.c.html#LN394"><span class='Ref_To_Local'>typinput</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="aggregatecmds.c.html#LN395"><span class='Ref_To_Local'>typioparam</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="../../include/fmgr.h.html#LN644"><span class='Ref_to_Proto'>OidInputFunctionCall</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN394"><span class='Ref_To_Local'>typinput</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN76"><span class='Ref_To_Local'>minitval</span></a><span class='Delimiter'>, </span><a href="aggregatecmds.c.html#LN395"><span class='Ref_To_Local'>typioparam</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN77"><span class='Ref_To_Local'>parallel</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN77"><span class='Ref_To_Local'>parallel</span></a><span class='Delimiter'>, </span><span class='String'>"safe"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN90"><span class='Ref_To_Local'>proparallel</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_proc.h.html#LN5491"><span class='Ref_to_Const'>PROPARALLEL_SAFE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN77"><span class='Ref_To_Local'>parallel</span></a><span class='Delimiter'>, </span><span class='String'>"restricted"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN90"><span class='Ref_To_Local'>proparallel</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_proc.h.html#LN5492"><span class='Ref_to_Const'>PROPARALLEL_RESTRICTED</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN77"><span class='Ref_To_Local'>parallel</span></a><span class='Delimiter'>, </span><span class='String'>"unsafe"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="aggregatecmds.c.html#LN90"><span class='Ref_To_Local'>proparallel</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_proc.h.html#LN5493"><span class='Ref_to_Const'>PROPARALLEL_UNSAFE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"parameter \"parallel\" must be SAFE, RESTRICTED, or UNSAFE"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Most of the argument-checking is done inside of AggregateCreate 
     */ 
</span>    <span class='Control'>return</span> <a href="../catalog/pg_aggregate.c.html#LN45"><span class='Ref_to_Func'>AggregateCreate</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN55"><span class='Ref_To_Local'>aggName</span></a><span class='Delimiter'>,</span>     <span class='Comment_Single_Line'>/* aggregate name */ 
</span>                           <a href="aggregatecmds.c.html#LN56"><span class='Ref_To_Local'>aggNamespace</span></a><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* namespace */ 
</span>                           <a href="aggregatecmds.c.html#LN58"><span class='Ref_To_Local'>aggKind</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN78"><span class='Ref_To_Local'>numArgs</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN79"><span class='Ref_To_Local'>numDirectArgs</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN80"><span class='Ref_To_Local'>parameterTypes</span></a><span class='Delimiter'>, 
</span>                           <a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN81"><span class='Ref_To_Local'>allParameterTypes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                           <a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN82"><span class='Ref_To_Local'>parameterModes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                           <a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="aggregatecmds.c.html#LN83"><span class='Ref_To_Local'>parameterNames</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN84"><span class='Ref_To_Local'>parameterDefaults</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN85"><span class='Ref_To_Local'>variadicArgType</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN59"><span class='Ref_To_Local'>transfuncName</span></a><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* step function name */ 
</span>                           <a href="aggregatecmds.c.html#LN60"><span class='Ref_To_Local'>finalfuncName</span></a><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* final function name */ 
</span>                           <a href="aggregatecmds.c.html#LN61"><span class='Ref_To_Local'>combinefuncName</span></a><span class='Delimiter'>,</span>     <span class='Comment_Single_Line'>/* combine function name */ 
</span>                           <a href="aggregatecmds.c.html#LN62"><span class='Ref_To_Local'>serialfuncName</span></a><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* serial function name */ 
</span>                           <a href="aggregatecmds.c.html#LN63"><span class='Ref_To_Local'>deserialfuncName</span></a><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* deserial function name */ 
</span>                           <a href="aggregatecmds.c.html#LN64"><span class='Ref_To_Local'>mtransfuncName</span></a><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* fwd trans function name */ 
</span>                           <a href="aggregatecmds.c.html#LN65"><span class='Ref_To_Local'>minvtransfuncName</span></a><span class='Delimiter'>,</span>   <span class='Comment_Single_Line'>/* inv trans function name */ 
</span>                           <a href="aggregatecmds.c.html#LN66"><span class='Ref_To_Local'>mfinalfuncName</span></a><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* final function name */ 
</span>                           <a href="aggregatecmds.c.html#LN67"><span class='Ref_To_Local'>finalfuncExtraArgs</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN68"><span class='Ref_To_Local'>mfinalfuncExtraArgs</span></a><span class='Delimiter'>, 
</span>                           <a href="aggregatecmds.c.html#LN69"><span class='Ref_To_Local'>sortoperatorName</span></a><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* sort operator name */ 
</span>                           <a href="aggregatecmds.c.html#LN86"><span class='Ref_To_Local'>transTypeId</span></a><span class='Delimiter'>, </span><span class='Comment_Single_Line'>/* transition data type */ 
</span>                           <a href="aggregatecmds.c.html#LN73"><span class='Ref_To_Local'>transSpace</span></a><span class='Delimiter'>,</span>  <span class='Comment_Single_Line'>/* transition space */ 
</span>                           <a href="aggregatecmds.c.html#LN87"><span class='Ref_To_Local'>mtransTypeId</span></a><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* transition data type */ 
</span>                           <a href="aggregatecmds.c.html#LN74"><span class='Ref_To_Local'>mtransSpace</span></a><span class='Delimiter'>, </span><span class='Comment_Single_Line'>/* transition space */ 
</span>                           <a href="aggregatecmds.c.html#LN75"><span class='Ref_To_Local'>initval</span></a><span class='Delimiter'>,</span>     <span class='Comment_Single_Line'>/* initial condition */ 
</span>                           <a href="aggregatecmds.c.html#LN76"><span class='Ref_To_Local'>minitval</span></a><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* initial condition */ 
</span>                           <a href="aggregatecmds.c.html#LN90"><span class='Ref_To_Local'>proparallel</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* parallel safe? */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end DefineAggregate &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>