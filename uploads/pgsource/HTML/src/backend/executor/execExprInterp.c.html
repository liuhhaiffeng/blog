<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\executor\execExprInterp.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\executor\execExprInterp.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:38 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * execExprInterp.c 
 *    Interpreted evaluation of an expression step list. 
 * 
 * This file provides either a "direct threaded" (for gcc, clang and 
 * compatible) or a "switch threaded" (for all compilers) implementation of 
 * expression evaluation.  The former is amongst the fastest known methods 
 * of interpreting programs without resorting to assembly level work, or 
 * just-in-time compilation, but it requires support for computed gotos. 
 * The latter is amongst the fastest approaches doable in standard C. 
 * 
 * In either case we use ExprEvalStep-&GT;opcode to dispatch to the code block 
 * within ExecInterpExpr() that implements the specific opcode type. 
 * 
 * Switch-threading uses a plain switch() statement to perform the 
 * dispatch.  This has the advantages of being plain C and allowing the 
 * compiler to warn if implementation of a specific opcode has been forgotten. 
 * The disadvantage is that dispatches will, as commonly implemented by 
 * compilers, happen from a single location, requiring more jumps and causing 
 * bad branch prediction. 
 * 
 * In direct threading, we use gcc's label-as-values extension - also adopted 
 * by some other compilers - to replace ExprEvalStep-&GT;opcode with the address 
 * of the block implementing the instruction. Dispatch to the next instruction 
 * is done by a "computed goto".  This allows for better branch prediction 
 * (as the jumps are happening from different locations) and fewer jumps 
 * (as no preparatory jump to a common dispatch location is needed). 
 * 
 * When using direct threading, ExecReadyInterpretedExpr will replace 
 * each step's opcode field with the address of the relevant code block and 
 * ExprState-&GT;flags will contain EEO_FLAG_DIRECT_THREADED to remember that 
 * that's been done. 
 * 
 * For very simple instructions the overhead of the full interpreter 
 * "startup", as minimal as it is, is noticeable.  Therefore 
 * ExecReadyInterpretedExpr will choose to implement simple scalar Var 
 * and Const expressions using special fast-path routines (ExecJust*). 
 * Benchmarking shows anything more complex than those may as well use the 
 * "full interpreter". 
 * 
 * Complex or uncommon instructions are not implemented in-line in 
 * ExecInterpExpr(), rather we call out to a helper function appearing later 
 * in this file.  For one reason, there'd not be a noticeable performance 
 * benefit, but more importantly those complex routines are intended to be 
 * shared between different expression evaluation approaches.  For instance 
 * a JIT compiler would generate calls to them.  (This is why they are 
 * exported rather than being "static" in this file.) 
 * 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * IDENTIFICATION 
 *    src/backend/executor/execExprInterp.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/tuptoaster.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"commands/sequence.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"executor/execExpr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"executor/nodeSubplan.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"funcapi.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"miscadmin.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"nodes/nodeFuncs.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parsetree.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgstat.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/builtins.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/date.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/lsyscache.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/timestamp.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/typcache.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/xml.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Use computed-goto-based opcode dispatch when computed gotos are available. 
 * But use a separate symbol so that it's easy to adjust locally in this file 
 * for development and testing. 
 */ 
</span><span class='Directive'>#ifdef</span> HAVE_COMPUTED_GOTO 
<a name="LN84"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EEO_USE_COMPUTED_GOTO</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_COMPUTED_GOTO */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Macros for opcode dispatch. 
 * 
 * EEO_SWITCH - just hides the switch if not in use. 
 * EEO_CASE - labels the implementation of named expression step type. 
 * EEO_DISPATCH - jump to the implementation of the step type for 'op'. 
 * EEO_OPCODE - compute opcode required by used expression evaluation method. 
 * EEO_NEXT - increment 'op' and jump to correct next step type. 
 * EEO_JUMP - jump to the specified step number within the current expression. 
 */ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN84"><span class='Ref_to_Const'>EEO_USE_COMPUTED_GOTO</span></a><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* to make dispatch_table accessible outside ExecInterpExpr() */ 
</span><a name="LN100"></a><span class='Keyword'>static const void </span><span class='Operator'>**</span><span class='Declare_Var'>dispatch_table</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
<a name="LN102"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_SWITCH</span><span class='Parentheses'>() 
</span><a name="LN103"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_CASE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>)</span>      CASE_##<a href="execExprInterp.c.html#LN103"><span class='Ref_to_Parameter'>name</span></a><span class='Operator'>: 
</span><a name="LN104"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_DISPATCH</span><span class='Parentheses'>()</span>      <span class='Control'>goto</span> <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span>op<span class='Operator'>-&GT;</span>opcode<span class='Parentheses'>)</span> 
<a name="LN105"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_OPCODE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>opcode</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span>intptr_t<span class='Parentheses'>) </span><a href="execExprInterp.c.html#LN100"><span class='Ref_to_Global_Var'>dispatch_table</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN105"><span class='Ref_to_Parameter'>opcode</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
 
<span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* !EEO_USE_COMPUTED_GOTO */ 
</span> 
<a name="LN109"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_SWITCH</span><span class='Parentheses'>()</span>        starteval<span class='Operator'>: </span><span class='Control'>switch</span> <span class='Parentheses'>((</span><a href="../../include/executor/execExpr.h.html#LN36"><span class='Ref_to_Enum'>ExprEvalOp</span></a><span class='Parentheses'>) </span>op<span class='Operator'>-&GT;</span>opcode<span class='Parentheses'>)</span> 
<a name="LN110"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_CASE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>)</span>      <span class='Control'>case</span> <a href="execExprInterp.c.html#LN110"><span class='Ref_to_Parameter'>name</span></a><span class='Operator'>: 
</span><a name="LN111"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_DISPATCH</span><span class='Parentheses'>()</span>      <span class='Control'>goto</span> starteval 
<a name="LN112"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_OPCODE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>opcode</span><span class='Parentheses'>)</span>  <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN112"><span class='Ref_to_Parameter'>opcode</span></a><span class='Parentheses'>) 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* EEO_USE_COMPUTED_GOTO */ 
</span> 
<a name="LN116"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_NEXT</span><span class='Parentheses'>() </span><span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        op<span class='Operator'>++</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <a href="execExprInterp.c.html#LN104"><span class='Ref_to_Macro'>EEO_DISPATCH</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN122"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EEO_JUMP</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>stepno</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        op <span class='Operator'>= &</span><a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a><span class='Operator'>-&GT;</span>steps<span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN122"><span class='Ref_to_Parameter'>stepno</span></a><span class='Delimiter'>]; </span><span class='Operator'>\ 
</span>        <a href="execExprInterp.c.html#LN104"><span class='Ref_to_Macro'>EEO_DISPATCH</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
 
<a name="LN129"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecInterpExpr</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN130"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ExecInitInterpreter</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* support functions */ 
</span><a name="LN133"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>CheckVarSlotCompatibility</span><span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>slot</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>vartype</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN134"></a><span class='Keyword'>static </span><a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Prototype'>get_cached_rowtype</span><span class='Parentheses'>(</span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>type_id</span><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>typmod</span><span class='Delimiter'>, 
</span><a name="LN135"></a>                   <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>cache_field</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN136"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ShutdownTupleDescRef</span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>arg</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN137"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ExecEvalRowNullInt</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, 
</span><a name="LN138"></a>                   <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>checkisnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* fast-path evaluation functions */ 
</span><a name="LN141"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustInnerVarFirst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN142"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustInnerVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN143"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustOuterVarFirst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN144"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustOuterVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN145"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustScanVarFirst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN146"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustScanVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN147"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustConst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN148"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustAssignInnerVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN149"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustAssignOuterVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN150"></a><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>ExecJustAssignScanVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Prepare ExprState for interpreted execution. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN157"></a><span class='Declare_Function'>ExecReadyInterpretedExpr</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* Ensure one-time interpreter setup has been done */ 
</span>    <a href="execExprInterp.c.html#LN130"><span class='Ref_to_Proto'>ExecInitInterpreter</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Simple validity checks on expression */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN88"><span class='Ref_to_Member'>steps_len</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN88"><span class='Ref_to_Member'>steps_len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN39"><span class='Ref_to_EnumConst'>EEOP_DONE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Don't perform redundant initialization. This is unreachable in current 
     * cases, but might be hit if there's additional expression evaluation 
     * methods that rely on interpreted execution to work. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN56"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/executor/execExpr.h.html#LN23"><span class='Ref_to_Const'>EEO_FLAG_INTERPRETER_INITIALIZED</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* DIRECT_THREADED should not already be set */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>((</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN56"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/executor/execExpr.h.html#LN25"><span class='Ref_to_Const'>EEO_FLAG_DIRECT_THREADED</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * There shouldn't be any errors before the expression is fully 
     * initialized, and even if so, it'd lead to the expression being 
     * abandoned.  So we can set the flag now and save some code. 
     */ 
</span>    <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN56"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/executor/execExpr.h.html#LN23"><span class='Ref_to_Const'>EEO_FLAG_INTERPRETER_INITIALIZED</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Select fast-path evalfuncs for very simple expressions.  "Starting up" 
     * the full interpreter is a measurable overhead for these.  Plain Vars 
     * and Const seem to be the only ones where the intrinsic cost is small 
     * enough that the overhead of ExecInterpExpr matters.  For more complex 
     * expressions it's cheaper to use ExecInterpExpr always. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN88"><span class='Ref_to_Member'>steps_len</span></a> <span class='Operator'>== </span><span class='Number'>3</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN193"></a>        <a href="../../include/executor/execExpr.h.html#LN36"><span class='Ref_to_Enum'>ExprEvalOp</span></a>  <span class='Declare_Local'>step0</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a><span class='Delimiter'>; 
</span><a name="LN194"></a>        <a href="../../include/executor/execExpr.h.html#LN36"><span class='Ref_to_Enum'>ExprEvalOp</span></a>  <span class='Declare_Local'>step1</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN193"><span class='Ref_To_Local'>step0</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN42"><span class='Ref_to_EnumConst'>EEOP_INNER_FETCHSOME</span></a> <span class='Operator'>&& 
</span>            <a href="execExprInterp.c.html#LN194"><span class='Ref_To_Local'>step1</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN48"><span class='Ref_to_EnumConst'>EEOP_INNER_VAR_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN141"><span class='Ref_to_Proto'>ExecJustInnerVarFirst</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN193"><span class='Ref_To_Local'>step0</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN43"><span class='Ref_to_EnumConst'>EEOP_OUTER_FETCHSOME</span></a> <span class='Operator'>&& 
</span>                 <a href="execExprInterp.c.html#LN194"><span class='Ref_To_Local'>step1</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN50"><span class='Ref_to_EnumConst'>EEOP_OUTER_VAR_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN143"><span class='Ref_to_Proto'>ExecJustOuterVarFirst</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN193"><span class='Ref_To_Local'>step0</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN44"><span class='Ref_to_EnumConst'>EEOP_SCAN_FETCHSOME</span></a> <span class='Operator'>&& 
</span>                 <a href="execExprInterp.c.html#LN194"><span class='Ref_To_Local'>step1</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN52"><span class='Ref_to_EnumConst'>EEOP_SCAN_VAR_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN145"><span class='Ref_to_Proto'>ExecJustScanVarFirst</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN193"><span class='Ref_To_Local'>step0</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN42"><span class='Ref_to_EnumConst'>EEOP_INNER_FETCHSOME</span></a> <span class='Operator'>&& 
</span>                 <a href="execExprInterp.c.html#LN194"><span class='Ref_To_Local'>step1</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN65"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_INNER_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN148"><span class='Ref_to_Proto'>ExecJustAssignInnerVar</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN193"><span class='Ref_To_Local'>step0</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN43"><span class='Ref_to_EnumConst'>EEOP_OUTER_FETCHSOME</span></a> <span class='Operator'>&& 
</span>                 <a href="execExprInterp.c.html#LN194"><span class='Ref_To_Local'>step1</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN66"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_OUTER_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN149"><span class='Ref_to_Proto'>ExecJustAssignOuterVar</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN193"><span class='Ref_To_Local'>step0</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN44"><span class='Ref_to_EnumConst'>EEOP_SCAN_FETCHSOME</span></a> <span class='Operator'>&& 
</span>                 <a href="execExprInterp.c.html#LN194"><span class='Ref_To_Local'>step1</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN67"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_SCAN_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN150"><span class='Ref_to_Proto'>ExecJustAssignScanVar</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if state-&GT;steps_len==3 &raquo; </span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN88"><span class='Ref_to_Member'>steps_len</span></a> <span class='Operator'>== </span><span class='Number'>2</span> <span class='Operator'>&& 
</span>             <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>== </span><a href="../../include/executor/execExpr.h.html#LN75"><span class='Ref_to_EnumConst'>EEOP_CONST</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN147"><span class='Ref_to_Proto'>ExecJustConst</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
<span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN84"><span class='Ref_to_Const'>EEO_USE_COMPUTED_GOTO</span></a><span class='Parentheses'>) 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * In the direct-threaded implementation, replace each opcode with the 
     * address to jump to.  (Use ExecEvalStepOp() to get back the opcode.) 
     */ 
</span>    <span class='Delimiter'>{ 
</span><a name="LN247"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>off</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN247"><span class='Ref_To_Local'>off</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN247"><span class='Ref_To_Local'>off</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN88"><span class='Ref_to_Member'>steps_len</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN247"><span class='Ref_To_Local'>off</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN251"></a>            <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN247"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN251"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN105"><span class='Ref_to_Macro'>EEO_OPCODE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN251"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN56"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/executor/execExpr.h.html#LN25"><span class='Ref_to_Const'>EEO_FLAG_DIRECT_THREADED</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* EEO_USE_COMPUTED_GOTO */ 
</span> 
    <a href="execExprInterp.c.html#LN157"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN129"><span class='Ref_to_Proto'>ExecInterpExpr</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecReadyInterpretedExpr &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate expression identified by "state" in the execution context 
 * given by "econtext".  *isnull is set to the is-null flag for the result, 
 * and the Datum value is the function result. 
 * 
 * As a special case, return the dispatch table's address if state is NULL. 
 * This is used by ExecInitInterpreter to set up the dispatch_table global. 
 * (Only applies when EEO_USE_COMPUTED_GOTO is defined.) 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN274"></a><span class='Declare_Function'>ExecInterpExpr</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN276"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span><span class='Delimiter'>; 
</span><a name="LN277"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>resultslot</span><span class='Delimiter'>; 
</span><a name="LN278"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>innerslot</span><span class='Delimiter'>; 
</span><a name="LN279"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>outerslot</span><span class='Delimiter'>; 
</span><a name="LN280"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>scanslot</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * This array has to be in the same order as enum ExprEvalOp. 
     */ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN84"><span class='Ref_to_Const'>EEO_USE_COMPUTED_GOTO</span></a><span class='Parentheses'>) 
</span><a name="LN286"></a>    <span class='Keyword'>static const void </span><span class='Operator'>*</span><span class='Keyword'>const </span><span class='Declare_Local'>dispatch_table</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>        <span class='Operator'>&&</span>CASE_EEOP_DONE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_INNER_FETCHSOME<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_OUTER_FETCHSOME<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SCAN_FETCHSOME<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_INNER_VAR_FIRST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_INNER_VAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_OUTER_VAR_FIRST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_OUTER_VAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SCAN_VAR_FIRST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SCAN_VAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_INNER_SYSVAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_OUTER_SYSVAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SCAN_SYSVAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_WHOLEROW<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ASSIGN_INNER_VAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ASSIGN_OUTER_VAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ASSIGN_SCAN_VAR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ASSIGN_TMP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ASSIGN_TMP_MAKE_RO<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_CONST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FUNCEXPR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FUNCEXPR_STRICT<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FUNCEXPR_FUSAGE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FUNCEXPR_STRICT_FUSAGE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_AND_STEP_FIRST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_AND_STEP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_AND_STEP_LAST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_OR_STEP_FIRST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_OR_STEP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_OR_STEP_LAST<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOL_NOT_STEP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_QUAL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_JUMP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_JUMP_IF_NULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_JUMP_IF_NOT_NULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_JUMP_IF_NOT_TRUE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_NULLTEST_ISNULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_NULLTEST_ISNOTNULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_NULLTEST_ROWISNULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_NULLTEST_ROWISNOTNULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOLTEST_IS_TRUE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOLTEST_IS_NOT_TRUE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOLTEST_IS_FALSE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_BOOLTEST_IS_NOT_FALSE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_PARAM_EXEC<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_PARAM_EXTERN<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_CASE_TESTVAL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_MAKE_READONLY<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_IOCOERCE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_DISTINCT<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_NULLIF<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SQLVALUEFUNCTION<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_CURRENTOFEXPR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_NEXTVALUEEXPR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ARRAYEXPR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ARRAYCOERCE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ROW<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ROWCOMPARE_STEP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ROWCOMPARE_FINAL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_MINMAX<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FIELDSELECT<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FIELDSTORE_DEFORM<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_FIELDSTORE_FORM<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ARRAYREF_SUBSCRIPT<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ARRAYREF_OLD<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ARRAYREF_ASSIGN<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ARRAYREF_FETCH<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_DOMAIN_TESTVAL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_DOMAIN_NOTNULL<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_DOMAIN_CHECK<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_CONVERT_ROWTYPE<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SCALARARRAYOP<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_XMLEXPR<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_AGGREF<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_GROUPING_FUNC<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_WINDOW_FUNC<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_SUBPLAN<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_ALTERNATIVE_SUBPLAN<span class='Delimiter'>, 
</span>        <span class='Operator'>&&</span>CASE_EEOP_LAST 
    <span class='Delimiter'>}; 
</span> 
    <a href="../../include/c.h.html#LN751"><span class='Ref_to_Macro'>StaticAssertStmt</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN215"><span class='Ref_to_EnumConst'>EEOP_LAST</span></a> <span class='Operator'>+ </span><span class='Number'>1</span> <span class='Operator'>== </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN286"><span class='Ref_To_Local'>dispatch_table</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <span class='String'>"dispatch_table out of whack with ExprEvalOp"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN958"><span class='Ref_to_Macro'>unlikely</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN286"><span class='Ref_To_Local'>dispatch_table</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* EEO_USE_COMPUTED_GOTO */ 
</span> 
    <span class='Comment_Multi_Line'>/* setup state */ 
</span>    <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN68"><span class='Ref_to_Member'>resultslot</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN196"><span class='Ref_to_Member'>ecxt_scantuple</span></a><span class='Delimiter'>; 
</span> 
<span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN84"><span class='Ref_to_Const'>EEO_USE_COMPUTED_GOTO</span></a><span class='Parentheses'>) 
</span>    <a href="execExprInterp.c.html#LN104"><span class='Ref_to_Macro'>EEO_DISPATCH</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
    <a href="execExprInterp.c.html#LN102"><span class='Ref_to_Macro'>EEO_SWITCH</span></a><span class='Parentheses'>() 
</span>    <span class='Delimiter'>{ 
</span>        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN39"><span class='Ref_to_EnumConst'>EEOP_DONE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="execExprInterp.c.html#LN1526"><span class='Ref_to_Label'>out</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN42"><span class='Ref_to_EnumConst'>EEOP_INNER_FETCHSOME</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* XXX: worthwhile to check tts_nvalid inline first? */ 
</span>            <a href="../../include/executor/tuptable.h.html#LN169"><span class='Ref_to_Proto'>slot_getsomeattrs</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fetch<span class='Operator'>.</span>last_var<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN43"><span class='Ref_to_EnumConst'>EEOP_OUTER_FETCHSOME</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../include/executor/tuptable.h.html#LN169"><span class='Ref_to_Proto'>slot_getsomeattrs</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fetch<span class='Operator'>.</span>last_var<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN44"><span class='Ref_to_EnumConst'>EEOP_SCAN_FETCHSOME</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../include/executor/tuptable.h.html#LN169"><span class='Ref_to_Proto'>slot_getsomeattrs</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fetch<span class='Operator'>.</span>last_var<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN48"><span class='Ref_to_EnumConst'>EEOP_INNER_VAR_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN419"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * First time through, check whether attribute matches Var.  Might 
             * not be ok anymore, due to schema changes. 
             */ 
</span>            <a href="execExprInterp.c.html#LN133"><span class='Ref_to_Proto'>CheckVarSlotCompatibility</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN419"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>vartype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Skip that check on subsequent evaluations */ 
</span>            <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN105"><span class='Ref_to_Macro'>EEO_OPCODE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN49"><span class='Ref_to_EnumConst'>EEOP_INNER_VAR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* FALL THROUGH to EEOP_INNER_VAR */ 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN49"><span class='Ref_to_EnumConst'>EEOP_INNER_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN435"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Since we already extracted all referenced columns from the 
             * tuple with a FETCHSOME step, we can just grab the value 
             * directly out of the slot's decomposed-data arrays.  But let's 
             * have an Assert to check that that did happen. 
             */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN435"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN435"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN123"><span class='Ref_to_Member'>tts_nvalid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN435"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN435"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN50"><span class='Ref_to_EnumConst'>EEOP_OUTER_VAR_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN452"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* See EEOP_INNER_VAR_FIRST comments */ 
</span> 
            <a href="execExprInterp.c.html#LN133"><span class='Ref_to_Proto'>CheckVarSlotCompatibility</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN452"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>vartype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN105"><span class='Ref_to_Macro'>EEO_OPCODE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN51"><span class='Ref_to_EnumConst'>EEOP_OUTER_VAR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* FALL THROUGH to EEOP_OUTER_VAR */ 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN51"><span class='Ref_to_EnumConst'>EEOP_OUTER_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN464"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* See EEOP_INNER_VAR comments */ 
</span> 
            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN464"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN464"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN123"><span class='Ref_to_Member'>tts_nvalid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN464"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN464"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN52"><span class='Ref_to_EnumConst'>EEOP_SCAN_VAR_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN477"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* See EEOP_INNER_VAR_FIRST comments */ 
</span> 
            <a href="execExprInterp.c.html#LN133"><span class='Ref_to_Proto'>CheckVarSlotCompatibility</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN477"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>vartype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN105"><span class='Ref_to_Macro'>EEO_OPCODE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN53"><span class='Ref_to_EnumConst'>EEOP_SCAN_VAR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* FALL THROUGH to EEOP_SCAN_VAR */ 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN53"><span class='Ref_to_EnumConst'>EEOP_SCAN_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN489"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* See EEOP_INNER_VAR comments */ 
</span> 
            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN489"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN489"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN123"><span class='Ref_to_Member'>tts_nvalid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN489"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN489"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN56"><span class='Ref_to_EnumConst'>EEOP_INNER_SYSVAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN502"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* these asserts must match defenses in slot_getattr */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a> <span class='Operator'>!= &</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN127"><span class='Ref_to_Member'>tts_minhdr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* heap_getsysattr has sufficient defenses against bad attnums */ 
</span> 
            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../access/common/heaptuple.c.html#LN550"><span class='Ref_to_Func'>heap_getsysattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN502"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, 
</span>                                            <a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>, 
</span>                                            <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN57"><span class='Ref_to_EnumConst'>EEOP_OUTER_SYSVAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN518"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* these asserts must match defenses in slot_getattr */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a> <span class='Operator'>!= &</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN127"><span class='Ref_to_Member'>tts_minhdr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* heap_getsysattr has sufficient defenses against bad attnums */ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../access/common/heaptuple.c.html#LN550"><span class='Ref_to_Func'>heap_getsysattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN518"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, 
</span>                                            <a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>, 
</span>                                            <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN58"><span class='Ref_to_EnumConst'>EEOP_SCAN_SYSVAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN534"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* these asserts must match defenses in slot_getattr */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a> <span class='Operator'>!= &</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN127"><span class='Ref_to_Member'>tts_minhdr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* heap_getsysattr has sufficient defenses against bad attnums */ 
</span> 
            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../access/common/heaptuple.c.html#LN550"><span class='Ref_to_Func'>heap_getsysattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN119"><span class='Ref_to_Member'>tts_tuple</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN534"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, 
</span>                                            <a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>, 
</span>                                            <a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN61"><span class='Ref_to_EnumConst'>EEOP_WHOLEROW</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN646"><span class='Ref_to_Proto'>ExecEvalWholeRowVar</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN65"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_INNER_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN558"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span><a name="LN559"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We do not need CheckVarSlotCompatibility here; that was taken 
             * care of at compilation time.  But see EEOP_INNER_VAR comments. 
             */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN559"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN559"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN123"><span class='Ref_to_Member'>tts_nvalid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN558"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN559"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN558"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN278"><span class='Ref_To_Local'>innerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN559"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN66"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_OUTER_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN574"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span><a name="LN575"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We do not need CheckVarSlotCompatibility here; that was taken 
             * care of at compilation time.  But see EEOP_INNER_VAR comments. 
             */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN575"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN575"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN123"><span class='Ref_to_Member'>tts_nvalid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN574"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN575"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN574"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN279"><span class='Ref_To_Local'>outerslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN575"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN67"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_SCAN_VAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN590"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span><a name="LN591"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>attnum<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We do not need CheckVarSlotCompatibility here; that was taken 
             * care of at compilation time.  But see EEOP_INNER_VAR comments. 
             */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN591"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN591"><span class='Ref_To_Local'>attnum</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN123"><span class='Ref_to_Member'>tts_nvalid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN590"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN591"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN590"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN280"><span class='Ref_To_Local'>scanslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN591"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN70"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_TMP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN606"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_tmp<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN606"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN63"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN606"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN62"><span class='Ref_to_Member'>resnull</span></a><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN72"><span class='Ref_to_EnumConst'>EEOP_ASSIGN_TMP_MAKE_RO</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN616"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_tmp<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN616"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN62"><span class='Ref_to_Member'>resnull</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN616"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN616"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= 
</span>                    <a href="../utils/adt/expandeddatum.c.html#LN93"><span class='Ref_to_Func'>MakeExpandedObjectReadOnlyInternal</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN63"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="execExprInterp.c.html#LN277"><span class='Ref_To_Local'>resultslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN616"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN63"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN75"><span class='Ref_to_EnumConst'>EEOP_CONST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>constval<span class='Operator'>.</span>isnull<span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>constval<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Function-call implementations. Arguments have previously been 
         * evaluated directly into fcinfo-&GT;args. 
         * 
         * As both STRICT checks and function-usage are noticeable performance 
         * wise, and function calls are a very hot-path (they also back 
         * operators!), it's worth having so many separate opcodes. 
         */ 
</span>        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN82"><span class='Ref_to_EnumConst'>EEOP_FUNCEXPR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN646"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN646"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN646"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN646"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN83"><span class='Ref_to_EnumConst'>EEOP_FUNCEXPR_STRICT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN657"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span><a name="LN658"></a>            <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN657"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>; 
</span><a name="LN659"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>argno</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* strict function, so check for NULL args */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN659"><span class='Ref_To_Local'>argno</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN659"><span class='Ref_To_Local'>argno</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>nargs<span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN659"><span class='Ref_To_Local'>argno</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN658"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN659"><span class='Ref_To_Local'>argno</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="execExprInterp.c.html#LN674"><span class='Ref_to_Label'>strictfail</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <a href="execExprInterp.c.html#LN657"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN657"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN657"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span> 
<a name="LN674"></a>    <span class='Label'>strictfail</span><span class='Operator'>: 
</span>            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN84"><span class='Ref_to_EnumConst'>EEOP_FUNCEXPR_FUSAGE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN680"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span><a name="LN681"></a>            <a href="../../include/pgstat.h.html#LN1086"><span class='Ref_to_Struct'>PgStat_FunctionCallUsage</span></a> <span class='Declare_Local'>fcusage</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/pgstat.h.html#LN1293"><span class='Ref_to_Proto'>pgstat_init_function_usage</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN680"><span class='Ref_To_Local'>fcinfo</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN681"><span class='Ref_To_Local'>fcusage</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN680"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN680"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN680"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span> 
            <a href="../../include/pgstat.h.html#LN1295"><span class='Ref_to_Proto'>pgstat_end_function_usage</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN681"><span class='Ref_To_Local'>fcusage</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN85"><span class='Ref_to_EnumConst'>EEOP_FUNCEXPR_STRICT_FUSAGE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN696"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span><a name="LN697"></a>            <a href="../../include/pgstat.h.html#LN1086"><span class='Ref_to_Struct'>PgStat_FunctionCallUsage</span></a> <span class='Declare_Local'>fcusage</span><span class='Delimiter'>; 
</span><a name="LN698"></a>            <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN696"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>; 
</span><a name="LN699"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>argno</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* strict function, so check for NULL args */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN699"><span class='Ref_To_Local'>argno</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN699"><span class='Ref_To_Local'>argno</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>nargs<span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN699"><span class='Ref_To_Local'>argno</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN698"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN699"><span class='Ref_To_Local'>argno</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="execExprInterp.c.html#LN719"><span class='Ref_to_Label'>strictfail_fusage</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="../../include/pgstat.h.html#LN1293"><span class='Ref_to_Proto'>pgstat_init_function_usage</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN696"><span class='Ref_To_Local'>fcinfo</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN697"><span class='Ref_To_Local'>fcusage</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN696"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN696"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN696"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span> 
            <a href="../../include/pgstat.h.html#LN1295"><span class='Ref_to_Proto'>pgstat_end_function_usage</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN697"><span class='Ref_To_Local'>fcusage</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN719"></a>    <span class='Label'>strictfail_fusage</span><span class='Operator'>: 
</span>            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If any of its clauses is FALSE, an AND's result is FALSE regardless 
         * of the states of the rest of the clauses, so we can stop evaluating 
         * and return FALSE immediately.  If none are FALSE and one or more is 
         * NULL, we return NULL; otherwise we return TRUE.  This makes sense 
         * when you interpret NULL as "don't know": perhaps one of the "don't 
         * knows" would have been FALSE if we'd known its value.  Only when 
         * all the inputs are known to be TRUE can we state confidently that 
         * the AND's result is TRUE. 
         */ 
</span>        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN93"><span class='Ref_to_EnumConst'>EEOP_BOOL_AND_STEP_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>anynull <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * EEOP_BOOL_AND_STEP_FIRST resets anynull, otherwise it's the 
             * same as EEOP_BOOL_AND_STEP - so fall through to that. 
             */ 
</span> 
            <span class='Comment_Multi_Line'>/* FALL THROUGH */ 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN94"><span class='Ref_to_EnumConst'>EEOP_BOOL_AND_STEP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>anynull <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to FALSE, need not change it */ 
</span>                <span class='Comment_Multi_Line'>/* bail out early */ 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN95"><span class='Ref_to_EnumConst'>EEOP_BOOL_AND_STEP_LAST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to NULL, need not change it */ 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to FALSE, need not change it */ 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * No point jumping early to jumpdone - would be same target 
                 * (as this is the last argument to the AND expression), 
                 * except more expensive. 
                 */ 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>anynull<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to TRUE, need not change it */ 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If any of its clauses is TRUE, an OR's result is TRUE regardless of 
         * the states of the rest of the clauses, so we can stop evaluating 
         * and return TRUE immediately.  If none are TRUE and one or more is 
         * NULL, we return NULL; otherwise we return FALSE.  This makes sense 
         * when you interpret NULL as "don't know": perhaps one of the "don't 
         * knows" would have been TRUE if we'd known its value.  Only when all 
         * the inputs are known to be FALSE can we state confidently that the 
         * OR's result is FALSE. 
         */ 
</span>        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN98"><span class='Ref_to_EnumConst'>EEOP_BOOL_OR_STEP_FIRST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>anynull <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * EEOP_BOOL_OR_STEP_FIRST resets anynull, otherwise it's the same 
             * as EEOP_BOOL_OR_STEP - so fall through to that. 
             */ 
</span> 
            <span class='Comment_Multi_Line'>/* FALL THROUGH */ 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN99"><span class='Ref_to_EnumConst'>EEOP_BOOL_OR_STEP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>anynull <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to TRUE, need not change it */ 
</span>                <span class='Comment_Multi_Line'>/* bail out early */ 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN100"><span class='Ref_to_EnumConst'>EEOP_BOOL_OR_STEP_LAST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to NULL, need not change it */ 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to TRUE, need not change it */ 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * No point jumping to jumpdone - would be same target (as 
                 * this is the last argument to the AND expression), except 
                 * more expensive. 
                 */ 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>boolexpr<span class='Operator'>.</span>anynull<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* result is already set to FALSE, need not change it */ 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN103"><span class='Ref_to_EnumConst'>EEOP_BOOL_NOT_STEP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Evaluation of 'not' is simple... if expr is false, then return 
             * 'true' and vice versa.  It's safe to do this even on a 
             * nominally null value, so we ignore resnull; that means that 
             * NULL in produces NULL out, which is what we want. 
             */ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN106"><span class='Ref_to_EnumConst'>EEOP_QUAL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* simplified version of BOOL_AND_STEP for use by ExecQual() */ 
</span> 
            <span class='Comment_Multi_Line'>/* If argument (also result) is false or null ... */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>|| 
</span>                <span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* ... bail out early, returning FALSE */ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>qualexpr<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Otherwise, leave the TRUE value in place, in case this is the 
             * last qual.  Then, TRUE is the correct answer. 
             */ 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN109"><span class='Ref_to_EnumConst'>EEOP_JUMP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Unconditionally jump to target step */ 
</span>            <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>jump<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN112"><span class='Ref_to_EnumConst'>EEOP_JUMP_IF_NULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Transfer control if current result is null */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>jump<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN113"><span class='Ref_to_EnumConst'>EEOP_JUMP_IF_NOT_NULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Transfer control if current result is non-null */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>jump<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN114"><span class='Ref_to_EnumConst'>EEOP_JUMP_IF_NOT_TRUE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Transfer control if current result is null or false */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>|| !</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span> 
                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>jump<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN117"><span class='Ref_to_EnumConst'>EEOP_NULLTEST_ISNULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN118"><span class='Ref_to_EnumConst'>EEOP_NULLTEST_ISNOTNULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN121"><span class='Ref_to_EnumConst'>EEOP_NULLTEST_ROWISNULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* out of line implementation: too large */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN617"><span class='Ref_to_Proto'>ExecEvalRowNull</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN122"><span class='Ref_to_EnumConst'>EEOP_NULLTEST_ROWISNOTNULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* out of line implementation: too large */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN619"><span class='Ref_to_Proto'>ExecEvalRowNotNull</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* BooleanTest implementations for all booltesttypes */ 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN125"><span class='Ref_to_EnumConst'>EEOP_BOOLTEST_IS_TRUE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* else, input value is the correct output as well */ 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN126"><span class='Ref_to_EnumConst'>EEOP_BOOLTEST_IS_NOT_TRUE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN127"><span class='Ref_to_EnumConst'>EEOP_BOOLTEST_IS_FALSE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN128"><span class='Ref_to_EnumConst'>EEOP_BOOLTEST_IS_NOT_FALSE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* else, input value is the correct output as well */ 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN131"><span class='Ref_to_EnumConst'>EEOP_PARAM_EXEC</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* out of line implementation: too large */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN611"><span class='Ref_to_Proto'>ExecEvalParamExec</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN132"><span class='Ref_to_EnumConst'>EEOP_PARAM_EXTERN</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* out of line implementation: too large */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN613"><span class='Ref_to_Proto'>ExecEvalParamExtern</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN135"><span class='Ref_to_EnumConst'>EEOP_CASE_TESTVAL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Normally upper parts of the expression tree have setup the 
             * values to be returned here, but some parts of the system 
             * currently misuse {caseValue,domainValue}_{datum,isNull} to set 
             * run-time data.  So if no values have been set-up, use 
             * ExprContext's.  This isn't pretty, but also not *that* ugly, 
             * and this is unlikely to be performance sensitive enough to 
             * worry about an extra branch. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>casetest<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>casetest<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>casetest<span class='Operator'>.</span>isnull<span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN216"><span class='Ref_to_Member'>caseValue_datum</span></a><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN217"><span class='Ref_to_Member'>caseValue_isNull</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN196"><span class='Ref_to_EnumConst'>EEOP_DOMAIN_TESTVAL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * See EEOP_CASE_TESTVAL comment. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>casetest<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>casetest<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>casetest<span class='Operator'>.</span>isnull<span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN220"><span class='Ref_to_Member'>domainValue_datum</span></a><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN221"><span class='Ref_to_Member'>domainValue_isNull</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN138"><span class='Ref_to_EnumConst'>EEOP_MAKE_READONLY</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Force a varlena value that might be read multiple times to R/O 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>make_readonly<span class='Operator'>.</span>isnull<span class='Parentheses'>) 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= 
</span>                    <a href="../utils/adt/expandeddatum.c.html#LN93"><span class='Ref_to_Func'>MakeExpandedObjectReadOnlyInternal</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>make_readonly<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>make_readonly<span class='Operator'>.</span>isnull<span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN141"><span class='Ref_to_EnumConst'>EEOP_IOCOERCE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Evaluate a CoerceViaIO node.  This can be quite a hot path, so 
             * inline as much work as possible.  The source value is in our 
             * result variable. 
             */ 
</span><a name="LN1088"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>str</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* call output function (similar to OutputFunctionCall) */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* output functions are not called on nulls */ 
</span>                <a href="execExprInterp.c.html#LN1088"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span><a name="LN1098"></a>                <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo_out</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN1098"><span class='Ref_To_Local'>fcinfo_out</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>iocoerce<span class='Operator'>.</span>fcinfo_data_out<span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1098"><span class='Ref_To_Local'>fcinfo_out</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1098"><span class='Ref_To_Local'>fcinfo_out</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN1098"><span class='Ref_To_Local'>fcinfo_out</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1088"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN571"><span class='Ref_to_Macro'>DatumGetCString</span></a><span class='Parentheses'>(</span><a href="../../include/fmgr.h.html#LN136"><span class='Ref_to_Macro'>FunctionCallInvoke</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1098"><span class='Ref_To_Local'>fcinfo_out</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* OutputFunctionCall assumes result isn't null */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN1098"><span class='Ref_To_Local'>fcinfo_out</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* call input function (similar to InputFunctionCall) */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>iocoerce<span class='Operator'>.</span>finfo_in<span class='Operator'>-&GT;</span>fn_strict <span class='Operator'>|| </span><a href="execExprInterp.c.html#LN1088"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN1114"></a>                <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo_in</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>iocoerce<span class='Operator'>.</span>fcinfo_data_in<span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1088"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* second and third arguments are already set up */ 
</span> 
                <a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN136"><span class='Ref_to_Macro'>FunctionCallInvoke</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Should get null result if and only if str is NULL */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1088"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN1114"><span class='Ref_To_Local'>fcinfo_in</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !op-&GT;d.iocoerce.finfo... &raquo; </span> 
 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN142"><span class='Ref_to_EnumConst'>EEOP_DISTINCT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * IS DISTINCT FROM must evaluate arguments (already done into 
             * fcinfo-&GT;arg/argnull) to determine whether they are NULL; if 
             * either is NULL then the result is determined.  If neither is 
             * NULL, then proceed to evaluate the comparison function, which 
             * is just the type's standard equality operator.  We need not 
             * care whether that function is strict.  Because the handling of 
             * nulls is different, we can't just reuse EEOP_FUNCEXPR. 
             */ 
</span><a name="LN1151"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* check function arguments for NULLness */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&& </span><a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Both NULL? Then is not distinct... */ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>|| </span><a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Only one is NULL? Then is distinct... */ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Neither null, so apply the equality function */ 
</span><a name="LN1169"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>eqresult</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1169"><span class='Ref_To_Local'>eqresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* Must invert result of "="; safe to do even if null */ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1169"><span class='Ref_To_Local'>eqresult</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1151"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN143"><span class='Ref_to_EnumConst'>EEOP_NULLIF</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * The arguments are already evaluated into fcinfo-&GT;arg/argnull. 
             */ 
</span><a name="LN1186"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* if either argument is NULL they can't be equal */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&& !</span><a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN1191"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN1191"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>func<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* if the arguments are equal return null */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>&& </span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1191"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
                    <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* Arguments aren't equal, so return the first one */ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1186"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN144"><span class='Ref_to_EnumConst'>EEOP_SQLVALUEFUNCTION</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Doesn't seem worthwhile to have an inline implementation 
             * efficiency-wise. 
             */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN615"><span class='Ref_to_Proto'>ExecEvalSQLValueFunction</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN145"><span class='Ref_to_EnumConst'>EEOP_CURRENTOFEXPR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* error invocation uses space, and shouldn't ever occur */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN616"><span class='Ref_to_Proto'>ExecEvalCurrentOfExpr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN146"><span class='Ref_to_EnumConst'>EEOP_NEXTVALUEEXPR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>nextvalueexpr<span class='Operator'>.</span>seqtypid<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>case</span> <a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN22"><span class='Ref_to_Const'>INT2OID</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN456"><span class='Ref_to_Macro'>Int16GetDatum</span></a><span class='Parentheses'>((</span><a href="../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a><span class='Parentheses'>) </span><a href="../../include/commands/sequence.h.html#LN53"><span class='Ref_to_Proto'>nextval_internal</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>nextvalueexpr<span class='Operator'>.</span>seqid<span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN24"><span class='Ref_to_Const'>INT4OID</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>((</span><a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a><span class='Parentheses'>) </span><a href="../../include/commands/sequence.h.html#LN53"><span class='Ref_to_Proto'>nextval_internal</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>nextvalueexpr<span class='Operator'>.</span>seqid<span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN21"><span class='Ref_to_Const'>INT8OID</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN624"><span class='Ref_to_Macro'>Int64GetDatum</span></a><span class='Parentheses'>((</span><a href="../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) </span><a href="../../include/commands/sequence.h.html#LN53"><span class='Ref_to_Proto'>nextval_internal</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>nextvalueexpr<span class='Operator'>.</span>seqid<span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>default</span><span class='Operator'>: 
</span>                    <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unsupported sequence type %u"</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>nextvalueexpr<span class='Operator'>.</span>seqtypid<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN147"><span class='Ref_to_EnumConst'>EEOP_ARRAYEXPR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN621"><span class='Ref_to_Proto'>ExecEvalArrayExpr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN148"><span class='Ref_to_EnumConst'>EEOP_ARRAYCOERCE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN622"><span class='Ref_to_Proto'>ExecEvalArrayCoerce</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN149"><span class='Ref_to_EnumConst'>EEOP_ROW</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN623"><span class='Ref_to_Proto'>ExecEvalRow</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN155"><span class='Ref_to_EnumConst'>EEOP_ROWCOMPARE_STEP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1279"></a>            <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_step<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* force NULL result if strict fn and NULL input */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_step<span class='Operator'>.</span>finfo<span class='Operator'>-&GT;</span>fn_strict <span class='Operator'>&& 
</span>                <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1279"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>|| </span><a href="execExprInterp.c.html#LN1279"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_step<span class='Operator'>.</span>jumpnull<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* Apply comparison function */ 
</span>            <a href="execExprInterp.c.html#LN1279"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_step<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN1279"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* force NULL result if NULL function result */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1279"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_step<span class='Operator'>.</span>jumpnull<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* If unequal, no need to compare remaining columns */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN477"><span class='Ref_to_Macro'>DatumGetInt32</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_step<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN158"><span class='Ref_to_EnumConst'>EEOP_ROWCOMPARE_FINAL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1312"></a>            <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>cmpresult</span> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN477"><span class='Ref_to_Macro'>DatumGetInt32</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1313"></a>            <a href="../../include/nodes/primnodes.h.html#LN1015"><span class='Ref_to_Enum'>RowCompareType</span></a> <span class='Declare_Local'>rctype</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>rowcompare_final<span class='Operator'>.</span>rctype<span class='Delimiter'>; 
</span> 
            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1313"><span class='Ref_To_Local'>rctype</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* EQ and NE cases aren't allowed here */ 
</span>                <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1018"><span class='Ref_to_EnumConst'>ROWCOMPARE_LT</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1312"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1019"><span class='Ref_to_EnumConst'>ROWCOMPARE_LE</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1312"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1021"><span class='Ref_to_EnumConst'>ROWCOMPARE_GE</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1312"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1022"><span class='Ref_to_EnumConst'>ROWCOMPARE_GT</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1312"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>default</span><span class='Operator'>: 
</span>                    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN161"><span class='Ref_to_EnumConst'>EEOP_MINMAX</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN624"><span class='Ref_to_Proto'>ExecEvalMinMax</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN164"><span class='Ref_to_EnumConst'>EEOP_FIELDSELECT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN625"><span class='Ref_to_Proto'>ExecEvalFieldSelect</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN170"><span class='Ref_to_EnumConst'>EEOP_FIELDSTORE_DEFORM</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN627"><span class='Ref_to_Proto'>ExecEvalFieldStoreDeForm</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN177"><span class='Ref_to_EnumConst'>EEOP_FIELDSTORE_FORM</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN629"><span class='Ref_to_Proto'>ExecEvalFieldStoreForm</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN180"><span class='Ref_to_EnumConst'>EEOP_ARRAYREF_SUBSCRIPT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Process an array subscript */ 
</span> 
            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN631"><span class='Ref_to_Proto'>ExecEvalArrayRefSubscript</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Subscript is null, short-circuit ArrayRef to NULL */ 
</span>                <a href="execExprInterp.c.html#LN122"><span class='Ref_to_Macro'>EEO_JUMP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref_subscript<span class='Operator'>.</span>jumpdone<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN187"><span class='Ref_to_EnumConst'>EEOP_ARRAYREF_OLD</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Fetch the old value in an arrayref assignment, in case it's 
             * referenced (via a CaseTestExpr) inside the assignment 
             * expression. 
             */ 
</span> 
            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN633"><span class='Ref_to_Proto'>ExecEvalArrayRefOld</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Perform ArrayRef assignment 
         */ 
</span>        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN190"><span class='Ref_to_EnumConst'>EEOP_ARRAYREF_ASSIGN</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN634"><span class='Ref_to_Proto'>ExecEvalArrayRefAssign</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Fetch subset of an array. 
         */ 
</span>        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN193"><span class='Ref_to_EnumConst'>EEOP_ARRAYREF_FETCH</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN632"><span class='Ref_to_Proto'>ExecEvalArrayRefFetch</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN205"><span class='Ref_to_EnumConst'>EEOP_CONVERT_ROWTYPE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN635"><span class='Ref_to_Proto'>ExecEvalConvertRowtype</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN206"><span class='Ref_to_EnumConst'>EEOP_SCALARARRAYOP</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN637"><span class='Ref_to_Proto'>ExecEvalScalarArrayOp</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN199"><span class='Ref_to_EnumConst'>EEOP_DOMAIN_NOTNULL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN638"><span class='Ref_to_Proto'>ExecEvalConstraintNotNull</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN202"><span class='Ref_to_EnumConst'>EEOP_DOMAIN_CHECK</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN639"><span class='Ref_to_Proto'>ExecEvalConstraintCheck</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN207"><span class='Ref_to_EnumConst'>EEOP_XMLEXPR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN640"><span class='Ref_to_Proto'>ExecEvalXmlExpr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN208"><span class='Ref_to_EnumConst'>EEOP_AGGREF</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Returns a Datum whose value is the precomputed aggregate value 
             * found in the given expression context. 
             */ 
</span><a name="LN1469"></a>            <a href="../../include/nodes/execnodes.h.html#LN630"><span class='Ref_to_Struct'>AggrefExprState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>aggref</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>aggref<span class='Operator'>.</span>astate<span class='Delimiter'>; 
</span> 
            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN212"><span class='Ref_to_Member'>ecxt_aggvalues</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN212"><span class='Ref_to_Member'>ecxt_aggvalues</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1469"><span class='Ref_To_Local'>aggref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN634"><span class='Ref_to_Member'>aggno</span></a><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN213"><span class='Ref_to_Member'>ecxt_aggnulls</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1469"><span class='Ref_To_Local'>aggref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN634"><span class='Ref_to_Member'>aggno</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN209"><span class='Ref_to_EnumConst'>EEOP_GROUPING_FUNC</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex/uncommon for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN641"><span class='Ref_to_Proto'>ExecEvalGroupingFunc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN210"><span class='Ref_to_EnumConst'>EEOP_WINDOW_FUNC</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Like Aggref, just return a precomputed value from the econtext. 
             */ 
</span><a name="LN1492"></a>            <a href="../../include/nodes/execnodes.h.html#LN641"><span class='Ref_to_Struct'>WindowFuncExprState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>wfunc</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>window_func<span class='Operator'>.</span>wfstate<span class='Delimiter'>; 
</span> 
            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN212"><span class='Ref_to_Member'>ecxt_aggvalues</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN212"><span class='Ref_to_Member'>ecxt_aggvalues</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1492"><span class='Ref_To_Local'>wfunc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN647"><span class='Ref_to_Member'>wfuncno</span></a><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN213"><span class='Ref_to_Member'>ecxt_aggnulls</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1492"><span class='Ref_To_Local'>wfunc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN647"><span class='Ref_to_Member'>wfuncno</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN211"><span class='Ref_to_EnumConst'>EEOP_SUBPLAN</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN642"><span class='Ref_to_Proto'>ExecEvalSubPlan</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN212"><span class='Ref_to_EnumConst'>EEOP_ALTERNATIVE_SUBPLAN</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* too complex for an inline implementation */ 
</span>            <a href="../../include/executor/execExpr.h.html#LN644"><span class='Ref_to_Proto'>ExecEvalAlternativeSubPlan</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN276"><span class='Ref_To_Local'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN116"><span class='Ref_to_Macro'>EEO_NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN103"><span class='Ref_to_Macro'>EEO_CASE</span></a><span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN215"><span class='Ref_to_EnumConst'>EEOP_LAST</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* unreachable */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="execExprInterp.c.html#LN1526"><span class='Ref_to_Label'>out</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
<a name="LN1526"></a><span class='Label'>out</span><span class='Operator'>: 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>isnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN62"><span class='Ref_to_Member'>resnull</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="execExprInterp.c.html#LN274"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN63"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecInterpExpr &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Check whether a user attribute in a slot can be referenced by a Var 
 * expression.  This should succeed unless there have been schema changes 
 * since the expression tree has been created. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1537"></a><span class='Declare_Function'>CheckVarSlotCompatibility</span><span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>slot</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>vartype</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * What we have to check for here is the possibility of an attribute 
     * having been dropped or changed in type since the plan tree was created. 
     * Ideally the plan will get invalidated and not re-used, but just in 
     * case, we keep these defenses.  Fortunately it's sufficient to check 
     * once on the first time through. 
     * 
     * Note: ideally we'd check typmod as well as typid, but that seems 
     * impractical at the moment: in many cases the tupdesc will have been 
     * generated by ExecTypeFromTL(), and that can't guarantee to generate an 
     * accurate typmod in all cases, because some expression node types don't 
     * carry typmod.  Fortunately, for precisely that reason, there should be 
     * no places with a critical dependency on the typmod of a value. 
     * 
     * System attributes don't require checking since their types never 
     * change. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>attnum</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1558"></a>        <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>slot_tupdesc</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>; 
</span><a name="LN1559"></a>        <a href="../../include/catalog/pg_attribute.h.html#LN186"><span class='Ref_to_Typedef'>Form_pg_attribute</span></a> <span class='Declare_Local'>attr</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>attnum</span></a> <span class='Operator'>&GT; </span><a href="execExprInterp.c.html#LN1558"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* should never happen */ 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"attribute number %d exceeds number of columns %d"</span><span class='Delimiter'>, 
</span>                 <a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1558"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN1559"><span class='Ref_To_Local'>attr</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1558"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>attnum</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1559"><span class='Ref_To_Local'>attr</span></a><span class='Operator'>-&GT;</span>attisdropped<span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_COLUMN<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"attribute %d of type %s has been dropped"</span><span class='Delimiter'>, 
</span>                            <a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>attnum</span></a><span class='Delimiter'>, </span><a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1558"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN76"><span class='Ref_to_Member'>tdtypeid</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>vartype</span></a> <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN1559"><span class='Ref_To_Local'>attr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"attribute %d of type %s has wrong type"</span><span class='Delimiter'>, 
</span>                            <a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>attnum</span></a><span class='Delimiter'>, </span><a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1558"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN76"><span class='Ref_to_Member'>tdtypeid</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"Table has type %s, but query expects %s."</span><span class='Delimiter'>, 
</span>                               <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1559"><span class='Ref_To_Local'>attr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                               <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1537"><span class='Ref_to_Parameter'>vartype</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if attnum&GT;0 &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end CheckVarSlotCompatibility &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * get_cached_rowtype: utility function to lookup a rowtype tupdesc 
 * 
 * type_id, typmod: identity of the rowtype 
 * cache_field: where to cache the TupleDesc pointer in expression state node 
 *      (field must be initialized to NULL) 
 * econtext: expression context we are executing in 
 * 
 * NOTE: because the shutdown callback will be called during plan rescan, 
 * must be prepared to re-do this during any node execution; cannot call 
 * just once during expression initialization. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> 
<a name="LN1597"></a><span class='Declare_Function'>get_cached_rowtype</span><span class='Parentheses'>(</span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>type_id</span><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>typmod</span><span class='Delimiter'>, 
</span><a name="LN1598"></a>                   <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>cache_field</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1600"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupDesc</span> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN1598"><span class='Ref_to_Parameter'>cache_field</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Do lookup if no cached value or if requested type changed */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1600"><span class='Ref_To_Local'>tupDesc</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| 
</span>        <a href="execExprInterp.c.html#LN1597"><span class='Ref_to_Parameter'>type_id</span></a> <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN1600"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN76"><span class='Ref_to_Member'>tdtypeid</span></a> <span class='Operator'>|| 
</span>        <a href="execExprInterp.c.html#LN1597"><span class='Ref_to_Parameter'>typmod</span></a> <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN1600"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN77"><span class='Ref_to_Member'>tdtypmod</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="execExprInterp.c.html#LN1600"><span class='Ref_To_Local'>tupDesc</span></a> <span class='Operator'>= </span><a href="../../include/utils/typcache.h.html#LN151"><span class='Ref_to_Proto'>lookup_rowtype_tupdesc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1597"><span class='Ref_to_Parameter'>type_id</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1597"><span class='Ref_to_Parameter'>typmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN1598"><span class='Ref_to_Parameter'>cache_field</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Release old tupdesc; but callback is already registered */ 
</span>            <a href="../../include/access/tupdesc.h.html#LN106"><span class='Ref_to_Macro'>ReleaseTupleDesc</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN1598"><span class='Ref_to_Parameter'>cache_field</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Need to register shutdown callback to release tupdesc */ 
</span>            <a href="../../include/executor/executor.h.html#LN487"><span class='Ref_to_Proto'>RegisterExprContextCallback</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1598"><span class='Ref_to_Parameter'>econtext</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN136"><span class='Ref_to_Proto'>ShutdownTupleDescRef</span></a><span class='Delimiter'>, 
</span>                                        <a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1598"><span class='Ref_to_Parameter'>cache_field</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1598"><span class='Ref_to_Parameter'>cache_field</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1600"><span class='Ref_To_Local'>tupDesc</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tupDesc==NULL||type_i... &raquo; </span> 
    <span class='Control'>return</span> <a href="execExprInterp.c.html#LN1600"><span class='Ref_To_Local'>tupDesc</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end get_cached_rowtype &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Callback function to release a tupdesc refcount at econtext shutdown 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1630"></a><span class='Declare_Function'>ShutdownTupleDescRef</span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>arg</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1632"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>cache_field</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/postgres.h.html#LN554"><span class='Ref_to_Macro'>DatumGetPointer</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1630"><span class='Ref_to_Parameter'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN1632"><span class='Ref_To_Local'>cache_field</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/access/tupdesc.h.html#LN106"><span class='Ref_to_Macro'>ReleaseTupleDesc</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN1632"><span class='Ref_To_Local'>cache_field</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1632"><span class='Ref_To_Local'>cache_field</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Fast-path functions, for very simple expressions 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* Simple reference to inner Var, first time through */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1645"></a><span class='Declare_Function'>ExecJustInnerVarFirst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1647"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1645"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1648"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1647"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1649"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1645"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See ExecInterpExpr()'s comments for EEOP_INNER_VAR_FIRST */ 
</span> 
    <a href="execExprInterp.c.html#LN133"><span class='Ref_to_Proto'>CheckVarSlotCompatibility</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1649"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1648"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1647"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>vartype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN1647"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="../../include/executor/execExpr.h.html#LN49"><span class='Ref_to_EnumConst'>EEOP_INNER_VAR</span></a><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* just for cleanliness */ 
</span>    <a href="execExprInterp.c.html#LN1645"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN142"><span class='Ref_to_Proto'>ExecJustInnerVar</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Since we use slot_getattr(), we don't need to implement the FETCHSOME 
     * step explicitly, and we also needn't Assert that the attnum is in range 
     * --- slot_getattr() will take care of any problems. 
     */ 
</span>    <span class='Control'>return</span> <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1649"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1648"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1645"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecJustInnerVarFirst &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* Simple reference to inner Var */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1667"></a><span class='Declare_Function'>ExecJustInnerVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1669"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1667"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1670"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1669"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1671"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1667"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustInnerVarFirst */ 
</span>    <span class='Control'>return</span> <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1671"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1670"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1667"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Simple reference to outer Var, first time through */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1679"></a><span class='Declare_Function'>ExecJustOuterVarFirst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1681"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1679"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1682"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1681"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1683"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1679"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN133"><span class='Ref_to_Proto'>CheckVarSlotCompatibility</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1683"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1682"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1681"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>vartype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN1681"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="../../include/executor/execExpr.h.html#LN51"><span class='Ref_to_EnumConst'>EEOP_OUTER_VAR</span></a><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* just for cleanliness */ 
</span>    <a href="execExprInterp.c.html#LN1679"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN144"><span class='Ref_to_Proto'>ExecJustOuterVar</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustInnerVarFirst */ 
</span>    <span class='Control'>return</span> <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1683"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1682"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1679"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Simple reference to outer Var */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1695"></a><span class='Declare_Function'>ExecJustOuterVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1697"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1695"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1698"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1697"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1699"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1695"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustInnerVarFirst */ 
</span>    <span class='Control'>return</span> <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1699"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1698"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1695"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Simple reference to scan Var, first time through */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1707"></a><span class='Declare_Function'>ExecJustScanVarFirst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1709"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1707"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1710"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1709"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1711"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1707"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN196"><span class='Ref_to_Member'>ecxt_scantuple</span></a><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN133"><span class='Ref_to_Proto'>CheckVarSlotCompatibility</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1711"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1710"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1709"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>vartype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN1709"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>= </span><a href="../../include/executor/execExpr.h.html#LN53"><span class='Ref_to_EnumConst'>EEOP_SCAN_VAR</span></a><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* just for cleanliness */ 
</span>    <a href="execExprInterp.c.html#LN1707"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN79"><span class='Ref_to_Member'>evalfunc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN146"><span class='Ref_to_Proto'>ExecJustScanVar</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustInnerVarFirst */ 
</span>    <span class='Control'>return</span> <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1711"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1710"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1707"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Simple reference to scan Var */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1723"></a><span class='Declare_Function'>ExecJustScanVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1725"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1723"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1726"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1725"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1727"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1723"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN196"><span class='Ref_to_Member'>ecxt_scantuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustInnerVarFirst */ 
</span>    <span class='Control'>return</span> <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1727"><span class='Ref_To_Local'>slot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1726"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1723"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Simple Const expression */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1735"></a><span class='Declare_Function'>ExecJustConst</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1737"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1735"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1735"><span class='Ref_to_Parameter'>isnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1737"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>constval<span class='Operator'>.</span>isnull<span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="execExprInterp.c.html#LN1737"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>constval<span class='Operator'>.</span><span class='Keyword'>value</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Evaluate inner Var and assign to appropriate column of result tuple */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1745"></a><span class='Declare_Function'>ExecJustAssignInnerVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1747"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1745"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1748"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1747"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1749"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1747"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span><a name="LN1750"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>inslot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1745"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a><span class='Delimiter'>; 
</span><a name="LN1751"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>outslot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1745"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN68"><span class='Ref_to_Member'>resultslot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We do not need CheckVarSlotCompatibility here; that was taken care of 
     * at compilation time. 
     * 
     * Since we use slot_getattr(), we don't need to implement the FETCHSOME 
     * step explicitly, and we also needn't Assert that the attnum is in range 
     * --- slot_getattr() will take care of any problems. 
     */ 
</span>    <a href="execExprInterp.c.html#LN1751"><span class='Ref_To_Local'>outslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1749"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= 
</span>        <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1750"><span class='Ref_To_Local'>inslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1748"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1751"><span class='Ref_To_Local'>outslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1749"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecJustAssignInnerVar &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* Evaluate outer Var and assign to appropriate column of result tuple */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1768"></a><span class='Declare_Function'>ExecJustAssignOuterVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1770"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1768"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1771"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1770"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1772"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1770"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span><a name="LN1773"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>inslot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1768"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a><span class='Delimiter'>; 
</span><a name="LN1774"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>outslot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1768"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN68"><span class='Ref_to_Member'>resultslot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustAssignInnerVar */ 
</span>    <a href="execExprInterp.c.html#LN1774"><span class='Ref_To_Local'>outslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1772"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= 
</span>        <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1773"><span class='Ref_To_Local'>inslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1771"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1774"><span class='Ref_To_Local'>outslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1772"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Evaluate scan Var and assign to appropriate column of result tuple */ 
</span><span class='Keyword'>static </span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1784"></a><span class='Declare_Function'>ExecJustAssignScanVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1786"></a>    <a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Local'>op</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1784"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN73"><span class='Ref_to_Member'>steps</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN1787"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1786"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>attnum <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN1788"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>resultnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1786"><span class='Ref_To_Local'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>assign_var<span class='Operator'>.</span>resultnum<span class='Delimiter'>; 
</span><a name="LN1789"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>inslot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1784"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN196"><span class='Ref_to_Member'>ecxt_scantuple</span></a><span class='Delimiter'>; 
</span><a name="LN1790"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>outslot</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1784"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN68"><span class='Ref_to_Member'>resultslot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* See comments in ExecJustAssignInnerVar */ 
</span>    <a href="execExprInterp.c.html#LN1790"><span class='Ref_To_Local'>outslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1788"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= 
</span>        <a href="../../include/executor/tuptable.h.html#LN167"><span class='Ref_to_Proto'>slot_getattr</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1789"><span class='Ref_To_Local'>inslot</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1787"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1790"><span class='Ref_To_Local'>outslot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1788"><span class='Ref_To_Local'>resultnum</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Do one-time initialization of interpretation machinery. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1803"></a><span class='Declare_Function'>ExecInitInterpreter</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN84"><span class='Ref_to_Const'>EEO_USE_COMPUTED_GOTO</span></a><span class='Parentheses'>) 
</span>    <span class='Comment_Multi_Line'>/* Set up externally-visible pointer to dispatch table */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN100"><span class='Ref_to_Global_Var'>dispatch_table</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="execExprInterp.c.html#LN100"><span class='Ref_to_Global_Var'>dispatch_table</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>const void </span><span class='Operator'>**</span><span class='Parentheses'>) 
</span>            <a href="../../include/postgres.h.html#LN554"><span class='Ref_to_Macro'>DatumGetPointer</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN129"><span class='Ref_to_Proto'>ExecInterpExpr</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Function to return the opcode of an expression step. 
 * 
 * When direct-threading is in use, ExprState-&GT;opcode isn't easily 
 * decipherable. This function returns the appropriate enum member. 
 * 
 * This currently is only supposed to be used in paths that aren't critical 
 * performance-wise.  If that changes, we could add an inverse dispatch_table 
 * that's sorted on the address, so a binary search can be performed. 
 */ 
</span><a href="../../include/executor/execExpr.h.html#LN36"><span class='Ref_to_Enum'>ExprEvalOp</span></a> 
<a name="LN1824"></a><span class='Declare_Function'>ExecEvalStepOp</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN84"><span class='Ref_to_Const'>EEO_USE_COMPUTED_GOTO</span></a><span class='Parentheses'>) 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1824"><span class='Ref_to_Parameter'>state</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN56"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/executor/execExpr.h.html#LN25"><span class='Ref_to_Const'>EEO_FLAG_DIRECT_THREADED</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1829"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1829"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN1829"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../include/executor/execExpr.h.html#LN215"><span class='Ref_to_EnumConst'>EEOP_LAST</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN1829"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>((</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="execExprInterp.c.html#LN1824"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a> <span class='Operator'>== </span><a href="execExprInterp.c.html#LN100"><span class='Ref_to_Global_Var'>dispatch_table</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1829"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN36"><span class='Ref_to_Enum'>ExprEvalOp</span></a><span class='Parentheses'>) </span><a href="execExprInterp.c.html#LN1829"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unknown opcode"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/executor/execExpr.h.html#LN36"><span class='Ref_to_Enum'>ExprEvalOp</span></a><span class='Parentheses'>) </span><a href="execExprInterp.c.html#LN1824"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN226"><span class='Ref_to_Member'>opcode</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalStepOp &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Out-of-line helper functions for complex instructions. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a PARAM_EXEC parameter. 
 * 
 * PARAM_EXEC params (internal executor parameters) are stored in the 
 * ecxt_param_exec_vals array, and can be accessed by array index. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1856"></a><span class='Declare_Function'>ExecEvalParamExec</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1858"></a>    <a href="../../include/nodes/params.h.html#LN96"><span class='Ref_to_Struct'>ParamExecData</span></a> <span class='Operator'>*</span><span class='Declare_Local'>prm</span><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN1858"><span class='Ref_To_Local'>prm</span></a> <span class='Operator'>= &</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1856"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN205"><span class='Ref_to_Member'>ecxt_param_exec_vals</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1856"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>param<span class='Operator'>.</span>paramid<span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN958"><span class='Ref_to_Macro'>unlikely</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1858"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN98"><span class='Ref_to_Member'>execPlan</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Parameter not evaluated yet, so go do it */ 
</span>        <a href="../../include/executor/nodeSubplan.h.html#LN28"><span class='Ref_to_Proto'>ExecSetParamPlan</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1858"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN98"><span class='Ref_to_Member'>execPlan</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1856"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* ExecSetParamPlan should have processed this param... */ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1858"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN98"><span class='Ref_to_Member'>execPlan</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1856"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1858"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1856"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1858"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN100"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a PARAM_EXTERN parameter. 
 * 
 * PARAM_EXTERN parameters must be sought in ecxt_param_list_info. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1878"></a><span class='Declare_Function'>ExecEvalParamExtern</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1880"></a>    <a href="../../include/nodes/params.h.html#LN61"><span class='Ref_to_Typedef'>ParamListInfo</span></a> <span class='Declare_Local'>paramInfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1878"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN206"><span class='Ref_to_Member'>ecxt_param_list_info</span></a><span class='Delimiter'>; 
</span><a name="LN1881"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>paramId</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1878"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>param<span class='Operator'>.</span>paramid<span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN957"><span class='Ref_to_Macro'>likely</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1880"><span class='Ref_To_Local'>paramInfo</span></a> <span class='Operator'>&& 
</span>               <a href="execExprInterp.c.html#LN1881"><span class='Ref_To_Local'>paramId</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="execExprInterp.c.html#LN1881"><span class='Ref_To_Local'>paramId</span></a> <span class='Operator'>&LT;= </span><a href="execExprInterp.c.html#LN1880"><span class='Ref_To_Local'>paramInfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN73"><span class='Ref_to_Member'>numParams</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1886"></a>        <a href="../../include/nodes/params.h.html#LN53"><span class='Ref_to_Struct'>ParamExternData</span></a> <span class='Operator'>*</span><span class='Declare_Local'>prm</span> <span class='Operator'>= &</span><a href="execExprInterp.c.html#LN1880"><span class='Ref_To_Local'>paramInfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN75"><span class='Ref_to_Member'>params</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN1881"><span class='Ref_To_Local'>paramId</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
        <span class='Comment_Multi_Line'>/* give hook a chance in case parameter is dynamic */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1886"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN58"><span class='Ref_to_Member'>ptype</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="execExprInterp.c.html#LN1880"><span class='Ref_To_Local'>paramInfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN69"><span class='Ref_to_Member'>paramFetch</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
            <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN1880"><span class='Ref_To_Local'>paramInfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN69"><span class='Ref_to_Member'>paramFetch</span></a><span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN1880"><span class='Ref_To_Local'>paramInfo</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1881"><span class='Ref_To_Local'>paramId</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN957"><span class='Ref_to_Macro'>likely</span></a><span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1886"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN58"><span class='Ref_to_Member'>ptype</span></a><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* safety check in case hook did something unexpected */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN958"><span class='Ref_to_Macro'>unlikely</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1886"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN58"><span class='Ref_to_Member'>ptype</span></a> <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN1878"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>param<span class='Operator'>.</span>paramtype<span class='Parentheses'>))</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"type of parameter %d (%s) does not match that when preparing the plan (%s)"</span><span class='Delimiter'>, 
</span>                                <a href="execExprInterp.c.html#LN1881"><span class='Ref_To_Local'>paramId</span></a><span class='Delimiter'>, 
</span>                                <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1886"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN58"><span class='Ref_to_Member'>ptype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1878"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>param<span class='Operator'>.</span>paramtype<span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1878"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1886"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1878"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1886"><span class='Ref_To_Local'>prm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/params.h.html#LN56"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if likely(paramInfo&&par... &raquo; </span> 
 
    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_OBJECT<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>             <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"no value found for parameter %d"</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1881"><span class='Ref_To_Local'>paramId</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalParamExtern &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a SQLValueFunction expression. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1917"></a><span class='Declare_Function'>ExecEvalSQLValueFunction</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1919"></a>    <a href="../../include/nodes/primnodes.h.html#LN1099"><span class='Ref_to_Struct'>SQLValueFunction</span></a> <span class='Operator'>*</span><span class='Declare_Local'>svf</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>sqlvaluefunction<span class='Operator'>.</span>svf<span class='Delimiter'>; 
</span><a name="LN1920"></a>    <a href="../../include/fmgr.h.html#LN76"><span class='Ref_to_Struct'>FunctionCallInfoData</span></a> <span class='Declare_Local'>fcinfo</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Note: current_schema() can return NULL.  current_user() etc currently 
     * cannot, but might as well code those cases the same way for safety. 
     */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1919"><span class='Ref_To_Local'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1102"><span class='Ref_to_Member'>op</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1082"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_DATE</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/date.h.html#LN55"><span class='Ref_to_Macro'>DateADTGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/date.h.html#LN72"><span class='Ref_to_Proto'>GetSQLCurrentDate</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1083"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIME</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1084"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIME_N</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/date.h.html#LN57"><span class='Ref_to_Macro'>TimeTzADTPGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/date.h.html#LN73"><span class='Ref_to_Proto'>GetSQLCurrentTime</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1919"><span class='Ref_To_Local'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1085"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIMESTAMP</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1086"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIMESTAMP_N</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/timestamp.h.html#LN70"><span class='Ref_to_Proto'>GetSQLCurrentTimestamp</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1919"><span class='Ref_To_Local'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1087"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIME</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1088"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIME_N</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/date.h.html#LN56"><span class='Ref_to_Macro'>TimeADTGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/date.h.html#LN74"><span class='Ref_to_Proto'>GetSQLLocalTime</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1919"><span class='Ref_To_Local'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1089"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIMESTAMP</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1090"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIMESTAMP_N</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/timestamp.h.html#LN30"><span class='Ref_to_Macro'>TimestampGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/timestamp.h.html#LN71"><span class='Ref_to_Proto'>GetSQLLocalTimestamp</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1919"><span class='Ref_To_Local'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1091"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_ROLE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1092"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_USER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1093"><span class='Ref_to_EnumConst'>SVFOP_USER</span></a><span class='Operator'>: 
</span>            <a href="../../include/fmgr.h.html#LN119"><span class='Ref_to_Macro'>InitFunctionCallInfoData</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../utils/adt/name.c.html#LN262"><span class='Ref_to_Func'>current_user</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1094"><span class='Ref_to_EnumConst'>SVFOP_SESSION_USER</span></a><span class='Operator'>: 
</span>            <a href="../../include/fmgr.h.html#LN119"><span class='Ref_to_Macro'>InitFunctionCallInfoData</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../utils/adt/name.c.html#LN268"><span class='Ref_to_Func'>session_user</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1095"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_CATALOG</span></a><span class='Operator'>: 
</span>            <a href="../../include/fmgr.h.html#LN119"><span class='Ref_to_Macro'>InitFunctionCallInfoData</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../utils/adt/misc.c.html#LN172"><span class='Ref_to_Func'>current_database</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1096"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_SCHEMA</span></a><span class='Operator'>: 
</span>            <a href="../../include/fmgr.h.html#LN119"><span class='Ref_to_Macro'>InitFunctionCallInfoData</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../utils/adt/name.c.html#LN278"><span class='Ref_to_Func'>current_schema</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN1917"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN1920"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch svf-&GT;op &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ExecEvalSQLValueFunction &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Raise error if a CURRENT OF expression is evaluated. 
 * 
 * The planner should convert CURRENT OF into a TidScan qualification, or some 
 * other special handling in a ForeignScan node.  So we have to be able to do 
 * ExecInitExpr on a CurrentOfExpr, but we shouldn't ever actually execute it. 
 * If we get here, we suppose we must be dealing with CURRENT OF on a foreign 
 * table whose FDW doesn't handle it, and complain accordingly. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1984"></a><span class='Declare_Function'>ExecEvalCurrentOfExpr</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>           <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"WHERE CURRENT OF is not supported for this table type"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate NullTest / IS NULL for rows. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1995"></a><span class='Declare_Function'>ExecEvalRowNull</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="execExprInterp.c.html#LN137"><span class='Ref_to_Proto'>ExecEvalRowNullInt</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN1995"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1995"><span class='Ref_to_Parameter'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN1995"><span class='Ref_to_Parameter'>econtext</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate NullTest / IS NOT NULL for rows. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2004"></a><span class='Declare_Function'>ExecEvalRowNotNull</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="execExprInterp.c.html#LN137"><span class='Ref_to_Proto'>ExecEvalRowNullInt</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2004"><span class='Ref_to_Parameter'>state</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2004"><span class='Ref_to_Parameter'>op</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2004"><span class='Ref_to_Parameter'>econtext</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Common code for IS [NOT] NULL on a row value */ 
</span><span class='Keyword'>static void 
</span><a name="LN2011"></a><span class='Declare_Function'>ExecEvalRowNullInt</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, 
</span><a name="LN2012"></a>                   <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>checkisnull</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2014"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>value</span> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span><a name="LN2015"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>isnull</span> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Delimiter'>; 
</span><a name="LN2016"></a>    <a href="../../include/access/htup.h.html#LN22"><span class='Ref_to_Typedef'>HeapTupleHeader</span></a> <span class='Declare_Local'>tuple</span><span class='Delimiter'>; 
</span><a name="LN2017"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>tupType</span><span class='Delimiter'>; 
</span><a name="LN2018"></a>    <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>tupTypmod</span><span class='Delimiter'>; 
</span><a name="LN2019"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupDesc</span><span class='Delimiter'>; 
</span><a name="LN2020"></a>    <a href="../../include/access/htup.h.html#LN61"><span class='Ref_to_Struct'>HeapTupleData</span></a> <span class='Declare_Local'>tmptup</span><span class='Delimiter'>; 
</span><a name="LN2021"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>att</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* NULL row variables are treated just as NULL scalar columns */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2015"><span class='Ref_To_Local'>isnull</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2012"><span class='Ref_to_Parameter'>checkisnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The SQL standard defines IS [NOT] NULL for a non-null rowtype argument 
     * as: 
     * 
     * "R IS NULL" is true if every field is the null value. 
     * 
     * "R IS NOT NULL" is true if no field is the null value. 
     * 
     * This definition is (apparently intentionally) not recursive; so our 
     * tests on the fields are primitive attisnull tests, not recursive checks 
     * to see if they are all-nulls or no-nulls rowtypes. 
     * 
     * The standard does not consider the possibility of zero-field rows, but 
     * here we consider them to vacuously satisfy both predicates. 
     */ 
</span> 
    <a href="execExprInterp.c.html#LN2016"><span class='Ref_To_Local'>tuple</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN258"><span class='Ref_to_Macro'>DatumGetHeapTupleHeader</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN2017"><span class='Ref_To_Local'>tupType</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN444"><span class='Ref_to_Macro'>HeapTupleHeaderGetTypeId</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2016"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2018"><span class='Ref_To_Local'>tupTypmod</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN454"><span class='Ref_to_Macro'>HeapTupleHeaderGetTypMod</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2016"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Lookup tupdesc if first time through or if type changes */ 
</span>    <a href="execExprInterp.c.html#LN2019"><span class='Ref_To_Local'>tupDesc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN134"><span class='Ref_to_Proto'>get_cached_rowtype</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2017"><span class='Ref_To_Local'>tupType</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2018"><span class='Ref_To_Local'>tupTypmod</span></a><span class='Delimiter'>, 
</span>                                 <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>nulltest_row<span class='Operator'>.</span>argdesc<span class='Delimiter'>, 
</span>                                 <a href="execExprInterp.c.html#LN2012"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * heap_attisnull needs a HeapTuple not a bare HeapTupleHeader. 
     */ 
</span>    <a href="execExprInterp.c.html#LN2020"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN63"><span class='Ref_to_Member'>t_len</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN438"><span class='Ref_to_Macro'>HeapTupleHeaderGetDatumLength</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2016"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2020"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN66"><span class='Ref_to_Member'>t_data</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2016"><span class='Ref_To_Local'>tuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2021"><span class='Ref_To_Local'>att</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2021"><span class='Ref_To_Local'>att</span></a> <span class='Operator'>&LT;= </span><a href="execExprInterp.c.html#LN2019"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2021"><span class='Ref_To_Local'>att</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* ignore dropped columns */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2019"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2021"><span class='Ref_To_Local'>att</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span>attisdropped<span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../access/common/heaptuple.c.html#LN295"><span class='Ref_to_Func'>heap_attisnull</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN2020"><span class='Ref_To_Local'>tmptup</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2021"><span class='Ref_To_Local'>att</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* null field disproves IS NOT NULL */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN2012"><span class='Ref_to_Parameter'>checkisnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* non-null field disproves IS NULL */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2012"><span class='Ref_to_Parameter'>checkisnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for att=1;att&LT;=tupDesc-&GT;n... &raquo; </span> 
 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2011"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalRowNullInt &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate an ARRAY[] expression. 
 * 
 * The individual array elements (or subarrays) have already been evaluated 
 * into op-&GT;d.arrayexpr.elemvalues[]/elemnulls[]. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2099"></a><span class='Declare_Function'>ExecEvalArrayExpr</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2101"></a>    <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2102"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>element_type</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemtype<span class='Delimiter'>; 
</span><a name="LN2103"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nelems</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>nelems<span class='Delimiter'>; 
</span><a name="LN2104"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ndims</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2105"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>dims</span><span class='Delimiter'>[</span><a href="../../include/c.h.html#LN418"><span class='Ref_to_Const'>MAXDIM</span></a><span class='Delimiter'>]; 
</span><a name="LN2106"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>lbs</span><span class='Delimiter'>[</span><a href="../../include/c.h.html#LN418"><span class='Ref_to_Const'>MAXDIM</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Set non-null as default */ 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>multidims<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Elements are presumably of scalar type */ 
</span><a name="LN2114"></a>        <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>dvalues</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemvalues<span class='Delimiter'>; 
</span><a name="LN2115"></a>        <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>dnulls</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemnulls<span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Shouldn't happen here, but if length is 0, return empty array */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= 
</span>                <a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN378"><span class='Ref_to_Proto'>construct_empty_array</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2102"><span class='Ref_To_Local'>element_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* setup for 1-D array of the given length */ 
</span>        <a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2105"><span class='Ref_To_Local'>dims</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2106"><span class='Ref_To_Local'>lbs</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN372"><span class='Ref_to_Proto'>construct_md_array</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2114"><span class='Ref_To_Local'>dvalues</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2115"><span class='Ref_To_Local'>dnulls</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2105"><span class='Ref_To_Local'>dims</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2106"><span class='Ref_To_Local'>lbs</span></a><span class='Delimiter'>, 
</span>                                    <a href="execExprInterp.c.html#LN2102"><span class='Ref_To_Local'>element_type</span></a><span class='Delimiter'>, 
</span>                                    <a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemlength<span class='Delimiter'>, 
</span>                                    <a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elembyval<span class='Delimiter'>, 
</span>                                    <a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemalign<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !op-&GT;d.arrayexpr.mult... &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Must be nested array expressions */ 
</span><a name="LN2139"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>nbytes</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2140"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>nitems</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2141"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>outer_nelems</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2142"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>elem_ndims</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2143"></a>        <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>elem_dims</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2144"></a>        <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>elem_lbs</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2145"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>firstone</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span><a name="LN2146"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>havenulls</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN2147"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>haveempty</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN2148"></a>        <span class='Keyword'>char</span>      <span class='Operator'>**</span><span class='Declare_Local'>subdata</span><span class='Delimiter'>; 
</span><a name="LN2149"></a>        <a href="../../include/c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a>     <span class='Operator'>**</span><span class='Declare_Local'>subbitmaps</span><span class='Delimiter'>; 
</span><a name="LN2150"></a>        <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>subbytes</span><span class='Delimiter'>; 
</span><a name="LN2151"></a>        <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>subnitems</span><span class='Delimiter'>; 
</span><a name="LN2152"></a>        <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>dataoffset</span><span class='Delimiter'>; 
</span><a name="LN2153"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>dat</span><span class='Delimiter'>; 
</span><a name="LN2154"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>iitem</span><span class='Delimiter'>; 
</span><a name="LN2155"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>elemoff</span><span class='Delimiter'>; 
</span><a name="LN2156"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN2148"><span class='Ref_To_Local'>subdata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2149"><span class='Ref_To_Local'>subbitmaps</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a> <span class='Operator'>**</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2150"><span class='Ref_To_Local'>subbytes</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2151"><span class='Ref_To_Local'>subnitems</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* loop through and get data area from each element */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2155"><span class='Ref_To_Local'>elemoff</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2155"><span class='Ref_To_Local'>elemoff</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN2103"><span class='Ref_To_Local'>nelems</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2155"><span class='Ref_To_Local'>elemoff</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2166"></a>            <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>arraydatum</span><span class='Delimiter'>; 
</span><a name="LN2167"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>eisnull</span><span class='Delimiter'>; 
</span><a name="LN2168"></a>            <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>array</span><span class='Delimiter'>; 
</span><a name="LN2169"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>this_ndims</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN2166"><span class='Ref_To_Local'>arraydatum</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemvalues<span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2155"><span class='Ref_To_Local'>elemoff</span></a><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN2167"><span class='Ref_To_Local'>eisnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayexpr<span class='Operator'>.</span>elemnulls<span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2155"><span class='Ref_To_Local'>elemoff</span></a><span class='Delimiter'>]; 
</span> 
            <span class='Comment_Multi_Line'>/* temporarily ignore null subarrays */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2167"><span class='Ref_To_Local'>eisnull</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN2147"><span class='Ref_To_Local'>haveempty</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>continue</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN241"><span class='Ref_to_Macro'>DatumGetArrayTypeP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2166"><span class='Ref_To_Local'>arraydatum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* run-time double-check on element type */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2102"><span class='Ref_To_Local'>element_type</span></a> <span class='Operator'>!= </span><a href="../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot merge incompatible arrays"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"Array with element type %s cannot be "</span> 
                         <span class='String'>"included in ARRAY construct with element type %s."</span><span class='Delimiter'>, 
</span>                                   <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                   <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2102"><span class='Ref_To_Local'>element_type</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN2169"><span class='Ref_To_Local'>this_ndims</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN270"><span class='Ref_to_Macro'>ARR_NDIM</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* temporarily ignore zero-dimensional subarrays */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2169"><span class='Ref_To_Local'>this_ndims</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN2147"><span class='Ref_To_Local'>haveempty</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>continue</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2145"><span class='Ref_To_Local'>firstone</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Get sub-array details from first member */ 
</span>                <a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2169"><span class='Ref_To_Local'>this_ndims</span></a><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>&GT; </span><a href="../../include/c.h.html#LN418"><span class='Ref_to_Const'>MAXDIM</span></a><span class='Parentheses'>) 
</span>                    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_PROGRAM_LIMIT_EXCEEDED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"number of array dimensions (%d) exceeds "</span> <span class='Operator'>\ 
</span>                                 <span class='String'>"the maximum allowed (%d)"</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN418"><span class='Ref_to_Const'>MAXDIM</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN2143"><span class='Ref_To_Local'>elem_dims</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                memcpy<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2143"><span class='Ref_To_Local'>elem_dims</span></a><span class='Delimiter'>, </span><a href="../../include/utils/array.h.html#LN274"><span class='Ref_to_Macro'>ARR_DIMS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN2144"><span class='Ref_To_Local'>elem_lbs</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                memcpy<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2144"><span class='Ref_To_Local'>elem_lbs</span></a><span class='Delimiter'>, </span><a href="../../include/utils/array.h.html#LN276"><span class='Ref_to_Macro'>ARR_LBOUND</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN2145"><span class='Ref_To_Local'>firstone</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Check other sub-arrays are compatible */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN2169"><span class='Ref_To_Local'>this_ndims</span></a> <span class='Operator'>|| 
</span>                    memcmp<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2143"><span class='Ref_To_Local'>elem_dims</span></a><span class='Delimiter'>, </span><a href="../../include/utils/array.h.html#LN274"><span class='Ref_to_Macro'>ARR_DIMS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                           <a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    memcmp<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2144"><span class='Ref_To_Local'>elem_lbs</span></a><span class='Delimiter'>, </span><a href="../../include/utils/array.h.html#LN276"><span class='Ref_to_Macro'>ARR_LBOUND</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                           <a href="execExprInterp.c.html#LN2142"><span class='Ref_To_Local'>elem_ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_ARRAY_SUBSCRIPT_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"multidimensional arrays must have array "</span> 
                                    <span class='String'>"expressions with matching dimensions"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="execExprInterp.c.html#LN2148"><span class='Ref_To_Local'>subdata</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN302"><span class='Ref_to_Macro'>ARR_DATA_PTR</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2149"><span class='Ref_To_Local'>subbitmaps</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN280"><span class='Ref_to_Macro'>ARR_NULLBITMAP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2150"><span class='Ref_To_Local'>subbytes</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN269"><span class='Ref_to_Macro'>ARR_SIZE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><a href="../../include/utils/array.h.html#LN296"><span class='Ref_to_Macro'>ARR_DATA_OFFSET</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2139"><span class='Ref_To_Local'>nbytes</span></a> <span class='Operator'>+= </span><a href="execExprInterp.c.html#LN2150"><span class='Ref_To_Local'>subbytes</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN2151"><span class='Ref_To_Local'>subnitems</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../utils/adt/arrayutils.c.html#LN73"><span class='Ref_to_Func'>ArrayGetNItems</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2169"><span class='Ref_To_Local'>this_ndims</span></a><span class='Delimiter'>, 
</span>                                                     <a href="../../include/utils/array.h.html#LN274"><span class='Ref_to_Macro'>ARR_DIMS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2140"><span class='Ref_To_Local'>nitems</span></a> <span class='Operator'>+= </span><a href="execExprInterp.c.html#LN2151"><span class='Ref_To_Local'>subnitems</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN2146"><span class='Ref_To_Local'>havenulls</span></a> <span class='Operator'>|= </span><a href="../../include/utils/array.h.html#LN271"><span class='Ref_to_Macro'>ARR_HASNULL</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2168"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for elemoff=0;elemoff&LT;nel... &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* 
         * If all items were null or empty arrays, return an empty array; 
         * otherwise, if some were and some weren't, raise error.  (Note: we 
         * must special-case this somehow to avoid trying to generate a 1-D 
         * array formed from empty arrays.  It's not ideal...) 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2147"><span class='Ref_To_Local'>haveempty</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span>     <span class='Comment_Single_Line'>/* didn't find any nonempty array */ 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN378"><span class='Ref_to_Proto'>construct_empty_array</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2102"><span class='Ref_To_Local'>element_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_ARRAY_SUBSCRIPT_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"multidimensional arrays must have array "</span> 
                            <span class='String'>"expressions with matching dimensions"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* setup for multi-D array */ 
</span>        <a href="execExprInterp.c.html#LN2105"><span class='Ref_To_Local'>dims</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2106"><span class='Ref_To_Local'>lbs</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2105"><span class='Ref_To_Local'>dims</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2143"><span class='Ref_To_Local'>elem_dims</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>            <a href="execExprInterp.c.html#LN2106"><span class='Ref_To_Local'>lbs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2144"><span class='Ref_To_Local'>elem_lbs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2146"><span class='Ref_To_Local'>havenulls</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2152"><span class='Ref_To_Local'>dataoffset</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN292"><span class='Ref_to_Macro'>ARR_OVERHEAD_WITHNULLS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2140"><span class='Ref_To_Local'>nitems</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2139"><span class='Ref_To_Local'>nbytes</span></a> <span class='Operator'>+= </span><a href="execExprInterp.c.html#LN2152"><span class='Ref_To_Local'>dataoffset</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2152"><span class='Ref_To_Local'>dataoffset</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* marker for no null bitmap */ 
</span>            <a href="execExprInterp.c.html#LN2139"><span class='Ref_To_Local'>nbytes</span></a> <span class='Operator'>+= </span><a href="../../include/utils/array.h.html#LN290"><span class='Ref_to_Macro'>ARR_OVERHEAD_NONULLS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2139"><span class='Ref_To_Local'>nbytes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/postgres.h.html#LN327"><span class='Ref_to_Macro'>SET_VARSIZE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2139"><span class='Ref_To_Local'>nbytes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/utils/array.h.html#LN78"><span class='Ref_to_Member'>ndim</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/utils/array.h.html#LN79"><span class='Ref_to_Member'>dataoffset</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2152"><span class='Ref_To_Local'>dataoffset</span></a><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/utils/array.h.html#LN80"><span class='Ref_to_Member'>elemtype</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2102"><span class='Ref_To_Local'>element_type</span></a><span class='Delimiter'>; 
</span>        memcpy<span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN274"><span class='Ref_to_Macro'>ARR_DIMS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2105"><span class='Ref_To_Local'>dims</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        memcpy<span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN276"><span class='Ref_to_Macro'>ARR_LBOUND</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2106"><span class='Ref_To_Local'>lbs</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2104"><span class='Ref_To_Local'>ndims</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN2153"><span class='Ref_To_Local'>dat</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN302"><span class='Ref_to_Macro'>ARR_DATA_PTR</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2154"><span class='Ref_To_Local'>iitem</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN2141"><span class='Ref_To_Local'>outer_nelems</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            memcpy<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2153"><span class='Ref_To_Local'>dat</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2148"><span class='Ref_To_Local'>subdata</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="execExprInterp.c.html#LN2150"><span class='Ref_To_Local'>subbytes</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2153"><span class='Ref_To_Local'>dat</span></a> <span class='Operator'>+= </span><a href="execExprInterp.c.html#LN2150"><span class='Ref_To_Local'>subbytes</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2146"><span class='Ref_To_Local'>havenulls</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/utils/array.h.html#LN365"><span class='Ref_to_Proto'>array_bitmap_copy</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN280"><span class='Ref_to_Macro'>ARR_NULLBITMAP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2154"><span class='Ref_To_Local'>iitem</span></a><span class='Delimiter'>, 
</span>                                  <a href="execExprInterp.c.html#LN2149"><span class='Ref_To_Local'>subbitmaps</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>                                  <a href="execExprInterp.c.html#LN2151"><span class='Ref_To_Local'>subnitems</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2154"><span class='Ref_To_Local'>iitem</span></a> <span class='Operator'>+= </span><a href="execExprInterp.c.html#LN2151"><span class='Ref_To_Local'>subnitems</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2156"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2099"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2101"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalArrayExpr &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate an ArrayCoerceExpr expression. 
 * 
 * Source array is in step's result variable. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2314"></a><span class='Declare_Function'>ExecEvalArrayCoerce</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2316"></a>    <a href="../../include/nodes/primnodes.h.html#LN829"><span class='Ref_to_Struct'>ArrayCoerceExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>acoerce</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arraycoerce<span class='Operator'>.</span>coerceexpr<span class='Delimiter'>; 
</span><a name="LN2317"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>arraydatum</span><span class='Delimiter'>; 
</span><a name="LN2318"></a>    <a href="../../include/fmgr.h.html#LN76"><span class='Ref_to_Struct'>FunctionCallInfoData</span></a> <span class='Declare_Local'>locfcinfo</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* NULL array -&GT; NULL result */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN2317"><span class='Ref_To_Local'>arraydatum</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If it's binary-compatible, modify the element type in the array header, 
     * but otherwise leave the array as we received it. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2316"><span class='Ref_To_Local'>acoerce</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN833"><span class='Ref_to_Member'>elemfuncid</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Detoast input array if necessary, and copy in any case */ 
</span><a name="LN2333"></a>        <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>array</span> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN242"><span class='Ref_to_Macro'>DatumGetArrayTypePCopy</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2317"><span class='Ref_To_Local'>arraydatum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2333"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>) </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arraycoerce<span class='Operator'>.</span>resultelemtype<span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2333"><span class='Ref_To_Local'>array</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Use array_map to apply the function to each array element. 
     * 
     * We pass on the desttypmod and isExplicit flags whether or not the 
     * function wants them. 
     * 
     * Note: coercion functions are assumed to not use collation. 
     */ 
</span>    <a href="../../include/fmgr.h.html#LN119"><span class='Ref_to_Macro'>InitFunctionCallInfoData</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arraycoerce<span class='Operator'>.</span>elemfunc<span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, 
</span>                             <a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2317"><span class='Ref_To_Local'>arraydatum</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2316"><span class='Ref_To_Local'>acoerce</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN835"><span class='Ref_to_Member'>resulttypmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2316"><span class='Ref_To_Local'>acoerce</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN837"><span class='Ref_to_Member'>isExplicit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Operator'>.</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN362"><span class='Ref_to_Proto'>array_map</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN2318"><span class='Ref_To_Local'>locfcinfo</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arraycoerce<span class='Operator'>.</span>resultelemtype<span class='Delimiter'>, 
</span>                              <a href="execExprInterp.c.html#LN2314"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arraycoerce<span class='Operator'>.</span>amstate<span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalArrayCoerce &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a ROW() expression. 
 * 
 * The individual columns have already been evaluated into 
 * op-&GT;d.row.elemvalues[]/elemnulls[]. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2368"></a><span class='Declare_Function'>ExecEvalRow</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2370"></a>    <a href="../../include/access/htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a>   <span class='Declare_Local'>tuple</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* build tuple from evaluated field values */ 
</span>    <a href="execExprInterp.c.html#LN2370"><span class='Ref_To_Local'>tuple</span></a> <span class='Operator'>= </span><a href="../access/common/heaptuple.c.html#LN690"><span class='Ref_to_Func'>heap_form_tuple</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2368"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>row<span class='Operator'>.</span>tupdesc<span class='Delimiter'>, 
</span>                            <a href="execExprInterp.c.html#LN2368"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>row<span class='Operator'>.</span>elemvalues<span class='Delimiter'>, 
</span>                            <a href="execExprInterp.c.html#LN2368"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>row<span class='Operator'>.</span>elemnulls<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2368"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/funcapi.h.html#LN221"><span class='Ref_to_Macro'>HeapTupleGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2370"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2368"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate GREATEST() or LEAST() expression (note this is *not* MIN()/MAX()). 
 * 
 * All of the to-be-compared expressions have already been evaluated into 
 * op-&GT;d.minmax.values[]/nulls[]. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2388"></a><span class='Declare_Function'>ExecEvalMinMax</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2390"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>values</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>minmax<span class='Operator'>.</span>values<span class='Delimiter'>; 
</span><a name="LN2391"></a>    <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>nulls</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>minmax<span class='Operator'>.</span>nulls<span class='Delimiter'>; 
</span><a name="LN2392"></a>    <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>minmax<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span><a name="LN2393"></a>    <a href="../../include/nodes/primnodes.h.html#LN1052"><span class='Ref_to_Enum'>MinMaxOp</span></a>    <span class='Declare_Local'>operator</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>minmax<span class='Operator'>.</span>op<span class='Delimiter'>; 
</span><a name="LN2394"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>off</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* set at initialization */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* default to null result */ 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>minmax<span class='Operator'>.</span>nelems<span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* ignore NULL inputs */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2391"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* first nonnull input, adopt value */ 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2390"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>]; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN2417"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>cmpresult</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* apply comparison function */ 
</span>            <a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2390"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>]; 
</span> 
            <a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2417"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN477"><span class='Ref_to_Macro'>DatumGetInt32</span></a><span class='Parentheses'>(</span><a href="../../include/fmgr.h.html#LN136"><span class='Ref_to_Macro'>FunctionCallInvoke</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2392"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Parentheses'>) </span><span class='Comment_Single_Line'>/* probably should not happen */ 
</span>                <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2417"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><span class='Keyword'>operator </span><span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1055"><span class='Ref_to_EnumConst'>IS_LEAST</span></a><span class='Parentheses'>) 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2390"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>]; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2417"><span class='Ref_To_Local'>cmpresult</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><span class='Keyword'>operator </span><span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1054"><span class='Ref_to_EnumConst'>IS_GREATEST</span></a><span class='Parentheses'>) 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2388"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2390"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2394"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>]; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for off=0;off&LT;op-&GT;d.minma... &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ExecEvalMinMax &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a FieldSelect node. 
 * 
 * Source record is in step's result variable. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2442"></a><span class='Declare_Function'>ExecEvalFieldSelect</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2444"></a>    <a href="../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a>  <span class='Declare_Local'>fieldnum</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldselect<span class='Operator'>.</span>fieldnum<span class='Delimiter'>; 
</span><a name="LN2445"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>tupDatum</span><span class='Delimiter'>; 
</span><a name="LN2446"></a>    <a href="../../include/access/htup.h.html#LN22"><span class='Ref_to_Typedef'>HeapTupleHeader</span></a> <span class='Declare_Local'>tuple</span><span class='Delimiter'>; 
</span><a name="LN2447"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>tupType</span><span class='Delimiter'>; 
</span><a name="LN2448"></a>    <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>tupTypmod</span><span class='Delimiter'>; 
</span><a name="LN2449"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupDesc</span><span class='Delimiter'>; 
</span><a name="LN2450"></a>    <a href="../../include/catalog/pg_attribute.h.html#LN186"><span class='Ref_to_Typedef'>Form_pg_attribute</span></a> <span class='Declare_Local'>attr</span><span class='Delimiter'>; 
</span><a name="LN2451"></a>    <a href="../../include/access/htup.h.html#LN61"><span class='Ref_to_Struct'>HeapTupleData</span></a> <span class='Declare_Local'>tmptup</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* NULL record -&GT; NULL result */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get the composite datum and extract its type fields */ 
</span>    <a href="execExprInterp.c.html#LN2445"><span class='Ref_To_Local'>tupDatum</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2446"><span class='Ref_To_Local'>tuple</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN258"><span class='Ref_to_Macro'>DatumGetHeapTupleHeader</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2445"><span class='Ref_To_Local'>tupDatum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN2447"><span class='Ref_To_Local'>tupType</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN444"><span class='Ref_to_Macro'>HeapTupleHeaderGetTypeId</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2446"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2448"><span class='Ref_To_Local'>tupTypmod</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN454"><span class='Ref_to_Macro'>HeapTupleHeaderGetTypMod</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2446"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Lookup tupdesc if first time through or if type changes */ 
</span>    <a href="execExprInterp.c.html#LN2449"><span class='Ref_To_Local'>tupDesc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN134"><span class='Ref_to_Proto'>get_cached_rowtype</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2447"><span class='Ref_To_Local'>tupType</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2448"><span class='Ref_To_Local'>tupTypmod</span></a><span class='Delimiter'>, 
</span>                                 <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldselect<span class='Operator'>.</span>argdesc<span class='Delimiter'>, 
</span>                                 <a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Find field's attr record.  Note we don't support system columns here: a 
     * datum tuple doesn't have valid values for most of the interesting 
     * system columns anyway. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span>          <span class='Comment_Single_Line'>/* should never happen */ 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unsupported reference to system column %d in FieldSelect"</span><span class='Delimiter'>, 
</span>             <a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a> <span class='Operator'>&GT; </span><a href="execExprInterp.c.html#LN2449"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>)</span>      <span class='Comment_Single_Line'>/* should never happen */ 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"attribute number %d exceeds number of columns %d"</span><span class='Delimiter'>, 
</span>             <a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2449"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2450"><span class='Ref_To_Local'>attr</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2449"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Check for dropped column, and force a NULL result if so */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2450"><span class='Ref_To_Local'>attr</span></a><span class='Operator'>-&GT;</span>attisdropped<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Check for type mismatch --- possible after ALTER COLUMN TYPE? */ 
</span>    <span class='Comment_Multi_Line'>/* As in CheckVarSlotCompatibility, we should but can't check typmod */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldselect<span class='Operator'>.</span>resulttype <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN2450"><span class='Ref_To_Local'>attr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"attribute %d has wrong type"</span><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"Table has type %s, but query expects %s."</span><span class='Delimiter'>, 
</span>                           <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2450"><span class='Ref_To_Local'>attr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                           <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldselect<span class='Operator'>.</span>resulttype<span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* heap_getattr needs a HeapTuple not a bare HeapTupleHeader */ 
</span>    <a href="execExprInterp.c.html#LN2451"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN63"><span class='Ref_to_Member'>t_len</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN438"><span class='Ref_to_Macro'>HeapTupleHeaderGetDatumLength</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2446"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2451"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN66"><span class='Ref_to_Member'>t_data</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2446"><span class='Ref_To_Local'>tuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* extract the field */ 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN768"><span class='Ref_to_Macro'>heap_getattr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN2451"><span class='Ref_To_Local'>tmptup</span></a><span class='Delimiter'>, 
</span>                                 <a href="execExprInterp.c.html#LN2444"><span class='Ref_To_Local'>fieldnum</span></a><span class='Delimiter'>, 
</span>                                 <a href="execExprInterp.c.html#LN2449"><span class='Ref_To_Local'>tupDesc</span></a><span class='Delimiter'>, 
</span>                                 <a href="execExprInterp.c.html#LN2442"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalFieldSelect &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Deform source tuple, filling in the step's values/nulls arrays, before 
 * evaluating individual new values as part of a FieldStore expression. 
 * Subsequent steps will overwrite individual elements of the values/nulls 
 * arrays with the new field values, and then FIELDSTORE_FORM will build the 
 * new tuple value. 
 * 
 * Source record is in step's result variable. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2520"></a><span class='Declare_Function'>ExecEvalFieldStoreDeForm</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2522"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupDesc</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Lookup tupdesc if first time through or after rescan */ 
</span>    <a href="execExprInterp.c.html#LN2522"><span class='Ref_To_Local'>tupDesc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN134"><span class='Ref_to_Proto'>get_cached_rowtype</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>fstore<span class='Operator'>-&GT;</span>resulttype<span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                                 <a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>argdesc<span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Check that current tupdesc doesn't have more fields than we allocated */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN958"><span class='Ref_to_Macro'>unlikely</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2522"><span class='Ref_To_Local'>tupDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a> <span class='Operator'>&GT; </span><a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>ncolumns<span class='Parentheses'>))</span> 
        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"too many columns in composite type %u"</span><span class='Delimiter'>, 
</span>             <a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>fstore<span class='Operator'>-&GT;</span>resulttype<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Convert null input tuple into an all-nulls row */ 
</span>        memset<span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>nulls<span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>               <a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>ncolumns <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * heap_deform_tuple needs a HeapTuple not a bare HeapTupleHeader. We 
         * set all the fields in the struct just in case. 
         */ 
</span><a name="LN2545"></a>        <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>tupDatum</span> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span><a name="LN2546"></a>        <a href="../../include/access/htup.h.html#LN22"><span class='Ref_to_Typedef'>HeapTupleHeader</span></a> <span class='Declare_Local'>tuphdr</span><span class='Delimiter'>; 
</span><a name="LN2547"></a>        <a href="../../include/access/htup.h.html#LN61"><span class='Ref_to_Struct'>HeapTupleData</span></a> <span class='Declare_Local'>tmptup</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN2546"><span class='Ref_To_Local'>tuphdr</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN258"><span class='Ref_to_Macro'>DatumGetHeapTupleHeader</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2545"><span class='Ref_To_Local'>tupDatum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2547"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN63"><span class='Ref_to_Member'>t_len</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN438"><span class='Ref_to_Macro'>HeapTupleHeaderGetDatumLength</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2546"><span class='Ref_To_Local'>tuphdr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/storage/itemptr.h.html#LN148"><span class='Ref_to_Macro'>ItemPointerSetInvalid</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2547"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN64"><span class='Ref_to_Member'>t_self</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2547"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN65"><span class='Ref_to_Member'>t_tableOid</span></a> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2547"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN66"><span class='Ref_to_Member'>t_data</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2546"><span class='Ref_To_Local'>tuphdr</span></a><span class='Delimiter'>; 
</span> 
        <a href="../../include/access/htup_details.h.html#LN813"><span class='Ref_to_Proto'>heap_deform_tuple</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN2547"><span class='Ref_To_Local'>tmptup</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2522"><span class='Ref_To_Local'>tupDesc</span></a><span class='Delimiter'>, 
</span>                          <a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>values<span class='Delimiter'>, 
</span>                          <a href="execExprInterp.c.html#LN2520"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>nulls<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ExecEvalFieldStoreDeForm &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Compute the new composite datum after each individual field value of a 
 * FieldStore expression has been evaluated. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2566"></a><span class='Declare_Function'>ExecEvalFieldStoreForm</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2568"></a>    <a href="../../include/access/htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a>   <span class='Declare_Local'>tuple</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* argdesc should already be valid from the DeForm step */ 
</span>    <a href="execExprInterp.c.html#LN2568"><span class='Ref_To_Local'>tuple</span></a> <span class='Operator'>= </span><a href="../access/common/heaptuple.c.html#LN690"><span class='Ref_to_Func'>heap_form_tuple</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2566"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>argdesc<span class='Delimiter'>, 
</span>                            <a href="execExprInterp.c.html#LN2566"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>values<span class='Delimiter'>, 
</span>                            <a href="execExprInterp.c.html#LN2566"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>fieldstore<span class='Operator'>.</span>nulls<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2566"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/funcapi.h.html#LN221"><span class='Ref_to_Macro'>HeapTupleGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2568"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2566"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Process a subscript in an ArrayRef expression. 
 * 
 * If subscript is NULL, throw error in assignment case, or in fetch case 
 * set result to NULL and return false (instructing caller to skip the rest 
 * of the ArrayRef sequence). 
 * 
 * Subscript expression result is in subscriptvalue/subscriptnull. 
 * On success, integer subscript value has been saved in upperindex[] or 
 * lowerindex[] for use later. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN2591"></a><span class='Declare_Function'>ExecEvalArrayRefSubscript</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2593"></a>    <a href="../../include/executor/execExpr.h.html#LN567"><span class='Ref_to_Struct'>ArrayRefState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>arefstate</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2591"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref_subscript<span class='Operator'>.</span>state<span class='Delimiter'>; 
</span><a name="LN2594"></a>    <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>indexes</span><span class='Delimiter'>; 
</span><a name="LN2595"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>off</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* If any index expr yields NULL, result is NULL or error */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2593"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN590"><span class='Ref_to_Member'>subscriptnull</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2593"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN569"><span class='Ref_to_Member'>isassignment</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NULL_VALUE_NOT_ALLOWED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"array subscript in assignment must not be null"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2591"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Convert datum to int, save in appropriate place */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2591"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref_subscript<span class='Operator'>.</span>isupper<span class='Parentheses'>) 
</span>        <a href="execExprInterp.c.html#LN2594"><span class='Ref_To_Local'>indexes</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2593"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="execExprInterp.c.html#LN2594"><span class='Ref_To_Local'>indexes</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2593"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN586"><span class='Ref_to_Member'>lowerindex</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2595"><span class='Ref_To_Local'>off</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2591"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref_subscript<span class='Operator'>.</span>off<span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN2594"><span class='Ref_To_Local'>indexes</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN2595"><span class='Ref_To_Local'>off</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/postgres.h.html#LN477"><span class='Ref_to_Macro'>DatumGetInt32</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2593"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN589"><span class='Ref_to_Member'>subscriptvalue</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalArrayRefSubscript &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate ArrayRef fetch. 
 * 
 * Source array is in step's result variable. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2626"></a><span class='Declare_Function'>ExecEvalArrayRefFetch</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2628"></a>    <a href="../../include/executor/execExpr.h.html#LN567"><span class='Ref_to_Struct'>ArrayRefState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>arefstate</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref<span class='Operator'>.</span>state<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Should not get here if source array (or any subscript) is null */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN584"><span class='Ref_to_Member'>numlower</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Scalar case */ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN339"><span class='Ref_to_Proto'>array_get_element</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN579"><span class='Ref_to_Member'>numupper</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN573"><span class='Ref_to_Member'>refelemlength</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN574"><span class='Ref_to_Member'>refelembyval</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN575"><span class='Ref_to_Member'>refelemalign</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Slice case */ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN345"><span class='Ref_to_Proto'>array_get_slice</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2626"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN579"><span class='Ref_to_Member'>numupper</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN586"><span class='Ref_to_Member'>lowerindex</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN580"><span class='Ref_to_Member'>upperprovided</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN585"><span class='Ref_to_Member'>lowerprovided</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN573"><span class='Ref_to_Member'>refelemlength</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN574"><span class='Ref_to_Member'>refelembyval</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2628"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN575"><span class='Ref_to_Member'>refelemalign</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalArrayRefFetch &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Compute old array element/slice value for an ArrayRef assignment 
 * expression.  Will only be generated if the new-value subexpression 
 * contains ArrayRef or FieldStore.  The value is stored into the 
 * ArrayRefState's prevvalue/prevnull fields. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2668"></a><span class='Declare_Function'>ExecEvalArrayRefOld</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2670"></a>    <a href="../../include/executor/execExpr.h.html#LN567"><span class='Ref_to_Struct'>ArrayRefState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>arefstate</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2668"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref<span class='Operator'>.</span>state<span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2668"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* whole array is null, so any element or slice is too */ 
</span>        <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN597"><span class='Ref_to_Member'>prevvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN598"><span class='Ref_to_Member'>prevnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN584"><span class='Ref_to_Member'>numlower</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Scalar case */ 
</span>        <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN597"><span class='Ref_to_Member'>prevvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN339"><span class='Ref_to_Proto'>array_get_element</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2668"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN579"><span class='Ref_to_Member'>numupper</span></a><span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a><span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN573"><span class='Ref_to_Member'>refelemlength</span></a><span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN574"><span class='Ref_to_Member'>refelembyval</span></a><span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN575"><span class='Ref_to_Member'>refelemalign</span></a><span class='Delimiter'>, 
</span>                                                 <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN598"><span class='Ref_to_Member'>prevnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Slice case */ 
</span>        <span class='Comment_Multi_Line'>/* this is currently unreachable */ 
</span>        <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN597"><span class='Ref_to_Member'>prevvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN345"><span class='Ref_to_Proto'>array_get_slice</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2668"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN579"><span class='Ref_to_Member'>numupper</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN586"><span class='Ref_to_Member'>lowerindex</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN580"><span class='Ref_to_Member'>upperprovided</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN585"><span class='Ref_to_Member'>lowerprovided</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN573"><span class='Ref_to_Member'>refelemlength</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN574"><span class='Ref_to_Member'>refelembyval</span></a><span class='Delimiter'>, 
</span>                                               <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN575"><span class='Ref_to_Member'>refelemalign</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2670"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN598"><span class='Ref_to_Member'>prevnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalArrayRefOld &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate ArrayRef assignment. 
 * 
 * Input array (possibly null) is in result area, replacement value is in 
 * ArrayRefState's replacevalue/replacenull. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2715"></a><span class='Declare_Function'>ExecEvalArrayRefAssign</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2717"></a>    <a href="../../include/executor/execExpr.h.html#LN567"><span class='Ref_to_Struct'>ArrayRefState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>arefstate</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>arrayref<span class='Operator'>.</span>state<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * For an assignment to a fixed-length array type, both the original array 
     * and the value to be assigned into it must be non-NULL, else we punt and 
     * return the original array. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span>   <span class='Comment_Single_Line'>/* fixed-length array? */ 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>|| </span><a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN594"><span class='Ref_to_Member'>replacenull</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * For assignment to varlena arrays, we handle a NULL original array by 
     * substituting an empty (zero-dimensional) array; insertion of the new 
     * element will result in a singleton array value.  It does not matter 
     * whether the new element is NULL. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN378"><span class='Ref_to_Proto'>construct_empty_array</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN571"><span class='Ref_to_Member'>refelemtype</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN584"><span class='Ref_to_Member'>numlower</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Scalar case */ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN342"><span class='Ref_to_Proto'>array_set_element</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN579"><span class='Ref_to_Member'>numupper</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN593"><span class='Ref_to_Member'>replacevalue</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN594"><span class='Ref_to_Member'>replacenull</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN573"><span class='Ref_to_Member'>refelemlength</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN574"><span class='Ref_to_Member'>refelembyval</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN575"><span class='Ref_to_Member'>refelemalign</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Slice case */ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN349"><span class='Ref_to_Proto'>array_set_slice</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2715"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN579"><span class='Ref_to_Member'>numupper</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN581"><span class='Ref_to_Member'>upperindex</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN586"><span class='Ref_to_Member'>lowerindex</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN580"><span class='Ref_to_Member'>upperprovided</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN585"><span class='Ref_to_Member'>lowerprovided</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN593"><span class='Ref_to_Member'>replacevalue</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN594"><span class='Ref_to_Member'>replacenull</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN572"><span class='Ref_to_Member'>refattrlength</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN573"><span class='Ref_to_Member'>refelemlength</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN574"><span class='Ref_to_Member'>refelembyval</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN2717"><span class='Ref_To_Local'>arefstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN575"><span class='Ref_to_Member'>refelemalign</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalArrayRefAssign &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a rowtype coercion operation. 
 * This may require rearranging field positions. 
 * 
 * Source record is in step's result variable. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2780"></a><span class='Declare_Function'>ExecEvalConvertRowtype</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2782"></a>    <a href="../../include/nodes/primnodes.h.html#LN854"><span class='Ref_to_Struct'>ConvertRowtypeExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>convert</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>convert<span class='Delimiter'>; 
</span><a name="LN2783"></a>    <a href="../../include/access/htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a>   <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2784"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>tupDatum</span><span class='Delimiter'>; 
</span><a name="LN2785"></a>    <a href="../../include/access/htup.h.html#LN22"><span class='Ref_to_Typedef'>HeapTupleHeader</span></a> <span class='Declare_Local'>tuple</span><span class='Delimiter'>; 
</span><a name="LN2786"></a>    <a href="../../include/access/htup.h.html#LN61"><span class='Ref_to_Struct'>HeapTupleData</span></a> <span class='Declare_Local'>tmptup</span><span class='Delimiter'>; 
</span><a name="LN2787"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>indesc</span><span class='Delimiter'>, 
</span><a name="LN2788"></a>                <span class='Declare_Local'>outdesc</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* NULL in -&GT; NULL out */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <a href="execExprInterp.c.html#LN2784"><span class='Ref_To_Local'>tupDatum</span></a> <span class='Operator'>= *</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2785"><span class='Ref_To_Local'>tuple</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN258"><span class='Ref_to_Macro'>DatumGetHeapTupleHeader</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2784"><span class='Ref_To_Local'>tupDatum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Lookup tupdescs if first time through or after rescan */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>indesc <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="execExprInterp.c.html#LN134"><span class='Ref_to_Proto'>get_cached_rowtype</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="execExprInterp.c.html#LN2782"><span class='Ref_To_Local'>convert</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN857"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                           <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>indesc<span class='Delimiter'>, 
</span>                           <a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>initialized <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>outdesc <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="execExprInterp.c.html#LN134"><span class='Ref_to_Proto'>get_cached_rowtype</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2782"><span class='Ref_To_Local'>convert</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN858"><span class='Ref_to_Member'>resulttype</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                           <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>outdesc<span class='Delimiter'>, 
</span>                           <a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>initialized <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="execExprInterp.c.html#LN2787"><span class='Ref_To_Local'>indesc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>indesc<span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2788"><span class='Ref_To_Local'>outdesc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>outdesc<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We used to be able to assert that incoming tuples are marked with 
     * exactly the rowtype of indesc.  However, now that ExecEvalWholeRowVar 
     * might change the tuples' marking to plain RECORD due to inserting 
     * aliases, we can only make this weak test: 
     */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/access/htup_details.h.html#LN444"><span class='Ref_to_Macro'>HeapTupleHeaderGetTypeId</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2785"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="execExprInterp.c.html#LN2787"><span class='Ref_To_Local'>indesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN76"><span class='Ref_to_Member'>tdtypeid</span></a> <span class='Operator'>|| 
</span>           <a href="../../include/access/htup_details.h.html#LN444"><span class='Ref_to_Macro'>HeapTupleHeaderGetTypeId</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2785"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../include/catalog/pg_type.h.html#LN679"><span class='Ref_to_Const'>RECORDOID</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* if first time through, initialize conversion map */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>initialized<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2828"></a>        <a href="../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>old_cxt</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* allocate map in long-lived memory context */ 
</span>        <a href="execExprInterp.c.html#LN2828"><span class='Ref_To_Local'>old_cxt</span></a> <span class='Operator'>= </span><a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN201"><span class='Ref_to_Member'>ecxt_per_query_memory</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* prepare map from old to new attribute numbers */ 
</span>        <a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>map <span class='Operator'>= 
</span>            <a href="../../include/access/tupconvert.h.html#LN36"><span class='Ref_to_Proto'>convert_tuples_by_name</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2787"><span class='Ref_To_Local'>indesc</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2788"><span class='Ref_To_Local'>outdesc</span></a><span class='Delimiter'>, 
</span>                                 <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"could not convert row type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>initialized <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2828"><span class='Ref_To_Local'>old_cxt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Following steps need a HeapTuple not a bare HeapTupleHeader */ 
</span>    <a href="execExprInterp.c.html#LN2786"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN63"><span class='Ref_to_Member'>t_len</span></a> <span class='Operator'>= </span><a href="../../include/access/htup_details.h.html#LN438"><span class='Ref_to_Macro'>HeapTupleHeaderGetDatumLength</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2785"><span class='Ref_To_Local'>tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2786"><span class='Ref_To_Local'>tmptup</span></a><span class='Operator'>.</span><a href="../../include/access/htup.h.html#LN66"><span class='Ref_to_Member'>t_data</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2785"><span class='Ref_To_Local'>tuple</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>map <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Full conversion with attribute rearrangement needed */ 
</span>        <a href="execExprInterp.c.html#LN2783"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/access/tupconvert.h.html#LN44"><span class='Ref_to_Proto'>do_convert_tuple</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN2786"><span class='Ref_To_Local'>tmptup</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>convert_rowtype<span class='Operator'>.</span>map<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* Result already has appropriate composite-datum header fields */ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/funcapi.h.html#LN221"><span class='Ref_to_Macro'>HeapTupleGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2783"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * The tuple is physically compatible as-is, but we need to insert the 
         * destination rowtype OID in its composite-datum header field, so we 
         * have to copy it anyway.  heap_copy_tuple_as_datum() is convenient 
         * for this since it will both make the physical copy and insert the 
         * correct composite header fields.  Note that we aren't expecting to 
         * have to flatten any toasted fields: the input was a composite 
         * datum, so it shouldn't contain any.  So heap_copy_tuple_as_datum() 
         * is overkill here, but its check for external fields is cheap. 
         */ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2780"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../access/common/heaptuple.c.html#LN654"><span class='Ref_to_Func'>heap_copy_tuple_as_datum</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN2786"><span class='Ref_To_Local'>tmptup</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2788"><span class='Ref_To_Local'>outdesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalConvertRowtype &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate "scalar op ANY/ALL (array)". 
 * 
 * Source array is in our result area, scalar arg is already evaluated into 
 * fcinfo-&GT;arg[0]/argnull[0]. 
 * 
 * The operator always yields boolean, and we combine the results across all 
 * array elements using OR and AND (for ANY and ALL respectively).  Of course 
 * we short-circuit as soon as the result is known. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN2880"></a><span class='Declare_Function'>ExecEvalScalarArrayOp</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2882"></a>    <a href="../../include/fmgr.h.html#LN37"><span class='Ref_to_Typedef'>FunctionCallInfo</span></a> <span class='Declare_Local'>fcinfo</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>fcinfo_data<span class='Delimiter'>; 
</span><a name="LN2883"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>useOr</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>useOr<span class='Delimiter'>; 
</span><a name="LN2884"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>strictfunc</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>finfo<span class='Operator'>-&GT;</span>fn_strict<span class='Delimiter'>; 
</span><a name="LN2885"></a>    <a href="../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>arr</span><span class='Delimiter'>; 
</span><a name="LN2886"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nitems</span><span class='Delimiter'>; 
</span><a name="LN2887"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2888"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>resultnull</span><span class='Delimiter'>; 
</span><a name="LN2889"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN2890"></a>    <a href="../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a>       <span class='Declare_Local'>typlen</span><span class='Delimiter'>; 
</span><a name="LN2891"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>typbyval</span><span class='Delimiter'>; 
</span><a name="LN2892"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>typalign</span><span class='Delimiter'>; 
</span><a name="LN2893"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>s</span><span class='Delimiter'>; 
</span><a name="LN2894"></a>    <a href="../../include/c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>bitmap</span><span class='Delimiter'>; 
</span><a name="LN2895"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>bitmask</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If the array is NULL then we return NULL --- it's not very meaningful 
     * to do anything else, even if the operator isn't strict. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Else okay to fetch and detoast the array */ 
</span>    <a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN241"><span class='Ref_to_Macro'>DatumGetArrayTypeP</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If the array is empty, we return either FALSE or TRUE per the useOr 
     * flag.  This is correct even if the scalar is NULL; since we would 
     * evaluate the operator zero times, it matters not whether it would want 
     * to return NULL. 
     */ 
</span>    <a href="execExprInterp.c.html#LN2886"><span class='Ref_To_Local'>nitems</span></a> <span class='Operator'>= </span><a href="../utils/adt/arrayutils.c.html#LN73"><span class='Ref_to_Func'>ArrayGetNItems</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN270"><span class='Ref_to_Macro'>ARR_NDIM</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/utils/array.h.html#LN274"><span class='Ref_to_Macro'>ARR_DIMS</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2886"><span class='Ref_To_Local'>nitems</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN2883"><span class='Ref_To_Local'>useOr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If the scalar is NULL, and the function is strict, return NULL; no 
     * point in iterating the loop. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&& </span><a href="execExprInterp.c.html#LN2884"><span class='Ref_To_Local'>strictfunc</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We arrange to look up info about the element type only once per series 
     * of calls, assuming the element type doesn't change underneath us. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>element_type <span class='Operator'>!= </span><a href="../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/utils/lsyscache.h.html#LN136"><span class='Ref_to_Proto'>get_typlenbyvalalign</span></a><span class='Parentheses'>(</span><a href="../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>typlen<span class='Delimiter'>, 
</span>                             <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>typbyval<span class='Delimiter'>, 
</span>                             <span class='Operator'>&</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>typalign<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>element_type <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="execExprInterp.c.html#LN2890"><span class='Ref_To_Local'>typlen</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>typlen<span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2891"><span class='Ref_To_Local'>typbyval</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>typbyval<span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2892"><span class='Ref_To_Local'>typalign</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>typalign<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Initialize result appropriately depending on useOr */ 
</span>    <a href="execExprInterp.c.html#LN2887"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN2883"><span class='Ref_To_Local'>useOr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2888"><span class='Ref_To_Local'>resultnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Loop over the array elements */ 
</span>    <a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/utils/array.h.html#LN302"><span class='Ref_to_Macro'>ARR_DATA_PTR</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2894"><span class='Ref_To_Local'>bitmap</span></a> <span class='Operator'>= </span><a href="../../include/utils/array.h.html#LN280"><span class='Ref_to_Macro'>ARR_NULLBITMAP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2885"><span class='Ref_To_Local'>arr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN2895"><span class='Ref_To_Local'>bitmask</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2889"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2889"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN2886"><span class='Ref_To_Local'>nitems</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN2889"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2959"></a>        <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>elt</span><span class='Delimiter'>; 
</span><a name="LN2960"></a>        <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>thisresult</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Get array element, checking for NULL */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2894"><span class='Ref_To_Local'>bitmap</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN2894"><span class='Ref_To_Local'>bitmap</span></a> <span class='Operator'>& </span><a href="execExprInterp.c.html#LN2895"><span class='Ref_To_Local'>bitmask</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2959"><span class='Ref_To_Local'>elt</span></a> <span class='Operator'>= </span><a href="../../include/access/tupmacs.h.html#LN43"><span class='Ref_to_Macro'>fetch_att</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2891"><span class='Ref_To_Local'>typbyval</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2890"><span class='Ref_To_Local'>typlen</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="../../include/access/tupmacs.h.html#LN171"><span class='Ref_to_Macro'>att_addlength_pointer</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2890"><span class='Ref_To_Local'>typlen</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/access/tupmacs.h.html#LN143"><span class='Ref_to_Macro'>att_align_nominal</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2893"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN2892"><span class='Ref_To_Local'>typalign</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN84"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN2959"><span class='Ref_To_Local'>elt</span></a><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* Call comparison function */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN85"><span class='Ref_to_Member'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>&& </span><a href="execExprInterp.c.html#LN2884"><span class='Ref_To_Local'>strictfunc</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2960"><span class='Ref_To_Local'>thisresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN2960"><span class='Ref_To_Local'>thisresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>scalararrayop<span class='Operator'>.</span>fn_addr<span class='Parentheses'>) (</span><a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* Combine results per OR or AND semantics */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2882"><span class='Ref_To_Local'>fcinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/fmgr.h.html#LN82"><span class='Ref_to_Member'>isnull</span></a><span class='Parentheses'>) 
</span>            <a href="execExprInterp.c.html#LN2888"><span class='Ref_To_Local'>resultnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2883"><span class='Ref_To_Local'>useOr</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2960"><span class='Ref_To_Local'>thisresult</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN2887"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN2888"><span class='Ref_To_Local'>resultnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* needn't look at any more elements */ 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2960"><span class='Ref_To_Local'>thisresult</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN2887"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN2888"><span class='Ref_To_Local'>resultnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* needn't look at any more elements */ 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* advance bitmap pointer if any */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2894"><span class='Ref_To_Local'>bitmap</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="execExprInterp.c.html#LN2895"><span class='Ref_To_Local'>bitmask</span></a> <span class='Operator'>&LT;&LT;= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN2895"><span class='Ref_To_Local'>bitmask</span></a> <span class='Operator'>== </span><span class='Number'>0x100</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="execExprInterp.c.html#LN2894"><span class='Ref_To_Local'>bitmap</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN2895"><span class='Ref_To_Local'>bitmask</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;nitems;i++ &raquo; </span> 
 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2887"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN2880"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN2888"><span class='Ref_To_Local'>resultnull</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalScalarArrayOp &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a NOT NULL domain constraint. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3031"></a><span class='Declare_Function'>ExecEvalConstraintNotNull</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN3031"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NOT_NULL_VIOLATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"domain %s does not allow null values"</span><span class='Delimiter'>, 
</span>                        <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3031"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>resulttype<span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                 <a href="../../include/utils/builtins.h.html#LN28"><span class='Ref_to_Proto'>errdatatype</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3031"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>resulttype<span class='Parentheses'>)))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a CHECK domain constraint. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3045"></a><span class='Declare_Function'>ExecEvalConstraintCheck</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="execExprInterp.c.html#LN3045"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>checknull <span class='Operator'>&& 
</span>        <span class='Operator'>!</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="execExprInterp.c.html#LN3045"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>checkvalue<span class='Parentheses'>))</span> 
        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_CHECK_VIOLATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>               <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"value for domain %s violates check constraint \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3045"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>resulttype<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="execExprInterp.c.html#LN3045"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>constraintname<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../include/utils/builtins.h.html#LN29"><span class='Ref_to_Proto'>errdomainconstraint</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3045"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>resulttype<span class='Delimiter'>, 
</span>                                     <a href="execExprInterp.c.html#LN3045"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>domaincheck<span class='Operator'>.</span>constraintname<span class='Parentheses'>)))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate the various forms of XmlExpr. 
 * 
 * Arguments have been evaluated into named_argvalue/named_argnull 
 * and/or argvalue/argnull arrays. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3065"></a><span class='Declare_Function'>ExecEvalXmlExpr</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3067"></a>    <a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>xexpr</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>xexpr<span class='Delimiter'>; 
</span><a name="LN3068"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>value</span><span class='Delimiter'>; 
</span><a name="LN3069"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* until we get a result */ 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1121"><span class='Ref_to_EnumConst'>IS_XMLCONCAT</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3078"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>argvalue</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>; 
</span><a name="LN3079"></a>                <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Delimiter'>; 
</span><a name="LN3080"></a>                <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>values</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN3079"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                        <a href="execExprInterp.c.html#LN3080"><span class='Ref_To_Local'>values</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3080"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><a href="../../include/postgres.h.html#LN554"><span class='Ref_to_Macro'>DatumGetPointer</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3078"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3080"><span class='Ref_To_Local'>values</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN62"><span class='Ref_to_Proto'>xmlconcat</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3080"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1123"><span class='Ref_to_EnumConst'>IS_XMLFOREST</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3098"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>argvalue</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>named_argvalue<span class='Delimiter'>; 
</span><a name="LN3099"></a>                <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>named_argnull<span class='Delimiter'>; 
</span><a name="LN3100"></a>                <a href="../../include/lib/stringinfo.h.html#LN34"><span class='Ref_to_Struct'>StringInfoData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3101"></a>                <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span><a name="LN3102"></a>                <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc2</span><span class='Delimiter'>; 
</span> 
                <a href="../lib/stringinfo.c.html#LN44"><span class='Ref_to_Func'>initStringInfo</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN3100"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <a href="../../include/nodes/pg_list.h.html#LN179"><span class='Ref_to_Macro'>forboth</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3101"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1142"><span class='Ref_to_Member'>named_args</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3102"><span class='Ref_To_Local'>lc2</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1143"><span class='Ref_to_Member'>arg_names</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN3109"></a>                    <a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3101"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3110"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>argname</span> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3102"><span class='Ref_To_Local'>lc2</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN3099"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Keyword'>value </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN3098"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>                        <a href="../../bin/pg_waldump/compat.c.html#LN69"><span class='Ref_to_Func'>appendStringInfo</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="execExprInterp.c.html#LN3100"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;%s&GT;%s&LT;/%s&GT;"</span><span class='Delimiter'>, 
</span>                                         <a href="execExprInterp.c.html#LN3110"><span class='Ref_To_Local'>argname</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../include/utils/xml.h.html#LN75"><span class='Ref_to_Proto'>map_sql_value_to_xml_value</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, 
</span>                                                 <a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="execExprInterp.c.html#LN3109"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                         <a href="execExprInterp.c.html#LN3110"><span class='Ref_To_Local'>argname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="execExprInterp.c.html#LN3069"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN3127"></a>                    <a href="../../../contrib/seg/segparse.y.html#LN46"><span class='Ref_to_Global_Var'>text</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="execExprInterp.c.html#LN3127"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/utils/builtins.h.html#LN86"><span class='Ref_to_Proto'>cstring_to_text_with_len</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3100"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../include/lib/stringinfo.h.html#LN36"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3100"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../include/lib/stringinfo.h.html#LN37"><span class='Ref_to_Member'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3127"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3100"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../include/lib/stringinfo.h.html#LN36"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1122"><span class='Ref_to_EnumConst'>IS_XMLELEMENT</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN63"><span class='Ref_to_Proto'>xmlelement</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Delimiter'>, 
</span>                                                <a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>named_argvalue<span class='Delimiter'>, 
</span>                                                 <a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>named_argnull<span class='Delimiter'>, 
</span>                                                       <a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>, 
</span>                                                     <a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1124"><span class='Ref_to_EnumConst'>IS_XMLPARSE</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3148"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>argvalue</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>; 
</span><a name="LN3149"></a>                <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Delimiter'>; 
</span><a name="LN3150"></a>                <a href="../../../contrib/seg/segparse.y.html#LN46"><span class='Ref_to_Global_Var'>text</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>data</span><span class='Delimiter'>; 
</span><a name="LN3151"></a>                <span class='Keyword'>bool</span>        <span class='Declare_Local'>preserve_whitespace</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* arguments are known to be text, bool */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3149"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <span class='Keyword'>value </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN3148"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <a href="execExprInterp.c.html#LN3150"><span class='Ref_To_Local'>data</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN255"><span class='Ref_to_Macro'>DatumGetTextPP</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3149"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Comment_Single_Line'>/* probably can't happen */ 
</span>                    <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <span class='Keyword'>value </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN3148"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>                <a href="execExprInterp.c.html#LN3151"><span class='Ref_To_Local'>preserve_whitespace</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN66"><span class='Ref_to_Proto'>xmlparse</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3150"><span class='Ref_To_Local'>data</span></a><span class='Delimiter'>, 
</span>                                                         <a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1145"><span class='Ref_to_Member'>xmloption</span></a><span class='Delimiter'>, 
</span>                                                       <a href="execExprInterp.c.html#LN3151"><span class='Ref_To_Local'>preserve_whitespace</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1125"><span class='Ref_to_EnumConst'>IS_XMLPI</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3175"></a>                <a href="../../../contrib/seg/segparse.y.html#LN46"><span class='Ref_to_Global_Var'>text</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span><span class='Delimiter'>; 
</span><a name="LN3176"></a>                <span class='Keyword'>bool</span>        <span class='Declare_Local'>isnull</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* optional argument is known to be text */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;= </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="execExprInterp.c.html#LN3176"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3176"><span class='Ref_To_Local'>isnull</span></a><span class='Parentheses'>) 
</span>                        <a href="execExprInterp.c.html#LN3175"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="execExprInterp.c.html#LN3175"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN255"><span class='Ref_to_Macro'>DatumGetTextPP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="execExprInterp.c.html#LN3175"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                    <a href="execExprInterp.c.html#LN3176"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN67"><span class='Ref_to_Proto'>xmlpi</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1141"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                                      <a href="execExprInterp.c.html#LN3175"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>, 
</span>                                                      <a href="execExprInterp.c.html#LN3176"><span class='Ref_To_Local'>isnull</span></a><span class='Delimiter'>, 
</span>                                                      <a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1126"><span class='Ref_to_EnumConst'>IS_XMLROOT</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3204"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>argvalue</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>; 
</span><a name="LN3205"></a>                <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Delimiter'>; 
</span><a name="LN3206"></a>                <a href="../../include/utils/xml.h.html#LN22"><span class='Ref_to_Typedef'>xmltype</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>data</span><span class='Delimiter'>; 
</span><a name="LN3207"></a>                <a href="../../../contrib/seg/segparse.y.html#LN46"><span class='Ref_to_Global_Var'>text</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>version</span><span class='Delimiter'>; 
</span><a name="LN3208"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>standalone</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* arguments are known to be xml, text, int */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3205"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <a href="execExprInterp.c.html#LN3206"><span class='Ref_To_Local'>data</span></a> <span class='Operator'>= </span><a href="../../include/utils/xml.h.html#LN49"><span class='Ref_to_Macro'>DatumGetXmlP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3204"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3205"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <a href="execExprInterp.c.html#LN3207"><span class='Ref_To_Local'>version</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="execExprInterp.c.html#LN3207"><span class='Ref_To_Local'>version</span></a> <span class='Operator'>= </span><a href="../../include/fmgr.h.html#LN255"><span class='Ref_to_Macro'>DatumGetTextPP</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3204"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN3205"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* always present */ 
</span>                <a href="execExprInterp.c.html#LN3208"><span class='Ref_To_Local'>standalone</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN477"><span class='Ref_to_Macro'>DatumGetInt32</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3204"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN68"><span class='Ref_to_Proto'>xmlroot</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3206"><span class='Ref_To_Local'>data</span></a><span class='Delimiter'>, 
</span>                                                        <a href="execExprInterp.c.html#LN3207"><span class='Ref_To_Local'>version</span></a><span class='Delimiter'>, 
</span>                                                        <a href="execExprInterp.c.html#LN3208"><span class='Ref_To_Local'>standalone</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1127"><span class='Ref_to_EnumConst'>IS_XMLSERIALIZE</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3234"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>argvalue</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>; 
</span><a name="LN3235"></a>                <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* argument type is known to be xml */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3235"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <span class='Keyword'>value </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN3234"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span> 
                                <a href="../../include/utils/xml.h.html#LN70"><span class='Ref_to_Proto'>xmltotext_with_xmloption</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN49"><span class='Ref_to_Macro'>DatumGetXmlP</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                         <a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1145"><span class='Ref_to_Member'>xmloption</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1128"><span class='Ref_to_EnumConst'>IS_DOCUMENT</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3253"></a>                <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>argvalue</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argvalue<span class='Delimiter'>; 
</span><a name="LN3254"></a>                <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Local'>argnull</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>xmlexpr<span class='Operator'>.</span>argnull<span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* optional argument is known to be xml */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3067"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3254"><span class='Ref_To_Local'>argnull</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <span class='Keyword'>value </span><span class='Operator'>= </span><a href="execExprInterp.c.html#LN3253"><span class='Ref_To_Local'>argvalue</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span> 
                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= 
</span>                    <a href="../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN69"><span class='Ref_to_Proto'>xml_is_document</span></a><span class='Parentheses'>(</span><a href="../../include/utils/xml.h.html#LN49"><span class='Ref_to_Macro'>DatumGetXmlP</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3065"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized XML operation"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch xexpr-&GT;op &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ExecEvalXmlExpr &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * ExecEvalGroupingFunc 
 * 
 * Computes a bitmask with a bit for each (unevaluated) argument expression 
 * (rightmost arg is least significant bit). 
 * 
 * A bit is set if the corresponding expression is NOT part of the set of 
 * grouping expressions in the current grouping set. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3285"></a><span class='Declare_Function'>ExecEvalGroupingFunc</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3287"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN3288"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>grouped_cols</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3285"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>grouping_func<span class='Operator'>.</span>parent<span class='Operator'>-&GT;</span>grouped_cols<span class='Delimiter'>; 
</span><a name="LN3289"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3289"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3285"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>grouping_func<span class='Operator'>.</span>clauses<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN3293"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>attnum</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN106"><span class='Ref_to_Macro'>lfirst_int</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3289"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN3287"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT;&LT;= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/nodes/bitmapset.h.html#LN75"><span class='Ref_to_Proto'>bms_is_member</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3293"><span class='Ref_To_Local'>attnum</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3288"><span class='Ref_To_Local'>grouped_cols</span></a><span class='Parentheses'>))</span> 
            <a href="execExprInterp.c.html#LN3287"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>|= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3285"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3287"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3285"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalGroupingFunc &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Hand off evaluation of a subplan to nodeSubplan.c 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3309"></a><span class='Declare_Function'>ExecEvalSubPlan</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3311"></a>    <a href="../../include/nodes/execnodes.h.html#LN731"><span class='Ref_to_Struct'>SubPlanState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sstate</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3309"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>subplan<span class='Operator'>.</span>sstate<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* could potentially be nested, so make sure there's enough stack */ 
</span>    <a href="../../include/miscadmin.h.html#LN275"><span class='Ref_to_Proto'>check_stack_depth</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3309"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/executor/nodeSubplan.h.html#LN22"><span class='Ref_to_Proto'>ExecSubPlan</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3311"><span class='Ref_To_Local'>sstate</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3309"><span class='Ref_to_Parameter'>econtext</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3309"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Hand off evaluation of an alternative subplan to nodeSubplan.c 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3323"></a><span class='Declare_Function'>ExecEvalAlternativeSubPlan</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3325"></a>    <a href="../../include/nodes/execnodes.h.html#LN762"><span class='Ref_to_Struct'>AlternativeSubPlanState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>asstate</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3323"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>alternative_subplan<span class='Operator'>.</span>asstate<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* could potentially be nested, so make sure there's enough stack */ 
</span>    <a href="../../include/miscadmin.h.html#LN275"><span class='Ref_to_Proto'>check_stack_depth</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3323"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/executor/nodeSubplan.h.html#LN24"><span class='Ref_to_Proto'>ExecAlternativeSubPlan</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3325"><span class='Ref_To_Local'>asstate</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3323"><span class='Ref_to_Parameter'>econtext</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3323"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Evaluate a wholerow Var expression. 
 * 
 * Returns a Datum whose value is the value of a whole-row range variable 
 * with respect to given expression context. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3340"></a><span class='Declare_Function'>ExecEvalWholeRowVar</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../../include/executor/execExpr.h.html#LN219"><span class='Ref_to_Struct'>ExprEvalStep</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>econtext</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3342"></a>    <a href="../../include/nodes/primnodes.h.html#LN162"><span class='Ref_to_Struct'>Var</span></a>        <span class='Operator'>*</span><span class='Declare_Local'>variable</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>var<span class='Delimiter'>; 
</span><a name="LN3343"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slot</span><span class='Delimiter'>; 
</span><a name="LN3344"></a>    <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>output_tupdesc</span><span class='Delimiter'>; 
</span><a name="LN3345"></a>    <a href="../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>oldcontext</span><span class='Delimiter'>; 
</span><a name="LN3346"></a>    <a href="../../include/access/htup.h.html#LN22"><span class='Ref_to_Typedef'>HeapTupleHeader</span></a> <span class='Declare_Local'>dtuple</span><span class='Delimiter'>; 
</span><a name="LN3347"></a>    <a href="../../include/access/htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a>   <span class='Declare_Local'>tuple</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* This was checked by ExecInitExpr */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3342"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN167"><span class='Ref_to_Member'>varattno</span></a> <span class='Operator'>== </span><a href="../../include/access/attnum.h.html#LN22"><span class='Ref_to_Const'>InvalidAttrNumber</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get the input slot we want */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3342"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN165"><span class='Ref_to_Member'>varno</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN152"><span class='Ref_to_Const'>INNER_VAR</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* get the tuple from the inner node */ 
</span>            <a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN153"><span class='Ref_to_Const'>OUTER_VAR</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* get the tuple from the outer node */ 
</span>            <a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* INDEX_VAR is handled by default case */ 
</span> 
        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* get the tuple from the relation being scanned */ 
</span>            <a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN196"><span class='Ref_to_Member'>ecxt_scantuple</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Apply the junkfilter if any */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>junkFilter <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN160"><span class='Ref_to_Proto'>ExecFilterJunk</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>junkFilter<span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If first time through, obtain tuple descriptor and check compatibility. 
     * 
     * XXX: It'd be great if this could be moved to the expression 
     * initialization phase, but due to using slots that's currently not 
     * feasible. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>first<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* optimistically assume we don't need slow path */ 
</span>        <a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>slow <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If the Var identifies a named composite type, we must check that 
         * the actual tuple type is compatible with it. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3342"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN169"><span class='Ref_to_Member'>vartype</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_type.h.html#LN679"><span class='Ref_to_Const'>RECORDOID</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3395"></a>            <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>var_tupdesc</span><span class='Delimiter'>; 
</span><a name="LN3396"></a>            <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>slot_tupdesc</span><span class='Delimiter'>; 
</span><a name="LN3397"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We really only care about numbers of attributes and data types. 
             * Also, we can ignore type mismatch on columns that are dropped 
             * in the destination type, so long as (1) the physical storage 
             * matches or (2) the actual column value is NULL.  Case (1) is 
             * helpful in some cases involving out-of-date cached plans, while 
             * case (2) is expected behavior in situations such as an INSERT 
             * into a table with dropped columns (the planner typically 
             * generates an INT4 NULL regardless of the dropped column type). 
             * If we find a dropped column and cannot verify that case (1) 
             * holds, we have to use the slow path to check (2) for each row. 
             */ 
</span>            <a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a> <span class='Operator'>= </span><a href="../../include/utils/typcache.h.html#LN151"><span class='Ref_to_Proto'>lookup_rowtype_tupdesc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3342"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN169"><span class='Ref_to_Member'>vartype</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="execExprInterp.c.html#LN3396"><span class='Ref_To_Local'>slot_tupdesc</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a> <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN3396"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"table row type and query-specified row type do not match"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../../include/utils/elog.h.html#LN150"><span class='Ref_to_Func'>errdetail_plural</span></a><span class='Parentheses'>(</span><span class='String'>"Table row contains %d attribute, but query expects %d."</span><span class='Delimiter'>, 
</span>                   <span class='String'>"Table row contains %d attributes, but query expects %d."</span><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN3396"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN3396"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Delimiter'>, 
</span>                                          <a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3397"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN3397"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN3397"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN3427"></a>                <a href="../../include/catalog/pg_attribute.h.html#LN186"><span class='Ref_to_Typedef'>Form_pg_attribute</span></a> <span class='Declare_Local'>vattr</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3397"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span><a name="LN3428"></a>                <a href="../../include/catalog/pg_attribute.h.html#LN186"><span class='Ref_to_Typedef'>Form_pg_attribute</span></a> <span class='Declare_Local'>sattr</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3396"><span class='Ref_To_Local'>slot_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3397"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3427"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>atttypid <span class='Operator'>== </span><a href="execExprInterp.c.html#LN3428"><span class='Ref_To_Local'>sattr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>) 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* no worries */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN3427"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>attisdropped<span class='Parentheses'>) 
</span>                    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"table row type and query-specified row type do not match"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"Table has type %s at ordinal position %d, but query expects %s."</span><span class='Delimiter'>, 
</span>                                       <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3428"><span class='Ref_To_Local'>sattr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                       <a href="execExprInterp.c.html#LN3397"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                                       <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3427"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>atttypid<span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3427"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>attlen <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN3428"><span class='Ref_To_Local'>sattr</span></a><span class='Operator'>-&GT;</span>attlen <span class='Operator'>|| 
</span>                    <a href="execExprInterp.c.html#LN3427"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>attalign <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN3428"><span class='Ref_To_Local'>sattr</span></a><span class='Operator'>-&GT;</span>attalign<span class='Parentheses'>) 
</span>                    <a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>slow <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* need to check for nulls */ 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;var_tupdesc-&GT;na... &raquo; </span> 
 
            <span class='Comment_Multi_Line'>/* 
             * Use the variable's declared rowtype as the descriptor for the 
             * output values, modulo possibly assigning new column names 
             * below. In particular, we *must* absorb any attisdropped 
             * markings. 
             */ 
</span>            <a href="execExprInterp.c.html#LN3345"><span class='Ref_To_Local'>oldcontext</span></a> <span class='Operator'>= </span><a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN201"><span class='Ref_to_Member'>ecxt_per_query_memory</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN3344"><span class='Ref_To_Local'>output_tupdesc</span></a> <span class='Operator'>= </span><a href="../../include/access/tupdesc.h.html#LN88"><span class='Ref_to_Proto'>CreateTupleDescCopy</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3345"><span class='Ref_To_Local'>oldcontext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/access/tupdesc.h.html#LN106"><span class='Ref_to_Macro'>ReleaseTupleDesc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3395"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if variable-&GT;vartype!=RE... &raquo; </span> 
        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * In the RECORD case, we use the input slot's rowtype as the 
             * descriptor for the output values, modulo possibly assigning new 
             * column names below. 
             */ 
</span>            <a href="execExprInterp.c.html#LN3345"><span class='Ref_To_Local'>oldcontext</span></a> <span class='Operator'>= </span><a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN201"><span class='Ref_to_Member'>ecxt_per_query_memory</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="execExprInterp.c.html#LN3344"><span class='Ref_To_Local'>output_tupdesc</span></a> <span class='Operator'>= </span><a href="../../include/access/tupdesc.h.html#LN88"><span class='Ref_to_Proto'>CreateTupleDescCopy</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3345"><span class='Ref_To_Local'>oldcontext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Construct a tuple descriptor for the composite values we'll 
         * produce, and make sure its record type is "blessed".  The main 
         * reason to do this is to be sure that operations such as 
         * row_to_json() will see the desired column names when they look up 
         * the descriptor from the type information embedded in the composite 
         * values. 
         * 
         * We already got the correct physical datatype info above, but now we 
         * should try to find the source RTE and adopt its column aliases, in 
         * case they are different from the original rowtype's names.  For 
         * example, in "SELECT foo(t) FROM tab t(x,y)", the first two columns 
         * in the composite output should be named "x" and "y" regardless of 
         * tab's column names. 
         * 
         * If we can't locate the RTE, assume the column names we've got are 
         * OK.  (As of this writing, the only cases where we can't locate the 
         * RTE are in execution of trigger WHEN clauses, and then the Var will 
         * have the trigger's relation's rowtype, so its names are fine.) 
         * Also, if the creator of the RTE didn't bother to fill in an eref 
         * field, assume our column names are OK.  (This happens in COPY, and 
         * perhaps other places.) 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN224"><span class='Ref_to_Member'>ecxt_estate</span></a> <span class='Operator'>&& 
</span>        <a href="execExprInterp.c.html#LN3342"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN165"><span class='Ref_to_Member'>varno</span></a> <span class='Operator'>&LT;= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN224"><span class='Ref_to_Member'>ecxt_estate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN410"><span class='Ref_to_Member'>es_range_table</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span><a name="LN3496"></a>            <a href="../../include/nodes/parsenodes.h.html#LN932"><span class='Ref_to_Struct'>RangeTblEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rte</span> <span class='Operator'>= </span><a href="../../include/parser/parsetree.h.html#LN30"><span class='Ref_to_Macro'>rt_fetch</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3342"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN165"><span class='Ref_to_Member'>varno</span></a><span class='Delimiter'>, 
</span>                                      <a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN224"><span class='Ref_to_Member'>ecxt_estate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN410"><span class='Ref_to_Member'>es_range_table</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3496"><span class='Ref_To_Local'>rte</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN1023"><span class='Ref_to_Member'>eref</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/executor/executor.h.html#LN408"><span class='Ref_to_Proto'>ExecTypeSetColNames</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3344"><span class='Ref_To_Local'>output_tupdesc</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3496"><span class='Ref_To_Local'>rte</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN1023"><span class='Ref_to_Member'>eref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN42"><span class='Ref_to_Member'>colnames</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* Bless the tupdesc if needed, and save it in the execution state */ 
</span>        <a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>tupdesc <span class='Operator'>= </span><a href="../../include/funcapi.h.html#LN229"><span class='Ref_to_Proto'>BlessTupleDesc</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3344"><span class='Ref_To_Local'>output_tupdesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>first <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if op-&GT;d.wholerow.first &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Make sure all columns of the slot are accessible in the slot's 
     * Datum/isnull arrays. 
     */ 
</span>    <a href="../../include/executor/tuptable.h.html#LN168"><span class='Ref_to_Proto'>slot_getallattrs</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>slow<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Check to see if any dropped attributes are non-null */ 
</span><a name="LN3518"></a>        <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupleDesc</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>; 
</span><a name="LN3519"></a>        <a href="../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>var_tupdesc</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>tupdesc<span class='Delimiter'>; 
</span><a name="LN3520"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3519"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a> <span class='Operator'>== </span><a href="execExprInterp.c.html#LN3518"><span class='Ref_To_Local'>tupleDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="execExprInterp.c.html#LN3519"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN72"><span class='Ref_to_Member'>natts</span></a><span class='Delimiter'>; </span><a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3526"></a>            <a href="../../include/catalog/pg_attribute.h.html#LN186"><span class='Ref_to_Typedef'>Form_pg_attribute</span></a> <span class='Declare_Local'>vattr</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3519"><span class='Ref_To_Local'>var_tupdesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span><a name="LN3527"></a>            <a href="../../include/catalog/pg_attribute.h.html#LN186"><span class='Ref_to_Typedef'>Form_pg_attribute</span></a> <span class='Declare_Local'>sattr</span> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3518"><span class='Ref_To_Local'>tupleDesc</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/tupdesc.h.html#LN73"><span class='Ref_to_Member'>attrs</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="execExprInterp.c.html#LN3526"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>attisdropped<span class='Parentheses'>) 
</span>                <span class='Control'>continue</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* already checked non-dropped cols */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Delimiter'>[</span><a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Control'>continue</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* null is always okay */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3526"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>attlen <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN3527"><span class='Ref_To_Local'>sattr</span></a><span class='Operator'>-&GT;</span>attlen <span class='Operator'>|| 
</span>                <a href="execExprInterp.c.html#LN3526"><span class='Ref_To_Local'>vattr</span></a><span class='Operator'>-&GT;</span>attalign <span class='Operator'>!= </span><a href="execExprInterp.c.html#LN3527"><span class='Ref_To_Local'>sattr</span></a><span class='Operator'>-&GT;</span>attalign<span class='Parentheses'>) 
</span>                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"table row type and query-specified row type do not match"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"Physical storage mismatch on dropped attribute at ordinal position %d."</span><span class='Delimiter'>, 
</span>                                   <a href="execExprInterp.c.html#LN3520"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if op-&GT;d.wholerow.slow &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Build a composite datum, making sure any toasted fields get detoasted. 
     * 
     * (Note: it is critical that we not change the slot's state here.) 
     */ 
</span>    <a href="execExprInterp.c.html#LN3347"><span class='Ref_To_Local'>tuple</span></a> <span class='Operator'>= </span><a href="../../include/access/tuptoaster.h.html#LN202"><span class='Ref_to_Proto'>toast_build_flattened_tuple</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN120"><span class='Ref_to_Member'>tts_tupleDescriptor</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN124"><span class='Ref_to_Member'>tts_values</span></a><span class='Delimiter'>, 
</span>                                        <a href="execExprInterp.c.html#LN3343"><span class='Ref_To_Local'>slot</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/tuptable.h.html#LN125"><span class='Ref_to_Member'>tts_isnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="execExprInterp.c.html#LN3346"><span class='Ref_To_Local'>dtuple</span></a> <span class='Operator'>= </span><a href="execExprInterp.c.html#LN3347"><span class='Ref_To_Local'>tuple</span></a><span class='Operator'>-&GT;</span><a href="../../include/access/htup.h.html#LN66"><span class='Ref_to_Member'>t_data</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Label the datum with the composite type info we identified before. 
     * 
     * (Note: we could skip doing this by passing op-&GT;d.wholerow.tupdesc to 
     * the tuple build step; but that seems a tad risky so let's not.) 
     */ 
</span>    <a href="../../include/access/htup_details.h.html#LN449"><span class='Ref_to_Macro'>HeapTupleHeaderSetTypeId</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3346"><span class='Ref_To_Local'>dtuple</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>tupdesc<span class='Operator'>-&GT;</span>tdtypeid<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/access/htup_details.h.html#LN459"><span class='Ref_to_Macro'>HeapTupleHeaderSetTypMod</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3346"><span class='Ref_To_Local'>dtuple</span></a><span class='Delimiter'>, </span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN562"><span class='Ref_to_Member'>d</span></a><span class='Operator'>.</span>wholerow<span class='Operator'>.</span>tupdesc<span class='Operator'>-&GT;</span>tdtypmod<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN229"><span class='Ref_to_Member'>resvalue</span></a> <span class='Operator'>= </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><a href="execExprInterp.c.html#LN3346"><span class='Ref_To_Local'>dtuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="execExprInterp.c.html#LN3340"><span class='Ref_to_Parameter'>op</span></a><span class='Operator'>-&GT;</span><a href="../../include/executor/execExpr.h.html#LN230"><span class='Ref_to_Member'>resnull</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEvalWholeRowVar &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>