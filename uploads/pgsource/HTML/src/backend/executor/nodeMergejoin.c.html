<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\executor\nodeMergejoin.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\executor\nodeMergejoin.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:39 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * nodeMergejoin.c 
 *    routines supporting merge joins 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * 
 * IDENTIFICATION 
 *    src/backend/executor/nodeMergejoin.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
/* 
 * INTERFACE ROUTINES 
 *      ExecMergeJoin           mergejoin outer and inner relations. 
 *      ExecInitMergeJoin       creates and initializes run time states 
 *      ExecEndMergeJoin        cleans up the node. 
 * 
 * NOTES 
 * 
 *      Merge-join is done by joining the inner and outer tuples satisfying 
 *      join clauses of the form ((= outerKey innerKey) ...). 
 *      The join clause list is provided by the query planner and may contain 
 *      more than one (= outerKey innerKey) clause (for composite sort key). 
 * 
 *      However, the query executor needs to know whether an outer 
 *      tuple is "greater/smaller" than an inner tuple so that it can 
 *      "synchronize" the two relations. For example, consider the following 
 *      relations: 
 * 
 *              outer: (0 ^1 1 2 5 5 5 6 6 7)   current tuple: 1 
 *              inner: (1 ^3 5 5 5 5 6)         current tuple: 3 
 * 
 *      To continue the merge-join, the executor needs to scan both inner 
 *      and outer relations till the matching tuples 5. It needs to know 
 *      that currently inner tuple 3 is "greater" than outer tuple 1 and 
 *      therefore it should scan the outer relation first to find a 
 *      matching tuple and so on. 
 * 
 *      Therefore, rather than directly executing the merge join clauses, 
 *      we evaluate the left and right key expressions separately and then 
 *      compare the columns one at a time (see MJCompare).  The planner 
 *      passes us enough information about the sort ordering of the inputs 
 *      to allow us to determine how to make the comparison.  We may use the 
 *      appropriate btree comparison function, since Postgres' only notion 
 *      of ordering is specified by btree opfamilies. 
 * 
 * 
 *      Consider the above relations and suppose that the executor has 
 *      just joined the first outer "5" with the last inner "5". The 
 *      next step is of course to join the second outer "5" with all 
 *      the inner "5's". This requires repositioning the inner "cursor" 
 *      to point at the first inner "5". This is done by "marking" the 
 *      first inner 5 so we can restore the "cursor" to it before joining 
 *      with the second outer 5. The access method interface provides 
 *      routines to mark and restore to a tuple. 
 * 
 * 
 *      Essential operation of the merge join algorithm is as follows: 
 * 
 *      Join { 
 *          get initial outer and inner tuples              INITIALIZE 
 *          do forever { 
 *              while (outer != inner) {                    SKIP_TEST 
 *                  if (outer &LT; inner) 
 *                      advance outer                       SKIPOUTER_ADVANCE 
 *                  else 
 *                      advance inner                       SKIPINNER_ADVANCE 
 *              } 
 *              mark inner position                         SKIP_TEST 
 *              do forever { 
 *                  while (outer == inner) { 
 *                      join tuples                         JOINTUPLES 
 *                      advance inner position              NEXTINNER 
 *                  } 
 *                  advance outer position                  NEXTOUTER 
 *                  if (outer == mark)                      TESTOUTER 
 *                      restore inner position to mark      TESTOUTER 
 *                  else 
 *                      break   // return to top of outer loop 
 *              } 
 *          } 
 *      } 
 * 
 *      The merge join operation is coded in the fashion 
 *      of a state machine.  At each state, we do something and then 
 *      proceed to another state.  This state is stored in the node's 
 *      execution state information and is preserved across calls to 
 *      ExecMergeJoin. -cim 10/31/89 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/nbtree.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"executor/execdebug.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"executor/nodeMergejoin.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/lsyscache.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/memutils.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * States of the ExecMergeJoin state machine 
 */ 
</span><a name="LN104"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_INITIALIZE_OUTER</span>        <span class='Number'>1</span> 
<a name="LN105"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_INITIALIZE_INNER</span>        <span class='Number'>2</span> 
<a name="LN106"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_JOINTUPLES</span>              <span class='Number'>3</span> 
<a name="LN107"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_NEXTOUTER</span>               <span class='Number'>4</span> 
<a name="LN108"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_TESTOUTER</span>               <span class='Number'>5</span> 
<a name="LN109"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_NEXTINNER</span>               <span class='Number'>6</span> 
<a name="LN110"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_SKIP_TEST</span>               <span class='Number'>7</span> 
<a name="LN111"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_SKIPOUTER_ADVANCE</span>       <span class='Number'>8</span> 
<a name="LN112"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_SKIPINNER_ADVANCE</span>       <span class='Number'>9</span> 
<a name="LN113"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_ENDOUTER</span>                <span class='Number'>10</span> 
<a name="LN114"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EXEC_MJ_ENDINNER</span>                <span class='Number'>11</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Runtime data for each mergejoin clause 
 */ 
</span><a name="LN119"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>MergeJoinClauseData</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* Executable expression trees */ 
</span><a name="LN122"></a>    <a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>lexpr</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* left-hand (outer) input expression */ 
</span><a name="LN123"></a>    <a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>rexpr</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* right-hand (inner) input expression */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If we have a current left or right input tuple, the values of the 
     * expressions are loaded into these fields: 
     */ 
</span><a name="LN129"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>ldatum</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* current left-hand value */ 
</span><a name="LN130"></a>    <a href="../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>rdatum</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* current right-hand value */ 
</span><a name="LN131"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>lisnull</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* and their isnull flags */ 
</span><a name="LN132"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>risnull</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Everything we need to know to compare the left and right values is 
     * stored here. 
     */ 
</span><a name="LN138"></a>    <a href="../../include/utils/sortsupport.h.html#LN59"><span class='Ref_to_Struct'>SortSupportData</span></a> <span class='Declare_Member'>ssup</span><span class='Delimiter'>; 
</span><a name="LN139"></a>}<span class='Auto_Annotations'> &laquo; end MergeJoinClauseData &raquo; </span>   <span class='Declare_Typedef'>MergeJoinClauseData</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Result type for MJEvalOuterValues and MJEvalInnerValues */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN144"></a>    <span class='Declare_Enum_Const'>MJEVAL_MATCHABLE</span><span class='Delimiter'>,</span>           <span class='Comment_Single_Line'>/* normal, potentially matchable tuple */ 
</span><a name="LN145"></a>    <span class='Declare_Enum_Const'>MJEVAL_NONMATCHABLE</span><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* tuple cannot join because it has a null */ 
</span><a name="LN146"></a>    <span class='Declare_Enum_Const'>MJEVAL_ENDOFJOIN</span>            <span class='Comment_Single_Line'>/* end of input (physical or effective) */ 
</span><a name="LN147"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>MJEvalResult</span><span class='Delimiter'>; 
</span> 
 
<a name="LN150"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>MarkInnerTuple</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>innerTupleSlot</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../../include/executor/tuptable.h.html#LN163"><span class='Ref_to_Proto'>ExecCopySlot</span></a><span class='Parentheses'>((</span><a href="nodeMergejoin.c.html#LN150"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>mj_MarkedTupleSlot<span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN150"><span class='Ref_to_Parameter'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * MJExamineQuals 
 * 
 * This deconstructs the list of mergejoinable expressions, which is given 
 * to us by the planner in the form of a list of "leftexpr = rightexpr" 
 * expression trees in the order matching the sort columns of the inputs. 
 * We build an array of MergeJoinClause structs containing the information 
 * we will need at runtime.  Each struct essentially tells us how to compare 
 * the two expressions from the original clause. 
 * 
 * In addition to the expressions themselves, the planner passes the btree 
 * opfamily OID, collation OID, btree strategy number (BTLessStrategyNumber or 
 * BTGreaterStrategyNumber), and nulls-first flag that identify the intended 
 * sort ordering for each merge key.  The mergejoinable operator is an 
 * equality operator in the opfamily, and the two inputs are guaranteed to be 
 * ordered in either increasing or decreasing (respectively) order according 
 * to the opfamily and collation, with nulls at the indicated end of the range. 
 * This allows us to obtain the needed comparison function from the opfamily. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a> 
<a name="LN174"></a><span class='Declare_Function'>MJExamineQuals</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergeclauses</span><span class='Delimiter'>, 
</span><a name="LN175"></a>               <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergefamilies</span><span class='Delimiter'>, 
</span><a name="LN176"></a>               <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergecollations</span><span class='Delimiter'>, 
</span><a name="LN177"></a>               <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>mergestrategies</span><span class='Delimiter'>, 
</span><a name="LN178"></a>               <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>mergenullsfirst</span><span class='Delimiter'>, 
</span><a name="LN179"></a>               <a href="../../include/nodes/execnodes.h.html#LN808"><span class='Ref_to_Struct'>PlanState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>parent</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN181"></a>    <a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a> <span class='Declare_Local'>clauses</span><span class='Delimiter'>; 
</span><a name="LN182"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nClauses</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN174"><span class='Ref_to_Parameter'>mergeclauses</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN183"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>iClause</span><span class='Delimiter'>; 
</span><a name="LN184"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>cl</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN181"><span class='Ref_To_Local'>clauses</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN34"><span class='Ref_to_Proto'>palloc0</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN182"><span class='Ref_To_Local'>nClauses</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN119"><span class='Ref_to_Struct'>MergeJoinClauseData</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN184"><span class='Ref_To_Local'>cl</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN174"><span class='Ref_to_Parameter'>mergeclauses</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN191"></a>        <a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>qual</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN184"><span class='Ref_To_Local'>cl</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN192"></a>        <a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a> <span class='Declare_Local'>clause</span> <span class='Operator'>= &</span><a href="nodeMergejoin.c.html#LN181"><span class='Ref_To_Local'>clauses</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a><span class='Delimiter'>]; 
</span><a name="LN193"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>opfamily</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN175"><span class='Ref_to_Parameter'>mergefamilies</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a><span class='Delimiter'>]; 
</span><a name="LN194"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>collation</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN176"><span class='Ref_to_Parameter'>mergecollations</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a><span class='Delimiter'>]; 
</span><a name="LN195"></a>        <a href="../../include/access/stratnum.h.html#LN21"><span class='Ref_to_Typedef'>StrategyNumber</span></a> <span class='Declare_Local'>opstrategy</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN177"><span class='Ref_to_Parameter'>mergestrategies</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a><span class='Delimiter'>]; 
</span><a name="LN196"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>nulls_first</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN178"><span class='Ref_to_Parameter'>mergenullsfirst</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a><span class='Delimiter'>]; 
</span><a name="LN197"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>op_strategy</span><span class='Delimiter'>; 
</span><a name="LN198"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>op_lefttype</span><span class='Delimiter'>; 
</span><a name="LN199"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>op_righttype</span><span class='Delimiter'>; 
</span><a name="LN200"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>sortfunc</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN191"><span class='Ref_To_Local'>qual</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a><span class='Parentheses'>))</span> 
            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"mergejoin clause is not an OpExpr"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Prepare the input expressions for execution. 
         */ 
</span>        <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN122"><span class='Ref_to_Member'>lexpr</span></a> <span class='Operator'>= </span><a href="execExpr.c.html#LN111"><span class='Ref_to_Func'>ExecInitExpr</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN191"><span class='Ref_To_Local'>qual</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN500"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN179"><span class='Ref_to_Parameter'>parent</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN123"><span class='Ref_to_Member'>rexpr</span></a> <span class='Operator'>= </span><a href="execExpr.c.html#LN111"><span class='Ref_to_Func'>ExecInitExpr</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN191"><span class='Ref_To_Local'>qual</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN500"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN179"><span class='Ref_to_Parameter'>parent</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Set up sort support data */ 
</span>        <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN65"><span class='Ref_to_Member'>ssup_cxt</span></a> <span class='Operator'>= </span><a href="../utils/mmgr/mcxt.c.html#LN36"><span class='Ref_to_Global_Var'>CurrentMemoryContext</span></a><span class='Delimiter'>; 
</span>        <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN66"><span class='Ref_to_Member'>ssup_collation</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN194"><span class='Ref_To_Local'>collation</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN195"><span class='Ref_To_Local'>opstrategy</span></a> <span class='Operator'>== </span><a href="../../include/access/stratnum.h.html#LN28"><span class='Ref_to_Const'>BTLessStrategyNumber</span></a><span class='Parentheses'>) 
</span>            <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN73"><span class='Ref_to_Member'>ssup_reverse</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN195"><span class='Ref_To_Local'>opstrategy</span></a> <span class='Operator'>== </span><a href="../../include/access/stratnum.h.html#LN32"><span class='Ref_to_Const'>BTGreaterStrategyNumber</span></a><span class='Parentheses'>) 
</span>            <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN73"><span class='Ref_to_Member'>ssup_reverse</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span>    <span class='Comment_Single_Line'>/* planner screwed up */ 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unsupported mergejoin strategy %d"</span><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN195"><span class='Ref_To_Local'>opstrategy</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN74"><span class='Ref_to_Member'>ssup_nulls_first</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN196"><span class='Ref_To_Local'>nulls_first</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Extract the operator's declared left/right datatypes */ 
</span>        <a href="../../include/utils/lsyscache.h.html#LN66"><span class='Ref_to_Proto'>get_op_opfamily_properties</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN191"><span class='Ref_To_Local'>qual</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN494"><span class='Ref_to_Member'>opno</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN193"><span class='Ref_To_Local'>opfamily</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                   <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN197"><span class='Ref_To_Local'>op_strategy</span></a><span class='Delimiter'>, 
</span>                                   <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN198"><span class='Ref_To_Local'>op_lefttype</span></a><span class='Delimiter'>, 
</span>                                   <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN199"><span class='Ref_To_Local'>op_righttype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN197"><span class='Ref_To_Local'>op_strategy</span></a> <span class='Operator'>!= </span><a href="../../include/access/stratnum.h.html#LN30"><span class='Ref_to_Const'>BTEqualStrategyNumber</span></a><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* should not happen */ 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"cannot merge using non-equality operator %u"</span><span class='Delimiter'>, 
</span>                 <a href="nodeMergejoin.c.html#LN191"><span class='Ref_To_Local'>qual</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN494"><span class='Ref_to_Member'>opno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * sortsupport routine must know if abbreviation optimization is 
         * applicable in principle.  It is never applicable for merge joins 
         * because there is no convenient opportunity to convert to 
         * alternative representation. 
         */ 
</span>        <a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN155"><span class='Ref_to_Member'>abbreviate</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* And get the matching support or comparison function */ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN106"><span class='Ref_to_Member'>comparator</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="nodeMergejoin.c.html#LN200"><span class='Ref_To_Local'>sortfunc</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN83"><span class='Ref_to_Proto'>get_opfamily_proc</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN193"><span class='Ref_To_Local'>opfamily</span></a><span class='Delimiter'>, 
</span>                                     <a href="nodeMergejoin.c.html#LN198"><span class='Ref_To_Local'>op_lefttype</span></a><span class='Delimiter'>, 
</span>                                     <a href="nodeMergejoin.c.html#LN199"><span class='Ref_To_Local'>op_righttype</span></a><span class='Delimiter'>, 
</span>                                     <a href="../../include/access/nbtree.h.html#LN229"><span class='Ref_to_Const'>BTSORTSUPPORT_PROC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN200"><span class='Ref_To_Local'>sortfunc</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* The sort support function can provide a comparator */ 
</span>            <a href="../../include/fmgr.h.html#LN621"><span class='Ref_to_Macro'>OidFunctionCall1</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN200"><span class='Ref_To_Local'>sortfunc</span></a><span class='Delimiter'>, </span><a href="../../include/postgres.h.html#LN561"><span class='Ref_to_Macro'>PointerGetDatum</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN106"><span class='Ref_to_Member'>comparator</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* support not available, get comparison func */ 
</span>            <a href="nodeMergejoin.c.html#LN200"><span class='Ref_To_Local'>sortfunc</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN83"><span class='Ref_to_Proto'>get_opfamily_proc</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN193"><span class='Ref_To_Local'>opfamily</span></a><span class='Delimiter'>, 
</span>                                         <a href="nodeMergejoin.c.html#LN198"><span class='Ref_To_Local'>op_lefttype</span></a><span class='Delimiter'>, 
</span>                                         <a href="nodeMergejoin.c.html#LN199"><span class='Ref_To_Local'>op_righttype</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../include/access/nbtree.h.html#LN228"><span class='Ref_to_Const'>BTORDER_PROC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN200"><span class='Ref_To_Local'>sortfunc</span></a><span class='Parentheses'>))</span>  <span class='Comment_Single_Line'>/* should not happen */ 
</span>                <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"missing support function %d(%u,%u) in opfamily %u"</span><span class='Delimiter'>, 
</span>                     <a href="../../include/access/nbtree.h.html#LN228"><span class='Ref_to_Const'>BTORDER_PROC</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN198"><span class='Ref_To_Local'>op_lefttype</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN199"><span class='Ref_To_Local'>op_righttype</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN193"><span class='Ref_To_Local'>opfamily</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* We'll use a shim to call the old-style btree comparator */ 
</span>            <a href="../utils/sort/sortsupport.c.html#LN65"><span class='Ref_to_Func'>PrepareSortSupportComparisonShim</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN200"><span class='Ref_To_Local'>sortfunc</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN192"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="nodeMergejoin.c.html#LN183"><span class='Ref_To_Local'>iClause</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN181"><span class='Ref_To_Local'>clauses</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end MJExamineQuals &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * MJEvalOuterValues 
 * 
 * Compute the values of the mergejoined expressions for the current 
 * outer tuple.  We also detect whether it's impossible for the current 
 * outer tuple to match anything --- this is true if it yields a NULL 
 * input, since we assume mergejoin operators are strict.  If the NULL 
 * is in the first join column, and that column sorts nulls last, then 
 * we can further conclude that no following tuple can match anything 
 * either, since they must all have nulls in the first column.  However, 
 * that case is only interesting if we're not in FillOuter mode, else 
 * we have to visit all the tuples anyway. 
 * 
 * For the convenience of callers, we also make this routine responsible 
 * for testing for end-of-input (null outer tuple), and returning 
 * MJEVAL_ENDOFJOIN when that's seen.  This allows the same code to be used 
 * for both real end-of-input and the effective end-of-input represented by 
 * a first-column NULL. 
 * 
 * We evaluate the values in OuterEContext, which can be reset each 
 * time we move to a new tuple. 
 */ 
</span><span class='Keyword'>static </span><a href="nodeMergejoin.c.html#LN142"><span class='Ref_to_Typedef'>MJEvalResult</span></a> 
<a name="LN293"></a><span class='Declare_Function'>MJEvalOuterValues</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN295"></a>    <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>econtext</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN293"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1613"><span class='Ref_to_Member'>mj_OuterEContext</span></a><span class='Delimiter'>; 
</span><a name="LN296"></a>    <a href="nodeMergejoin.c.html#LN142"><span class='Ref_to_Typedef'>MJEvalResult</span></a> <span class='Declare_Local'>result</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Delimiter'>; 
</span><a name="LN297"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN298"></a>    <a href="../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>oldContext</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Check for end of outer subplan */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN293"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/executor/executor.h.html#LN449"><span class='Ref_to_Macro'>ResetExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN295"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN298"><span class='Ref_To_Local'>oldContext</span></a> <span class='Operator'>= </span><a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN295"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN202"><span class='Ref_to_Member'>ecxt_per_tuple_memory</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN295"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN293"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN297"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="nodeMergejoin.c.html#LN297"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="nodeMergejoin.c.html#LN293"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1598"><span class='Ref_to_Member'>mj_NumClauses</span></a><span class='Delimiter'>; </span><a href="nodeMergejoin.c.html#LN297"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN312"></a>        <a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a> <span class='Declare_Local'>clause</span> <span class='Operator'>= &</span><a href="nodeMergejoin.c.html#LN293"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1599"><span class='Ref_to_Member'>mj_Clauses</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN297"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
        <a href="nodeMergejoin.c.html#LN312"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN129"><span class='Ref_to_Member'>ldatum</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN264"><span class='Ref_to_Func'>ExecEvalExpr</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN312"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN122"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN295"><span class='Ref_To_Local'>econtext</span></a><span class='Delimiter'>, 
</span>                                      <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN312"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN131"><span class='Ref_to_Member'>lisnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN312"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN131"><span class='Ref_to_Member'>lisnull</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* match is impossible; can we end the join early? */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN297"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& !</span><a href="nodeMergejoin.c.html#LN312"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN74"><span class='Ref_to_Member'>ssup_nulls_first</span></a> <span class='Operator'>&& 
</span>                <span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN293"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1604"><span class='Ref_to_Member'>mj_FillOuter</span></a><span class='Parentheses'>) 
</span>                <a href="nodeMergejoin.c.html#LN296"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN296"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Parentheses'>) 
</span>                <a href="nodeMergejoin.c.html#LN296"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN298"><span class='Ref_To_Local'>oldContext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN296"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end MJEvalOuterValues &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * MJEvalInnerValues 
 * 
 * Same as above, but for the inner tuple.  Here, we have to be prepared 
 * to load data from either the true current inner, or the marked inner, 
 * so caller must tell us which slot to load from. 
 */ 
</span><span class='Keyword'>static </span><a href="nodeMergejoin.c.html#LN142"><span class='Ref_to_Typedef'>MJEvalResult</span></a> 
<a name="LN340"></a><span class='Declare_Function'>MJEvalInnerValues</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Delimiter'>, </span><a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>innerslot</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN342"></a>    <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>econtext</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN340"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1614"><span class='Ref_to_Member'>mj_InnerEContext</span></a><span class='Delimiter'>; 
</span><a name="LN343"></a>    <a href="nodeMergejoin.c.html#LN142"><span class='Ref_to_Typedef'>MJEvalResult</span></a> <span class='Declare_Local'>result</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Delimiter'>; 
</span><a name="LN344"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN345"></a>    <a href="../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>oldContext</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Check for end of inner subplan */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN340"><span class='Ref_to_Parameter'>innerslot</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/executor/executor.h.html#LN449"><span class='Ref_to_Macro'>ResetExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN342"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN345"><span class='Ref_To_Local'>oldContext</span></a> <span class='Operator'>= </span><a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN342"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN202"><span class='Ref_to_Member'>ecxt_per_tuple_memory</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN342"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN340"><span class='Ref_to_Parameter'>innerslot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN344"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="nodeMergejoin.c.html#LN344"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="nodeMergejoin.c.html#LN340"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1598"><span class='Ref_to_Member'>mj_NumClauses</span></a><span class='Delimiter'>; </span><a href="nodeMergejoin.c.html#LN344"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN359"></a>        <a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a> <span class='Declare_Local'>clause</span> <span class='Operator'>= &</span><a href="nodeMergejoin.c.html#LN340"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1599"><span class='Ref_to_Member'>mj_Clauses</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN344"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
        <a href="nodeMergejoin.c.html#LN359"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN130"><span class='Ref_to_Member'>rdatum</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN264"><span class='Ref_to_Func'>ExecEvalExpr</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN359"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN123"><span class='Ref_to_Member'>rexpr</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN342"><span class='Ref_To_Local'>econtext</span></a><span class='Delimiter'>, 
</span>                                      <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN359"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN132"><span class='Ref_to_Member'>risnull</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN359"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN132"><span class='Ref_to_Member'>risnull</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* match is impossible; can we end the join early? */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN344"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& !</span><a href="nodeMergejoin.c.html#LN359"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Operator'>.</span><a href="../../include/utils/sortsupport.h.html#LN74"><span class='Ref_to_Member'>ssup_nulls_first</span></a> <span class='Operator'>&& 
</span>                <span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN340"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1605"><span class='Ref_to_Member'>mj_FillInner</span></a><span class='Parentheses'>) 
</span>                <a href="nodeMergejoin.c.html#LN343"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN343"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Parentheses'>) 
</span>                <a href="nodeMergejoin.c.html#LN343"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN345"><span class='Ref_To_Local'>oldContext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN343"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end MJEvalInnerValues &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * MJCompare 
 * 
 * Compare the mergejoinable values of the current two input tuples 
 * and return 0 if they are equal (ie, the mergejoin equalities all 
 * succeed), &GT;0 if outer &GT; inner, &LT;0 if outer &LT; inner. 
 * 
 * MJEvalOuterValues and MJEvalInnerValues must already have been called 
 * for the current outer and inner tuples, respectively. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN390"></a><span class='Declare_Function'>MJCompare</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN392"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN393"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>nulleqnull</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN394"></a>    <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>econtext</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN390"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN842"><span class='Ref_to_Member'>ps_ExprContext</span></a><span class='Delimiter'>; 
</span><a name="LN395"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN396"></a>    <a href="../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>oldContext</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Call the comparison functions in short-lived context, in case they leak 
     * memory. 
     */ 
</span>    <a href="../../include/executor/executor.h.html#LN449"><span class='Ref_to_Macro'>ResetExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN394"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN396"><span class='Ref_To_Local'>oldContext</span></a> <span class='Operator'>= </span><a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN394"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN202"><span class='Ref_to_Member'>ecxt_per_tuple_memory</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN395"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="nodeMergejoin.c.html#LN395"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="nodeMergejoin.c.html#LN390"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1598"><span class='Ref_to_Member'>mj_NumClauses</span></a><span class='Delimiter'>; </span><a href="nodeMergejoin.c.html#LN395"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN408"></a>        <a href="../../include/nodes/execnodes.h.html#LN1593"><span class='Ref_to_Typedef'>MergeJoinClause</span></a> <span class='Declare_Local'>clause</span> <span class='Operator'>= &</span><a href="nodeMergejoin.c.html#LN390"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1599"><span class='Ref_to_Member'>mj_Clauses</span></a><span class='Delimiter'>[</span><a href="nodeMergejoin.c.html#LN395"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Special case for NULL-vs-NULL, else use standard comparison. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN131"><span class='Ref_to_Member'>lisnull</span></a> <span class='Operator'>&& </span><a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN132"><span class='Ref_to_Member'>risnull</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="nodeMergejoin.c.html#LN393"><span class='Ref_To_Local'>nulleqnull</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* NULL "=" NULL */ 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="nodeMergejoin.c.html#LN392"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/utils/sortsupport.h.html#LN199"><span class='Ref_to_Func'>ApplySortComparator</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN129"><span class='Ref_to_Member'>ldatum</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN131"><span class='Ref_to_Member'>lisnull</span></a><span class='Delimiter'>, 
</span>                                     <a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN130"><span class='Ref_to_Member'>rdatum</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN132"><span class='Ref_to_Member'>risnull</span></a><span class='Delimiter'>, 
</span>                                     <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN408"><span class='Ref_To_Local'>clause</span></a><span class='Operator'>-&GT;</span><a href="nodeMergejoin.c.html#LN138"><span class='Ref_to_Member'>ssup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN392"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;mergestate-&GT;mj_... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * If we had any NULL-vs-NULL inputs, we do not want to report that the 
     * tuples are equal.  Instead, if result is still 0, change it to +1. This 
     * will result in advancing the inner side of the join. 
     * 
     * Likewise, if there was a constant-false joinqual, do not report 
     * equality.  We have to check this as part of the mergequals, else the 
     * rescan logic will do the wrong thing. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN392"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& 
</span>        <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN393"><span class='Ref_To_Local'>nulleqnull</span></a> <span class='Operator'>|| </span><a href="nodeMergejoin.c.html#LN390"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1603"><span class='Ref_to_Member'>mj_ConstFalseJoin</span></a><span class='Parentheses'>))</span> 
        <a href="nodeMergejoin.c.html#LN392"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN396"><span class='Ref_To_Local'>oldContext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN392"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end MJCompare &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Generate a fake join tuple with nulls for the inner tuple, 
 * and return it if it passes the non-join quals. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>* 
</span><a name="LN451"></a><span class='Declare_Function'>MJFillOuter</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN453"></a>    <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>econtext</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN451"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN842"><span class='Ref_to_Member'>ps_ExprContext</span></a><span class='Delimiter'>; 
</span><a name="LN454"></a>    <a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>otherqual</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN451"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN826"><span class='Ref_to_Member'>qual</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/executor/executor.h.html#LN449"><span class='Ref_to_Macro'>ResetExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN453"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN453"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN451"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN453"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN451"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1612"><span class='Ref_to_Member'>mj_NullInnerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/executor.h.html#LN344"><span class='Ref_to_Func'>ExecQual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN454"><span class='Ref_To_Local'>otherqual</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN453"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * qualification succeeded.  now form the desired projection tuple and 
         * return the slot containing it. 
         */ 
</span>        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: returning outer fill tuple\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <a href="../../include/executor/executor.h.html#LN307"><span class='Ref_to_Func'>ExecProject</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN451"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN843"><span class='Ref_to_Member'>ps_ProjInfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="../../include/nodes/execnodes.h.html#LN862"><span class='Ref_to_Macro'>InstrCountFiltered2</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN451"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end MJFillOuter &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Generate a fake join tuple with nulls for the outer tuple, 
 * and return it if it passes the non-join quals. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>* 
</span><a name="LN482"></a><span class='Declare_Function'>MJFillInner</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN484"></a>    <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>econtext</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN482"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN842"><span class='Ref_to_Member'>ps_ExprContext</span></a><span class='Delimiter'>; 
</span><a name="LN485"></a>    <a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>otherqual</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN482"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN826"><span class='Ref_to_Member'>qual</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/executor/executor.h.html#LN449"><span class='Ref_to_Macro'>ResetExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN484"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN484"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN482"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1611"><span class='Ref_to_Member'>mj_NullOuterTupleSlot</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN484"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN482"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/executor.h.html#LN344"><span class='Ref_to_Func'>ExecQual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN485"><span class='Ref_To_Local'>otherqual</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN484"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * qualification succeeded.  now form the desired projection tuple and 
         * return the slot containing it. 
         */ 
</span>        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: returning inner fill tuple\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <a href="../../include/executor/executor.h.html#LN307"><span class='Ref_to_Func'>ExecProject</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN482"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN843"><span class='Ref_to_Member'>ps_ProjInfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="../../include/nodes/execnodes.h.html#LN862"><span class='Ref_to_Macro'>InstrCountFiltered2</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN482"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end MJFillInner &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Check that a qual condition is constant true or constant false. 
 * If it is constant false (or null), set *is_const_false to TRUE. 
 * 
 * Constant true would normally be represented by a NIL list, but we allow an 
 * actual bool Const as well.  We do expect that the planner will have thrown 
 * away any non-constant terms that have been ANDed with a constant false. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN518"></a><span class='Declare_Function'>check_constant_qual</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>qual</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>is_const_false</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN520"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN520"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN518"><span class='Ref_to_Parameter'>qual</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN524"></a>        <a href="../../include/nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>con</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN520"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN524"><span class='Ref_To_Local'>con</span></a> <span class='Operator'>|| !</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN524"><span class='Ref_To_Local'>con</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a><span class='Parentheses'>))</span> 
            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN524"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN196"><span class='Ref_to_Member'>constisnull</span></a> <span class='Operator'>|| !</span><a href="../../include/postgres.h.html#LN398"><span class='Ref_to_Macro'>DatumGetBool</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN524"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN195"><span class='Ref_to_Member'>constvalue</span></a><span class='Parentheses'>))</span> 
            <span class='Operator'>*</span><a href="nodeMergejoin.c.html#LN518"><span class='Ref_to_Parameter'>is_const_false</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------------------------------------------------------------- 
 *      ExecMergeTupleDump 
 * 
 *      This function is called through the MJ_dump() macro 
 *      when EXEC_MERGEJOINDEBUG is defined 
 * ---------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifdef</span> EXEC_MERGEJOINDEBUG 
 
<span class='Keyword'>static void 
</span><a name="LN545"></a><span class='Declare_Function'>ExecMergeTupleDumpOuter</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN547"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>outerSlot</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN545"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"==== outer tuple ====\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN547"><span class='Ref_To_Local'>outerSlot</span></a><span class='Parentheses'>))</span> 
        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"(nil)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/executor/execdebug.h.html#LN104"><span class='Ref_to_Macro'>MJ_debugtup</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN547"><span class='Ref_To_Local'>outerSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN557"></a><span class='Declare_Function'>ExecMergeTupleDumpInner</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN559"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>innerSlot</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN557"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"==== inner tuple ====\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN559"><span class='Ref_To_Local'>innerSlot</span></a><span class='Parentheses'>))</span> 
        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"(nil)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/executor/execdebug.h.html#LN104"><span class='Ref_to_Macro'>MJ_debugtup</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN559"><span class='Ref_To_Local'>innerSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN569"></a><span class='Declare_Function'>ExecMergeTupleDumpMarked</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN571"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>markedSlot</span> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN569"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1610"><span class='Ref_to_Member'>mj_MarkedTupleSlot</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"==== marked tuple ====\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN571"><span class='Ref_To_Local'>markedSlot</span></a><span class='Parentheses'>))</span> 
        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"(nil)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/executor/execdebug.h.html#LN104"><span class='Ref_to_Macro'>MJ_debugtup</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN571"><span class='Ref_To_Local'>markedSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN581"></a><span class='Declare_Function'>ExecMergeTupleDump</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>mergestate</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"******** ExecMergeTupleDump ********\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN544"><span class='Ref_to_Func'>ExecMergeTupleDumpOuter</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN581"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN556"><span class='Ref_to_Func'>ExecMergeTupleDumpInner</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN581"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN568"><span class='Ref_to_Func'>ExecMergeTupleDumpMarked</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN581"><span class='Ref_to_Parameter'>mergestate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"********\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span><span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* ---------------------------------------------------------------- 
 *      ExecMergeJoin 
 * ---------------------------------------------------------------- 
 */ 
</span><a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>* 
</span><a name="LN598"></a><span class='Declare_Function'>ExecMergeJoin</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN600"></a>    <a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>joinqual</span><span class='Delimiter'>; 
</span><a name="LN601"></a>    <a href="../../include/nodes/execnodes.h.html#LN52"><span class='Ref_to_Struct'>ExprState</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>otherqual</span><span class='Delimiter'>; 
</span><a name="LN602"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>qualResult</span><span class='Delimiter'>; 
</span><a name="LN603"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>compareResult</span><span class='Delimiter'>; 
</span><a name="LN604"></a>    <a href="../../include/nodes/execnodes.h.html#LN808"><span class='Ref_to_Struct'>PlanState</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>innerPlan</span><span class='Delimiter'>; 
</span><a name="LN605"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>innerTupleSlot</span><span class='Delimiter'>; 
</span><a name="LN606"></a>    <a href="../../include/nodes/execnodes.h.html#LN808"><span class='Ref_to_Struct'>PlanState</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>outerPlan</span><span class='Delimiter'>; 
</span><a name="LN607"></a>    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>outerTupleSlot</span><span class='Delimiter'>; 
</span><a name="LN608"></a>    <a href="../../include/nodes/execnodes.h.html#LN191"><span class='Ref_to_Struct'>ExprContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>econtext</span><span class='Delimiter'>; 
</span><a name="LN609"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>doFillOuter</span><span class='Delimiter'>; 
</span><a name="LN610"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>doFillInner</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * get information from node 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a> <span class='Operator'>= </span><a href="../../include/nodes/execnodes.h.html#LN853"><span class='Ref_to_Macro'>innerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN606"><span class='Ref_To_Local'>outerPlan</span></a> <span class='Operator'>= </span><a href="../../include/nodes/execnodes.h.html#LN854"><span class='Ref_to_Macro'>outerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN608"><span class='Ref_To_Local'>econtext</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN842"><span class='Ref_to_Member'>ps_ExprContext</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN600"><span class='Ref_To_Local'>joinqual</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1551"><span class='Ref_to_Member'>joinqual</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN601"><span class='Ref_To_Local'>otherqual</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN826"><span class='Ref_to_Member'>qual</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1604"><span class='Ref_to_Member'>mj_FillOuter</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1605"><span class='Ref_to_Member'>mj_FillInner</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Reset per-tuple memory context to free any expression evaluation 
     * storage allocated in the previous tuple cycle. 
     */ 
</span>    <a href="../../include/executor/executor.h.html#LN449"><span class='Ref_to_Macro'>ResetExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN608"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * ok, everything is setup.. let's go to work 
     */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>;;</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../include/executor/execdebug.h.html#LN105"><span class='Ref_to_Macro'>MJ_dump</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * get the current state of the join and do things accordingly. 
         */ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* 
                 * EXEC_MJ_INITIALIZE_OUTER means that this is the first time 
                 * ExecMergeJoin() has been called and so we have to fetch the 
                 * first matchable tuple for both outer and inner subplans. We 
                 * do the outer side in INITIALIZE_OUTER state, then advance 
                 * to INITIALIZE_INNER state for the inner subplan. 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN104"><span class='Ref_to_Const'>EXEC_MJ_INITIALIZE_OUTER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_INITIALIZE_OUTER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN606"><span class='Ref_To_Local'>outerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Compute join values and check for unmatchability */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN292"><span class='Ref_to_Func'>MJEvalOuterValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* OK to go get the first inner tuple */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN105"><span class='Ref_to_Const'>EXEC_MJ_INITIALIZE_INNER</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* Stay in same state to fetch next outer tuple */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Generate a fake join tuple with nulls for the 
                             * inner tuple, and return it if it passes the 
                             * non-join quals. 
                             */ 
</span><a name="LN670"></a>                            <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                            <a href="nodeMergejoin.c.html#LN670"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN450"><span class='Ref_to_Func'>MJFillOuter</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN670"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                                <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN670"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* No more outer tuples */ 
</span>                        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: nothing in outer subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Need to emit right-join tuples for remaining 
                             * inner tuples. We set MatchedInner = true to 
                             * force the ENDOUTER state to advance inner. 
                             */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN113"><span class='Ref_to_Const'>EXEC_MJ_ENDOUTER</span></a><span class='Delimiter'>; 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Comment_Multi_Line'>/* Otherwise we're done. */ 
</span>                        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalOuterValues(nod... &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN105"><span class='Ref_to_Const'>EXEC_MJ_INITIALIZE_INNER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_INITIALIZE_INNER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Compute join values and check for unmatchability */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN339"><span class='Ref_to_Func'>MJEvalInnerValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * OK, we have the initial tuples.  Begin by skipping 
                         * non-matching tuples. 
                         */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN110"><span class='Ref_to_Const'>EXEC_MJ_SKIP_TEST</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* Mark before advancing, if wanted */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1602"><span class='Ref_to_Member'>mj_ExtraMarks</span></a><span class='Parentheses'>) 
</span>                            <a href="../../include/executor/executor.h.html#LN97"><span class='Ref_to_Proto'>ExecMarkPos</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Comment_Multi_Line'>/* Stay in same state to fetch next inner tuple */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Generate a fake join tuple with nulls for the 
                             * outer tuple, and return it if it passes the 
                             * non-join quals. 
                             */ 
</span><a name="LN725"></a>                            <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                            <a href="nodeMergejoin.c.html#LN725"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN481"><span class='Ref_to_Func'>MJFillInner</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN725"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                                <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN725"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* No more inner tuples */ 
</span>                        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: nothing in inner subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Need to emit left-join tuples for all outer 
                             * tuples, including the one we just fetched.  We 
                             * set MatchedOuter = false to force the ENDINNER 
                             * state to emit first tuple before advancing 
                             * outer. 
                             */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN114"><span class='Ref_to_Const'>EXEC_MJ_ENDINNER</span></a><span class='Delimiter'>; 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Comment_Multi_Line'>/* Otherwise we're done. */ 
</span>                        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalInnerValues(nod... &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * EXEC_MJ_JOINTUPLES means we have two tuples which satisfied 
                 * the merge clause so we join them and then proceed to get 
                 * the next inner tuple (EXEC_MJ_NEXTINNER). 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN106"><span class='Ref_to_Const'>EXEC_MJ_JOINTUPLES</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_JOINTUPLES\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * Set the next state machine state.  The right things will 
                 * happen whether we return this join tuple or just fall 
                 * through to continue the state machine execution. 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN109"><span class='Ref_to_Const'>EXEC_MJ_NEXTINNER</span></a><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * Check the extra qual conditions to see if we actually want 
                 * to return this join tuple.  If not, can proceed with merge. 
                 * We must distinguish the additional joinquals (which must 
                 * pass to consider the tuples "matched" for outer-join logic) 
                 * from the otherquals (which must pass before we actually 
                 * return the tuple). 
                 * 
                 * We don't bother with a ResetExprContext here, on the 
                 * assumption that we just did one while checking the merge 
                 * qual.  One per tuple should be sufficient.  We do have to 
                 * set up the econtext links to the tuples for ExecQual to 
                 * use. 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN608"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN198"><span class='Ref_to_Member'>ecxt_outertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN608"><span class='Ref_To_Local'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN197"><span class='Ref_to_Member'>ecxt_innertuple</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
                <a href="nodeMergejoin.c.html#LN602"><span class='Ref_To_Local'>qualResult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN600"><span class='Ref_To_Local'>joinqual</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| 
</span>                              <a href="../../include/executor/executor.h.html#LN344"><span class='Ref_to_Func'>ExecQual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN600"><span class='Ref_To_Local'>joinqual</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN608"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN108"><span class='Ref_to_Macro'>MJ_DEBUG_QUAL</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN600"><span class='Ref_To_Local'>joinqual</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN602"><span class='Ref_To_Local'>qualResult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN602"><span class='Ref_To_Local'>qualResult</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* In an antijoin, we never return a matched tuple */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1548"><span class='Ref_to_Member'>jointype</span></a> <span class='Operator'>== </span><a href="../../include/nodes/nodes.h.html#LN692"><span class='Ref_to_EnumConst'>JOIN_ANTI</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * If we only need to join to the first matching inner 
                     * tuple, then consider returning this one, but after that 
                     * continue with next outer tuple. 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1549"><span class='Ref_to_Member'>single_match</span></a><span class='Parentheses'>) 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN602"><span class='Ref_To_Local'>qualResult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN601"><span class='Ref_To_Local'>otherqual</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| 
</span>                                  <a href="../../include/executor/executor.h.html#LN344"><span class='Ref_to_Func'>ExecQual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN601"><span class='Ref_To_Local'>otherqual</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN608"><span class='Ref_To_Local'>econtext</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../include/executor/execdebug.h.html#LN108"><span class='Ref_to_Macro'>MJ_DEBUG_QUAL</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN601"><span class='Ref_To_Local'>otherqual</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN602"><span class='Ref_To_Local'>qualResult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN602"><span class='Ref_To_Local'>qualResult</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* 
                         * qualification succeeded.  now form the desired 
                         * projection tuple and return the slot containing it. 
                         */ 
</span>                        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: returning tuple\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>return</span> <a href="../../include/executor/executor.h.html#LN307"><span class='Ref_to_Func'>ExecProject</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN843"><span class='Ref_to_Member'>ps_ProjInfo</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                        <a href="../../include/nodes/execnodes.h.html#LN862"><span class='Ref_to_Macro'>InstrCountFiltered2</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if qualResult &raquo; </span> 
                <span class='Control'>else</span> 
                    <a href="../../include/nodes/execnodes.h.html#LN857"><span class='Ref_to_Macro'>InstrCountFiltered1</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * EXEC_MJ_NEXTINNER means advance the inner scan to the next 
                 * tuple. If the tuple is not nil, we then proceed to test it 
                 * against the join qualification. 
                 * 
                 * Before advancing, we check to see if we must emit an 
                 * outer-join fill tuple for this inner tuple. 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN109"><span class='Ref_to_Const'>EXEC_MJ_NEXTINNER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_NEXTINNER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a> <span class='Operator'>&& !</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Generate a fake join tuple with nulls for the outer 
                     * tuple, and return it if it passes the non-join quals. 
                     */ 
</span><a name="LN849"></a>                    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* do it only once */ 
</span> 
                    <a href="nodeMergejoin.c.html#LN849"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN481"><span class='Ref_to_Func'>MJFillInner</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN849"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN849"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * now we get the next inner tuple, if any.  If there's none, 
                 * advance to next outer tuple (which may be able to join to 
                 * previously marked tuples). 
                 * 
                 * NB: must NOT do "extraMarks" here, since we may need to 
                 * return to previously marked tuples. 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN111"><span class='Ref_to_Macro'>MJ_DEBUG_PROC_NODE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Compute join values and check for unmatchability */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN339"><span class='Ref_to_Func'>MJEvalInnerValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * Test the new inner tuple to see if it matches 
                         * outer. 
                         * 
                         * If they do match, then we join them and move on to 
                         * the next inner tuple (EXEC_MJ_JOINTUPLES). 
                         * 
                         * If they do not match then advance to next outer 
                         * tuple. 
                         */ 
</span>                        <a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN389"><span class='Ref_to_Func'>MJCompare</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../../include/executor/execdebug.h.html#LN106"><span class='Ref_to_Macro'>MJ_DEBUG_COMPARE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN106"><span class='Ref_to_Const'>EXEC_MJ_JOINTUPLES</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * It contains a NULL and hence can't match any outer 
                         * tuple, so we can skip the comparison and assume the 
                         * new tuple is greater than current outer. 
                         */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * No more inner tuples.  However, this might be only 
                         * effective and not physical end of inner plan, so 
                         * force mj_InnerTupleSlot to null to make sure we 
                         * don't fetch more inner tuples.  (We need this hack 
                         * because we are not transiting to a state where the 
                         * inner plan is assumed to be exhausted.) 
                         */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalInnerValues(nod... &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/*------------------------------------------- 
                 * EXEC_MJ_NEXTOUTER means 
                 * 
                 *              outer inner 
                 * outer tuple -  5     5  - marked tuple 
                 *                5     5 
                 *                6     6  - inner tuple 
                 *                7     7 
                 * 
                 * we know we just bumped into the 
                 * first inner tuple &GT; current outer tuple (or possibly 
                 * the end of the inner stream) 
                 * so get a new outer tuple and then 
                 * proceed to test it against the marked tuple 
                 * (EXEC_MJ_TESTOUTER) 
                 * 
                 * Before advancing, we check to see if we must emit an 
                 * outer-join fill tuple for this outer tuple. 
                 *------------------------------------------------ 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_NEXTOUTER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a> <span class='Operator'>&& !</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Generate a fake join tuple with nulls for the inner 
                     * tuple, and return it if it passes the non-join quals. 
                     */ 
</span><a name="LN951"></a>                    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* do it only once */ 
</span> 
                    <a href="nodeMergejoin.c.html#LN951"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN450"><span class='Ref_to_Func'>MJFillOuter</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN951"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN951"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * now we get the next outer tuple, if any 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN606"><span class='Ref_To_Local'>outerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN111"><span class='Ref_to_Macro'>MJ_DEBUG_PROC_NODE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Compute join values and check for unmatchability */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN292"><span class='Ref_to_Func'>MJEvalOuterValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* Go test the new tuple against the marked tuple */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN108"><span class='Ref_to_Const'>EXEC_MJ_TESTOUTER</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* Can't match, so fetch next outer tuple */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN107"><span class='Ref_to_Const'>EXEC_MJ_NEXTOUTER</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* No more outer tuples */ 
</span>                        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: end of outer subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a> <span class='Operator'>&& !</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Need to emit right-join tuples for remaining 
                             * inner tuples. 
                             */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN113"><span class='Ref_to_Const'>EXEC_MJ_ENDOUTER</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Comment_Multi_Line'>/* Otherwise we're done. */ 
</span>                        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalOuterValues(nod... &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/*-------------------------------------------------------- 
                 * EXEC_MJ_TESTOUTER If the new outer tuple and the marked 
                 * tuple satisfy the merge clause then we know we have 
                 * duplicates in the outer scan so we have to restore the 
                 * inner scan to the marked tuple and proceed to join the 
                 * new outer tuple with the inner tuples. 
                 * 
                 * This is the case when 
                 *                        outer inner 
                 *                          4     5  - marked tuple 
                 *           outer tuple -  5     5 
                 *       new outer tuple -  5     5 
                 *                          6     8  - inner tuple 
                 *                          7    12 
                 * 
                 *              new outer tuple == marked tuple 
                 * 
                 * If the outer tuple fails the test, then we are done 
                 * with the marked tuples, and we have to look for a 
                 * match to the current inner tuple.  So we will 
                 * proceed to skip outer tuples until outer &GT;= inner 
                 * (EXEC_MJ_SKIP_TEST). 
                 * 
                 *      This is the case when 
                 * 
                 *                        outer inner 
                 *                          5     5  - marked tuple 
                 *           outer tuple -  5     5 
                 *       new outer tuple -  6     8  - inner tuple 
                 *                          7    12 
                 * 
                 *              new outer tuple &GT; marked tuple 
                 * 
                 *--------------------------------------------------------- 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN108"><span class='Ref_to_Const'>EXEC_MJ_TESTOUTER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_TESTOUTER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * Here we must compare the outer tuple with the marked inner 
                 * tuple.  (We can ignore the result of MJEvalInnerValues, 
                 * since the marked inner tuple is certainly matchable.) 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1610"><span class='Ref_to_Member'>mj_MarkedTupleSlot</span></a><span class='Delimiter'>; 
</span>                <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN339"><span class='Ref_to_Func'>MJEvalInnerValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN389"><span class='Ref_to_Func'>MJCompare</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN106"><span class='Ref_to_Macro'>MJ_DEBUG_COMPARE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * the merge clause matched so now we restore the inner 
                     * scan position to the first mark, and go join that tuple 
                     * (and any following ones) to the new outer. 
                     * 
                     * If we were able to determine mark and restore are not 
                     * needed, then we don't have to back up; the current 
                     * inner is already the first possible match. 
                     * 
                     * NOTE: we do not need to worry about the MatchedInner 
                     * state for the rescanned inner tuples.  We know all of 
                     * them will match this new outer tuple and therefore 
                     * won't be emitted as fill tuples.  This works *only* 
                     * because we require the extra joinquals to be constant 
                     * when doing a right or full join --- otherwise some of 
                     * the rescanned tuples might fail the extra joinquals. 
                     * This obviously won't happen for a constant-true extra 
                     * joinqual, while the constant-false case is handled by 
                     * forcing the merge clause to never match, so we never 
                     * get here. 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1601"><span class='Ref_to_Member'>mj_SkipMarkRestore</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="../../include/executor/executor.h.html#LN98"><span class='Ref_to_Proto'>ExecRestrPos</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * ExecRestrPos probably should give us back a new 
                         * Slot, but since it doesn't, use the marked slot. 
                         * (The previously returned mj_InnerTupleSlot cannot 
                         * be assumed to hold the required tuple.) 
                         */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Delimiter'>; 
</span>                        <span class='Comment_Multi_Line'>/* we need not do MJEvalInnerValues again */ 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN106"><span class='Ref_to_Const'>EXEC_MJ_JOINTUPLES</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if compareResult==0 &raquo; </span> 
                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* ---------------- 
                     *  if the new outer tuple didn't match the marked inner 
                     *  tuple then we have a case like: 
                     * 
                     *           outer inner 
                     *             4     4  - marked tuple 
                     * new outer - 5     4 
                     *             6     5  - inner tuple 
                     *             7 
                     * 
                     *  which means that all subsequent outer tuples will be 
                     *  larger than our marked inner tuples.  So we need not 
                     *  revisit any of the marked tuples but can proceed to 
                     *  look for a match to the current inner.  If there's 
                     *  no more inners, no more matches are possible. 
                     * ---------------- 
                     */ 
</span>                    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* reload comparison data for current inner */ 
</span>                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN339"><span class='Ref_to_Func'>MJEvalInnerValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/* proceed to compare it to the current outer */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN110"><span class='Ref_to_Const'>EXEC_MJ_SKIP_TEST</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span> 
                            <span class='Comment_Multi_Line'>/* 
                             * current inner can't possibly match any outer; 
                             * better to advance the inner scan than the 
                             * outer. 
                             */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN112"><span class='Ref_to_Const'>EXEC_MJ_SKIPINNER_ADVANCE</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/* No more inner tuples */ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <span class='Comment_Multi_Line'>/* 
                                 * Need to emit left-join tuples for remaining 
                                 * outer tuples. 
                                 */ 
</span>                                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN114"><span class='Ref_to_Const'>EXEC_MJ_ENDINNER</span></a><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Comment_Multi_Line'>/* Otherwise we're done. */ 
</span>                            <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalInnerValues(nod... &raquo; </span> 
                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/*---------------------------------------------------------- 
                 * EXEC_MJ_SKIP means compare tuples and if they do not 
                 * match, skip whichever is lesser. 
                 * 
                 * For example: 
                 * 
                 *              outer inner 
                 *                5     5 
                 *                5     5 
                 * outer tuple -  6     8  - inner tuple 
                 *                7    12 
                 *                8    14 
                 * 
                 * we have to advance the outer scan 
                 * until we find the outer 8. 
                 * 
                 * On the other hand: 
                 * 
                 *              outer inner 
                 *                5     5 
                 *                5     5 
                 * outer tuple - 12     8  - inner tuple 
                 *               14    10 
                 *               17    12 
                 * 
                 * we have to advance the inner scan 
                 * until we find the inner 12. 
                 *---------------------------------------------------------- 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN110"><span class='Ref_to_Const'>EXEC_MJ_SKIP_TEST</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_SKIP_TEST\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * before we advance, make sure the current tuples do not 
                 * satisfy the mergeclauses.  If they do, then we update the 
                 * marked tuple position and go join them. 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN389"><span class='Ref_to_Func'>MJCompare</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN106"><span class='Ref_to_Macro'>MJ_DEBUG_COMPARE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1601"><span class='Ref_to_Member'>mj_SkipMarkRestore</span></a><span class='Parentheses'>) 
</span>                        <a href="../../include/executor/executor.h.html#LN97"><span class='Ref_to_Proto'>ExecMarkPos</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN150"><span class='Ref_to_Macro'>MarkInnerTuple</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN106"><span class='Ref_to_Const'>EXEC_MJ_JOINTUPLES</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN603"><span class='Ref_To_Local'>compareResult</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN111"><span class='Ref_to_Const'>EXEC_MJ_SKIPOUTER_ADVANCE</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <span class='Comment_Multi_Line'>/* compareResult &GT; 0 */ 
</span>                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN112"><span class='Ref_to_Const'>EXEC_MJ_SKIPINNER_ADVANCE</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * SKIPOUTER_ADVANCE: advance over an outer tuple that is 
                 * known not to join to any inner tuple. 
                 * 
                 * Before advancing, we check to see if we must emit an 
                 * outer-join fill tuple for this outer tuple. 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN111"><span class='Ref_to_Const'>EXEC_MJ_SKIPOUTER_ADVANCE</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_SKIPOUTER_ADVANCE\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a> <span class='Operator'>&& !</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Generate a fake join tuple with nulls for the inner 
                     * tuple, and return it if it passes the non-join quals. 
                     */ 
</span><a name="LN1212"></a>                    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* do it only once */ 
</span> 
                    <a href="nodeMergejoin.c.html#LN1212"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN450"><span class='Ref_to_Func'>MJFillOuter</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1212"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN1212"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * now we get the next outer tuple, if any 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN606"><span class='Ref_To_Local'>outerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN111"><span class='Ref_to_Macro'>MJ_DEBUG_PROC_NODE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Compute join values and check for unmatchability */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN292"><span class='Ref_to_Func'>MJEvalOuterValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* Go test the new tuple against the current inner */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN110"><span class='Ref_to_Const'>EXEC_MJ_SKIP_TEST</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* Can't match, so fetch next outer tuple */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN111"><span class='Ref_to_Const'>EXEC_MJ_SKIPOUTER_ADVANCE</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* No more outer tuples */ 
</span>                        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: end of outer subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a> <span class='Operator'>&& !</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Need to emit right-join tuples for remaining 
                             * inner tuples. 
                             */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN113"><span class='Ref_to_Const'>EXEC_MJ_ENDOUTER</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Comment_Multi_Line'>/* Otherwise we're done. */ 
</span>                        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalOuterValues(nod... &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * SKIPINNER_ADVANCE: advance over an inner tuple that is 
                 * known not to join to any outer tuple. 
                 * 
                 * Before advancing, we check to see if we must emit an 
                 * outer-join fill tuple for this inner tuple. 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN112"><span class='Ref_to_Const'>EXEC_MJ_SKIPINNER_ADVANCE</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_SKIPINNER_ADVANCE\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a> <span class='Operator'>&& !</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Generate a fake join tuple with nulls for the outer 
                     * tuple, and return it if it passes the non-join quals. 
                     */ 
</span><a name="LN1274"></a>                    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* do it only once */ 
</span> 
                    <a href="nodeMergejoin.c.html#LN1274"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN481"><span class='Ref_to_Func'>MJFillInner</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1274"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN1274"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Mark before advancing, if wanted */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1602"><span class='Ref_to_Member'>mj_ExtraMarks</span></a><span class='Parentheses'>) 
</span>                    <a href="../../include/executor/executor.h.html#LN97"><span class='Ref_to_Proto'>ExecMarkPos</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * now we get the next inner tuple, if any 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN111"><span class='Ref_to_Macro'>MJ_DEBUG_PROC_NODE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Compute join values and check for unmatchability */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN339"><span class='Ref_to_Func'>MJEvalInnerValues</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN144"><span class='Ref_to_EnumConst'>MJEVAL_MATCHABLE</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* proceed to compare it to the current outer */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN110"><span class='Ref_to_Const'>EXEC_MJ_SKIP_TEST</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN145"><span class='Ref_to_EnumConst'>MJEVAL_NONMATCHABLE</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * current inner can't possibly match any outer; 
                         * better to advance the inner scan than the outer. 
                         */ 
</span>                        <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN112"><span class='Ref_to_Const'>EXEC_MJ_SKIPINNER_ADVANCE</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN146"><span class='Ref_to_EnumConst'>MJEVAL_ENDOFJOIN</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* No more inner tuples */ 
</span>                        <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: end of inner subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a> <span class='Operator'>&& !</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Need to emit left-join tuples for remaining 
                             * outer tuples. 
                             */ 
</span>                            <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN114"><span class='Ref_to_Const'>EXEC_MJ_ENDINNER</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Comment_Multi_Line'>/* Otherwise we're done. */ 
</span>                        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch MJEvalInnerValues(nod... &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * EXEC_MJ_ENDOUTER means we have run out of outer tuples, but 
                 * are doing a right/full join and therefore must null-fill 
                 * any remaining unmatched inner tuples. 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN113"><span class='Ref_to_Const'>EXEC_MJ_ENDOUTER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_ENDOUTER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN610"><span class='Ref_To_Local'>doFillInner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Generate a fake join tuple with nulls for the outer 
                     * tuple, and return it if it passes the non-join quals. 
                     */ 
</span><a name="LN1344"></a>                    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* do it only once */ 
</span> 
                    <a href="nodeMergejoin.c.html#LN1344"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN481"><span class='Ref_to_Func'>MJFillInner</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1344"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN1344"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Mark before advancing, if wanted */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1602"><span class='Ref_to_Member'>mj_ExtraMarks</span></a><span class='Parentheses'>) 
</span>                    <a href="../../include/executor/executor.h.html#LN97"><span class='Ref_to_Proto'>ExecMarkPos</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * now we get the next inner tuple, if any 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN604"><span class='Ref_To_Local'>innerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN111"><span class='Ref_to_Macro'>MJ_DEBUG_PROC_NODE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN605"><span class='Ref_To_Local'>innerTupleSlot</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: end of inner subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Else remain in ENDOUTER state and process next tuple. */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * EXEC_MJ_ENDINNER means we have run out of inner tuples, but 
                 * are doing a left/full join and therefore must null- fill 
                 * any remaining unmatched outer tuples. 
                 */ 
</span>            <span class='Control'>case</span> <a href="nodeMergejoin.c.html#LN114"><span class='Ref_to_Const'>EXEC_MJ_ENDINNER</span></a><span class='Operator'>: 
</span>                <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: EXEC_MJ_ENDINNER\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN609"><span class='Ref_To_Local'>doFillOuter</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Generate a fake join tuple with nulls for the inner 
                     * tuple, and return it if it passes the non-join quals. 
                     */ 
</span><a name="LN1390"></a>                    <a href="../../include/executor/tuptable.h.html#LN112"><span class='Ref_to_Struct'>TupleTableSlot</span></a> <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* do it only once */ 
</span> 
                    <a href="nodeMergejoin.c.html#LN1390"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN450"><span class='Ref_to_Func'>MJFillOuter</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1390"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN1390"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * now we get the next outer tuple, if any 
                 */ 
</span>                <a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN229"><span class='Ref_to_Proto'>ExecProcNode</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN606"><span class='Ref_To_Local'>outerPlan</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/executor/execdebug.h.html#LN111"><span class='Ref_to_Macro'>MJ_DEBUG_PROC_NODE</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/executor/tuptable.h.html#LN137"><span class='Ref_to_Macro'>TupIsNull</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN607"><span class='Ref_To_Local'>outerTupleSlot</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../include/executor/execdebug.h.html#LN101"><span class='Ref_to_Macro'>MJ_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecMergeJoin: end of outer subplan\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Else remain in ENDINNER state and process next tuple. */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * broken state value? 
                 */ 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized mergejoin state: %d"</span><span class='Delimiter'>, 
</span>                     <span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN598"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch node-&GT;mj_JoinState &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for ;; &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ExecMergeJoin &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* ---------------------------------------------------------------- 
 *      ExecInitMergeJoin 
 * ---------------------------------------------------------------- 
 */ 
</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>* 
</span><a name="LN1431"></a><span class='Declare_Function'>ExecInitMergeJoin</span><span class='Parentheses'>(</span><a href="../../include/nodes/plannodes.h.html#LN708"><span class='Ref_to_Struct'>MergeJoin</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Delimiter'>, </span><a href="../../include/nodes/execnodes.h.html#LN402"><span class='Ref_to_Struct'>EState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>estate</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>eflags</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1433"></a>    <a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Local'>mergestate</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* check for unsupported flags */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>eflags</span></a> <span class='Operator'>& </span><span class='Parentheses'>(</span><a href="../../include/executor/executor.h.html#LN59"><span class='Ref_to_Const'>EXEC_FLAG_BACKWARD</span></a> <span class='Operator'>| </span><a href="../../include/executor/executor.h.html#LN60"><span class='Ref_to_Const'>EXEC_FLAG_MARK</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/executor/execdebug.h.html#LN102"><span class='Ref_to_Macro'>MJ1_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecInitMergeJoin: %s\n"</span><span class='Delimiter'>, 
</span>               <span class='String'>"initializing node"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * create state structure 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN812"><span class='Ref_to_Member'>plan</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/plannodes.h.html#LN117"><span class='Ref_to_Struct'>Plan</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN814"><span class='Ref_to_Member'>state</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Miscellaneous initialization 
     * 
     * create expression context for node 
     */ 
</span>    <a href="execUtils.c.html#LN416"><span class='Ref_to_Func'>ExecAssignExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * we need two additional econtexts in which we can compute the join 
     * expressions from the left and right input tuples.  The node's regular 
     * econtext won't do because it gets reset too often. 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1613"><span class='Ref_to_Member'>mj_OuterEContext</span></a> <span class='Operator'>= </span><a href="execUtils.c.html#LN216"><span class='Ref_to_Func'>CreateExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1614"><span class='Ref_to_Member'>mj_InnerEContext</span></a> <span class='Operator'>= </span><a href="execUtils.c.html#LN216"><span class='Ref_to_Func'>CreateExprContext</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * initialize child expressions 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN826"><span class='Ref_to_Member'>qual</span></a> <span class='Operator'>= 
</span>        <a href="execExpr.c.html#LN158"><span class='Ref_to_Func'>ExecInitQual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN667"><span class='Ref_to_Member'>plan</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN144"><span class='Ref_to_Member'>qual</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN808"><span class='Ref_to_Struct'>PlanState</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1548"><span class='Ref_to_Member'>jointype</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN668"><span class='Ref_to_Member'>jointype</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1551"><span class='Ref_to_Member'>joinqual</span></a> <span class='Operator'>= 
</span>        <a href="execExpr.c.html#LN158"><span class='Ref_to_Func'>ExecInitQual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN670"><span class='Ref_to_Member'>joinqual</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN808"><span class='Ref_to_Struct'>PlanState</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1603"><span class='Ref_to_Member'>mj_ConstFalseJoin</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* mergeclauses are handled below */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * initialize child nodes 
     * 
     * inner child must support MARK/RESTORE, unless we have detected that we 
     * don't need that.  Note that skip_mark_restore must never be set if 
     * there are non-mergeclause joinquals, since the logic wouldn't work. 
     */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN670"><span class='Ref_to_Member'>joinqual</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a> <span class='Operator'>|| !</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN711"><span class='Ref_to_Member'>skip_mark_restore</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1601"><span class='Ref_to_Member'>mj_SkipMarkRestore</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN711"><span class='Ref_to_Member'>skip_mark_restore</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/execnodes.h.html#LN854"><span class='Ref_to_Macro'>outerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>) </span><span class='Operator'>= </span><a href="execProcnode.c.html#LN138"><span class='Ref_to_Func'>ExecInitNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/plannodes.h.html#LN173"><span class='Ref_to_Macro'>outerPlan</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>eflags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/execnodes.h.html#LN853"><span class='Ref_to_Macro'>innerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>) </span><span class='Operator'>= </span><a href="execProcnode.c.html#LN138"><span class='Ref_to_Func'>ExecInitNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/plannodes.h.html#LN172"><span class='Ref_to_Macro'>innerPlan</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, 
</span>                                              <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1601"><span class='Ref_to_Member'>mj_SkipMarkRestore</span></a> <span class='Operator'>? 
</span>                                              <a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>eflags</span></a> <span class='Operator'>: 
</span>                                              <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>eflags</span></a> <span class='Operator'>| </span><a href="../../include/executor/executor.h.html#LN60"><span class='Ref_to_Const'>EXEC_FLAG_MARK</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * For certain types of inner child nodes, it is advantageous to issue 
     * MARK every time we advance past an inner tuple we will never return to. 
     * For other types, MARK on a tuple we cannot return to is a waste of 
     * cycles.  Detect which case applies and set mj_ExtraMarks if we want to 
     * issue "unnecessary" MARK calls. 
     * 
     * Currently, only Material wants the extra MARKs, and it will be helpful 
     * only if eflags doesn't specify REWIND. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/plannodes.h.html#LN172"><span class='Ref_to_Macro'>innerPlan</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/nodes/plannodes.h.html#LN734"><span class='Ref_to_Struct'>Material</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>        <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>eflags</span></a> <span class='Operator'>& </span><a href="../../include/executor/executor.h.html#LN58"><span class='Ref_to_Const'>EXEC_FLAG_REWIND</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& 
</span>        <span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1601"><span class='Ref_to_Member'>mj_SkipMarkRestore</span></a><span class='Parentheses'>)</span> 
        <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1602"><span class='Ref_to_Member'>mj_ExtraMarks</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1602"><span class='Ref_to_Member'>mj_ExtraMarks</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * tuple table initialization 
     */ 
</span>    <a href="../../include/executor/executor.h.html#LN400"><span class='Ref_to_Proto'>ExecInitResultTupleSlot</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1610"><span class='Ref_to_Member'>mj_MarkedTupleSlot</span></a> <span class='Operator'>= </span><a href="../../include/executor/executor.h.html#LN402"><span class='Ref_to_Proto'>ExecInitExtraTupleSlot</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/executor/tuptable.h.html#LN146"><span class='Ref_to_Proto'>ExecSetSlotDescriptor</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1610"><span class='Ref_to_Member'>mj_MarkedTupleSlot</span></a><span class='Delimiter'>, 
</span>                          <a href="execUtils.c.html#LN467"><span class='Ref_to_Func'>ExecGetResultType</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN853"><span class='Ref_to_Macro'>innerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * detect whether we need only consider the first matching inner tuple 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1549"><span class='Ref_to_Member'>single_match</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN669"><span class='Ref_to_Member'>inner_unique</span></a> <span class='Operator'>|| 
</span>                                   <a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN668"><span class='Ref_to_Member'>jointype</span></a> <span class='Operator'>== </span><a href="../../include/nodes/nodes.h.html#LN691"><span class='Ref_to_EnumConst'>JOIN_SEMI</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* set up null tuples for outer joins, if needed */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN668"><span class='Ref_to_Member'>jointype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN677"><span class='Ref_to_EnumConst'>JOIN_INNER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN691"><span class='Ref_to_EnumConst'>JOIN_SEMI</span></a><span class='Operator'>: 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1604"><span class='Ref_to_Member'>mj_FillOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1605"><span class='Ref_to_Member'>mj_FillInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN678"><span class='Ref_to_EnumConst'>JOIN_LEFT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN692"><span class='Ref_to_EnumConst'>JOIN_ANTI</span></a><span class='Operator'>: 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1604"><span class='Ref_to_Member'>mj_FillOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1605"><span class='Ref_to_Member'>mj_FillInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1612"><span class='Ref_to_Member'>mj_NullInnerTupleSlot</span></a> <span class='Operator'>= 
</span>                <a href="../../include/executor/executor.h.html#LN403"><span class='Ref_to_Proto'>ExecInitNullTupleSlot</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, 
</span>                              <a href="execUtils.c.html#LN467"><span class='Ref_to_Func'>ExecGetResultType</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN853"><span class='Ref_to_Macro'>innerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN680"><span class='Ref_to_EnumConst'>JOIN_RIGHT</span></a><span class='Operator'>: 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1604"><span class='Ref_to_Member'>mj_FillOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1605"><span class='Ref_to_Member'>mj_FillInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1611"><span class='Ref_to_Member'>mj_NullOuterTupleSlot</span></a> <span class='Operator'>= 
</span>                <a href="../../include/executor/executor.h.html#LN403"><span class='Ref_to_Proto'>ExecInitNullTupleSlot</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, 
</span>                              <a href="execUtils.c.html#LN467"><span class='Ref_to_Func'>ExecGetResultType</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN854"><span class='Ref_to_Macro'>outerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Can't handle right or full join with non-constant extra 
             * joinclauses.  This should have been caught by planner. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN517"><span class='Ref_to_Func'>check_constant_qual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN670"><span class='Ref_to_Member'>joinqual</span></a><span class='Delimiter'>, 
</span>                                     <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1603"><span class='Ref_to_Member'>mj_ConstFalseJoin</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"RIGHT JOIN is only supported with merge-joinable join conditions"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN679"><span class='Ref_to_EnumConst'>JOIN_FULL</span></a><span class='Operator'>: 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1604"><span class='Ref_to_Member'>mj_FillOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1605"><span class='Ref_to_Member'>mj_FillInner</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1611"><span class='Ref_to_Member'>mj_NullOuterTupleSlot</span></a> <span class='Operator'>= 
</span>                <a href="../../include/executor/executor.h.html#LN403"><span class='Ref_to_Proto'>ExecInitNullTupleSlot</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, 
</span>                              <a href="execUtils.c.html#LN467"><span class='Ref_to_Func'>ExecGetResultType</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN854"><span class='Ref_to_Macro'>outerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1612"><span class='Ref_to_Member'>mj_NullInnerTupleSlot</span></a> <span class='Operator'>= 
</span>                <a href="../../include/executor/executor.h.html#LN403"><span class='Ref_to_Proto'>ExecInitNullTupleSlot</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>estate</span></a><span class='Delimiter'>, 
</span>                              <a href="execUtils.c.html#LN467"><span class='Ref_to_Func'>ExecGetResultType</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN853"><span class='Ref_to_Macro'>innerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Can't handle right or full join with non-constant extra 
             * joinclauses.  This should have been caught by planner. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="nodeMergejoin.c.html#LN517"><span class='Ref_to_Func'>check_constant_qual</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN670"><span class='Ref_to_Member'>joinqual</span></a><span class='Delimiter'>, 
</span>                                     <span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1603"><span class='Ref_to_Member'>mj_ConstFalseJoin</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"FULL JOIN is only supported with merge-joinable join conditions"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized join type: %d"</span><span class='Delimiter'>, 
</span>                 <span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN710"><span class='Ref_to_Member'>join</span></a><span class='Operator'>.</span><a href="../../include/nodes/plannodes.h.html#LN668"><span class='Ref_to_Member'>jointype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch node-&GT;join.jointype &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * initialize tuple type and projection info 
     */ 
</span>    <a href="execUtils.c.html#LN438"><span class='Ref_to_Func'>ExecAssignResultTypeFromTL</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/executor/executor.h.html#LN474"><span class='Ref_to_Proto'>ExecAssignProjectionInfo</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * preprocess the merge clauses 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1598"><span class='Ref_to_Member'>mj_NumClauses</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN712"><span class='Ref_to_Member'>mergeclauses</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1599"><span class='Ref_to_Member'>mj_Clauses</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN173"><span class='Ref_to_Func'>MJExamineQuals</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN712"><span class='Ref_to_Member'>mergeclauses</span></a><span class='Delimiter'>, 
</span>                                            <a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN714"><span class='Ref_to_Member'>mergeFamilies</span></a><span class='Delimiter'>, 
</span>                                            <a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN715"><span class='Ref_to_Member'>mergeCollations</span></a><span class='Delimiter'>, 
</span>                                            <a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN716"><span class='Ref_to_Member'>mergeStrategies</span></a><span class='Delimiter'>, 
</span>                                            <a href="nodeMergejoin.c.html#LN1431"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/plannodes.h.html#LN717"><span class='Ref_to_Member'>mergeNullsFirst</span></a><span class='Delimiter'>, 
</span>                                            <span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN808"><span class='Ref_to_Struct'>PlanState</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * initialize join state 
     */ 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN104"><span class='Ref_to_Const'>EXEC_MJ_INITIALIZE_OUTER</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * initialization successful 
     */ 
</span>    <a href="../../include/executor/execdebug.h.html#LN102"><span class='Ref_to_Macro'>MJ1_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecInitMergeJoin: %s\n"</span><span class='Delimiter'>, 
</span>               <span class='String'>"node initialized"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="nodeMergejoin.c.html#LN1433"><span class='Ref_To_Local'>mergestate</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecInitMergeJoin &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* ---------------------------------------------------------------- 
 *      ExecEndMergeJoin 
 * 
 * old comments 
 *      frees storage allocated through C routines. 
 * ---------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1623"></a><span class='Declare_Function'>ExecEndMergeJoin</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../include/executor/execdebug.h.html#LN102"><span class='Ref_to_Macro'>MJ1_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecEndMergeJoin: %s\n"</span><span class='Delimiter'>, 
</span>               <span class='String'>"ending node processing"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Free the exprcontext 
     */ 
</span>    <a href="../../include/executor/executor.h.html#LN476"><span class='Ref_to_Proto'>ExecFreeExprContext</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="nodeMergejoin.c.html#LN1623"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * clean out the tuple table 
     */ 
</span>    <a href="../../include/executor/tuptable.h.html#LN154"><span class='Ref_to_Proto'>ExecClearTuple</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1623"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN841"><span class='Ref_to_Member'>ps_ResultTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/executor/tuptable.h.html#LN154"><span class='Ref_to_Proto'>ExecClearTuple</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1623"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1610"><span class='Ref_to_Member'>mj_MarkedTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * shut down the subplans 
     */ 
</span>    <a href="../../include/executor/executor.h.html#LN231"><span class='Ref_to_Proto'>ExecEndNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN853"><span class='Ref_to_Macro'>innerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1623"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../include/executor/executor.h.html#LN231"><span class='Ref_to_Proto'>ExecEndNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN854"><span class='Ref_to_Macro'>outerPlanState</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1623"><span class='Ref_to_Parameter'>node</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/executor/execdebug.h.html#LN102"><span class='Ref_to_Macro'>MJ1_printf</span></a><span class='Parentheses'>(</span><span class='String'>"ExecEndMergeJoin: %s\n"</span><span class='Delimiter'>, 
</span>               <span class='String'>"node processing ended"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ExecEndMergeJoin &raquo; </span> 
 
<span class='Keyword'>void 
</span><a name="LN1650"></a><span class='Declare_Function'>ExecReScanMergeJoin</span><span class='Parentheses'>(</span><a href="../../include/nodes/execnodes.h.html#LN1595"><span class='Ref_to_Struct'>MergeJoinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../include/executor/tuptable.h.html#LN154"><span class='Ref_to_Proto'>ExecClearTuple</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1610"><span class='Ref_to_Member'>mj_MarkedTupleSlot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1600"><span class='Ref_to_Member'>mj_JoinState</span></a> <span class='Operator'>= </span><a href="nodeMergejoin.c.html#LN104"><span class='Ref_to_Const'>EXEC_MJ_INITIALIZE_OUTER</span></a><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1606"><span class='Ref_to_Member'>mj_MatchedOuter</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1607"><span class='Ref_to_Member'>mj_MatchedInner</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1608"><span class='Ref_to_Member'>mj_OuterTupleSlot</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1609"><span class='Ref_to_Member'>mj_InnerTupleSlot</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * if chgParam of subnodes is not null then plans will be re-scanned by 
     * first ExecProcNode. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN827"><span class='Ref_to_Member'>lefttree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN836"><span class='Ref_to_Member'>chgParam</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="execAmi.c.html#LN73"><span class='Ref_to_Func'>ExecReScan</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN827"><span class='Ref_to_Member'>lefttree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN828"><span class='Ref_to_Member'>righttree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN836"><span class='Ref_to_Member'>chgParam</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="execAmi.c.html#LN73"><span class='Ref_to_Func'>ExecReScan</span></a><span class='Parentheses'>(</span><a href="nodeMergejoin.c.html#LN1650"><span class='Ref_to_Parameter'>node</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/execnodes.h.html#LN1597"><span class='Ref_to_Member'>js</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN1547"><span class='Ref_to_Member'>ps</span></a><span class='Operator'>.</span><a href="../../include/nodes/execnodes.h.html#LN828"><span class='Ref_to_Member'>righttree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ExecReScanMergeJoin &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>