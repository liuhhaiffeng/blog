<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\nodes\bitmapset.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\nodes\bitmapset.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:40 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * bitmapset.c 
 *    PostgreSQL generic bitmap set package 
 * 
 * A bitmap set can represent any set of nonnegative integers, although 
 * it is mainly intended for sets where the maximum value is not large, 
 * say at most a few hundred.  By convention, a NULL pointer is always 
 * accepted by all operations to represent the empty set.  (But beware 
 * that this is not the only representation of the empty set.  Use 
 * bms_is_empty() in preference to testing for NULL.) 
 * 
 * 
 * Copyright (c) 2003-2017, PostgreSQL Global Development Group 
 * 
 * IDENTIFICATION 
 *    src/backend/nodes/bitmapset.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/hash.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"nodes/pg_list.h"</span> 
 
 
<a name="LN26"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>WORDNUM</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="../../include/nodes/bitmapset.h.html#LN32"><span class='Ref_to_Const'>BITS_PER_BITMAPWORD</span></a><span class='Parentheses'>)</span> 
<a name="LN27"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>BITNUM</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>   <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>) </span><span class='Operator'>% </span><a href="../../include/nodes/bitmapset.h.html#LN32"><span class='Ref_to_Const'>BITS_PER_BITMAPWORD</span></a><span class='Parentheses'>)</span> 
 
<a name="LN29"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>BITMAPSET_SIZE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nwords</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a><span class='Delimiter'>, </span>words<span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN29"><span class='Ref_to_Parameter'>nwords</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/*---------- 
 * This is a well-known cute trick for isolating the rightmost one-bit 
 * in a word.  It assumes two's complement arithmetic.  Consider any 
 * nonzero value, and focus attention on the rightmost one.  The value is 
 * then something like 
 *              xxxxxx10000 
 * where x's are unspecified bits.  The two's complement negative is formed 
 * by inverting all the bits and adding one.  Inversion gives 
 *              yyyyyy01111 
 * where each y is the inverse of the corresponding x.  Incrementing gives 
 *              yyyyyy10000 
 * and then ANDing with the original value gives 
 *              00000010000 
 * This works for all cases except original value = zero, where of course 
 * we get zero. 
 *---------- 
 */ 
</span><a name="LN49"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>RIGHTMOST_ONE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) ((</span><a href="../../include/nodes/bitmapset.h.html#LN34"><span class='Ref_to_Typedef'>signedbitmapword</span></a><span class='Parentheses'>)</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN49"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span> <span class='Operator'>& -</span><span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN34"><span class='Ref_to_Typedef'>signedbitmapword</span></a><span class='Parentheses'>) (</span><a href="bitmapset.c.html#LN49"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)))</span> 
 
<a name="LN51"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HAS_MULTIPLE_ONES</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>    <span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><a href="bitmapset.c.html#LN49"><span class='Ref_to_Macro'>RIGHTMOST_ONE</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN51"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN51"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>))</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Lookup tables to avoid need for bit-by-bit groveling 
 * 
 * rightmost_one_pos[x] gives the bit number (0-7) of the rightmost one bit 
 * in a nonzero byte value x.  The entry for x=0 is never used. 
 * 
 * number_of_ones[x] gives the number of one-bits (0-8) in a byte value x. 
 * 
 * We could make these tables larger and reduce the number of iterations 
 * in the functions that use them, but bytewise shifts and masks are 
 * especially fast on many machines, so working a byte at a time seems best. 
 */ 
</span> 
<a name="LN67"></a><span class='Keyword'>static const </span><a href="../../include/c.h.html#LN265"><span class='Ref_to_Typedef'>uint8</span></a> <span class='Declare_Var'>rightmost_one_pos</span><span class='Delimiter'>[</span><span class='Number'>256</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span> 
<span class='Delimiter'>}; 
</span> 
<a name="LN86"></a><span class='Keyword'>static const </span><a href="../../include/c.h.html#LN265"><span class='Ref_to_Typedef'>uint8</span></a> <span class='Declare_Var'>number_of_ones</span><span class='Delimiter'>[</span><span class='Number'>256</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, 
</span>    <span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, 
</span>    <span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, 
</span>    <span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>    <span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, 
</span>    <span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>    <span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>    <span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, 
</span>    <span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, 
</span>    <span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>    <span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>    <span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, 
</span>    <span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>    <span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, 
</span>    <span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, 
</span>    <span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>8</span> 
<span class='Delimiter'>}; 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_copy - make a palloc'd copy of a bitmapset 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN110"></a><span class='Declare_Function'>bms_copy</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN112"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN113"></a>    size_t      <span class='Declare_Local'>size</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN110"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN113"><span class='Ref_To_Local'>size</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN29"><span class='Ref_to_Macro'>BITMAPSET_SIZE</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN110"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN112"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN113"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    memcpy<span class='Parentheses'>(</span><a href="bitmapset.c.html#LN112"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN110"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN113"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN112"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * bms_equal - are two bitmapsets equal? 
 * 
 * This is logical not physical equality; in particular, a NULL pointer will 
 * be reported as equal to a palloc'd value containing no members. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN130"></a><span class='Declare_Function'>bms_equal</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN132"></a>    <span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Local'>shorter</span><span class='Delimiter'>; 
</span><a name="LN133"></a>    <span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Local'>longer</span><span class='Delimiter'>; 
</span><a name="LN134"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN135"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>longlen</span><span class='Delimiter'>; 
</span><a name="LN136"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN85"><span class='Ref_to_Proto'>bms_is_empty</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN85"><span class='Ref_to_Proto'>bms_is_empty</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Identify shorter and longer input */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&LT;= </span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN132"><span class='Ref_To_Local'>shorter</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN133"><span class='Ref_To_Local'>longer</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN132"><span class='Ref_To_Local'>shorter</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN133"><span class='Ref_To_Local'>longer</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN130"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* And process */ 
</span>    <a href="bitmapset.c.html#LN134"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN132"><span class='Ref_To_Local'>shorter</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN134"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN132"><span class='Ref_To_Local'>shorter</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><a href="bitmapset.c.html#LN133"><span class='Ref_To_Local'>longer</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="bitmapset.c.html#LN135"><span class='Ref_To_Local'>longlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN133"><span class='Ref_To_Local'>longer</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN135"><span class='Ref_To_Local'>longlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN133"><span class='Ref_To_Local'>longer</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN136"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_equal &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_make_singleton - build a bitmapset containing a single member 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN178"></a><span class='Declare_Function'>bms_make_singleton</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN180"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN181"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>, 
</span><a name="LN182"></a>                <span class='Declare_Local'>bitnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN178"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"negative bitmapset member not allowed"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN181"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Macro'>WORDNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN178"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN182"><span class='Ref_To_Local'>bitnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Macro'>BITNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN178"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN180"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN34"><span class='Ref_to_Proto'>palloc0</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN29"><span class='Ref_to_Macro'>BITMAPSET_SIZE</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN181"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN180"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN181"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN180"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN181"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><a href="bitmapset.c.html#LN182"><span class='Ref_To_Local'>bitnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN180"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * bms_free - free a bitmapset 
 * 
 * Same as pfree except for allowing NULL input 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN200"></a><span class='Declare_Function'>bms_free</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN200"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN200"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * These operations all make a freshly palloc'd result, 
 * leaving their inputs untouched 
 */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_union - set union 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN217"></a><span class='Declare_Function'>bms_union</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN219"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN220"></a>    <span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Local'>other</span><span class='Delimiter'>; 
</span><a name="LN221"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>otherlen</span><span class='Delimiter'>; 
</span><a name="LN222"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Identify shorter and longer input; copy the longer one */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&LT;= </span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN219"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN220"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN219"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN220"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN217"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* And union the shorter input into the result */ 
</span>    <a href="bitmapset.c.html#LN221"><span class='Ref_To_Local'>otherlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN220"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN222"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN222"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN221"><span class='Ref_To_Local'>otherlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN222"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN219"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN222"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>|= </span><a href="bitmapset.c.html#LN220"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN222"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN219"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_union &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_intersect - set intersection 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN251"></a><span class='Declare_Function'>bms_intersect</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN253"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN254"></a>    <span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Local'>other</span><span class='Delimiter'>; 
</span><a name="LN255"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>resultlen</span><span class='Delimiter'>; 
</span><a name="LN256"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| </span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Identify shorter and longer input; copy the shorter one */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&LT;= </span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN253"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN254"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN253"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN254"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN251"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* And intersect the longer input with the result */ 
</span>    <a href="bitmapset.c.html#LN255"><span class='Ref_To_Local'>resultlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN253"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN256"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN256"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN255"><span class='Ref_To_Local'>resultlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN256"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN253"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN256"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>&= </span><a href="bitmapset.c.html#LN254"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN256"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN253"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_intersect &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_difference - set difference (ie, A without members of B) 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN283"></a><span class='Declare_Function'>bms_difference</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN285"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN286"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN287"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Copy the left input */ 
</span>    <a href="bitmapset.c.html#LN285"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* And remove b's bits from result */ 
</span>    <a href="bitmapset.c.html#LN286"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN287"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN287"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN286"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN287"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN285"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN287"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>&= ~</span><a href="bitmapset.c.html#LN283"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN287"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN285"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_difference &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_is_subset - is A a subset of B? 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN307"></a><span class='Declare_Function'>bms_is_subset</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN309"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN310"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>longlen</span><span class='Delimiter'>; 
</span><a name="LN311"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* empty set is a subset of anything */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN85"><span class='Ref_to_Proto'>bms_is_empty</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Check common words */ 
</span>    <a href="bitmapset.c.html#LN309"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN309"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>& ~</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* Check extra words */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&GT; </span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN310"><span class='Ref_To_Local'>longlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN310"><span class='Ref_To_Local'>longlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN307"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN311"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_is_subset &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_subset_compare - compare A and B for equality/subset relationships 
 * 
 * This is more efficient than testing bms_is_subset in both directions. 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN44"><span class='Ref_to_Typedef'>BMS_Comparison</span></a> 
<a name="LN344"></a><span class='Declare_Function'>bms_subset_compare</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN346"></a>    <a href="../../include/nodes/bitmapset.h.html#LN44"><span class='Ref_to_Typedef'>BMS_Comparison</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN347"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN348"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>longlen</span><span class='Delimiter'>; 
</span><a name="LN349"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN46"><span class='Ref_to_EnumConst'>BMS_EQUAL</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN85"><span class='Ref_to_Proto'>bms_is_empty</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../include/nodes/bitmapset.h.html#LN46"><span class='Ref_to_EnumConst'>BMS_EQUAL</span></a> <span class='Operator'>: </span><a href="../../include/nodes/bitmapset.h.html#LN47"><span class='Ref_to_EnumConst'>BMS_SUBSET1</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN85"><span class='Ref_to_Proto'>bms_is_empty</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../include/nodes/bitmapset.h.html#LN46"><span class='Ref_to_EnumConst'>BMS_EQUAL</span></a> <span class='Operator'>: </span><a href="../../include/nodes/bitmapset.h.html#LN48"><span class='Ref_to_EnumConst'>BMS_SUBSET2</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Check common words */ 
</span>    <a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN46"><span class='Ref_to_EnumConst'>BMS_EQUAL</span></a><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* status so far */ 
</span>    <a href="bitmapset.c.html#LN347"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN347"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN365"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>aword</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span><a name="LN366"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>bword</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN365"><span class='Ref_To_Local'>aword</span></a> <span class='Operator'>& ~</span><a href="bitmapset.c.html#LN366"><span class='Ref_To_Local'>bword</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* a is not a subset of b */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><a href="../../include/nodes/bitmapset.h.html#LN47"><span class='Ref_to_EnumConst'>BMS_SUBSET1</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN49"><span class='Ref_to_EnumConst'>BMS_DIFFERENT</span></a><span class='Delimiter'>; 
</span>            <a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN48"><span class='Ref_to_EnumConst'>BMS_SUBSET2</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN366"><span class='Ref_To_Local'>bword</span></a> <span class='Operator'>& ~</span><a href="bitmapset.c.html#LN365"><span class='Ref_To_Local'>aword</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* b is not a subset of a */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><a href="../../include/nodes/bitmapset.h.html#LN48"><span class='Ref_to_EnumConst'>BMS_SUBSET2</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN49"><span class='Ref_to_EnumConst'>BMS_DIFFERENT</span></a><span class='Delimiter'>; 
</span>            <a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN47"><span class='Ref_to_EnumConst'>BMS_SUBSET1</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;shortlen;i++ &raquo; </span> 
    <span class='Comment_Multi_Line'>/* Check extra words */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&GT; </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN348"><span class='Ref_To_Local'>longlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN348"><span class='Ref_To_Local'>longlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* a is not a subset of b */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><a href="../../include/nodes/bitmapset.h.html#LN47"><span class='Ref_to_EnumConst'>BMS_SUBSET1</span></a><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN49"><span class='Ref_to_EnumConst'>BMS_DIFFERENT</span></a><span class='Delimiter'>; 
</span>                <a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN48"><span class='Ref_to_EnumConst'>BMS_SUBSET2</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN348"><span class='Ref_To_Local'>longlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN348"><span class='Ref_To_Local'>longlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN344"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN349"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* b is not a subset of a */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><a href="../../include/nodes/bitmapset.h.html#LN48"><span class='Ref_to_EnumConst'>BMS_SUBSET2</span></a><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN49"><span class='Ref_to_EnumConst'>BMS_DIFFERENT</span></a><span class='Delimiter'>; 
</span>                <a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN47"><span class='Ref_to_EnumConst'>BMS_SUBSET1</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN346"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_subset_compare &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_is_member - is X a member of A? 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN419"></a><span class='Declare_Function'>bms_is_member</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>x</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN421"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>, 
</span><a name="LN422"></a>                <span class='Declare_Local'>bitnum</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* XXX better to just return false for x&LT;0 ? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN419"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"negative bitmapset member not allowed"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN419"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN421"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Macro'>WORDNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN419"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN422"><span class='Ref_To_Local'>bitnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Macro'>BITNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN419"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN421"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&GT;= </span><a href="bitmapset.c.html#LN419"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN419"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN421"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>] </span><span class='Operator'>& </span><span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><a href="bitmapset.c.html#LN422"><span class='Ref_To_Local'>bitnum</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * bms_overlap - do sets overlap (ie, have a nonempty intersection)? 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN442"></a><span class='Declare_Function'>bms_overlap</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN444"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN445"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN442"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| </span><a href="bitmapset.c.html#LN442"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Check words in common */ 
</span>    <a href="bitmapset.c.html#LN444"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN442"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN442"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN445"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN445"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN444"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN445"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN442"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN445"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>& </span><a href="bitmapset.c.html#LN442"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN445"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * bms_overlap_list - does a set overlap an integer list? 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN464"></a><span class='Declare_Function'>bms_overlap_list</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN466"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span><a name="LN467"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>, 
</span><a name="LN468"></a>                <span class='Declare_Local'>bitnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN464"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| </span><a href="bitmapset.c.html#LN464"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN466"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN464"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN475"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>x</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN106"><span class='Ref_to_Macro'>lfirst_int</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN466"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN475"><span class='Ref_To_Local'>x</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"negative bitmapset member not allowed"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN467"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Macro'>WORDNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN475"><span class='Ref_To_Local'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN468"><span class='Ref_To_Local'>bitnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Macro'>BITNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN475"><span class='Ref_To_Local'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN467"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN464"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN464"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN467"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>] </span><span class='Operator'>& </span><span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><a href="bitmapset.c.html#LN468"><span class='Ref_To_Local'>bitnum</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_overlap_list &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_nonempty_difference - do sets have a nonempty difference? 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN493"></a><span class='Declare_Function'>bms_nonempty_difference</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN495"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN496"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>!</span><a href="../../include/nodes/bitmapset.h.html#LN85"><span class='Ref_to_Proto'>bms_is_empty</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Check words in common */ 
</span>    <a href="bitmapset.c.html#LN495"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN495"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>& ~</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* Check extra words in a */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN493"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN496"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_nonempty_difference &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_singleton_member - return the sole integer member of set 
 * 
 * Raises error if |a| is not 1. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN525"></a><span class='Declare_Function'>bms_singleton_member</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN527"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN528"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN529"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN525"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"bitmapset is empty"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN528"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN525"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN529"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN529"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN528"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN529"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN536"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN525"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN529"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN536"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN527"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="bitmapset.c.html#LN51"><span class='Ref_to_Macro'>HAS_MULTIPLE_ONES</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN536"><span class='Ref_To_Local'>w</span></a><span class='Parentheses'>))</span> 
                <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"bitmapset has multiple members"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="bitmapset.c.html#LN527"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN529"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>* </span><a href="../../include/nodes/bitmapset.h.html#LN32"><span class='Ref_to_Const'>BITS_PER_BITMAPWORD</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN536"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="bitmapset.c.html#LN536"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>&GT;&GT;= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>                <a href="bitmapset.c.html#LN527"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="bitmapset.c.html#LN527"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="bitmapset.c.html#LN67"><span class='Ref_to_Global_Var'>rightmost_one_pos</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN536"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Delimiter'>]; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN527"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"bitmapset is empty"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN527"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_singleton_member &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_get_singleton_member 
 * 
 * Test whether the given set is a singleton. 
 * If so, set *member to the value of its sole member, and return TRUE. 
 * If not, return FALSE, without changing *member. 
 * 
 * This is more convenient and faster than calling bms_membership() and then 
 * bms_singleton_member(), if we don't care about distinguishing empty sets 
 * from multiple-member sets. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN568"></a><span class='Declare_Function'>bms_get_singleton_member</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>member</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN570"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN571"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN572"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN568"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN571"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN568"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN572"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN572"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN571"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN572"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN579"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN568"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN572"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN579"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN570"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="bitmapset.c.html#LN51"><span class='Ref_to_Macro'>HAS_MULTIPLE_ONES</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN579"><span class='Ref_To_Local'>w</span></a><span class='Parentheses'>))</span> 
                <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="bitmapset.c.html#LN570"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN572"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>* </span><a href="../../include/nodes/bitmapset.h.html#LN32"><span class='Ref_to_Const'>BITS_PER_BITMAPWORD</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN579"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="bitmapset.c.html#LN579"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>&GT;&GT;= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>                <a href="bitmapset.c.html#LN570"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="bitmapset.c.html#LN570"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="bitmapset.c.html#LN67"><span class='Ref_to_Global_Var'>rightmost_one_pos</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN579"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Delimiter'>]; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN570"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="bitmapset.c.html#LN568"><span class='Ref_to_Parameter'>member</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN570"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_get_singleton_member &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_num_members - count members of set 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN604"></a><span class='Declare_Function'>bms_num_members</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN606"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN607"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN608"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN604"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN607"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN604"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN608"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN608"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN607"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN608"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN615"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN604"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN608"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Comment_Multi_Line'>/* we assume here that bitmapword is an unsigned type */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN615"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="bitmapset.c.html#LN606"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="../../../contrib/intarray/_intbig_gist.c.html#LN23"><span class='Ref_to_Global_Var'>number_of_ones</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN615"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Delimiter'>]; 
</span>            <a href="bitmapset.c.html#LN615"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>&GT;&GT;= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN606"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_num_members &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_membership - does a set have zero, one, or multiple members? 
 * 
 * This is faster than making an exact count with bms_num_members(). 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN53"><span class='Ref_to_Typedef'>BMS_Membership</span></a> 
<a name="LN633"></a><span class='Declare_Function'>bms_membership</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN635"></a>    <a href="../../include/nodes/bitmapset.h.html#LN53"><span class='Ref_to_Typedef'>BMS_Membership</span></a> <span class='Declare_Local'>result</span> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN55"><span class='Ref_to_EnumConst'>BMS_EMPTY_SET</span></a><span class='Delimiter'>; 
</span><a name="LN636"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN637"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN633"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN55"><span class='Ref_to_EnumConst'>BMS_EMPTY_SET</span></a><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN636"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN633"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN637"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN637"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN636"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN637"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN644"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN633"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN637"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN644"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN635"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/bitmapset.h.html#LN55"><span class='Ref_to_EnumConst'>BMS_EMPTY_SET</span></a> <span class='Operator'>|| </span><a href="bitmapset.c.html#LN51"><span class='Ref_to_Macro'>HAS_MULTIPLE_ONES</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN644"><span class='Ref_To_Local'>w</span></a><span class='Parentheses'>))</span> 
                <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN57"><span class='Ref_to_EnumConst'>BMS_MULTIPLE</span></a><span class='Delimiter'>; 
</span>            <a href="bitmapset.c.html#LN635"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN56"><span class='Ref_to_EnumConst'>BMS_SINGLETON</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN635"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_membership &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_is_empty - is a set empty? 
 * 
 * This is even faster than bms_membership(). 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN662"></a><span class='Declare_Function'>bms_is_empty</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN664"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN665"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN662"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN664"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN662"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN665"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN665"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN664"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN665"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN672"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN662"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN665"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN672"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * These operations all "recycle" their non-const inputs, ie, either 
 * return the modified input or pfree it if it can't hold the result. 
 * 
 * These should generally be used in the style 
 * 
 *      foo = bms_add_member(foo, x); 
 */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_add_member - add a specified member to set 
 * 
 * Input set is modified or recycled! 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN697"></a><span class='Declare_Function'>bms_add_member</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN699"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>, 
</span><a name="LN700"></a>                <span class='Declare_Local'>bitnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"negative bitmapset member not allowed"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN67"><span class='Ref_to_Proto'>bms_make_singleton</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN699"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Macro'>WORDNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN700"><span class='Ref_To_Local'>bitnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Macro'>BITNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* enlarge the set if necessary */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN699"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&GT;= </span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN712"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>oldnwords</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span><a name="LN713"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN36"><span class='Ref_to_Proto'>repalloc</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN29"><span class='Ref_to_Macro'>BITMAPSET_SIZE</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN699"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN699"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* zero out the enlarged portion */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN713"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN712"><span class='Ref_To_Local'>oldnwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN713"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN713"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN713"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN699"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>] </span><span class='Operator'>|= </span><span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><a href="bitmapset.c.html#LN700"><span class='Ref_To_Local'>bitnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN697"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_add_member &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_del_member - remove a specified member from set 
 * 
 * No error if x is not currently a member of set 
 * 
 * Input set is modified in-place! 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN734"></a><span class='Declare_Function'>bms_del_member</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN736"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>, 
</span><a name="LN737"></a>                <span class='Declare_Local'>bitnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"negative bitmapset member not allowed"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN736"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Macro'>WORDNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN737"><span class='Ref_To_Local'>bitnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Macro'>BITNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN736"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN736"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>] </span><span class='Operator'>&= ~</span><span class='Parentheses'>((</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><a href="bitmapset.c.html#LN737"><span class='Ref_To_Local'>bitnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN734"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * bms_add_members - like bms_union, but left input is recycled 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN754"></a><span class='Declare_Function'>bms_add_members</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN756"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN757"></a>    <span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Local'>other</span><span class='Delimiter'>; 
</span><a name="LN758"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>otherlen</span><span class='Delimiter'>; 
</span><a name="LN759"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Identify shorter and longer input; copy the longer one if needed */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN756"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN65"><span class='Ref_to_Proto'>bms_copy</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN757"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN756"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN757"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* And union the shorter input into the result */ 
</span>    <a href="bitmapset.c.html#LN758"><span class='Ref_To_Local'>otherlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN757"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN759"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN759"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN758"><span class='Ref_To_Local'>otherlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN759"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN756"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN759"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>|= </span><a href="bitmapset.c.html#LN757"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN759"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN756"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>!= </span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN754"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN756"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_add_members &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_int_members - like bms_intersect, but left input is recycled 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN790"></a><span class='Declare_Function'>bms_int_members</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN792"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN793"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* Intersect b into a; we need never copy */ 
</span>    <a href="bitmapset.c.html#LN792"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN792"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>&= </span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN793"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN790"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_int_members &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_del_members - like bms_difference, but left input is recycled 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN816"></a><span class='Declare_Function'>bms_del_members</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN818"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>shortlen</span><span class='Delimiter'>; 
</span><a name="LN819"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Remove b's bits from a; we need never copy */ 
</span>    <a href="bitmapset.c.html#LN818"><span class='Ref_To_Local'>shortlen</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>, </span><a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN819"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN819"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN818"><span class='Ref_To_Local'>shortlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN819"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN819"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>&= ~</span><a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN819"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN816"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * bms_join - like bms_union, but *both* inputs are recycled 
 */ 
</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>* 
</span><a name="LN837"></a><span class='Declare_Function'>bms_join</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN839"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN840"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>other</span><span class='Delimiter'>; 
</span><a name="LN841"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>otherlen</span><span class='Delimiter'>; 
</span><a name="LN842"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Handle cases where either input is NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Identify shorter and longer input; use longer one as result */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN839"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN840"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="bitmapset.c.html#LN839"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>        <a href="bitmapset.c.html#LN840"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN837"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* And union the shorter input into the result */ 
</span>    <a href="bitmapset.c.html#LN841"><span class='Ref_To_Local'>otherlen</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN840"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN842"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN842"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN841"><span class='Ref_To_Local'>otherlen</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN842"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="bitmapset.c.html#LN839"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN842"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>|= </span><a href="bitmapset.c.html#LN840"><span class='Ref_To_Local'>other</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN842"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN840"><span class='Ref_To_Local'>other</span></a> <span class='Operator'>!= </span><a href="bitmapset.c.html#LN839"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span>        <span class='Comment_Single_Line'>/* pure paranoia */ 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN840"><span class='Ref_To_Local'>other</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="bitmapset.c.html#LN839"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_join &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_first_member - find and remove first member of a set 
 * 
 * Returns -1 if set is empty.  NB: set is destructively modified! 
 * 
 * This is intended as support for iterating through the members of a set. 
 * The typical pattern is 
 * 
 *          while ((x = bms_first_member(inputset)) &GT;= 0) 
 *              process member x; 
 * 
 * CAUTION: this destroys the content of "inputset".  If the set must 
 * not be modified, use bms_next_member instead. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN884"></a><span class='Declare_Function'>bms_first_member</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN886"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN887"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN884"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN886"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN884"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN887"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN887"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN886"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN887"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN894"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN884"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN887"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN898"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
            <a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN49"><span class='Ref_to_Macro'>RIGHTMOST_ONE</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="bitmapset.c.html#LN884"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN887"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>] </span><span class='Operator'>&= ~</span><a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a><span class='Delimiter'>; 
</span> 
            <a href="bitmapset.c.html#LN898"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN887"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>* </span><a href="../../include/nodes/bitmapset.h.html#LN32"><span class='Ref_to_Const'>BITS_PER_BITMAPWORD</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>&GT;&GT;= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>                <a href="bitmapset.c.html#LN898"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="bitmapset.c.html#LN898"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="bitmapset.c.html#LN67"><span class='Ref_to_Global_Var'>rightmost_one_pos</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN894"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Delimiter'>]; 
</span>            <span class='Control'>return</span> <a href="bitmapset.c.html#LN898"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for wordnum=0;wordnum&LT;nwo... &raquo; </span> 
    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_first_member &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_next_member - find next member of a set 
 * 
 * Returns smallest member greater than "prevbit", or -2 if there is none. 
 * "prevbit" must NOT be less than -1, or the behavior is unpredictable. 
 * 
 * This is intended as support for iterating through the members of a set. 
 * The typical pattern is 
 * 
 *          x = -1; 
 *          while ((x = bms_next_member(inputset, x)) &GT;= 0) 
 *              process member x; 
 * 
 * Notice that when there are no more members, we return -2, not -1 as you 
 * might expect.  The rationale for that is to allow distinguishing the 
 * loop-not-started state (x == -1) from the loop-completed state (x == -2). 
 * It makes no difference in simple loop usage, but complex iteration logic 
 * might need such an ability. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN936"></a><span class='Declare_Function'>bms_next_member</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>prevbit</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN938"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nwords</span><span class='Delimiter'>; 
</span><a name="LN939"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>wordnum</span><span class='Delimiter'>; 
</span><a name="LN940"></a>    <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>mask</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN936"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>2</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN938"><span class='Ref_To_Local'>nwords</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN936"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN936"><span class='Ref_to_Parameter'>prevbit</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <a href="bitmapset.c.html#LN940"><span class='Ref_To_Local'>mask</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>~</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>&LT;&LT; </span><a href="bitmapset.c.html#LN27"><span class='Ref_to_Macro'>BITNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN936"><span class='Ref_to_Parameter'>prevbit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN939"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN26"><span class='Ref_to_Macro'>WORDNUM</span></a><span class='Parentheses'>(</span><a href="bitmapset.c.html#LN936"><span class='Ref_to_Parameter'>prevbit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN939"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>&LT; </span><a href="bitmapset.c.html#LN938"><span class='Ref_To_Local'>nwords</span></a><span class='Delimiter'>; </span><a href="bitmapset.c.html#LN939"><span class='Ref_To_Local'>wordnum</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN949"></a>        <a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a>  <span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="bitmapset.c.html#LN936"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN939"><span class='Ref_To_Local'>wordnum</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Comment_Multi_Line'>/* ignore bits before prevbit */ 
</span>        <a href="bitmapset.c.html#LN949"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>&= </span><a href="bitmapset.c.html#LN940"><span class='Ref_To_Local'>mask</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN949"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN956"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
            <a href="bitmapset.c.html#LN956"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN939"><span class='Ref_To_Local'>wordnum</span></a> <span class='Operator'>* </span><a href="../../include/nodes/bitmapset.h.html#LN32"><span class='Ref_to_Const'>BITS_PER_BITMAPWORD</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="bitmapset.c.html#LN949"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="bitmapset.c.html#LN949"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>&GT;&GT;= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>                <a href="bitmapset.c.html#LN956"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="bitmapset.c.html#LN956"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="bitmapset.c.html#LN67"><span class='Ref_to_Global_Var'>rightmost_one_pos</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN949"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>& </span><span class='Number'>255</span><span class='Delimiter'>]; 
</span>            <span class='Control'>return</span> <a href="bitmapset.c.html#LN956"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* in subsequent words, consider all bits */ 
</span>        <a href="bitmapset.c.html#LN940"><span class='Ref_To_Local'>mask</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>~</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for wordnum=WORDNUM(prevb... &raquo; </span> 
    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>2</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end bms_next_member &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bms_hash_value - compute a hash key for a Bitmapset 
 * 
 * Note: we must ensure that any two bitmapsets that are bms_equal() will 
 * hash to the same value; in practice this means that trailing all-zero 
 * words must not affect the result.  Hence we strip those before applying 
 * hash_any(). 
 */ 
</span><a href="../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> 
<a name="LN983"></a><span class='Declare_Function'>bms_hash_value</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN985"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>lastword</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN983"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;</span>               <span class='Comment_Single_Line'>/* All empty sets hash to 0 */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN985"><span class='Ref_To_Local'>lastword</span></a> <span class='Operator'>= </span><a href="bitmapset.c.html#LN983"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN38"><span class='Ref_to_Member'>nwords</span></a><span class='Delimiter'>; </span><span class='Operator'>--</span><a href="bitmapset.c.html#LN985"><span class='Ref_To_Local'>lastword</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Delimiter'>;</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN983"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>[</span><a href="bitmapset.c.html#LN985"><span class='Ref_To_Local'>lastword</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN985"><span class='Ref_To_Local'>lastword</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;</span>               <span class='Comment_Single_Line'>/* All empty sets hash to 0 */ 
</span>    <span class='Control'>return</span> <a href="../../include/postgres.h.html#LN491"><span class='Ref_to_Macro'>DatumGetUInt32</span></a><span class='Parentheses'>(</span><a href="../access/hash/hashfunc.c.html#LN305"><span class='Ref_to_Func'>hash_any</span></a><span class='Parentheses'>((</span><span class='Keyword'>const unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="bitmapset.c.html#LN983"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/bitmapset.h.html#LN39"><span class='Ref_to_Member'>words</span></a><span class='Delimiter'>, 
</span>                                   <span class='Parentheses'>(</span><a href="bitmapset.c.html#LN985"><span class='Ref_To_Local'>lastword</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/nodes/bitmapset.h.html#LN33"><span class='Ref_to_Typedef'>bitmapword</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
} 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>