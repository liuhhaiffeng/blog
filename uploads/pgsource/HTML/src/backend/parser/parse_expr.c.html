<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\parser\parse_expr.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\parser\parse_expr.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:44 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * parse_expr.c 
 *    handle expressions in parser 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * 
 * IDENTIFICATION 
 *    src/backend/parser/parse_expr.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"commands/dbcommands.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"miscadmin.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"nodes/makefuncs.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"nodes/nodeFuncs.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"optimizer/tlist.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"optimizer/var.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/analyze.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_clause.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_coerce.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_collate.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_expr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_func.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_oper.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_relation.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_target.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parse_agg.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/builtins.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/date.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/lsyscache.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/timestamp.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/xml.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* GUC parameters */ 
</span><a name="LN43"></a><span class='Keyword'>bool</span>        <span class='Declare_Var'>operator_precedence_warning</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN44"></a><span class='Keyword'>bool</span>        <span class='Declare_Var'>Transform_null_equals</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Node-type groups for operator precedence warnings 
 * We use zero for everything not otherwise classified 
 */ 
</span><a name="LN50"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_POSTFIX_IS</span>   <span class='Number'>1</span>       <span class='Comment_Single_Line'>/* postfix IS tests (NullTest, etc) */ 
</span><a name="LN51"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_INFIX_IS</span>     <span class='Number'>2</span>       <span class='Comment_Single_Line'>/* infix IS (IS DISTINCT FROM, etc) */ 
</span><a name="LN52"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_LESS</span>         <span class='Number'>3</span>       <span class='Comment_Single_Line'>/* &LT; &GT; */ 
</span><a name="LN53"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_EQUAL</span>        <span class='Number'>4</span>       <span class='Comment_Single_Line'>/* = */ 
</span><a name="LN54"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_LESS_EQUAL</span>   <span class='Number'>5</span>       <span class='Comment_Single_Line'>/* &LT;= &GT;= &LT;&GT; */ 
</span><a name="LN55"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_LIKE</span>         <span class='Number'>6</span>       <span class='Comment_Single_Line'>/* LIKE ILIKE SIMILAR */ 
</span><a name="LN56"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_BETWEEN</span>      <span class='Number'>7</span>       <span class='Comment_Single_Line'>/* BETWEEN */ 
</span><a name="LN57"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_IN</span>           <span class='Number'>8</span>       <span class='Comment_Single_Line'>/* IN */ 
</span><a name="LN58"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_NOT_LIKE</span>     <span class='Number'>9</span>       <span class='Comment_Single_Line'>/* NOT LIKE/ILIKE/SIMILAR */ 
</span><a name="LN59"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_NOT_BETWEEN</span>  <span class='Number'>10</span>      <span class='Comment_Single_Line'>/* NOT BETWEEN */ 
</span><a name="LN60"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_NOT_IN</span>       <span class='Number'>11</span>      <span class='Comment_Single_Line'>/* NOT IN */ 
</span><a name="LN61"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_POSTFIX_OP</span>   <span class='Number'>12</span>      <span class='Comment_Single_Line'>/* generic postfix operators */ 
</span><a name="LN62"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_INFIX_OP</span>     <span class='Number'>13</span>      <span class='Comment_Single_Line'>/* generic infix operators */ 
</span><a name="LN63"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREC_GROUP_PREFIX_OP</span>    <span class='Number'>14</span>      <span class='Comment_Single_Line'>/* generic prefix operators */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Map precedence groupings to old precedence ordering 
 * 
 * Old precedence order: 
 * 1. NOT 
 * 2. = 
 * 3. &LT; &GT; 
 * 4. LIKE ILIKE SIMILAR 
 * 5. BETWEEN 
 * 6. IN 
 * 7. generic postfix Op 
 * 8. generic Op, including &LT;= =&GT; &LT;&GT; 
 * 9. generic prefix Op 
 * 10. IS tests (NullTest, BooleanTest, etc) 
 * 
 * NOT BETWEEN etc map to BETWEEN etc when considered as being on the left, 
 * but to NOT when considered as being on the right, because of the buggy 
 * precedence handling of those productions in the old grammar. 
 */ 
</span><a name="LN84"></a><span class='Keyword'>static const int </span><span class='Declare_Var'>oldprecedence_l</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>, </span><span class='Number'>9</span> 
<span class='Delimiter'>}; 
</span><a name="LN87"></a><span class='Keyword'>static const int </span><span class='Declare_Var'>oldprecedence_r</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>, </span><span class='Number'>9</span> 
<span class='Delimiter'>}; 
</span> 
<a name="LN91"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformExprRecurse</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>expr</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN92"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformParamRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN241"><span class='Ref_to_Struct'>ParamRef</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pref</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN93"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprOp</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN94"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprOpAny</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN95"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprOpAll</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN96"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprDistinct</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN97"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprNullIf</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN98"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprOf</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN99"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprIn</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN100"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformAExprBetween</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN101"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformBoolExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN557"><span class='Ref_to_Struct'>BoolExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN102"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformFuncCall</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN346"><span class='Ref_to_Struct'>FuncCall</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN103"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformMultiAssignRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN454"><span class='Ref_to_Struct'>MultiAssignRef</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>maref</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN104"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformCaseExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN901"><span class='Ref_to_Struct'>CaseExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN105"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformSubLink</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sublink</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN106"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformArrayExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, 
</span><a name="LN107"></a>                   <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>array_type</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>element_type</span><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>typmod</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN108"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformRowExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>allowDefault</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN109"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformCoalesceExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1040"><span class='Ref_to_Struct'>CoalesceExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN110"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformMinMaxExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1058"><span class='Ref_to_Struct'>MinMaxExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>m</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN111"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformSQLValueFunction</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, 
</span><a name="LN112"></a>                          <a href="../../include/nodes/primnodes.h.html#LN1099"><span class='Ref_to_Struct'>SQLValueFunction</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>svf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN113"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformXmlExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN114"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformXmlSerialize</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN745"><span class='Ref_to_Struct'>XmlSerialize</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>xs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN115"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformBooleanTest</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1198"><span class='Ref_to_Struct'>BooleanTest</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN116"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformCurrentOfExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1272"><span class='Ref_to_Struct'>CurrentOfExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>cexpr</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN117"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformColumnRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN231"><span class='Ref_to_Struct'>ColumnRef</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>cref</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN118"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformWholeRowRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN932"><span class='Ref_to_Struct'>RangeTblEntry</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rte</span><span class='Delimiter'>, 
</span><a name="LN119"></a>                     <span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN120"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformIndirection</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>basenode</span><span class='Delimiter'>, 
</span><a name="LN121"></a>                     <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>indirection</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN122"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformTypeCast</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN294"><span class='Ref_to_Struct'>TypeCast</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tc</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN123"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>transformCollateClause</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN305"><span class='Ref_to_Struct'>CollateClause</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN124"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>make_row_comparison_op</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN125"></a>                       <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>largs</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rargs</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN126"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>make_row_distinct_op</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN127"></a>                     <a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lrow</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rrow</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN128"></a><span class='Keyword'>static </span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>make_distinct_op</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN129"></a>                 <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ltree</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rtree</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN130"></a><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>make_nulltest_from_distinct</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, 
</span><a name="LN131"></a>                            <a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>distincta</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN132"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>operator_precedence_group</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Parameter'>nodename</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN133"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>emit_precedence_warnings</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, 
</span><a name="LN134"></a>                         <span class='Keyword'>int </span><span class='Declare_Parameter'>opgroup</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN135"></a>                         <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lchild</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rchild</span><span class='Delimiter'>, 
</span><a name="LN136"></a>                         <span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * transformExpr - 
 *    Analyze and transform expressions. Type checking and type casting is 
 *    done here.  This processing converts the raw grammar output into 
 *    expression trees with fully determined semantics. 
 */ 
</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN146"></a><span class='Declare_Function'>transformExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>expr</span><span class='Delimiter'>, </span><a href="../../include/parser/parse_node.h.html#LN32"><span class='Ref_to_Enum'>ParseExprKind</span></a> <span class='Declare_Parameter'>exprKind</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN148"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN149"></a>    <a href="../../include/parser/parse_node.h.html#LN32"><span class='Ref_to_Enum'>ParseExprKind</span></a> <span class='Declare_Local'>sv_expr_kind</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Save and restore identity of expression type we're parsing */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>exprKind</span></a> <span class='Operator'>!= </span><a href="../../include/parser/parse_node.h.html#LN34"><span class='Ref_to_EnumConst'>EXPR_KIND_NONE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN149"><span class='Ref_To_Local'>sv_expr_kind</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN182"><span class='Ref_to_Member'>p_expr_kind</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN182"><span class='Ref_to_Member'>p_expr_kind</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>exprKind</span></a><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN148"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN146"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN182"><span class='Ref_to_Member'>p_expr_kind</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN149"><span class='Ref_To_Local'>sv_expr_kind</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN148"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN164"></a><span class='Declare_Function'>transformExprRecurse</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>expr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN166"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Guard against stack overflow due to overly complex expressions */ 
</span>    <a href="../../include/miscadmin.h.html#LN275"><span class='Ref_to_Proto'>check_stack_depth</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN513"><span class='Ref_to_Macro'>nodeTag</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN420"><span class='Ref_to_EnumConst'>T_ColumnRef</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN117"><span class='Ref_to_Proto'>transformColumnRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN231"><span class='Ref_to_Struct'>ColumnRef</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN421"><span class='Ref_to_EnumConst'>T_ParamRef</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN92"><span class='Ref_to_Proto'>transformParamRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN241"><span class='Ref_to_Struct'>ParamRef</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN422"><span class='Ref_to_EnumConst'>T_A_Const</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN186"></a>                <a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>con</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span><a name="LN187"></a>                <a href="../../include/nodes/value.h.html#LN41"><span class='Ref_to_Struct'>Value</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>val</span> <span class='Operator'>= &</span><a href="parse_expr.c.html#LN186"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN287"><span class='Ref_to_Member'>val</span></a><span class='Delimiter'>; 
</span> 
                <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_node.h.html#LN275"><span class='Ref_to_Proto'>make_const</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN187"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN186"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN288"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN426"><span class='Ref_to_EnumConst'>T_A_Indirection</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN195"></a>                <a href="../../include/nodes/parsenodes.h.html#LN401"><span class='Ref_to_Struct'>A_Indirection</span></a> <span class='Operator'>*</span><span class='Declare_Local'>ind</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN401"><span class='Ref_to_Struct'>A_Indirection</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span> 
                <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN195"><span class='Ref_To_Local'>ind</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN404"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN120"><span class='Ref_to_Proto'>transformIndirection</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, 
</span>                                              <a href="parse_expr.c.html#LN195"><span class='Ref_To_Local'>ind</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN405"><span class='Ref_to_Member'>indirection</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN427"><span class='Ref_to_EnumConst'>T_A_ArrayExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN106"><span class='Ref_to_Proto'>transformArrayExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>, 
</span>                                        <a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN430"><span class='Ref_to_EnumConst'>T_TypeCast</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN122"><span class='Ref_to_Proto'>transformTypeCast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN294"><span class='Ref_to_Struct'>TypeCast</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN431"><span class='Ref_to_EnumConst'>T_CollateClause</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN123"><span class='Ref_to_Proto'>transformCollateClause</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN305"><span class='Ref_to_Struct'>CollateClause</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN419"><span class='Ref_to_EnumConst'>T_A_Expr</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN218"></a>                <a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>a</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN93"><span class='Ref_to_Proto'>transformAExprOp</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN254"><span class='Ref_to_EnumConst'>AEXPR_OP_ANY</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN94"><span class='Ref_to_Proto'>transformAExprOpAny</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN255"><span class='Ref_to_EnumConst'>AEXPR_OP_ALL</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN95"><span class='Ref_to_Proto'>transformAExprOpAll</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN256"><span class='Ref_to_EnumConst'>AEXPR_DISTINCT</span></a><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN257"><span class='Ref_to_EnumConst'>AEXPR_NOT_DISTINCT</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN96"><span class='Ref_to_Proto'>transformAExprDistinct</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN258"><span class='Ref_to_EnumConst'>AEXPR_NULLIF</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN97"><span class='Ref_to_Proto'>transformAExprNullIf</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN259"><span class='Ref_to_EnumConst'>AEXPR_OF</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN98"><span class='Ref_to_Proto'>transformAExprOf</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN260"><span class='Ref_to_EnumConst'>AEXPR_IN</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN99"><span class='Ref_to_Proto'>transformAExprIn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN261"><span class='Ref_to_EnumConst'>AEXPR_LIKE</span></a><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN262"><span class='Ref_to_EnumConst'>AEXPR_ILIKE</span></a><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN263"><span class='Ref_to_EnumConst'>AEXPR_SIMILAR</span></a><span class='Operator'>: 
</span>                        <span class='Comment_Multi_Line'>/* we can transform these just like AEXPR_OP */ 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN93"><span class='Ref_to_Proto'>transformAExprOp</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN264"><span class='Ref_to_EnumConst'>AEXPR_BETWEEN</span></a><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN265"><span class='Ref_to_EnumConst'>AEXPR_NOT_BETWEEN</span></a><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN266"><span class='Ref_to_EnumConst'>AEXPR_BETWEEN_SYM</span></a><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN267"><span class='Ref_to_EnumConst'>AEXPR_NOT_BETWEEN_SYM</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN100"><span class='Ref_to_Proto'>transformAExprBetween</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Operator'>: 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>default</span><span class='Operator'>: 
</span>                        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized A_Expr kind: %d"</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN218"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch a-&GT;kind &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN158"><span class='Ref_to_EnumConst'>T_BoolExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN101"><span class='Ref_to_Proto'>transformBoolExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN557"><span class='Ref_to_Struct'>BoolExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN423"><span class='Ref_to_EnumConst'>T_FuncCall</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN102"><span class='Ref_to_Proto'>transformFuncCall</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN346"><span class='Ref_to_Struct'>FuncCall</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN429"><span class='Ref_to_EnumConst'>T_MultiAssignRef</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN103"><span class='Ref_to_Proto'>transformMultiAssignRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN454"><span class='Ref_to_Struct'>MultiAssignRef</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN149"><span class='Ref_to_EnumConst'>T_GroupingFunc</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_agg.h.html#LN21"><span class='Ref_to_Proto'>transformGroupingFunc</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN337"><span class='Ref_to_Struct'>GroupingFunc</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN153"><span class='Ref_to_EnumConst'>T_NamedArgExpr</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN285"></a>                <a href="../../include/nodes/primnodes.h.html#LN473"><span class='Ref_to_Struct'>NamedArgExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>na</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN473"><span class='Ref_to_Struct'>NamedArgExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span> 
                <a href="parse_expr.c.html#LN285"><span class='Ref_To_Local'>na</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN476"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN285"><span class='Ref_To_Local'>na</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN476"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN159"><span class='Ref_to_EnumConst'>T_SubLink</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN105"><span class='Ref_to_Proto'>transformSubLink</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN169"><span class='Ref_to_EnumConst'>T_CaseExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN104"><span class='Ref_to_Proto'>transformCaseExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN901"><span class='Ref_to_Struct'>CaseExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN173"><span class='Ref_to_EnumConst'>T_RowExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN108"><span class='Ref_to_Proto'>transformRowExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN175"><span class='Ref_to_EnumConst'>T_CoalesceExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN109"><span class='Ref_to_Proto'>transformCoalesceExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1040"><span class='Ref_to_Struct'>CoalesceExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN176"><span class='Ref_to_EnumConst'>T_MinMaxExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN110"><span class='Ref_to_Proto'>transformMinMaxExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1058"><span class='Ref_to_Struct'>MinMaxExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN177"><span class='Ref_to_EnumConst'>T_SQLValueFunction</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN111"><span class='Ref_to_Proto'>transformSQLValueFunction</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                               <span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1099"><span class='Ref_to_Struct'>SQLValueFunction</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN178"><span class='Ref_to_EnumConst'>T_XmlExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN113"><span class='Ref_to_Proto'>transformXmlExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN458"><span class='Ref_to_EnumConst'>T_XmlSerialize</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN114"><span class='Ref_to_Proto'>transformXmlSerialize</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN745"><span class='Ref_to_Struct'>XmlSerialize</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN179"><span class='Ref_to_EnumConst'>T_NullTest</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN327"></a>                <a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>n</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>                    <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>, </span><span class='String'>"IS"</span><span class='Delimiter'>, 
</span>                                             <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN327"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                             <a href="parse_expr.c.html#LN327"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1181"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="parse_expr.c.html#LN327"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN327"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* the argument can be any type, so don't coerce it */ 
</span>                <a href="parse_expr.c.html#LN327"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1180"><span class='Ref_to_Member'>argisrow</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN150"><span class='Ref_to_Proto'>type_is_rowtype</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN327"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN180"><span class='Ref_to_EnumConst'>T_BooleanTest</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN115"><span class='Ref_to_Proto'>transformBooleanTest</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1198"><span class='Ref_to_Struct'>BooleanTest</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN184"><span class='Ref_to_EnumConst'>T_CurrentOfExpr</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN116"><span class='Ref_to_Proto'>transformCurrentOfExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1272"><span class='Ref_to_Struct'>CurrentOfExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * In all places where DEFAULT is legal, the caller should have 
             * processed it rather than passing it to transformExpr(). 
             */ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN183"><span class='Ref_to_EnumConst'>T_SetToDefault</span></a><span class='Operator'>: 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"DEFAULT is not allowed in this context"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                        <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN1251"><span class='Ref_to_Struct'>SetToDefault</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>location<span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * CaseTestExpr doesn't require any processing; it is only 
             * injected into parse trees in a fully-formed state. 
             * 
             * Ordinarily we should not see a Var here, but it is convenient 
             * for transformJoinUsingClause() to create untransformed operator 
             * trees containing already-transformed Vars.  The best 
             * alternative would be to deconstruct and reconstruct column 
             * references, which seems expensively pointless.  So allow it. 
             */ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN171"><span class='Ref_to_EnumConst'>T_CaseTestExpr</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/nodes.h.html#LN145"><span class='Ref_to_EnumConst'>T_Var</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span>                <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* should not reach here */ 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized node type: %d"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="../../include/nodes/nodes.h.html#LN513"><span class='Ref_to_Macro'>nodeTag</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN164"><span class='Ref_to_Parameter'>expr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch nodeTag(expr) &raquo; </span> 
 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN166"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformExprRecurse &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * helper routine for delivering "column does not exist" error message 
 * 
 * (Usually we don't have to work this hard, but the general case of field 
 * selection from an arbitrary node needs it.) 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN395"></a><span class='Declare_Function'>unknown_attribute</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>relref</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>attname</span><span class='Delimiter'>, 
</span><a name="LN396"></a>                  <span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN398"></a>    <a href="../../include/nodes/parsenodes.h.html#LN932"><span class='Ref_to_Struct'>RangeTblEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rte</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>relref</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN162"><span class='Ref_to_Struct'>Var</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>        <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN162"><span class='Ref_to_Struct'>Var</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>relref</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>varattno <span class='Operator'>== </span><a href="../../include/access/attnum.h.html#LN22"><span class='Ref_to_Const'>InvalidAttrNumber</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Reference the RTE by alias not by actual table name */ 
</span>        <a href="parse_expr.c.html#LN398"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN50"><span class='Ref_to_Proto'>GetRTEByRangeTablePosn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                     <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN162"><span class='Ref_to_Struct'>Var</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>relref</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>varno<span class='Delimiter'>, 
</span>                                     <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN162"><span class='Ref_to_Struct'>Var</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>relref</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>varlevelsup<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_COLUMN<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"column %s.%s does not exist"</span><span class='Delimiter'>, 
</span>                        <a href="parse_expr.c.html#LN398"><span class='Ref_To_Local'>rte</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN1023"><span class='Ref_to_Member'>eref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN41"><span class='Ref_to_Member'>aliasname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>attname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN396"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Have to do it by reference to the type of the expression */ 
</span><a name="LN416"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relTypeId</span> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>relref</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/parser/parse_type.h.html#LN52"><span class='Ref_to_Macro'>ISCOMPLEX</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN416"><span class='Ref_To_Local'>relTypeId</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_COLUMN<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"column \"%s\" not found in data type %s"</span><span class='Delimiter'>, 
</span>                            <a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>attname</span></a><span class='Delimiter'>, </span><a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN416"><span class='Ref_To_Local'>relTypeId</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN396"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN416"><span class='Ref_To_Local'>relTypeId</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_type.h.html#LN679"><span class='Ref_to_Const'>RECORDOID</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_COLUMN<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>               <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"could not identify column \"%s\" in record data type"</span><span class='Delimiter'>, 
</span>                      <a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>attname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN396"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_WRONG_OBJECT_TYPE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"column notation .%s applied to type %s, "</span> 
                            <span class='String'>"which is not a composite type"</span><span class='Delimiter'>, 
</span>                            <a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>attname</span></a><span class='Delimiter'>, </span><a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN416"><span class='Ref_To_Local'>relTypeId</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN395"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN396"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end unknown_attribute &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN441"></a><span class='Declare_Function'>transformIndirection</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>basenode</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>indirection</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN443"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>basenode</span></a><span class='Delimiter'>; 
</span><a name="LN444"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>subscripts</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN445"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>location</span> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN43"><span class='Ref_to_Proto'>exprLocation</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>basenode</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN446"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We have to split any field-selection operations apart from 
     * subscripting.  Adjacent A_Indices nodes have to be treated as a single 
     * multidimensional subscript operation. 
     */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN446"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>indirection</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN455"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>n</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN446"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN455"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN378"><span class='Ref_to_Struct'>A_Indices</span></a><span class='Parentheses'>))</span> 
            <a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN455"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN455"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN367"><span class='Ref_to_Struct'>A_Star</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"row expansion via \"*\" is not supported here"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN445"><span class='Ref_To_Local'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN468"></a>            <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newresult</span><span class='Delimiter'>; 
</span> 
            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN455"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* process subscripts before this field selection */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a><span class='Parentheses'>) 
</span>                <a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_node.h.html#LN268"><span class='Ref_to_Proto'>transformArraySubscripts</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                           <a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, 
</span>                                                           <a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                           <a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, 
</span>                                                           <a href="../../include/nodes/nodeFuncs.h.html#LN32"><span class='Ref_to_Proto'>exprTypmod</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                           <a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a><span class='Delimiter'>, 
</span>                                                           <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN468"><span class='Ref_To_Local'>newresult</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_func.h.html#LN32"><span class='Ref_to_Proto'>ParseFuncOrColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                          <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN455"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                          <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                          <a href="parse_expr.c.html#LN445"><span class='Ref_To_Local'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN468"><span class='Ref_To_Local'>newresult</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <a href="parse_expr.c.html#LN394"><span class='Ref_to_Func'>unknown_attribute</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN455"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN445"><span class='Ref_To_Local'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN468"><span class='Ref_To_Local'>newresult</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* process trailing subscripts, if any */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_node.h.html#LN268"><span class='Ref_to_Proto'>transformArraySubscripts</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN441"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, 
</span>                                                   <a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                   <a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>, 
</span>                                                   <a href="../../include/nodes/nodeFuncs.h.html#LN32"><span class='Ref_to_Proto'>exprTypmod</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN444"><span class='Ref_To_Local'>subscripts</span></a><span class='Delimiter'>, 
</span>                                                   <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN443"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformIndirection &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Transform a ColumnRef. 
 * 
 * If you find yourself changing this code, see also ExpandColumnRefStar. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN512"></a><span class='Declare_Function'>transformColumnRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN231"><span class='Ref_to_Struct'>ColumnRef</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>cref</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN514"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>node</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN515"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>nspname</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN516"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>relname</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN517"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>colname</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN518"></a>    <a href="../../include/nodes/parsenodes.h.html#LN932"><span class='Ref_to_Struct'>RangeTblEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rte</span><span class='Delimiter'>; 
</span><a name="LN519"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>levels_up</span><span class='Delimiter'>; 
</span>    <span class='Control'>enum</span> 
    <span class='Delimiter'>{ 
</span><a name="LN522"></a>        <span class='Declare_Local'>CRERR_NO_COLUMN</span><span class='Delimiter'>, 
</span><a name="LN523"></a>        <span class='Declare_Local'>CRERR_NO_RTE</span><span class='Delimiter'>, 
</span><a name="LN524"></a>        <span class='Declare_Local'>CRERR_WRONG_DB</span><span class='Delimiter'>, 
</span><a name="LN525"></a>        <span class='Declare_Local'>CRERR_TOO_MANY</span> 
<a name="LN526"></a>    <span class='Delimiter'>}</span>           <span class='Declare_Local'>crerr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN522"><span class='Ref_to_EnumConst'>CRERR_NO_COLUMN</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Give the PreParseColumnRefHook, if any, first shot.  If it returns 
     * non-null then that's all, folks. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN205"><span class='Ref_to_Member'>p_pre_columnref_hook</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN205"><span class='Ref_to_Member'>p_pre_columnref_hook</span></a><span class='Parentheses'>) (</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/*---------- 
     * The allowed syntaxes are: 
     * 
     * A        First try to resolve as unqualified column name; 
     *          if no luck, try to resolve as unqualified table name (A.*). 
     * A.B      A is an unqualified table name; B is either a 
     *          column or function name (trying column name first). 
     * A.B.C    schema A, table B, col or func name C. 
     * A.B.C.D  catalog A, schema B, table C, col or func D. 
     * A.*      A is an unqualified table name; means whole-row value. 
     * A.B.*    whole-row value of table B in schema A. 
     * A.B.C.*  whole-row value of table C in schema B in catalog A. 
     * 
     * We do not need to cope with bare "*"; that will only be accepted by 
     * the grammar at the top level of a SELECT list, and transformTargetList 
     * will take care of it before it ever gets here.  Also, "A.*" etc will 
     * be expanded by transformTargetList if they appear at SELECT top level, 
     * so here we are only going to see them as function or operator inputs. 
     * 
     * Currently, if a catalog name is given then it must equal the current 
     * database name; we check it here and then discard it. 
     *---------- 
     */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN566"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field1</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN566"><span class='Ref_To_Local'>field1</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN566"><span class='Ref_To_Local'>field1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Try to identify as an unqualified column */ 
</span>                <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN58"><span class='Ref_to_Proto'>colNameToVar</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Not known as a column of any range-table entry. 
                     * 
                     * Try to find the name as a relation.  Note that only 
                     * relations already entered into the rangetable will be 
                     * recognized. 
                     * 
                     * This is a hack for backwards compatibility with 
                     * PostQUEL-inspired syntax.  The preferred form now is 
                     * "rel.*". 
                     */ 
</span>                    <a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN36"><span class='Ref_to_Proto'>refnameRangeTblEntry</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                               <span class='Operator'>&</span><a href="parse_expr.c.html#LN519"><span class='Ref_To_Local'>levels_up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Parentheses'>) 
</span>                        <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, 
</span>                                                    <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if node==NULL &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN598"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field1</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN599"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field2</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN598"><span class='Ref_To_Local'>field1</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN598"><span class='Ref_To_Local'>field1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Locate the referenced RTE */ 
</span>                <a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN36"><span class='Ref_to_Proto'>refnameRangeTblEntry</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN515"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                           <span class='Operator'>&</span><a href="parse_expr.c.html#LN519"><span class='Ref_To_Local'>levels_up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN526"><span class='Ref_To_Local'>crerr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN523"><span class='Ref_to_EnumConst'>CRERR_NO_RTE</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Whole-row reference? */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN599"><span class='Ref_To_Local'>field2</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN367"><span class='Ref_to_Struct'>A_Star</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN599"><span class='Ref_To_Local'>field2</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN599"><span class='Ref_To_Local'>field2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Try to identify as a column of the RTE */ 
</span>                <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN55"><span class='Ref_to_Proto'>scanRTEForColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                        <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Try it as a function call on the whole row */ 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_func.h.html#LN32"><span class='Ref_to_Proto'>ParseFuncOrColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                             <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                             <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                             <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                             <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN641"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field1</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN642"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field2</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN643"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field3</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN120"><span class='Ref_to_Macro'>lthird</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN641"><span class='Ref_To_Local'>field1</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN515"><span class='Ref_To_Local'>nspname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN641"><span class='Ref_To_Local'>field1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN642"><span class='Ref_To_Local'>field2</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN642"><span class='Ref_To_Local'>field2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Locate the referenced RTE */ 
</span>                <a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN36"><span class='Ref_to_Proto'>refnameRangeTblEntry</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN515"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                           <span class='Operator'>&</span><a href="parse_expr.c.html#LN519"><span class='Ref_To_Local'>levels_up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN526"><span class='Ref_To_Local'>crerr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN523"><span class='Ref_to_EnumConst'>CRERR_NO_RTE</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Whole-row reference? */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN643"><span class='Ref_To_Local'>field3</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN367"><span class='Ref_to_Struct'>A_Star</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN643"><span class='Ref_To_Local'>field3</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN643"><span class='Ref_To_Local'>field3</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Try to identify as a column of the RTE */ 
</span>                <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN55"><span class='Ref_to_Proto'>scanRTEForColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                        <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Try it as a function call on the whole row */ 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_func.h.html#LN32"><span class='Ref_to_Proto'>ParseFuncOrColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                             <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                             <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                             <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                             <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN687"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field1</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN688"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field2</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN689"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field3</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN120"><span class='Ref_to_Macro'>lthird</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN690"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>field4</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN125"><span class='Ref_to_Macro'>lfourth</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN691"></a>                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>catname</span><span class='Delimiter'>; 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN687"><span class='Ref_To_Local'>field1</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN691"><span class='Ref_To_Local'>catname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN687"><span class='Ref_To_Local'>field1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN688"><span class='Ref_To_Local'>field2</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN515"><span class='Ref_To_Local'>nspname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN688"><span class='Ref_To_Local'>field2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN689"><span class='Ref_To_Local'>field3</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN689"><span class='Ref_To_Local'>field3</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * We check the catalog name and then ignore it. 
                 */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="parse_expr.c.html#LN691"><span class='Ref_To_Local'>catname</span></a><span class='Delimiter'>, </span><a href="../../include/commands/dbcommands.h.html#LN29"><span class='Ref_to_Proto'>get_database_name</span></a><span class='Parentheses'>(</span><a href="../utils/init/globals.c.html#LN76"><span class='Ref_to_Global_Var'>MyDatabaseId</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN526"><span class='Ref_To_Local'>crerr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN524"><span class='Ref_to_EnumConst'>CRERR_WRONG_DB</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Locate the referenced RTE */ 
</span>                <a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN36"><span class='Ref_to_Proto'>refnameRangeTblEntry</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN515"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                           <span class='Operator'>&</span><a href="parse_expr.c.html#LN519"><span class='Ref_To_Local'>levels_up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN526"><span class='Ref_To_Local'>crerr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN523"><span class='Ref_to_EnumConst'>CRERR_NO_RTE</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Comment_Multi_Line'>/* Whole-row reference? */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN690"><span class='Ref_To_Local'>field4</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN367"><span class='Ref_to_Struct'>A_Star</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN690"><span class='Ref_To_Local'>field4</span></a><span class='Delimiter'>, </span>String<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN690"><span class='Ref_To_Local'>field4</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* Try to identify as a column of the RTE */ 
</span>                <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN55"><span class='Ref_to_Proto'>scanRTEForColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>, 
</span>                                        <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Try it as a function call on the whole row */ 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN118"><span class='Ref_to_Proto'>transformWholeRowRef</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN518"><span class='Ref_To_Local'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_func.h.html#LN32"><span class='Ref_to_Proto'>ParseFuncOrColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                             <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                             <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                             <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                             <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN526"><span class='Ref_To_Local'>crerr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN525"><span class='Ref_to_EnumConst'>CRERR_TOO_MANY</span></a><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* too many dotted names */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch list_length(cref-&GT;fie... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Now give the PostParseColumnRefHook, if any, a chance.  We pass the 
     * translation-so-far so that it can throw an error if it wishes in the 
     * case that it has a conflicting interpretation of the ColumnRef. (If it 
     * just translates anyway, we'll throw an error, because we can't undo 
     * whatever effects the preceding steps may have had on the pstate.) If it 
     * returns NULL, use the standard translation, or throw a suitable error 
     * if there is none. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN206"><span class='Ref_to_Member'>p_post_columnref_hook</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN760"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>hookresult</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN760"><span class='Ref_To_Local'>hookresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN206"><span class='Ref_to_Member'>p_post_columnref_hook</span></a><span class='Parentheses'>) (</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN760"><span class='Ref_To_Local'>hookresult</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN760"><span class='Ref_To_Local'>hookresult</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_AMBIGUOUS_COLUMN<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"column reference \"%s\" is ambiguous"</span><span class='Delimiter'>, 
</span>                            <a href="../../include/catalog/namespace.h.html#LN120"><span class='Ref_to_Proto'>NameListToString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Throw error if no translation found. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN526"><span class='Ref_To_Local'>crerr</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="parse_expr.c.html#LN522"><span class='Ref_to_EnumConst'>CRERR_NO_COLUMN</span></a><span class='Operator'>: 
</span>                <a href="parse_relation.c.html#LN3209"><span class='Ref_to_Func'>errorMissingColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN517"><span class='Ref_To_Local'>colname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="parse_expr.c.html#LN523"><span class='Ref_to_EnumConst'>CRERR_NO_RTE</span></a><span class='Operator'>: 
</span>                <a href="parse_relation.c.html#LN3153"><span class='Ref_to_Func'>errorMissingRTE</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/makefuncs.h.html#LN68"><span class='Ref_to_Proto'>makeRangeVar</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN515"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN516"><span class='Ref_To_Local'>relname</span></a><span class='Delimiter'>, 
</span>                                                     <a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="parse_expr.c.html#LN524"><span class='Ref_to_EnumConst'>CRERR_WRONG_DB</span></a><span class='Operator'>: 
</span>                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cross-database references are not implemented: %s"</span><span class='Delimiter'>, 
</span>                         <a href="../../include/catalog/namespace.h.html#LN120"><span class='Ref_to_Proto'>NameListToString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="parse_expr.c.html#LN525"><span class='Ref_to_EnumConst'>CRERR_TOO_MANY</span></a><span class='Operator'>: 
</span>                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"improper qualified name (too many dotted names): %s"</span><span class='Delimiter'>, 
</span>                       <a href="../../include/catalog/namespace.h.html#LN120"><span class='Ref_to_Proto'>NameListToString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN512"><span class='Ref_to_Parameter'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch crerr &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if node==NULL &raquo; </span> 
 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN514"><span class='Ref_To_Local'>node</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformColumnRef &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN808"></a><span class='Declare_Function'>transformParamRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN241"><span class='Ref_to_Struct'>ParamRef</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pref</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN810"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The core parser knows nothing about Params.  If a hook is supplied, 
     * call it.  If not, or if the hook returns NULL, throw a generic error. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN207"><span class='Ref_to_Member'>p_paramref_hook</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN810"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN207"><span class='Ref_to_Member'>p_paramref_hook</span></a><span class='Parentheses'>) (</span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pref</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="parse_expr.c.html#LN810"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN810"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_PARAMETER<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"there is no parameter $%d"</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN244"><span class='Ref_to_Member'>number</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN808"><span class='Ref_to_Parameter'>pref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN245"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN810"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformParamRef &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* Test whether an a_expr is a plain NULL constant or not */ 
</span><span class='Keyword'>static bool 
</span><a name="LN832"></a><span class='Declare_Function'>exprIsNullConstant</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN832"><span class='Ref_to_Parameter'>arg</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN832"><span class='Ref_to_Parameter'>arg</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN836"></a>        <a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>con</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN832"><span class='Ref_to_Parameter'>arg</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN836"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN287"><span class='Ref_to_Member'>val</span></a><span class='Operator'>.</span><a href="../../include/nodes/value.h.html#LN43"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>== </span><a href="../../include/nodes/nodes.h.html#LN285"><span class='Ref_to_EnumConst'>T_Null</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN845"></a><span class='Declare_Function'>transformAExprOp</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN847"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>; 
</span><a name="LN848"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Delimiter'>; 
</span><a name="LN849"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN853"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>opgroup</span><span class='Delimiter'>; 
</span><a name="LN854"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>opname</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN853"><span class='Ref_To_Local'>opgroup</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN132"><span class='Ref_to_Proto'>operator_precedence_group</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN854"><span class='Ref_To_Local'>opname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN853"><span class='Ref_To_Local'>opgroup</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN853"><span class='Ref_To_Local'>opgroup</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN854"><span class='Ref_To_Local'>opname</span></a><span class='Delimiter'>, 
</span>                                     <a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                     <a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Look through AEXPR_PAREN nodes so they don't affect tests below */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>               <span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>kind <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Parentheses'>)</span> 
            <a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>lexpr<span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>               <span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>kind <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Parentheses'>)</span> 
            <a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>lexpr<span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Special-case "foo = NULL" and "NULL = foo" for compatibility with 
     * standards-broken products (like Microsoft's).  Turn these into IS NULL 
     * exprs. (If either side is a CaseTestExpr, then the expression was 
     * generated internally from a CASE-WHEN expression, and 
     * transform_null_equals does not apply.) 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN44"><span class='Ref_to_Global_Var'>Transform_null_equals</span></a> <span class='Operator'>&& 
</span>        <a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>1</span> <span class='Operator'>&& 
</span>        strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"="</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& 
</span>        <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN831"><span class='Ref_to_Func'>exprIsNullConstant</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| </span><a href="parse_expr.c.html#LN831"><span class='Ref_to_Func'>exprIsNullConstant</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& 
</span>        <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN931"><span class='Ref_to_Struct'>CaseTestExpr</span></a><span class='Parentheses'>)</span> <span class='Operator'>&&!</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN931"><span class='Ref_to_Struct'>CaseTestExpr</span></a><span class='Parentheses'>)))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN884"></a>        <a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>n</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN884"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1179"><span class='Ref_to_Member'>nulltesttype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN1172"><span class='Ref_to_EnumConst'>IS_NULL</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN884"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1181"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN831"><span class='Ref_to_Func'>exprIsNullConstant</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>))</span> 
            <a href="parse_expr.c.html#LN884"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN884"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN849"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN884"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>             <a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>             <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>subLinkType <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN622"><span class='Ref_to_EnumConst'>EXPR_SUBLINK</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Convert "row op subselect" into a ROWCOMPARE sublink. Formerly the 
         * grammar did this, but now that a row construct is allowed anywhere 
         * in expressions, it's easier to do it here. 
         */ 
</span><a name="LN905"></a>        <a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN905"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN621"><span class='Ref_to_EnumConst'>ROWCOMPARE_SUBLINK</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN905"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN905"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN905"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN849"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN905"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>             <a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* ROW() op ROW() is handled specially */ 
</span>        <a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN849"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN124"><span class='Ref_to_Proto'>make_row_comparison_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                        <a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                        <a href="../../include/nodes/nodes.h.html#LN575"><span class='Ref_to_Macro'>castNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>args<span class='Delimiter'>, 
</span>                                        <a href="../../include/nodes/nodes.h.html#LN575"><span class='Ref_to_Macro'>castNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>args<span class='Delimiter'>, 
</span>                                        <a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Ordinary scalar operator */ 
</span>        <a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN849"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../bin/pgbench/exprparse.y.html#LN24"><span class='Ref_to_Proto'>make_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                  <a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                  <a href="parse_expr.c.html#LN847"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                  <a href="parse_expr.c.html#LN848"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                  <a href="parse_expr.c.html#LN845"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN849"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprOp &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN943"></a><span class='Declare_Function'>transformAExprOpAny</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN945"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>; 
</span><a name="LN946"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>, 
</span>                                 <a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN945"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN945"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN945"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN946"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN946"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_oper.h.html#LN62"><span class='Ref_to_Proto'>make_scalar_array_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                         <span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN945"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN946"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN943"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprOpAny &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN966"></a><span class='Declare_Function'>transformAExprOpAll</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN968"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>; 
</span><a name="LN969"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>, 
</span>                                 <a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN968"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN968"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN968"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN969"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN969"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_oper.h.html#LN62"><span class='Ref_to_Proto'>make_scalar_array_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                         <span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN968"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN969"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN966"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprOpAll &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN989"></a><span class='Declare_Function'>transformAExprDistinct</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN991"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>; 
</span><a name="LN992"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Delimiter'>; 
</span><a name="LN993"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN51"><span class='Ref_to_Const'>PREC_GROUP_INFIX_IS</span></a><span class='Delimiter'>, </span><span class='String'>"IS"</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If either input is an undecorated NULL literal, transform to a NullTest 
     * on the other input. That's simpler to process than a full DistinctExpr, 
     * and it avoids needing to require that the datatype have an = operator. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN831"><span class='Ref_to_Func'>exprIsNullConstant</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="parse_expr.c.html#LN130"><span class='Ref_to_Proto'>make_nulltest_from_distinct</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN831"><span class='Ref_to_Func'>exprIsNullConstant</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="parse_expr.c.html#LN130"><span class='Ref_to_Proto'>make_nulltest_from_distinct</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>        <a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* ROW() op ROW() is handled specially */ 
</span>        <a href="parse_expr.c.html#LN993"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN126"><span class='Ref_to_Proto'>make_row_distinct_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                      <span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                      <span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Ordinary scalar operator */ 
</span>        <a href="parse_expr.c.html#LN993"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN128"><span class='Ref_to_Proto'>make_distinct_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN991"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN992"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If it's NOT DISTINCT, we first build a DistinctExpr and then stick a 
     * NOT on top. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN257"><span class='Ref_to_EnumConst'>AEXPR_NOT_DISTINCT</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN993"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>NOT_EXPR</span></a><span class='Delimiter'>, 
</span>                                       <a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN993"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                       <a href="parse_expr.c.html#LN989"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN993"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprDistinct &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1045"></a><span class='Declare_Function'>transformAExprNullIf</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1047"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1048"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1049"></a>    <a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1049"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../bin/pgbench/exprparse.y.html#LN24"><span class='Ref_to_Proto'>make_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                <a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                <a href="parse_expr.c.html#LN1047"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                <a href="parse_expr.c.html#LN1048"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                <a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The comparison operator itself should yield boolean ... 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1049"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN496"><span class='Ref_to_Member'>opresulttype</span></a> <span class='Operator'>!= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN17"><span class='Ref_to_Const'>BOOLOID</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"NULLIF requires = operator to yield boolean"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1045"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * ... but the NullIfExpr will yield the first operand's type. 
     */ 
</span>    <a href="parse_expr.c.html#LN1049"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN496"><span class='Ref_to_Member'>opresulttype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1049"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN500"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We rely on NullIfExpr and OpExpr being the same struct 
     */ 
</span>    <a href="../../include/nodes/nodes.h.html#LN557"><span class='Ref_to_Macro'>NodeSetTag</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1049"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN156"><span class='Ref_to_EnumConst'>T_NullIfExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1049"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprNullIf &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Checking an expression for match to a list of type names. Will result 
 * in a boolean constant node. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1084"></a><span class='Declare_Function'>transformAExprOf</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1086"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>; 
</span><a name="LN1087"></a>    <a href="../../include/nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1088"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>telem</span><span class='Delimiter'>; 
</span><a name="LN1089"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>ltype</span><span class='Delimiter'>, 
</span><a name="LN1090"></a>                <span class='Declare_Local'>rtype</span><span class='Delimiter'>; 
</span><a name="LN1091"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>matched</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>, </span><span class='String'>"IS"</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1086"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1086"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1086"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1089"><span class='Ref_To_Local'>ltype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1086"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1088"><span class='Ref_To_Local'>telem</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="parse_expr.c.html#LN1090"><span class='Ref_To_Local'>rtype</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_type.h.html#LN27"><span class='Ref_to_Proto'>typenameTypeId</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1088"><span class='Ref_To_Local'>telem</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1091"><span class='Ref_To_Local'>matched</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1090"><span class='Ref_To_Local'>rtype</span></a> <span class='Operator'>== </span><a href="parse_expr.c.html#LN1089"><span class='Ref_To_Local'>ltype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1091"><span class='Ref_To_Local'>matched</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We have two forms: equals or not equals. Flip the sense of the result 
     * for not equals. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"&LT;&GT;"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="parse_expr.c.html#LN1091"><span class='Ref_To_Local'>matched</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="parse_expr.c.html#LN1091"><span class='Ref_To_Local'>matched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1087"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN59"><span class='Ref_to_Proto'>makeBoolConst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1091"><span class='Ref_To_Local'>matched</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Make the result have the original input's parse location */ 
</span>    <a href="parse_expr.c.html#LN1087"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN202"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN43"><span class='Ref_to_Proto'>exprLocation</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1084"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1087"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprOf &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1125"></a><span class='Declare_Function'>transformAExprIn</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1127"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN1128"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lexpr</span><span class='Delimiter'>; 
</span><a name="LN1129"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexprs</span><span class='Delimiter'>; 
</span><a name="LN1130"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rvars</span><span class='Delimiter'>; 
</span><a name="LN1131"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rnonvars</span><span class='Delimiter'>; 
</span><a name="LN1132"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>useOr</span><span class='Delimiter'>; 
</span><a name="LN1133"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>l</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If the operator is &LT;&GT;, combine with AND not OR. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"&LT;&GT;"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="parse_expr.c.html#LN1132"><span class='Ref_To_Local'>useOr</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="parse_expr.c.html#LN1132"><span class='Ref_To_Local'>useOr</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1132"><span class='Ref_To_Local'>useOr</span></a> <span class='Operator'>? </span><a href="parse_expr.c.html#LN57"><span class='Ref_to_Const'>PREC_GROUP_IN</span></a> <span class='Operator'>: </span><a href="parse_expr.c.html#LN60"><span class='Ref_to_Const'>PREC_GROUP_NOT_IN</span></a><span class='Delimiter'>, 
</span>                                 <span class='String'>"IN"</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We try to generate a ScalarArrayOpExpr from IN/NOT IN, but this is only 
     * possible if there is a suitable array type available.  If not, we fall 
     * back to a boolean condition tree with multiple copies of the lefthand 
     * expression.  Also, any IN-list items that contain Vars are handled as 
     * separate boolean conditions, because that gives the planner more scope 
     * for optimization on such clauses. 
     * 
     * First step: transform all the inputs, and detect whether any contain 
     * Vars. 
     */ 
</span>    <a href="parse_expr.c.html#LN1128"><span class='Ref_To_Local'>lexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1129"><span class='Ref_To_Local'>rexprs</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1130"><span class='Ref_To_Local'>rvars</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1131"><span class='Ref_To_Local'>rnonvars</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1133"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1165"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1133"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1129"><span class='Ref_To_Local'>rexprs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1129"><span class='Ref_To_Local'>rexprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1165"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/optimizer/var.h.html#LN34"><span class='Ref_to_Proto'>contain_vars_of_level</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1165"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span> 
            <a href="parse_expr.c.html#LN1130"><span class='Ref_To_Local'>rvars</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1130"><span class='Ref_To_Local'>rvars</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1165"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN1131"><span class='Ref_To_Local'>rnonvars</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1131"><span class='Ref_To_Local'>rnonvars</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1165"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * ScalarArrayOpExpr is only going to be useful if there's more than one 
     * non-Var righthand item. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1131"><span class='Ref_To_Local'>rnonvars</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1180"></a>        <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>allexprs</span><span class='Delimiter'>; 
</span><a name="LN1181"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>scalar_type</span><span class='Delimiter'>; 
</span><a name="LN1182"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>array_type</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Try to select a common type for the array elements.  Note that 
         * since the LHS' type is first in the list, it will be preferred when 
         * there is doubt (eg, when all the RHS items are unknown literals). 
         * 
         * Note: use list_concat here not lcons, to avoid damaging rnonvars. 
         */ 
</span>        <a href="parse_expr.c.html#LN1180"><span class='Ref_To_Local'>allexprs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN219"><span class='Ref_to_Proto'>list_concat</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1128"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1131"><span class='Ref_To_Local'>rnonvars</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1181"><span class='Ref_To_Local'>scalar_type</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN68"><span class='Ref_to_Proto'>select_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1180"><span class='Ref_To_Local'>allexprs</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Do we have an array type to use?  Aside from the case where there 
         * isn't one, we don't risk using ScalarArrayOpExpr when the common 
         * type is RECORD, because the RowExpr comparison logic below can cope 
         * with some cases of non-identical row types. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1181"><span class='Ref_To_Local'>scalar_type</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="parse_expr.c.html#LN1181"><span class='Ref_To_Local'>scalar_type</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_type.h.html#LN679"><span class='Ref_to_Const'>RECORDOID</span></a><span class='Parentheses'>)</span> 
            <a href="parse_expr.c.html#LN1182"><span class='Ref_To_Local'>array_type</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN158"><span class='Ref_to_Proto'>get_array_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1181"><span class='Ref_To_Local'>scalar_type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN1182"><span class='Ref_To_Local'>array_type</span></a> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1182"><span class='Ref_To_Local'>array_type</span></a> <span class='Operator'>!= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * OK: coerce all the right-hand non-Var inputs to the common type 
             * and build an ArrayExpr for them. 
             */ 
</span><a name="LN1210"></a>            <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>aexprs</span><span class='Delimiter'>; 
</span><a name="LN1211"></a>            <a href="../../include/nodes/primnodes.h.html#LN947"><span class='Ref_to_Struct'>ArrayExpr</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>newa</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN1210"><span class='Ref_To_Local'>aexprs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>            <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1133"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1131"><span class='Ref_To_Local'>rnonvars</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN1216"></a>                <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1133"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="parse_expr.c.html#LN1216"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1216"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                              <a href="parse_expr.c.html#LN1181"><span class='Ref_To_Local'>scalar_type</span></a><span class='Delimiter'>, 
</span>                                              <span class='String'>"IN"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN1210"><span class='Ref_To_Local'>aexprs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1210"><span class='Ref_To_Local'>aexprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1216"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN947"><span class='Ref_to_Struct'>ArrayExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN950"><span class='Ref_to_Member'>array_typeid</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1182"><span class='Ref_To_Local'>array_type</span></a><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* array_collid will be set by parse_collate.c */ 
</span>            <a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN952"><span class='Ref_to_Member'>element_typeid</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1181"><span class='Ref_To_Local'>scalar_type</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN953"><span class='Ref_to_Member'>elements</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1210"><span class='Ref_To_Local'>aexprs</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN955"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN1127"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_oper.h.html#LN62"><span class='Ref_to_Proto'>make_scalar_array_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1132"><span class='Ref_To_Local'>useOr</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1128"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, 
</span>                                                   <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1211"><span class='Ref_To_Local'>newa</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Consider only the Vars (if any) in the loop below */ 
</span>            <a href="parse_expr.c.html#LN1129"><span class='Ref_To_Local'>rexprs</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1130"><span class='Ref_To_Local'>rvars</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if array_type!=InvalidOi... &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if list_length(rnonvars)... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Must do it the hard way, ie, with a boolean expression tree. 
     */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1133"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1129"><span class='Ref_To_Local'>rexprs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1248"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1133"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1249"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>cmp</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1128"><span class='Ref_To_Local'>lexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>            <a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1248"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* ROW() op ROW() is handled specially */ 
</span>            <a href="parse_expr.c.html#LN1249"><span class='Ref_To_Local'>cmp</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN124"><span class='Ref_to_Proto'>make_row_comparison_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                       <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(((</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1128"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>args<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                         <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <a href="parse_expr.c.html#LN1248"><span class='Ref_To_Local'>rexpr</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>args<span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Ordinary scalar operator */ 
</span>            <a href="parse_expr.c.html#LN1249"><span class='Ref_To_Local'>cmp</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../bin/pgbench/exprparse.y.html#LN24"><span class='Ref_to_Proto'>make_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                   <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, 
</span>                                   <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1128"><span class='Ref_To_Local'>lexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                   <a href="parse_expr.c.html#LN1248"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, 
</span>                                   <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="parse_expr.c.html#LN1249"><span class='Ref_To_Local'>cmp</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN54"><span class='Ref_to_Proto'>coerce_to_boolean</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1249"><span class='Ref_To_Local'>cmp</span></a><span class='Delimiter'>, </span><span class='String'>"IN"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1127"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN1127"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1249"><span class='Ref_To_Local'>cmp</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN1127"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1132"><span class='Ref_To_Local'>useOr</span></a> <span class='Operator'>? </span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a> <span class='Operator'>: </span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Delimiter'>, 
</span>                                           <a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1127"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1249"><span class='Ref_To_Local'>cmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN1125"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN1127"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprIn &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1284"></a><span class='Declare_Function'>transformAExprBetween</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1286"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>aexpr</span><span class='Delimiter'>; 
</span><a name="LN1287"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>bexpr</span><span class='Delimiter'>; 
</span><a name="LN1288"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>cexpr</span><span class='Delimiter'>; 
</span><a name="LN1289"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1290"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>sub1</span><span class='Delimiter'>; 
</span><a name="LN1291"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>sub2</span><span class='Delimiter'>; 
</span><a name="LN1292"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Deconstruct A_Expr into three subexprs */ 
</span>    <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN575"><span class='Ref_to_Macro'>castNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1303"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>opgroup</span><span class='Delimiter'>; 
</span><a name="LN1304"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>opname</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1303"><span class='Ref_To_Local'>opgroup</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN132"><span class='Ref_to_Proto'>operator_precedence_group</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN1304"><span class='Ref_To_Local'>opname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1303"><span class='Ref_To_Local'>opgroup</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1304"><span class='Ref_To_Local'>opname</span></a><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* We can ignore bexpr thanks to syntactic restrictions */ 
</span>        <span class='Comment_Multi_Line'>/* Wrap subexpressions to prevent extra warnings */ 
</span>        <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN19"><span class='Ref_to_Proto'>makeA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN19"><span class='Ref_to_Proto'>makeA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN19"><span class='Ref_to_Proto'>makeA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Build the equivalent comparison expression.  Make copies of 
     * multiply-referenced subexpressions for safety.  (XXX this is really 
     * wrong since it results in multiple runtime evaluations of what may be 
     * volatile expressions ...) 
     * 
     * Ideally we would not use hard-wired operators here but instead use 
     * opclasses.  However, mixed data types and other issues make this 
     * difficult: 
     * http://archives.postgresql.org/pgsql-hackers/2008-08/msg01142.php 
     */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN264"><span class='Ref_to_EnumConst'>AEXPR_BETWEEN</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;="</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;="</span><span class='Delimiter'>, 
</span>                                               <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1289"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN265"><span class='Ref_to_EnumConst'>AEXPR_NOT_BETWEEN</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;"</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;"</span><span class='Delimiter'>, 
</span>                                               <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1289"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN266"><span class='Ref_to_EnumConst'>AEXPR_BETWEEN_SYM</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;="</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;="</span><span class='Delimiter'>, 
</span>                                               <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1290"><span class='Ref_To_Local'>sub1</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;="</span><span class='Delimiter'>, 
</span>                                        <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;="</span><span class='Delimiter'>, 
</span>                                        <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1291"><span class='Ref_To_Local'>sub2</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1290"><span class='Ref_To_Local'>sub1</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1291"><span class='Ref_To_Local'>sub2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1289"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/parsenodes.h.html#LN267"><span class='Ref_to_EnumConst'>AEXPR_NOT_BETWEEN_SYM</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;"</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;"</span><span class='Delimiter'>, 
</span>                                               <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1290"><span class='Ref_To_Local'>sub1</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;"</span><span class='Delimiter'>, 
</span>                                        <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1288"><span class='Ref_To_Local'>cexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;"</span><span class='Delimiter'>, 
</span>                                        <a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1286"><span class='Ref_To_Local'>aexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN618"><span class='Ref_to_Macro'>copyObject</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1287"><span class='Ref_To_Local'>bexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                               <a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1291"><span class='Ref_To_Local'>sub2</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1290"><span class='Ref_To_Local'>sub1</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1291"><span class='Ref_To_Local'>sub2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1289"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1292"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized A_Expr kind: %d"</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1289"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch a-&GT;kind &raquo; </span> 
 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1284"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1289"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformAExprBetween &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1394"></a><span class='Declare_Function'>transformBoolExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN557"><span class='Ref_to_Struct'>BoolExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1396"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>args</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN1397"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>opname</span><span class='Delimiter'>; 
</span><a name="LN1398"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN560"><span class='Ref_to_Member'>boolop</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1397"><span class='Ref_To_Local'>opname</span></a> <span class='Operator'>= </span><span class='String'>"AND"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1397"><span class='Ref_To_Local'>opname</span></a> <span class='Operator'>= </span><span class='String'>"OR"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>NOT_EXPR</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1397"><span class='Ref_To_Local'>opname</span></a> <span class='Operator'>= </span><span class='String'>"NOT"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized boolop: %d"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN560"><span class='Ref_to_Member'>boolop</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1397"><span class='Ref_To_Local'>opname</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1398"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN561"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1419"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1398"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1419"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1419"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1419"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN54"><span class='Ref_to_Proto'>coerce_to_boolean</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1419"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1397"><span class='Ref_To_Local'>opname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1396"><span class='Ref_To_Local'>args</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1396"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1419"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN560"><span class='Ref_to_Member'>boolop</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1396"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1394"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN562"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformBoolExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1430"></a><span class='Declare_Function'>transformFuncCall</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN346"><span class='Ref_to_Struct'>FuncCall</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fn</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1432"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>targs</span><span class='Delimiter'>; 
</span><a name="LN1433"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Transform the list of arguments ... */ 
</span>    <a href="parse_expr.c.html#LN1432"><span class='Ref_To_Local'>targs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1433"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN350"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="parse_expr.c.html#LN1432"><span class='Ref_To_Local'>targs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1432"><span class='Ref_To_Local'>targs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                    <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1433"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * When WITHIN GROUP is used, we treat its ORDER BY expressions as 
     * additional arguments to the function, for purposes of function lookup 
     * and argument type coercion.  So, transform each such expression and add 
     * them to the targs list.  We don't explicitly mark where each argument 
     * came from, but ParseFuncOrColumn can tell what's what by reference to 
     * list_length(fn-&GT;agg_order). 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN353"><span class='Ref_to_Member'>agg_within_group</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN351"><span class='Ref_to_Member'>agg_order</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1433"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN351"><span class='Ref_to_Member'>agg_order</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1456"></a>            <a href="../../include/nodes/parsenodes.h.html#LN465"><span class='Ref_to_Struct'>SortBy</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>arg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN465"><span class='Ref_to_Struct'>SortBy</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1433"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN1432"><span class='Ref_To_Local'>targs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1432"><span class='Ref_To_Local'>targs</span></a><span class='Delimiter'>, </span><a href="../../include/parser/parse_expr.h.html#LN21"><span class='Ref_to_Proto'>transformExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1456"><span class='Ref_To_Local'>arg</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN468"><span class='Ref_to_Member'>node</span></a><span class='Delimiter'>, 
</span>                                                 <a href="../../include/parser/parse_node.h.html#LN52"><span class='Ref_to_EnumConst'>EXPR_KIND_ORDER_BY</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* ... and hand off to ParseFuncOrColumn */ 
</span>    <span class='Control'>return</span> <a href="../../include/parser/parse_func.h.html#LN32"><span class='Ref_to_Proto'>ParseFuncOrColumn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                             <a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN349"><span class='Ref_to_Member'>funcname</span></a><span class='Delimiter'>, 
</span>                             <a href="parse_expr.c.html#LN1432"><span class='Ref_To_Local'>targs</span></a><span class='Delimiter'>, 
</span>                             <a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Delimiter'>, 
</span>                             <a href="parse_expr.c.html#LN1430"><span class='Ref_to_Parameter'>fn</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN358"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformFuncCall &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1472"></a><span class='Declare_Function'>transformMultiAssignRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN454"><span class='Ref_to_Struct'>MultiAssignRef</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>maref</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1474"></a>    <a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>sublink</span><span class='Delimiter'>; 
</span><a name="LN1475"></a>    <a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>rexpr</span><span class='Delimiter'>; 
</span><a name="LN1476"></a>    <a href="../../include/nodes/parsenodes.h.html#LN105"><span class='Ref_to_Struct'>Query</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>qtree</span><span class='Delimiter'>; 
</span><a name="LN1477"></a>    <a href="../../include/nodes/primnodes.h.html#LN1363"><span class='Ref_to_Struct'>TargetEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tle</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* We should only see this in first-stage processing of UPDATE tlists */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN182"><span class='Ref_to_Member'>p_expr_kind</span></a> <span class='Operator'>== </span><a href="../../include/parser/parse_node.h.html#LN49"><span class='Ref_to_EnumConst'>EXPR_KIND_UPDATE_SOURCE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* We only need to transform the source if this is the first column */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN458"><span class='Ref_to_Member'>colno</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * For now, we only allow EXPR SubLinks and RowExprs as the source of 
         * an UPDATE multiassignment.  This is sufficient to cover interesting 
         * cases; at worst, someone would have to write (SELECT * FROM expr) 
         * to expand a composite-returning expression of another form. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN457"><span class='Ref_to_Member'>source</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>            <span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN457"><span class='Ref_to_Member'>source</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>subLinkType <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN622"><span class='Ref_to_EnumConst'>EXPR_SUBLINK</span></a><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Relabel it as a MULTIEXPR_SUBLINK */ 
</span>            <a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN457"><span class='Ref_to_Member'>source</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN623"><span class='Ref_to_EnumConst'>MULTIEXPR_SUBLINK</span></a><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* And transform it */ 
</span>            <a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                       <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN1476"><span class='Ref_To_Local'>qtree</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN575"><span class='Ref_to_Macro'>castNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN105"><span class='Ref_to_Struct'>Query</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN636"><span class='Ref_to_Member'>subselect</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Check subquery returns required number of columns */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/optimizer/tlist.h.html#LN26"><span class='Ref_to_Proto'>count_nonjunk_tlist_entries</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1476"><span class='Ref_To_Local'>qtree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN137"><span class='Ref_to_Member'>targetList</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN459"><span class='Ref_to_Member'>ncolumns</span></a><span class='Parentheses'>)</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"number of columns does not match number of values"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Build a resjunk tlist item containing the MULTIEXPR SubLink, 
             * and add it to pstate-&GT;p_multiassign_exprs, whence it will later 
             * get appended to the completed targetlist.  We needn't worry 
             * about selecting a resno for it; transformUpdateStmt will do 
             * that. 
             */ 
</span>            <a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a> <span class='Operator'>= </span><a href="../../include/nodes/makefuncs.h.html#LN40"><span class='Ref_to_Proto'>makeTargetEntry</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a><span class='Delimiter'>, 
</span>                                                  <a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Assign a unique-within-this-targetlist ID to the MULTIEXPR 
             * SubLink.  We can just use its position in the 
             * p_multiassign_exprs list. 
             */ 
</span>            <a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN633"><span class='Ref_to_Member'>subLinkId</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(maref-&GT;source,Sub... &raquo; </span> 
        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN457"><span class='Ref_to_Member'>source</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Transform the RowExpr, allowing SetToDefault items */ 
</span>            <a href="parse_expr.c.html#LN1475"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN108"><span class='Ref_to_Proto'>transformRowExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                 <span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN457"><span class='Ref_to_Member'>source</span></a><span class='Delimiter'>, 
</span>                                                 <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Check it returns required number of columns */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1475"><span class='Ref_To_Local'>rexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN459"><span class='Ref_to_Member'>ncolumns</span></a><span class='Parentheses'>)</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"number of columns does not match number of values"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1475"><span class='Ref_To_Local'>rexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN998"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Temporarily append it to p_multiassign_exprs, so we can get it 
             * back when we come back here for additional columns. 
             */ 
</span>            <a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a> <span class='Operator'>= </span><a href="../../include/nodes/makefuncs.h.html#LN40"><span class='Ref_to_Proto'>makeTargetEntry</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1475"><span class='Ref_To_Local'>rexpr</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a><span class='Delimiter'>, 
</span>                                                  <a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(maref-&GT;source,Row... &raquo; </span> 
        <span class='Control'>else</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"source for a multiple-column UPDATE item must be a sub-SELECT or ROW() expression"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/nodeFuncs.h.html#LN43"><span class='Ref_to_Proto'>exprLocation</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN457"><span class='Ref_to_Member'>source</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if maref-&GT;colno==1 &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Second or later column in a multiassignment.  Re-fetch the 
         * transformed SubLink or RowExpr, which we assume is still the last 
         * entry in p_multiassign_exprs. 
         */ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1363"><span class='Ref_to_Struct'>TargetEntry</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Emit the appropriate output expression for the current column 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1572"></a>        <a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>param</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Delimiter'>; 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN623"><span class='Ref_to_EnumConst'>MULTIEXPR_SUBLINK</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1476"><span class='Ref_To_Local'>qtree</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN575"><span class='Ref_to_Macro'>castNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN105"><span class='Ref_to_Struct'>Query</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN636"><span class='Ref_to_Member'>subselect</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Build a Param representing the current subquery output column */ 
</span>        <a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1363"><span class='Ref_to_Struct'>TargetEntry</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN223"><span class='Ref_to_Proto'>list_nth</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1476"><span class='Ref_To_Local'>qtree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN137"><span class='Ref_to_Member'>targetList</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN458"><span class='Ref_to_Member'>colno</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1373"><span class='Ref_to_Member'>resjunk</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN243"><span class='Ref_to_Member'>paramkind</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN237"><span class='Ref_to_EnumConst'>PARAM_MULTIEXPR</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN244"><span class='Ref_to_Member'>paramid</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1474"><span class='Ref_To_Local'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN633"><span class='Ref_to_Member'>subLinkId</span></a> <span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>) </span><span class='Operator'>| </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN458"><span class='Ref_to_Member'>colno</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN245"><span class='Ref_to_Member'>paramtype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN246"><span class='Ref_to_Member'>paramtypmod</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN32"><span class='Ref_to_Proto'>exprTypmod</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN247"><span class='Ref_to_Member'>paramcollid</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN38"><span class='Ref_to_Proto'>exprCollation</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN248"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN43"><span class='Ref_to_Proto'>exprLocation</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1572"><span class='Ref_To_Local'>param</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(tle-&GT;expr,SubLink... &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1595"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1475"><span class='Ref_To_Local'>rexpr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Just extract and return the next element of the RowExpr */ 
</span>        <a href="parse_expr.c.html#LN1595"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN223"><span class='Ref_to_Proto'>list_nth</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1475"><span class='Ref_To_Local'>rexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN458"><span class='Ref_to_Member'>colno</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If we're at the last column, delete the RowExpr from 
         * p_multiassign_exprs; we don't need it anymore, and don't want it in 
         * the finished UPDATE tlist. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN458"><span class='Ref_to_Member'>colno</span></a> <span class='Operator'>== </span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>maref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN459"><span class='Ref_to_Member'>ncolumns</span></a><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a> <span class='Operator'>= 
</span>                <a href="../../include/nodes/pg_list.h.html#LN234"><span class='Ref_to_Proto'>list_delete_ptr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1472"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN184"><span class='Ref_to_Member'>p_multiassign_exprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1477"><span class='Ref_To_Local'>tle</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <a href="parse_expr.c.html#LN1595"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(tle-&GT;expr,RowExpr... &raquo; </span> 
 
    <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unexpected expr type in multiassign list"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end transformMultiAssignRef &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1619"></a><span class='Declare_Function'>transformCaseExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN901"><span class='Ref_to_Struct'>CaseExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1621"></a>    <a href="../../include/nodes/primnodes.h.html#LN901"><span class='Ref_to_Struct'>CaseExpr</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>newc</span><span class='Delimiter'>; 
</span><a name="LN1622"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span><span class='Delimiter'>; 
</span><a name="LN1623"></a>    <a href="../../include/nodes/primnodes.h.html#LN931"><span class='Ref_to_Struct'>CaseTestExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>placeholder</span><span class='Delimiter'>; 
</span><a name="LN1624"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newargs</span><span class='Delimiter'>; 
</span><a name="LN1625"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>resultexprs</span><span class='Delimiter'>; 
</span><a name="LN1626"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>l</span><span class='Delimiter'>; 
</span><a name="LN1627"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>defresult</span><span class='Delimiter'>; 
</span><a name="LN1628"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>ptype</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN901"><span class='Ref_to_Struct'>CaseExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* transform the test expression, if any */ 
</span>    <a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN906"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* generate placeholder for test expression */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * If test expression is an untyped literal, force it to text. We have 
         * to do something now because we won't be able to do this coercion on 
         * the placeholder.  This is not as flexible as what was done in 7.4 
         * and before, but it's good enough to handle the sort of silly coding 
         * commonly seen. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN43"><span class='Ref_to_Const'>UNKNOWNOID</span></a><span class='Parentheses'>)</span> 
            <a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>, </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, </span><span class='String'>"CASE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Run collation assignment on the test expression so that we know 
         * what collation to mark the placeholder with.  In principle we could 
         * leave it to parse_collate.c to do that later, but propagating the 
         * result to the CaseTestExpr would be unnecessarily complicated. 
         */ 
</span>        <a href="../../include/parser/parse_collate.h.html#LN22"><span class='Ref_to_Proto'>assign_expr_collations</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN931"><span class='Ref_to_Struct'>CaseTestExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN934"><span class='Ref_to_Member'>typeId</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN935"><span class='Ref_to_Member'>typeMod</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN32"><span class='Ref_to_Proto'>exprTypmod</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN936"><span class='Ref_to_Member'>collation</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN38"><span class='Ref_to_Proto'>exprCollation</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if arg &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN906"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1622"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* transform the list of arguments */ 
</span>    <a href="parse_expr.c.html#LN1624"><span class='Ref_To_Local'>newargs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1625"><span class='Ref_To_Local'>resultexprs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1626"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN907"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1671"></a>        <a href="../../include/nodes/primnodes.h.html#LN915"><span class='Ref_to_Struct'>CaseWhen</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>w</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN108"><span class='Ref_to_Macro'>lfirst_node</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN915"><span class='Ref_to_Struct'>CaseWhen</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1626"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1672"></a>        <a href="../../include/nodes/primnodes.h.html#LN915"><span class='Ref_to_Struct'>CaseWhen</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>neww</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN915"><span class='Ref_to_Struct'>CaseWhen</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1673"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>warg</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1673"><span class='Ref_To_Local'>warg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1671"><span class='Ref_To_Local'>w</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN918"><span class='Ref_to_Member'>expr</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* shorthand form was specified, so expand... */ 
</span>            <a href="parse_expr.c.html#LN1673"><span class='Ref_To_Local'>warg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN22"><span class='Ref_to_Proto'>makeSimpleA_Expr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a><span class='Delimiter'>, </span><span class='String'>"="</span><span class='Delimiter'>, 
</span>                                             <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1623"><span class='Ref_To_Local'>placeholder</span></a><span class='Delimiter'>, 
</span>                                             <a href="parse_expr.c.html#LN1673"><span class='Ref_To_Local'>warg</span></a><span class='Delimiter'>, 
</span>                                             <a href="parse_expr.c.html#LN1671"><span class='Ref_To_Local'>w</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN920"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN918"><span class='Ref_to_Member'>expr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1673"><span class='Ref_To_Local'>warg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN918"><span class='Ref_to_Member'>expr</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_coerce.h.html#LN54"><span class='Ref_to_Proto'>coerce_to_boolean</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN918"><span class='Ref_to_Member'>expr</span></a><span class='Delimiter'>, 
</span>                                                <span class='String'>"CASE/WHEN"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1673"><span class='Ref_To_Local'>warg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1671"><span class='Ref_To_Local'>w</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN919"><span class='Ref_to_Member'>result</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN919"><span class='Ref_to_Member'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1673"><span class='Ref_To_Local'>warg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN920"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1671"><span class='Ref_To_Local'>w</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN920"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1624"><span class='Ref_To_Local'>newargs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1624"><span class='Ref_To_Local'>newargs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1625"><span class='Ref_To_Local'>resultexprs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1625"><span class='Ref_To_Local'>resultexprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1672"><span class='Ref_To_Local'>neww</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN919"><span class='Ref_to_Member'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN907"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1624"><span class='Ref_To_Local'>newargs</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* transform the default clause */ 
</span>    <a href="parse_expr.c.html#LN1627"><span class='Ref_To_Local'>defresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN908"><span class='Ref_to_Member'>defresult</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1627"><span class='Ref_To_Local'>defresult</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1704"></a>        <a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>n</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN284"><span class='Ref_to_Struct'>A_Const</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1704"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN287"><span class='Ref_to_Member'>val</span></a><span class='Operator'>.</span><a href="../../include/nodes/value.h.html#LN43"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN285"><span class='Ref_to_EnumConst'>T_Null</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1704"><span class='Ref_To_Local'>n</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN288"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1627"><span class='Ref_To_Local'>defresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1704"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN908"><span class='Ref_to_Member'>defresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1627"><span class='Ref_To_Local'>defresult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Note: default result is considered the most significant type in 
     * determining preferred type. This is how the code worked before, but it 
     * seems a little bogus to me --- tgl 
     */ 
</span>    <a href="parse_expr.c.html#LN1625"><span class='Ref_To_Local'>resultexprs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN215"><span class='Ref_to_Proto'>lcons</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN908"><span class='Ref_to_Member'>defresult</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1625"><span class='Ref_To_Local'>resultexprs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1628"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN68"><span class='Ref_to_Proto'>select_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1625"><span class='Ref_To_Local'>resultexprs</span></a><span class='Delimiter'>, </span><span class='String'>"CASE"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1628"><span class='Ref_To_Local'>ptype</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN904"><span class='Ref_to_Member'>casetype</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1628"><span class='Ref_To_Local'>ptype</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* casecollid will be set by parse_collate.c */ 
</span> 
    <span class='Comment_Multi_Line'>/* Convert default result clause, if necessary */ 
</span>    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN908"><span class='Ref_to_Member'>defresult</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) 
</span>        <a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                              <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN908"><span class='Ref_to_Member'>defresult</span></a><span class='Delimiter'>, 
</span>                              <a href="parse_expr.c.html#LN1628"><span class='Ref_To_Local'>ptype</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"CASE/ELSE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Convert when-clause results, if necessary */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1626"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN907"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1734"></a>        <a href="../../include/nodes/primnodes.h.html#LN915"><span class='Ref_to_Struct'>CaseWhen</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>w</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN915"><span class='Ref_to_Struct'>CaseWhen</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1626"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN1734"><span class='Ref_To_Local'>w</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN919"><span class='Ref_to_Member'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) 
</span>            <a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                  <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1734"><span class='Ref_To_Local'>w</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN919"><span class='Ref_to_Member'>result</span></a><span class='Delimiter'>, 
</span>                                  <a href="parse_expr.c.html#LN1628"><span class='Ref_To_Local'>ptype</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"CASE/WHEN"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN909"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1619"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN909"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1621"><span class='Ref_To_Local'>newc</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformCaseExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1749"></a><span class='Declare_Function'>transformSubLink</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sublink</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1751"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Delimiter'>; 
</span><a name="LN1752"></a>    <a href="../../include/nodes/parsenodes.h.html#LN105"><span class='Ref_to_Struct'>Query</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>qtree</span><span class='Delimiter'>; 
</span><a name="LN1753"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>err</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check to see if the sublink is in an invalid place within the query. We 
     * allow sublinks everywhere in SELECT/INSERT/UPDATE/DELETE, but generally 
     * not in utility statements. 
     */ 
</span>    <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN182"><span class='Ref_to_Member'>p_expr_kind</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN34"><span class='Ref_to_EnumConst'>EXPR_KIND_NONE</span></a><span class='Operator'>: 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* can't happen */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN35"><span class='Ref_to_EnumConst'>EXPR_KIND_OTHER</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* Accept sublink here; caller must throw error if wanted */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN36"><span class='Ref_to_EnumConst'>EXPR_KIND_JOIN_ON</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN37"><span class='Ref_to_EnumConst'>EXPR_KIND_JOIN_USING</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN38"><span class='Ref_to_EnumConst'>EXPR_KIND_FROM_SUBSELECT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN39"><span class='Ref_to_EnumConst'>EXPR_KIND_FROM_FUNCTION</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN40"><span class='Ref_to_EnumConst'>EXPR_KIND_WHERE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN68"><span class='Ref_to_EnumConst'>EXPR_KIND_POLICY</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN41"><span class='Ref_to_EnumConst'>EXPR_KIND_HAVING</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN42"><span class='Ref_to_EnumConst'>EXPR_KIND_FILTER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN43"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_PARTITION</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN44"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_ORDER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN45"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_FRAME_RANGE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN46"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_FRAME_ROWS</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN47"><span class='Ref_to_EnumConst'>EXPR_KIND_SELECT_TARGET</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN48"><span class='Ref_to_EnumConst'>EXPR_KIND_INSERT_TARGET</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN49"><span class='Ref_to_EnumConst'>EXPR_KIND_UPDATE_SOURCE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN50"><span class='Ref_to_EnumConst'>EXPR_KIND_UPDATE_TARGET</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN51"><span class='Ref_to_EnumConst'>EXPR_KIND_GROUP_BY</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN52"><span class='Ref_to_EnumConst'>EXPR_KIND_ORDER_BY</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN53"><span class='Ref_to_EnumConst'>EXPR_KIND_DISTINCT_ON</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN54"><span class='Ref_to_EnumConst'>EXPR_KIND_LIMIT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN55"><span class='Ref_to_EnumConst'>EXPR_KIND_OFFSET</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN56"><span class='Ref_to_EnumConst'>EXPR_KIND_RETURNING</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN57"><span class='Ref_to_EnumConst'>EXPR_KIND_VALUES</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN58"><span class='Ref_to_EnumConst'>EXPR_KIND_VALUES_SINGLE</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* okay */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN59"><span class='Ref_to_EnumConst'>EXPR_KIND_CHECK_CONSTRAINT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN60"><span class='Ref_to_EnumConst'>EXPR_KIND_DOMAIN_CHECK</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in check constraint"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN61"><span class='Ref_to_EnumConst'>EXPR_KIND_COLUMN_DEFAULT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN62"><span class='Ref_to_EnumConst'>EXPR_KIND_FUNCTION_DEFAULT</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in DEFAULT expression"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN63"><span class='Ref_to_EnumConst'>EXPR_KIND_INDEX_EXPRESSION</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in index expression"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN64"><span class='Ref_to_EnumConst'>EXPR_KIND_INDEX_PREDICATE</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in index predicate"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN65"><span class='Ref_to_EnumConst'>EXPR_KIND_ALTER_COL_TRANSFORM</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in transform expression"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN66"><span class='Ref_to_EnumConst'>EXPR_KIND_EXECUTE_PARAMETER</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in EXECUTE parameter"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN67"><span class='Ref_to_EnumConst'>EXPR_KIND_TRIGGER_WHEN</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in trigger WHEN condition"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN69"><span class='Ref_to_EnumConst'>EXPR_KIND_PARTITION_EXPRESSION</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"cannot use subquery in partition key expression"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * There is intentionally no default: case here, so that the 
             * compiler will warn if we add a new ParseExprKind without 
             * extending this switch.  If we do see an unrecognized value at 
             * runtime, the behavior will be the same as for EXPR_KIND_OTHER, 
             * which is sane anyway. 
             */ 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch pstate-&GT;p_expr_kind &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN825"><span class='Ref_to_Func'>errmsg_internal</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1753"><span class='Ref_To_Local'>err</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN198"><span class='Ref_to_Member'>p_hasSubLinks</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * OK, let's transform the sub-SELECT. 
     */ 
</span>    <a href="parse_expr.c.html#LN1752"><span class='Ref_To_Local'>qtree</span></a> <span class='Operator'>= </span><a href="../../include/parser/analyze.h.html#LN29"><span class='Ref_to_Proto'>parse_sub_analyze</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN636"><span class='Ref_to_Member'>subselect</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check that we got a SELECT.  Anything else should be impossible given 
     * restrictions of the grammar, but check anyway. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1752"><span class='Ref_To_Local'>qtree</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN105"><span class='Ref_to_Struct'>Query</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>        <a href="parse_expr.c.html#LN1752"><span class='Ref_To_Local'>qtree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN109"><span class='Ref_to_Member'>commandType</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/nodes.h.html#LN650"><span class='Ref_to_EnumConst'>CMD_SELECT</span></a><span class='Parentheses'>)</span> 
        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unexpected non-SELECT command in SubLink"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN636"><span class='Ref_to_Member'>subselect</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1752"><span class='Ref_To_Local'>qtree</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN618"><span class='Ref_to_EnumConst'>EXISTS_SUBLINK</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * EXISTS needs no test expression or combining operator. These fields 
         * should be null already, but make sure. 
         */ 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN622"><span class='Ref_to_EnumConst'>EXPR_SUBLINK</span></a> <span class='Operator'>|| 
</span>             <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN624"><span class='Ref_to_EnumConst'>ARRAY_SUBLINK</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Make sure the subselect delivers a single column (ignoring resjunk 
         * targets). 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/optimizer/tlist.h.html#LN26"><span class='Ref_to_Proto'>count_nonjunk_tlist_entries</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1752"><span class='Ref_To_Local'>qtree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN137"><span class='Ref_to_Member'>targetList</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"subquery must return only one column"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * EXPR and ARRAY need no test expression or combining operator. These 
         * fields should be null already, but make sure. 
         */ 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if sublink-&GT;subLinkType=... &raquo; </span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN623"><span class='Ref_to_EnumConst'>MULTIEXPR_SUBLINK</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Same as EXPR case, except no restriction on number of columns */ 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* ALL, ANY, or ROWCOMPARE: generate row-comparing expression */ 
</span><a name="LN1891"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>lefthand</span><span class='Delimiter'>; 
</span><a name="LN1892"></a>        <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>left_list</span><span class='Delimiter'>; 
</span><a name="LN1893"></a>        <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>right_list</span><span class='Delimiter'>; 
</span><a name="LN1894"></a>        <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>l</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>                <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN57"><span class='Ref_to_Const'>PREC_GROUP_IN</span></a><span class='Delimiter'>, </span><span class='String'>"IN"</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If the source was "x IN (select)", convert to "x = ANY (select)". 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><span class='String'>"="</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Transform lefthand expression, and convert to a list 
         */ 
</span>        <a href="parse_expr.c.html#LN1891"><span class='Ref_To_Local'>lefthand</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1891"><span class='Ref_To_Local'>lefthand</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1891"><span class='Ref_To_Local'>lefthand</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>))</span> 
            <a href="parse_expr.c.html#LN1892"><span class='Ref_To_Local'>left_list</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1891"><span class='Ref_To_Local'>lefthand</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>args<span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN1892"><span class='Ref_To_Local'>left_list</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1891"><span class='Ref_To_Local'>lefthand</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Build a list of PARAM_SUBLINK nodes representing the output columns 
         * of the subquery. 
         */ 
</span>        <a href="parse_expr.c.html#LN1893"><span class='Ref_To_Local'>right_list</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>        <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1894"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1752"><span class='Ref_To_Local'>qtree</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN137"><span class='Ref_to_Member'>targetList</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1931"></a>            <a href="../../include/nodes/primnodes.h.html#LN1363"><span class='Ref_to_Struct'>TargetEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tent</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1363"><span class='Ref_to_Struct'>TargetEntry</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1894"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1932"></a>            <a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>param</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1931"><span class='Ref_To_Local'>tent</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1373"><span class='Ref_to_Member'>resjunk</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN243"><span class='Ref_to_Member'>paramkind</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN236"><span class='Ref_to_EnumConst'>PARAM_SUBLINK</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN244"><span class='Ref_to_Member'>paramid</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1931"><span class='Ref_To_Local'>tent</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1367"><span class='Ref_to_Member'>resno</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN245"><span class='Ref_to_Member'>paramtype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1931"><span class='Ref_To_Local'>tent</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN246"><span class='Ref_to_Member'>paramtypmod</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN32"><span class='Ref_to_Proto'>exprTypmod</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1931"><span class='Ref_To_Local'>tent</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN247"><span class='Ref_to_Member'>paramcollid</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN38"><span class='Ref_to_Proto'>exprCollation</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1931"><span class='Ref_To_Local'>tent</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1366"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN248"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN1893"><span class='Ref_To_Local'>right_list</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1893"><span class='Ref_To_Local'>right_list</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1932"><span class='Ref_To_Local'>param</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * We could rely on make_row_comparison_op to complain if the list 
         * lengths differ, but we prefer to generate a more specific error 
         * message. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1892"><span class='Ref_To_Local'>left_list</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1893"><span class='Ref_To_Local'>right_list</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"subquery has too many columns"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1892"><span class='Ref_To_Local'>left_list</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1893"><span class='Ref_To_Local'>right_list</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"subquery has too few columns"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Identify the combining operator(s) and generate a suitable 
         * row-comparison expression. 
         */ 
</span>        <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN634"><span class='Ref_to_Member'>testexpr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN124"><span class='Ref_to_Proto'>make_row_comparison_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1892"><span class='Ref_To_Local'>left_list</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1893"><span class='Ref_To_Local'>right_list</span></a><span class='Delimiter'>, 
</span>                                                   <a href="parse_expr.c.html#LN1749"><span class='Ref_to_Parameter'>sublink</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN1751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformSubLink &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * transformArrayExpr 
 * 
 * If the caller specifies the target type, the resulting array will 
 * be of exactly that type.  Otherwise we try to infer a common type 
 * for the elements using select_common_type(). 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN1986"></a><span class='Declare_Function'>transformArrayExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, 
</span><a name="LN1987"></a>                   <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>array_type</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>element_type</span><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>typmod</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1989"></a>    <a href="../../include/nodes/primnodes.h.html#LN947"><span class='Ref_to_Struct'>ArrayExpr</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>newa</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN947"><span class='Ref_to_Struct'>ArrayExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1990"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newelems</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN1991"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newcoercedelems</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN1992"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>element</span><span class='Delimiter'>; 
</span><a name="LN1993"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>coerce_type</span><span class='Delimiter'>; 
</span><a name="LN1994"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>coerce_hard</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Transform the element expressions 
     * 
     * Assume that the array is one-dimensional unless we find an array-type 
     * element expression. 
     */ 
</span>    <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1992"><span class='Ref_To_Local'>element</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN414"><span class='Ref_to_Member'>elements</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2005"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1992"><span class='Ref_To_Local'>element</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2006"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Look through AEXPR_PAREN nodes so they don't affect test below */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>               <span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>kind <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Parentheses'>)</span> 
            <a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>lexpr<span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If an element is itself an A_ArrayExpr, recurse directly so that we 
         * can pass down any target type we were given. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="parse_expr.c.html#LN2006"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN106"><span class='Ref_to_Proto'>transformArrayExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                      <span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>typmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* we certainly have an array here */ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a> <span class='Operator'>== </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a> <span class='Operator'>|| </span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a> <span class='Operator'>== </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2006"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="parse_expr.c.html#LN2006"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2005"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Check for sub-array expressions, if we haven't already found 
             * one. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a> <span class='Operator'>&& </span><a href="../../include/utils/lsyscache.h.html#LN179"><span class='Ref_to_Macro'>type_is_array</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2006"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)))</span> 
                <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="parse_expr.c.html#LN1990"><span class='Ref_To_Local'>newelems</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1990"><span class='Ref_To_Local'>newelems</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2006"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Select a target type for the elements. 
     * 
     * If we haven't been given a target array type, we must try to deduce a 
     * common type based on the types of the individual elements present. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Caller must ensure array_type matches element_type */ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a> <span class='Operator'>? </span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a> <span class='Operator'>: </span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1994"><span class='Ref_To_Local'>coerce_hard</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Can't handle an empty array without a target type */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1990"><span class='Ref_To_Local'>newelems</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INDETERMINATE_DATATYPE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot determine type of empty array"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Explicitly cast to the desired type, "</span> 
                             <span class='String'>"for example ARRAY[]::integer[]."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN415"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Select a common type for the elements */ 
</span>        <a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN68"><span class='Ref_to_Proto'>select_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1990"><span class='Ref_To_Local'>newelems</span></a><span class='Delimiter'>, </span><span class='String'>"ARRAY"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN954"><span class='Ref_to_Member'>multidims</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN157"><span class='Ref_to_Proto'>get_element_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_OBJECT<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                       <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"could not find element type for data type %s"</span><span class='Delimiter'>, 
</span>                              <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN415"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN158"><span class='Ref_to_Proto'>get_array_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_UNDEFINED_OBJECT<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"could not find array type for data type %s"</span><span class='Delimiter'>, 
</span>                                <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN415"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="parse_expr.c.html#LN1994"><span class='Ref_To_Local'>coerce_hard</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Coerce elements to target type 
     * 
     * If the array has been explicitly cast, then the elements are in turn 
     * explicitly coerced. 
     * 
     * If the array's type was merely derived from the common type of its 
     * elements, then the elements are implicitly coerced to the common type. 
     * This is consistent with other uses of select_common_type(). 
     */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1992"><span class='Ref_To_Local'>element</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN1990"><span class='Ref_To_Local'>newelems</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2107"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1992"><span class='Ref_To_Local'>element</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2108"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1994"><span class='Ref_To_Local'>coerce_hard</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="parse_expr.c.html#LN2108"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN37"><span class='Ref_to_Proto'>coerce_to_target_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2107"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2107"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>typmod</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../include/nodes/primnodes.h.html#LN422"><span class='Ref_to_EnumConst'>COERCION_EXPLICIT</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../include/nodes/primnodes.h.html#LN437"><span class='Ref_to_EnumConst'>COERCE_EXPLICIT_CAST</span></a><span class='Delimiter'>, 
</span>                                         <span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2108"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_CANNOT_COERCE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot cast type %s to %s"</span><span class='Delimiter'>, 
</span>                                <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2107"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                         <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/nodeFuncs.h.html#LN43"><span class='Ref_to_Proto'>exprLocation</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2107"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>))))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN2108"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2107"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN1993"><span class='Ref_To_Local'>coerce_type</span></a><span class='Delimiter'>, 
</span>                                         <span class='String'>"ARRAY"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN1991"><span class='Ref_To_Local'>newcoercedelems</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN1991"><span class='Ref_To_Local'>newcoercedelems</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2108"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN950"><span class='Ref_to_Member'>array_typeid</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>array_type</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* array_collid will be set by parse_collate.c */ 
</span>    <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN952"><span class='Ref_to_Member'>element_typeid</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1987"><span class='Ref_to_Parameter'>element_type</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN953"><span class='Ref_to_Member'>elements</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1991"><span class='Ref_To_Local'>newcoercedelems</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN955"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN1986"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN415"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN1989"><span class='Ref_To_Local'>newa</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformArrayExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2144"></a><span class='Declare_Function'>transformRowExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>allowDefault</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2146"></a>    <a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>newr</span><span class='Delimiter'>; 
</span><a name="LN2147"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>fname</span><span class='Delimiter'>[</span><span class='Number'>16</span><span class='Delimiter'>]; 
</span><a name="LN2148"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>fnum</span><span class='Delimiter'>; 
</span><a name="LN2149"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Transform the field expressions */ 
</span>    <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_target.h.html#LN21"><span class='Ref_to_Proto'>transformExpressionList</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2144"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2144"><span class='Ref_to_Parameter'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a><span class='Delimiter'>, 
</span>                                         <a href="parse_expr.c.html#LN2144"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN182"><span class='Ref_to_Member'>p_expr_kind</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2144"><span class='Ref_to_Parameter'>allowDefault</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Barring later casting, we consider the type RECORD */ 
</span>    <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN985"><span class='Ref_to_Member'>row_typeid</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_type.h.html#LN679"><span class='Ref_to_Const'>RECORDOID</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN996"><span class='Ref_to_Member'>row_format</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN438"><span class='Ref_to_EnumConst'>COERCE_IMPLICIT_CAST</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* ROW() has anonymous columns, so invent some field names */ 
</span>    <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN997"><span class='Ref_to_Member'>colnames</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2148"><span class='Ref_To_Local'>fnum</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2149"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2147"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2147"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"f%d"</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2148"><span class='Ref_To_Local'>fnum</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN997"><span class='Ref_to_Member'>colnames</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN997"><span class='Ref_to_Member'>colnames</span></a><span class='Delimiter'>, </span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2147"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN998"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2144"><span class='Ref_to_Parameter'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN998"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2146"><span class='Ref_To_Local'>newr</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformRowExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2176"></a><span class='Declare_Function'>transformCoalesceExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1040"><span class='Ref_to_Struct'>CoalesceExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2178"></a>    <a href="../../include/nodes/primnodes.h.html#LN1040"><span class='Ref_to_Struct'>CoalesceExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newc</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1040"><span class='Ref_to_Struct'>CoalesceExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2179"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newargs</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN2180"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newcoercedargs</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN2181"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2181"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2176"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1045"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2185"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2181"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2186"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2186"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2176"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2185"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2179"><span class='Ref_To_Local'>newargs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2179"><span class='Ref_To_Local'>newargs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2186"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN2178"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1043"><span class='Ref_to_Member'>coalescetype</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN68"><span class='Ref_to_Proto'>select_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2176"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2179"><span class='Ref_To_Local'>newargs</span></a><span class='Delimiter'>, </span><span class='String'>"COALESCE"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* coalescecollid will be set by parse_collate.c */ 
</span> 
    <span class='Comment_Multi_Line'>/* Convert arguments if necessary */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2181"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2179"><span class='Ref_To_Local'>newargs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2198"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2181"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2199"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2199"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2176"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2198"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, 
</span>                                     <a href="parse_expr.c.html#LN2178"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1043"><span class='Ref_to_Member'>coalescetype</span></a><span class='Delimiter'>, 
</span>                                     <span class='String'>"COALESCE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2180"><span class='Ref_To_Local'>newcoercedargs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2180"><span class='Ref_To_Local'>newcoercedargs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2199"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN2178"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1045"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2180"><span class='Ref_To_Local'>newcoercedargs</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2178"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1046"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2176"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1046"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2178"><span class='Ref_To_Local'>newc</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformCoalesceExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2213"></a><span class='Declare_Function'>transformMinMaxExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1058"><span class='Ref_to_Struct'>MinMaxExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>m</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2215"></a>    <a href="../../include/nodes/primnodes.h.html#LN1058"><span class='Ref_to_Struct'>MinMaxExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newm</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1058"><span class='Ref_to_Struct'>MinMaxExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2216"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newargs</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN2217"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newcoercedargs</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span><a name="LN2218"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>funcname</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>m</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1064"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1054"><span class='Ref_to_EnumConst'>IS_GREATEST</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='String'>"GREATEST"</span> <span class='Operator'>: </span><span class='String'>"LEAST"</span><span class='Delimiter'>; 
</span><a name="LN2219"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2215"><span class='Ref_To_Local'>newm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1064"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>m</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1064"><span class='Ref_to_Member'>op</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2219"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>m</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1065"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2224"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2219"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2225"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2225"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2224"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2216"><span class='Ref_To_Local'>newargs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2216"><span class='Ref_To_Local'>newargs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2225"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN2215"><span class='Ref_To_Local'>newm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1061"><span class='Ref_to_Member'>minmaxtype</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN68"><span class='Ref_to_Proto'>select_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2216"><span class='Ref_To_Local'>newargs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2218"><span class='Ref_To_Local'>funcname</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* minmaxcollid and inputcollid will be set by parse_collate.c */ 
</span> 
    <span class='Comment_Multi_Line'>/* Convert arguments if necessary */ 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2219"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2216"><span class='Ref_To_Local'>newargs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2237"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2219"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2238"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2238"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN70"><span class='Ref_to_Proto'>coerce_to_common_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2237"><span class='Ref_To_Local'>e</span></a><span class='Delimiter'>, 
</span>                                     <a href="parse_expr.c.html#LN2215"><span class='Ref_To_Local'>newm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1061"><span class='Ref_to_Member'>minmaxtype</span></a><span class='Delimiter'>, 
</span>                                     <a href="parse_expr.c.html#LN2218"><span class='Ref_To_Local'>funcname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2217"><span class='Ref_To_Local'>newcoercedargs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2217"><span class='Ref_To_Local'>newcoercedargs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2238"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN2215"><span class='Ref_To_Local'>newm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1065"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2217"><span class='Ref_To_Local'>newcoercedargs</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2215"><span class='Ref_To_Local'>newm</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1066"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2213"><span class='Ref_to_Parameter'>m</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1066"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2215"><span class='Ref_To_Local'>newm</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformMinMaxExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2252"></a><span class='Declare_Function'>transformSQLValueFunction</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1099"><span class='Ref_to_Struct'>SQLValueFunction</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>svf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * All we need to do is insert the correct result type and (where needed) 
     * validate the typmod, so we just modify the node in-place. 
     */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1102"><span class='Ref_to_Member'>op</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1082"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_DATE</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN50"><span class='Ref_to_Const'>DATEOID</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1083"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIME</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN55"><span class='Ref_to_Const'>TIMETZOID</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1084"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIME_N</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN55"><span class='Ref_to_Const'>TIMETZOID</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a> <span class='Operator'>= </span><a href="../../include/utils/date.h.html#LN69"><span class='Ref_to_Proto'>anytime_typmod_check</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1085"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIMESTAMP</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN53"><span class='Ref_to_Const'>TIMESTAMPTZOID</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1086"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_TIMESTAMP_N</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN53"><span class='Ref_to_Const'>TIMESTAMPTZOID</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a> <span class='Operator'>= </span><a href="../../include/utils/timestamp.h.html#LN67"><span class='Ref_to_Proto'>anytimestamp_typmod_check</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1087"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIME</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN51"><span class='Ref_to_Const'>TIMEOID</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1088"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIME_N</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN51"><span class='Ref_to_Const'>TIMEOID</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a> <span class='Operator'>= </span><a href="../../include/utils/date.h.html#LN69"><span class='Ref_to_Proto'>anytime_typmod_check</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1089"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIMESTAMP</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN52"><span class='Ref_to_Const'>TIMESTAMPOID</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1090"><span class='Ref_to_EnumConst'>SVFOP_LOCALTIMESTAMP_N</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN52"><span class='Ref_to_Const'>TIMESTAMPOID</span></a><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a> <span class='Operator'>= </span><a href="../../include/utils/timestamp.h.html#LN67"><span class='Ref_to_Proto'>anytimestamp_typmod_check</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1104"><span class='Ref_to_Member'>typmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1091"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_ROLE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1092"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_USER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1093"><span class='Ref_to_EnumConst'>SVFOP_USER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1094"><span class='Ref_to_EnumConst'>SVFOP_SESSION_USER</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1095"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_CATALOG</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1096"><span class='Ref_to_EnumConst'>SVFOP_CURRENT_SCHEMA</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1103"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN20"><span class='Ref_to_Const'>NAMEOID</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch svf-&GT;op &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2252"><span class='Ref_to_Parameter'>svf</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformSQLValueFunction &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2305"></a><span class='Declare_Function'>transformXmlExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2307"></a>    <a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>newx</span><span class='Delimiter'>; 
</span><a name="LN2308"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc</span><span class='Delimiter'>; 
</span><a name="LN2309"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a> <span class='Operator'>&& </span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1128"><span class='Ref_to_EnumConst'>IS_DOCUMENT</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>, </span><span class='String'>"IS"</span><span class='Delimiter'>, 
</span>                                 <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1148"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1141"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1141"><span class='Ref_to_Member'>name</span></a> <span class='Operator'>= </span><a href="../../include/utils/xml.h.html#LN73"><span class='Ref_to_Proto'>map_sql_identifier_to_xml_name</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1141"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1141"><span class='Ref_to_Member'>name</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1145"><span class='Ref_to_Member'>xmloption</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1145"><span class='Ref_to_Member'>xmloption</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1146"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../../include/catalog/pg_type.h.html#LN358"><span class='Ref_to_Const'>XMLOID</span></a><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* this just marks the node as transformed */ 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1147"><span class='Ref_to_Member'>typmod</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1148"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1148"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * gram.y built the named args as a list of ResTarget.  Transform each, 
     * and break the names out as a separate list. 
     */ 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1142"><span class='Ref_to_Member'>named_args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1143"><span class='Ref_to_Member'>arg_names</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2308"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1142"><span class='Ref_to_Member'>named_args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2336"></a>        <a href="../../include/nodes/parsenodes.h.html#LN436"><span class='Ref_to_Struct'>ResTarget</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>r</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN108"><span class='Ref_to_Macro'>lfirst_node</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN436"><span class='Ref_to_Struct'>ResTarget</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2308"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2337"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>expr</span><span class='Delimiter'>; 
</span><a name="LN2338"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>argname</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2337"><span class='Ref_To_Local'>expr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN441"><span class='Ref_to_Member'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN439"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN2338"><span class='Ref_To_Local'>argname</span></a> <span class='Operator'>= </span><a href="../../include/utils/xml.h.html#LN73"><span class='Ref_to_Proto'>map_sql_identifier_to_xml_name</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN439"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN441"><span class='Ref_to_Member'>val</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN231"><span class='Ref_to_Struct'>ColumnRef</span></a><span class='Parentheses'>))</span> 
            <a href="parse_expr.c.html#LN2338"><span class='Ref_To_Local'>argname</span></a> <span class='Operator'>= </span><a href="../../include/utils/xml.h.html#LN73"><span class='Ref_to_Proto'>map_sql_identifier_to_xml_name</span></a><span class='Parentheses'>(</span><a href="../../include/parser/parse_target.h.html#LN42"><span class='Ref_to_Proto'>FigureColname</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN441"><span class='Ref_to_Member'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                     <span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1122"><span class='Ref_to_EnumConst'>IS_XMLELEMENT</span></a> 
            <span class='Operator'>? </span><a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"unnamed XML attribute value must be a column reference"</span><span class='Parentheses'>) 
</span>            <span class='Operator'>: </span><a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"unnamed XML element value must be a column reference"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN442"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN2338"><span class='Ref_To_Local'>argname</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* reject duplicate argnames in XMLELEMENT only */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1122"><span class='Ref_to_EnumConst'>IS_XMLELEMENT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2361"></a>            <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>lc2</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2361"><span class='Ref_To_Local'>lc2</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1143"><span class='Ref_to_Member'>arg_names</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2338"><span class='Ref_To_Local'>argname</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2361"><span class='Ref_To_Local'>lc2</span></a><span class='Parentheses'>)))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"XML attribute name \"%s\" appears more than once"</span><span class='Delimiter'>, 
</span>                           <a href="parse_expr.c.html#LN2338"><span class='Ref_To_Local'>argname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2336"><span class='Ref_To_Local'>r</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN442"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1142"><span class='Ref_to_Member'>named_args</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1142"><span class='Ref_to_Member'>named_args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2337"><span class='Ref_To_Local'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1143"><span class='Ref_to_Member'>arg_names</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1143"><span class='Ref_to_Member'>arg_names</span></a><span class='Delimiter'>, </span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2338"><span class='Ref_To_Local'>argname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* The other arguments are of varying types depending on the function */ 
</span>    <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2309"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2308"><span class='Ref_To_Local'>lc</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2383"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>e</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2308"><span class='Ref_To_Local'>lc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2384"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>newe</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2383"><span class='Ref_To_Local'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1121"><span class='Ref_to_EnumConst'>IS_XMLCONCAT</span></a><span class='Operator'>: 
</span>                <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../include/catalog/pg_type.h.html#LN358"><span class='Ref_to_Const'>XMLOID</span></a><span class='Delimiter'>, 
</span>                                               <span class='String'>"XMLCONCAT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1122"><span class='Ref_to_EnumConst'>IS_XMLELEMENT</span></a><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* no coercion necessary */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1123"><span class='Ref_to_EnumConst'>IS_XMLFOREST</span></a><span class='Operator'>: 
</span>                <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../include/catalog/pg_type.h.html#LN358"><span class='Ref_to_Const'>XMLOID</span></a><span class='Delimiter'>, 
</span>                                               <span class='String'>"XMLFOREST"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1124"><span class='Ref_to_EnumConst'>IS_XMLPARSE</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2309"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, 
</span>                                                   <span class='String'>"XMLPARSE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN54"><span class='Ref_to_Proto'>coerce_to_boolean</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><span class='String'>"XMLPARSE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1125"><span class='Ref_to_EnumConst'>IS_XMLPI</span></a><span class='Operator'>: 
</span>                <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, 
</span>                                               <span class='String'>"XMLPI"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1126"><span class='Ref_to_EnumConst'>IS_XMLROOT</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2309"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../include/catalog/pg_type.h.html#LN358"><span class='Ref_to_Const'>XMLOID</span></a><span class='Delimiter'>, 
</span>                                                   <span class='String'>"XMLROOT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2309"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                    <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, 
</span>                                                   <span class='String'>"XMLROOT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN24"><span class='Ref_to_Const'>INT4OID</span></a><span class='Delimiter'>, 
</span>                                                   <span class='String'>"XMLROOT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1127"><span class='Ref_to_EnumConst'>IS_XMLSERIALIZE</span></a><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* not handled here */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1128"><span class='Ref_to_EnumConst'>IS_DOCUMENT</span></a><span class='Operator'>: 
</span>                <a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2305"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Delimiter'>, </span><a href="../../include/catalog/pg_type.h.html#LN358"><span class='Ref_to_Const'>XMLOID</span></a><span class='Delimiter'>, 
</span>                                               <span class='String'>"IS DOCUMENT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch x-&GT;op &raquo; </span> 
        <a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2384"><span class='Ref_To_Local'>newe</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2309"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2307"><span class='Ref_To_Local'>newx</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformXmlExpr &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2439"></a><span class='Declare_Function'>transformXmlSerialize</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN745"><span class='Ref_to_Struct'>XmlSerialize</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>xs</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2441"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2442"></a>    <a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>xexpr</span><span class='Delimiter'>; 
</span><a name="LN2443"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>targetType</span><span class='Delimiter'>; 
</span><a name="LN2444"></a>    <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>targetTypmod</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN1127"><span class='Ref_to_EnumConst'>IS_XMLSERIALIZE</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1144"><span class='Ref_to_Member'>args</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="../../include/parser/parse_coerce.h.html#LN56"><span class='Ref_to_Proto'>coerce_to_specific_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>xs</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN749"><span class='Ref_to_Member'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                                     <a href="../../include/catalog/pg_type.h.html#LN358"><span class='Ref_to_Const'>XMLOID</span></a><span class='Delimiter'>, 
</span>                                                     <span class='String'>"XMLSERIALIZE"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/parser/parse_type.h.html#LN28"><span class='Ref_to_Proto'>typenameTypeIdAndMod</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>xs</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN750"><span class='Ref_to_Member'>typeName</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN2443"><span class='Ref_To_Local'>targetType</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN2444"><span class='Ref_To_Local'>targetTypmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1145"><span class='Ref_to_Member'>xmloption</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>xs</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN748"><span class='Ref_to_Member'>xmloption</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1148"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>xs</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN751"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* We actually only need these to be able to parse back the expression. */ 
</span>    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1146"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2443"><span class='Ref_To_Local'>targetType</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1147"><span class='Ref_to_Member'>typmod</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2444"><span class='Ref_To_Local'>targetTypmod</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The actual target type is determined this way.  SQL allows char and 
     * varchar as target types.  We allow anything that can be cast implicitly 
     * from text.  This way, user-defined text-like data types automatically 
     * fit in. 
     */ 
</span>    <a href="parse_expr.c.html#LN2441"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN37"><span class='Ref_to_Proto'>coerce_to_target_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Delimiter'>, 
</span>                                   <a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2443"><span class='Ref_To_Local'>targetType</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2444"><span class='Ref_To_Local'>targetTypmod</span></a><span class='Delimiter'>, 
</span>                                   <a href="../../include/nodes/primnodes.h.html#LN420"><span class='Ref_to_EnumConst'>COERCION_IMPLICIT</span></a><span class='Delimiter'>, 
</span>                                   <a href="../../include/nodes/primnodes.h.html#LN438"><span class='Ref_to_EnumConst'>COERCE_IMPLICIT_CAST</span></a><span class='Delimiter'>, 
</span>                                   <span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2441"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_CANNOT_COERCE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot cast XMLSERIALIZE result to %s"</span><span class='Delimiter'>, 
</span>                        <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2443"><span class='Ref_To_Local'>targetType</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2439"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2442"><span class='Ref_To_Local'>xexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1148"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="parse_expr.c.html#LN2441"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformXmlSerialize &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2482"></a><span class='Declare_Function'>transformBooleanTest</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1198"><span class='Ref_to_Struct'>BooleanTest</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2484"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>clausename</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN43"><span class='Ref_to_Global_Var'>operator_precedence_warning</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN133"><span class='Ref_to_Proto'>emit_precedence_warnings</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>, </span><span class='String'>"IS"</span><span class='Delimiter'>, 
</span>                                 <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1201"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                 <a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1203"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1202"><span class='Ref_to_Member'>booltesttype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1195"><span class='Ref_to_EnumConst'>IS_TRUE</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='String'>"IS TRUE"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1195"><span class='Ref_to_EnumConst'>IS_NOT_TRUE</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='String'>"IS NOT TRUE"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1195"><span class='Ref_to_EnumConst'>IS_FALSE</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='String'>"IS FALSE"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1195"><span class='Ref_to_EnumConst'>IS_NOT_FALSE</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='String'>"IS NOT FALSE"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1195"><span class='Ref_to_EnumConst'>IS_UNKNOWN</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='String'>"IS UNKNOWN"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/nodes/primnodes.h.html#LN1195"><span class='Ref_to_EnumConst'>IS_NOT_UNKNOWN</span></a><span class='Operator'>: 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='String'>"IS NOT UNKNOWN"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"unrecognized booltesttype: %d"</span><span class='Delimiter'>, 
</span>                 <span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1202"><span class='Ref_to_Member'>booltesttype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* keep compiler quiet */ 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch b-&GT;booltesttype &raquo; </span> 
 
    <a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1201"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1201"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1201"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/parser/parse_coerce.h.html#LN54"><span class='Ref_to_Proto'>coerce_to_boolean</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                        <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1201"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>, 
</span>                                        <a href="parse_expr.c.html#LN2484"><span class='Ref_To_Local'>clausename</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2482"><span class='Ref_to_Parameter'>b</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformBooleanTest &raquo; </span> 
 
<span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2527"></a><span class='Declare_Function'>transformCurrentOfExpr</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1272"><span class='Ref_to_Struct'>CurrentOfExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>cexpr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2529"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sublevels_up</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* CURRENT OF can only appear at top level of UPDATE/DELETE */ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN179"><span class='Ref_to_Member'>p_target_rangetblentry</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>cexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1275"><span class='Ref_to_Member'>cvarno</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN47"><span class='Ref_to_Proto'>RTERangeTablePosn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN179"><span class='Ref_to_Member'>p_target_rangetblentry</span></a><span class='Delimiter'>, 
</span>                                      <span class='Operator'>&</span><a href="parse_expr.c.html#LN2529"><span class='Ref_To_Local'>sublevels_up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2529"><span class='Ref_To_Local'>sublevels_up</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check to see if the cursor name matches a parameter of type REFCURSOR. 
     * If so, replace the raw name reference with a parameter reference. (This 
     * is a hack for the convenience of plpgsql.) 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>cexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1276"><span class='Ref_to_Member'>cursor_name</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>     <span class='Comment_Single_Line'>/* in case already transformed */ 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2545"></a>        <a href="../../include/nodes/parsenodes.h.html#LN231"><span class='Ref_to_Struct'>ColumnRef</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>cref</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN231"><span class='Ref_to_Struct'>ColumnRef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2546"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>node</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Build an unqualified ColumnRef with the given name */ 
</span>        <a href="parse_expr.c.html#LN2545"><span class='Ref_To_Local'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN234"><span class='Ref_to_Member'>fields</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN138"><span class='Ref_to_Macro'>list_make1</span></a><span class='Parentheses'>(</span><a href="../nodes/value.c.html#LN51"><span class='Ref_to_Func'>makeString</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>cexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1276"><span class='Ref_to_Member'>cursor_name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2545"><span class='Ref_To_Local'>cref</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN235"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* See if there is a translation available from a parser hook */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN205"><span class='Ref_to_Member'>p_pre_columnref_hook</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN2546"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN205"><span class='Ref_to_Member'>p_pre_columnref_hook</span></a><span class='Parentheses'>) (</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2545"><span class='Ref_To_Local'>cref</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2546"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN206"><span class='Ref_to_Member'>p_post_columnref_hook</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN2546"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/parse_node.h.html#LN206"><span class='Ref_to_Member'>p_post_columnref_hook</span></a><span class='Parentheses'>) (</span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2545"><span class='Ref_To_Local'>cref</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * XXX Should we throw an error if we get a translation that isn't a 
         * refcursor Param?  For now it seems best to silently ignore false 
         * matches. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2546"><span class='Ref_To_Local'>node</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2546"><span class='Ref_To_Local'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span><a name="LN2565"></a>            <a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>p</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN240"><span class='Ref_to_Struct'>Param</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2546"><span class='Ref_To_Local'>node</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2565"><span class='Ref_To_Local'>p</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN243"><span class='Ref_to_Member'>paramkind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN234"><span class='Ref_to_EnumConst'>PARAM_EXTERN</span></a> <span class='Operator'>&& 
</span>                <a href="parse_expr.c.html#LN2565"><span class='Ref_To_Local'>p</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN245"><span class='Ref_to_Member'>paramtype</span></a> <span class='Operator'>== </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN59"><span class='Ref_to_Const'>REFCURSOROID</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Matches, so convert CURRENT OF to a param reference */ 
</span>                <a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>cexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1276"><span class='Ref_to_Member'>cursor_name</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>cexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1277"><span class='Ref_to_Member'>cursor_param</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2565"><span class='Ref_To_Local'>p</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN244"><span class='Ref_to_Member'>paramid</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if cexpr-&GT;cursor_name!=N... &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2527"><span class='Ref_to_Parameter'>cexpr</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformCurrentOfExpr &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Construct a whole-row reference to represent the notation "relation.*". 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2584"></a><span class='Declare_Function'>transformWholeRowRef</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN932"><span class='Ref_to_Struct'>RangeTblEntry</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rte</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2586"></a>    <a href="../../include/nodes/primnodes.h.html#LN162"><span class='Ref_to_Struct'>Var</span></a>        <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2587"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>vnum</span><span class='Delimiter'>; 
</span><a name="LN2588"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sublevels_up</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Find the RTE's rangetable location */ 
</span>    <a href="parse_expr.c.html#LN2587"><span class='Ref_To_Local'>vnum</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_relation.h.html#LN47"><span class='Ref_to_Proto'>RTERangeTablePosn</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2584"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2584"><span class='Ref_to_Parameter'>rte</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN2588"><span class='Ref_To_Local'>sublevels_up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Build the appropriate referencing node.  Note that if the RTE is a 
     * function returning scalar, we create just a plain reference to the 
     * function value, not a composite containing a single column.  This is 
     * pretty inconsistent at first sight, but it's what we've done 
     * historically.  One argument for it is that "rel" and "rel.*" mean the 
     * same thing for composite relations, so why not for scalar functions... 
     */ 
</span>    <a href="parse_expr.c.html#LN2586"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/makefuncs.h.html#LN35"><span class='Ref_to_Proto'>makeWholeRowVar</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2584"><span class='Ref_to_Parameter'>rte</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2587"><span class='Ref_To_Local'>vnum</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2588"><span class='Ref_To_Local'>sublevels_up</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* location is not filled in by makeWholeRowVar */ 
</span>    <a href="parse_expr.c.html#LN2586"><span class='Ref_To_Local'>result</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN177"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2584"><span class='Ref_to_Parameter'>location</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* mark relation as requiring whole-row SELECT access */ 
</span>    <a href="../../include/parser/parse_relation.h.html#LN60"><span class='Ref_to_Proto'>markVarForSelectPriv</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2584"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2586"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2584"><span class='Ref_to_Parameter'>rte</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2586"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformWholeRowRef &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Handle an explicit CAST construct. 
 * 
 * Transform the argument, look up the type name, and apply any necessary 
 * coercion function(s). 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2619"></a><span class='Declare_Function'>transformTypeCast</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN294"><span class='Ref_to_Struct'>TypeCast</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tc</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2621"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2622"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>tc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN297"><span class='Ref_to_Member'>arg</span></a><span class='Delimiter'>; 
</span><a name="LN2623"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>expr</span><span class='Delimiter'>; 
</span><a name="LN2624"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>inputType</span><span class='Delimiter'>; 
</span><a name="LN2625"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>targetType</span><span class='Delimiter'>; 
</span><a name="LN2626"></a>    <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>targetTypmod</span><span class='Delimiter'>; 
</span><a name="LN2627"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>location</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Look up the type name first */ 
</span>    <a href="../../include/parser/parse_type.h.html#LN28"><span class='Ref_to_Proto'>typenameTypeIdAndMod</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>tc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN298"><span class='Ref_to_Member'>typeName</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN2625"><span class='Ref_To_Local'>targetType</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN2626"><span class='Ref_To_Local'>targetTypmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Look through any AEXPR_PAREN nodes that may have been inserted thanks 
     * to operator_precedence_warning.  Otherwise, ARRAY[]::foo[] behaves 
     * differently from (ARRAY[])::foo[]. 
     */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>&& </span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>           <span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>kind <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN268"><span class='Ref_to_EnumConst'>AEXPR_PAREN</span></a><span class='Parentheses'>)</span> 
        <a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>lexpr<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If the subject of the typecast is an ARRAY[] construct and the target 
     * type is an array type, we invoke transformArrayExpr() directly so that 
     * we can pass down the type information.  This avoids some cases where 
     * transformArrayExpr() might not infer the correct type.  Otherwise, just 
     * transform the argument normally. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN2650"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>targetBaseType</span><span class='Delimiter'>; 
</span><a name="LN2651"></a>        <a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>targetBaseTypmod</span><span class='Delimiter'>; 
</span><a name="LN2652"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>elementType</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If target is a domain over array, work with the base array type 
         * here.  Below, we'll cast the array type to the domain.  In the 
         * usual case that the target is not a domain, the remaining steps 
         * will be a no-op. 
         */ 
</span>        <a href="parse_expr.c.html#LN2651"><span class='Ref_To_Local'>targetBaseTypmod</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2626"><span class='Ref_To_Local'>targetTypmod</span></a><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2650"><span class='Ref_To_Local'>targetBaseType</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN169"><span class='Ref_to_Proto'>getBaseTypeAndTypmod</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2625"><span class='Ref_To_Local'>targetType</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN2651"><span class='Ref_To_Local'>targetBaseTypmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2652"><span class='Ref_To_Local'>elementType</span></a> <span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN157"><span class='Ref_to_Proto'>get_element_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2650"><span class='Ref_To_Local'>targetBaseType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2652"><span class='Ref_To_Local'>elementType</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN106"><span class='Ref_to_Proto'>transformArrayExpr</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, 
</span>                                      <span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN411"><span class='Ref_to_Struct'>A_ArrayExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN2650"><span class='Ref_To_Local'>targetBaseType</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN2652"><span class='Ref_To_Local'>elementType</span></a><span class='Delimiter'>, 
</span>                                      <a href="parse_expr.c.html#LN2651"><span class='Ref_To_Local'>targetBaseTypmod</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(arg,A_ArrayExpr) &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2622"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2624"><span class='Ref_To_Local'>inputType</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2624"><span class='Ref_To_Local'>inputType</span></a> <span class='Operator'>== </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* do nothing if NULL input */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Location of the coercion is preferentially the location of the :: or 
     * CAST symbol, but if there is none then use the location of the type 
     * name (this can happen in TypeName 'string' syntax, for instance). 
     */ 
</span>    <a href="parse_expr.c.html#LN2627"><span class='Ref_To_Local'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>tc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN299"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2627"><span class='Ref_To_Local'>location</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN2627"><span class='Ref_To_Local'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>tc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN298"><span class='Ref_to_Member'>typeName</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN215"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2621"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_coerce.h.html#LN37"><span class='Ref_to_Proto'>coerce_to_target_type</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2624"><span class='Ref_To_Local'>inputType</span></a><span class='Delimiter'>, 
</span>                                   <a href="parse_expr.c.html#LN2625"><span class='Ref_To_Local'>targetType</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2626"><span class='Ref_To_Local'>targetTypmod</span></a><span class='Delimiter'>, 
</span>                                   <a href="../../include/nodes/primnodes.h.html#LN422"><span class='Ref_to_EnumConst'>COERCION_EXPLICIT</span></a><span class='Delimiter'>, 
</span>                                   <a href="../../include/nodes/primnodes.h.html#LN437"><span class='Ref_to_EnumConst'>COERCE_EXPLICIT_CAST</span></a><span class='Delimiter'>, 
</span>                                   <a href="parse_expr.c.html#LN2627"><span class='Ref_To_Local'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2621"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_CANNOT_COERCE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot cast type %s to %s"</span><span class='Delimiter'>, 
</span>                        <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2624"><span class='Ref_To_Local'>inputType</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                        <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2625"><span class='Ref_To_Local'>targetType</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                 <a href="../../include/parser/parse_coerce.h.html#LN64"><span class='Ref_to_Proto'>parser_coercion_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2619"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2627"><span class='Ref_To_Local'>location</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2623"><span class='Ref_To_Local'>expr</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN2621"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformTypeCast &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Handle an explicit COLLATE clause. 
 * 
 * Transform the argument, and look up the collation name. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2712"></a><span class='Declare_Function'>transformCollateClause</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN305"><span class='Ref_to_Struct'>CollateClause</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2714"></a>    <a href="../../include/nodes/primnodes.h.html#LN871"><span class='Ref_to_Struct'>CollateExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newc</span><span class='Delimiter'>; 
</span><a name="LN2715"></a>    <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>argtype</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2714"><span class='Ref_To_Local'>newc</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN871"><span class='Ref_to_Struct'>CollateExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2714"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN874"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN308"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2715"><span class='Ref_To_Local'>argtype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodeFuncs.h.html#LN31"><span class='Ref_to_Proto'>exprType</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2714"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN874"><span class='Ref_to_Member'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The unknown type is not collatable, but coerce_type() takes care of it 
     * separately, so we'll let it go here. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/utils/lsyscache.h.html#LN167"><span class='Ref_to_Proto'>type_is_collatable</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2715"><span class='Ref_To_Local'>argtype</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="parse_expr.c.html#LN2715"><span class='Ref_To_Local'>argtype</span></a> <span class='Operator'>!= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN43"><span class='Ref_to_Const'>UNKNOWNOID</span></a><span class='Parentheses'>)</span> 
        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"collations are not supported by type %s"</span><span class='Delimiter'>, 
</span>                        <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2715"><span class='Ref_To_Local'>argtype</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN310"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2714"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN875"><span class='Ref_to_Member'>collOid</span></a> <span class='Operator'>= </span><a href="../../include/parser/parse_type.h.html#LN34"><span class='Ref_to_Proto'>LookupCollation</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN309"><span class='Ref_to_Member'>collname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN310"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2714"><span class='Ref_To_Local'>newc</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN876"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2712"><span class='Ref_to_Parameter'>c</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN310"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2714"><span class='Ref_To_Local'>newc</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end transformCollateClause &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Transform a "row compare-op row" construct 
 * 
 * The inputs are lists of already-transformed expressions. 
 * As with coerce_type, pstate may be NULL if no special unknown-Param 
 * processing is wanted. 
 * 
 * The output may be a single OpExpr, an AND or OR combination of OpExprs, 
 * or a RowCompareExpr.  In all cases it is guaranteed to return boolean. 
 * The AND, OR, and RowCompareExpr cases further imply things about the 
 * behavior of the operators (ie, they behave as =, &LT;&GT;, or &LT; &LT;= &GT; &GT;=). 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2752"></a><span class='Declare_Function'>make_row_comparison_op</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN2753"></a>                       <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>largs</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rargs</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2755"></a>    <a href="../../include/nodes/primnodes.h.html#LN1026"><span class='Ref_to_Struct'>RowCompareExpr</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rcexpr</span><span class='Delimiter'>; 
</span><a name="LN2756"></a>    <a href="../../include/nodes/primnodes.h.html#LN1015"><span class='Ref_to_Enum'>RowCompareType</span></a> <span class='Declare_Local'>rctype</span><span class='Delimiter'>; 
</span><a name="LN2757"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>opexprs</span><span class='Delimiter'>; 
</span><a name="LN2758"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>opnos</span><span class='Delimiter'>; 
</span><a name="LN2759"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>opfamilies</span><span class='Delimiter'>; 
</span><a name="LN2760"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>l</span><span class='Delimiter'>, 
</span><a name="LN2761"></a>               <span class='Operator'>*</span><span class='Declare_Local'>r</span><span class='Delimiter'>; 
</span><a name="LN2762"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>      <span class='Operator'>**</span><span class='Declare_Local'>opinfo_lists</span><span class='Delimiter'>; 
</span><a name="LN2763"></a>    <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>strats</span><span class='Delimiter'>; 
</span><a name="LN2764"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nopers</span><span class='Delimiter'>; 
</span><a name="LN2765"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN2764"><span class='Ref_To_Local'>nopers</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>largs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2764"><span class='Ref_To_Local'>nopers</span></a> <span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>rargs</span></a><span class='Parentheses'>))</span> 
        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"unequal number of entries in row expressions"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We can't compare zero-length rows because there is no principled basis 
     * for figuring out what the operator is. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2764"><span class='Ref_To_Local'>nopers</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot compare rows of zero length"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Identify all the pairwise operators, using make_op so that behavior is 
     * the same as in the simple scalar case. 
     */ 
</span>    <a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN179"><span class='Ref_to_Macro'>forboth</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2760"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>largs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2761"><span class='Ref_To_Local'>r</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>rargs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2791"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>larg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2760"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2792"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rarg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2761"><span class='Ref_To_Local'>r</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2793"></a>        <a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>cmp</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2793"><span class='Ref_To_Local'>cmp</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN575"><span class='Ref_to_Macro'>castNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a><span class='Delimiter'>, </span><a href="../../bin/pgbench/exprparse.y.html#LN24"><span class='Ref_to_Proto'>make_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>opname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2791"><span class='Ref_To_Local'>larg</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2792"><span class='Ref_To_Local'>rarg</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * We don't use coerce_to_boolean here because we insist on the 
         * operator yielding boolean directly, not via coercion.  If it 
         * doesn't yield bool it won't be in any index opfamilies... 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2793"><span class='Ref_To_Local'>cmp</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN496"><span class='Ref_to_Member'>opresulttype</span></a> <span class='Operator'>!= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN17"><span class='Ref_to_Const'>BOOLOID</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"row comparison operator must yield type boolean, "</span> 
                          <span class='String'>"not type %s"</span><span class='Delimiter'>, 
</span>                          <a href="../utils/adt/format_type.c.html#LN92"><span class='Ref_to_Func'>format_type_be</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2793"><span class='Ref_To_Local'>cmp</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN496"><span class='Ref_to_Member'>opresulttype</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodeFuncs.h.html#LN36"><span class='Ref_to_Proto'>expression_returns_set</span></a><span class='Parentheses'>((</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2793"><span class='Ref_To_Local'>cmp</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"row comparison operator must not return a set"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2793"><span class='Ref_To_Local'>cmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If rows are length 1, just return the single operator.  In this case we 
     * don't insist on identifying btree semantics for the operator (but we 
     * still require it to return boolean). 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2764"><span class='Ref_To_Local'>nopers</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Now we must determine which row comparison semantics (= &LT;&GT; &LT; &LT;= &GT; &GT;=) 
     * apply to this set of operators.  We look for btree opfamilies 
     * containing the operators, and see which interpretations (strategy 
     * numbers) exist for each operator. 
     */ 
</span>    <a href="parse_expr.c.html#LN2762"><span class='Ref_To_Local'>opinfo_lists</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>**</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2764"><span class='Ref_To_Local'>nopers</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2763"><span class='Ref_To_Local'>strats</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2760"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2836"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>opno</span> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2760"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>))</span><span class='Operator'>-&GT;</span>opno<span class='Delimiter'>; 
</span><a name="LN2837"></a>        <a href="../../include/nodes/bitmapset.h.html#LN36"><span class='Ref_to_Struct'>Bitmapset</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>this_strats</span><span class='Delimiter'>; 
</span><a name="LN2838"></a>        <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2762"><span class='Ref_To_Local'>opinfo_lists</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/utils/lsyscache.h.html#LN81"><span class='Ref_to_Proto'>get_op_btree_interpretation</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2836"><span class='Ref_To_Local'>opno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * convert strategy numbers into a Bitmapset to make the intersection 
         * calculation easy. 
         */ 
</span>        <a href="parse_expr.c.html#LN2837"><span class='Ref_To_Local'>this_strats</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2838"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2762"><span class='Ref_To_Local'>opinfo_lists</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2849"></a>            <a href="../../include/utils/lsyscache.h.html#LN20"><span class='Ref_to_Struct'>OpBtreeInterpretation</span></a> <span class='Operator'>*</span><span class='Declare_Local'>opinfo</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2838"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="parse_expr.c.html#LN2837"><span class='Ref_To_Local'>this_strats</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN89"><span class='Ref_to_Proto'>bms_add_member</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2837"><span class='Ref_To_Local'>this_strats</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2849"><span class='Ref_To_Local'>opinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/utils/lsyscache.h.html#LN23"><span class='Ref_to_Member'>strategy</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN2763"><span class='Ref_To_Local'>strats</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2837"><span class='Ref_To_Local'>this_strats</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN2763"><span class='Ref_To_Local'>strats</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN92"><span class='Ref_to_Proto'>bms_int_members</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2763"><span class='Ref_To_Local'>strats</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2837"><span class='Ref_To_Local'>this_strats</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If there are multiple common interpretations, we may use any one of 
     * them ... this coding arbitrarily picks the lowest btree strategy 
     * number. 
     */ 
</span>    <a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="../../include/nodes/bitmapset.h.html#LN97"><span class='Ref_to_Proto'>bms_first_member</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2763"><span class='Ref_To_Local'>strats</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* No common interpretation, so fail */ 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"could not determine interpretation of row comparison operator %s"</span><span class='Delimiter'>, 
</span>                        <a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>opname</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Row comparison operators must be associated with btree operator families."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="parse_expr.c.html#LN2756"><span class='Ref_To_Local'>rctype</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1015"><span class='Ref_to_Enum'>RowCompareType</span></a><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * For = and &LT;&GT; cases, we just combine the pairwise operators with AND or 
     * OR respectively. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2756"><span class='Ref_To_Local'>rctype</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1020"><span class='Ref_to_EnumConst'>ROWCOMPARE_EQ</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>AND_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2756"><span class='Ref_To_Local'>rctype</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1023"><span class='Ref_to_EnumConst'>ROWCOMPARE_NE</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Otherwise we need to choose exactly which opfamily to associate with 
     * each operator. 
     */ 
</span>    <a href="parse_expr.c.html#LN2759"><span class='Ref_To_Local'>opfamilies</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="parse_expr.c.html#LN2764"><span class='Ref_To_Local'>nopers</span></a><span class='Delimiter'>; </span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2894"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>opfamily</span> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span><a name="LN2895"></a>        <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2895"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2762"><span class='Ref_To_Local'>opinfo_lists</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN2765"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2899"></a>            <a href="../../include/utils/lsyscache.h.html#LN20"><span class='Ref_to_Struct'>OpBtreeInterpretation</span></a> <span class='Operator'>*</span><span class='Declare_Local'>opinfo</span> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2895"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2899"><span class='Ref_To_Local'>opinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/utils/lsyscache.h.html#LN23"><span class='Ref_to_Member'>strategy</span></a> <span class='Operator'>== </span><a href="parse_expr.c.html#LN2756"><span class='Ref_To_Local'>rctype</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="parse_expr.c.html#LN2894"><span class='Ref_To_Local'>opfamily</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2899"><span class='Ref_To_Local'>opinfo</span></a><span class='Operator'>-&GT;</span><a href="../../include/utils/lsyscache.h.html#LN22"><span class='Ref_to_Member'>opfamily_id</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN537"><span class='Ref_to_Macro'>OidIsValid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2894"><span class='Ref_To_Local'>opfamily</span></a><span class='Parentheses'>))</span> 
            <a href="parse_expr.c.html#LN2759"><span class='Ref_To_Local'>opfamilies</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN162"><span class='Ref_to_Func'>lappend_oid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2759"><span class='Ref_To_Local'>opfamilies</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2894"><span class='Ref_To_Local'>opfamily</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span>    <span class='Comment_Single_Line'>/* should not happen */ 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"could not determine interpretation of row comparison operator %s"</span><span class='Delimiter'>, 
</span>                            <a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>opname</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>, 
</span>               <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"There are multiple equally-plausible candidates."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2752"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;nopers;i++ &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Now deconstruct the OpExprs and create a RowCompareExpr. 
     * 
     * Note: can't just reuse the passed largs/rargs lists, because of 
     * possibility that make_op inserted coercion operations. 
     */ 
</span>    <a href="parse_expr.c.html#LN2758"><span class='Ref_To_Local'>opnos</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>largs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>rargs</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/nodes/pg_list.h.html#LN160"><span class='Ref_to_Macro'>foreach</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2760"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2757"><span class='Ref_To_Local'>opexprs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2929"></a>        <a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>cmp</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2760"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2758"><span class='Ref_To_Local'>opnos</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN162"><span class='Ref_to_Func'>lappend_oid</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2758"><span class='Ref_To_Local'>opnos</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2929"><span class='Ref_To_Local'>cmp</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN494"><span class='Ref_to_Member'>opno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>largs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>largs</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2929"><span class='Ref_To_Local'>cmp</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN500"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>rargs</span></a> <span class='Operator'>= </span><a href="../nodes/list.c.html#LN126"><span class='Ref_to_Func'>lappend</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>rargs</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN115"><span class='Ref_to_Macro'>lsecond</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2929"><span class='Ref_To_Local'>cmp</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN500"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1026"><span class='Ref_to_Struct'>RowCompareExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1029"><span class='Ref_to_Member'>rctype</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2756"><span class='Ref_To_Local'>rctype</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1030"><span class='Ref_to_Member'>opnos</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2758"><span class='Ref_To_Local'>opnos</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1031"><span class='Ref_to_Member'>opfamilies</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2759"><span class='Ref_To_Local'>opfamilies</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1032"><span class='Ref_to_Member'>inputcollids</span></a> <span class='Operator'>= </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* assign_expr_collations will fix this */ 
</span>    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1033"><span class='Ref_to_Member'>largs</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>largs</span></a><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1034"><span class='Ref_to_Member'>rargs</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2753"><span class='Ref_to_Parameter'>rargs</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN2755"><span class='Ref_To_Local'>rcexpr</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end make_row_comparison_op &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Transform a "row IS DISTINCT FROM row" construct 
 * 
 * The input RowExprs are already transformed 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN2953"></a><span class='Declare_Function'>make_row_distinct_op</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN2954"></a>                     <a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lrow</span><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN981"><span class='Ref_to_Struct'>RowExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rrow</span><span class='Delimiter'>, 
</span><a name="LN2955"></a>                     <span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2957"></a>    <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2958"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>largs</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2954"><span class='Ref_to_Parameter'>lrow</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a><span class='Delimiter'>; 
</span><a name="LN2959"></a>    <a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rargs</span> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2954"><span class='Ref_to_Parameter'>rrow</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN984"><span class='Ref_to_Member'>args</span></a><span class='Delimiter'>; 
</span><a name="LN2960"></a>    <a href="../../include/nodes/pg_list.h.html#LN52"><span class='Ref_to_Struct'>ListCell</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>l</span><span class='Delimiter'>, 
</span><a name="LN2961"></a>               <span class='Operator'>*</span><span class='Declare_Local'>r</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2958"><span class='Ref_To_Local'>largs</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2959"><span class='Ref_To_Local'>rargs</span></a><span class='Parentheses'>))</span> 
        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"unequal number of entries in row expressions"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2953"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2955"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/nodes/pg_list.h.html#LN179"><span class='Ref_to_Macro'>forboth</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2960"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2958"><span class='Ref_To_Local'>largs</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2961"><span class='Ref_To_Local'>r</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2959"><span class='Ref_To_Local'>rargs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2971"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>larg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2960"><span class='Ref_To_Local'>l</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2972"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>rarg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN105"><span class='Ref_to_Macro'>lfirst</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2961"><span class='Ref_To_Local'>r</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2973"></a>        <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>cmp</span><span class='Delimiter'>; 
</span> 
        <a href="parse_expr.c.html#LN2973"><span class='Ref_To_Local'>cmp</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN128"><span class='Ref_to_Proto'>make_distinct_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2953"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2953"><span class='Ref_to_Parameter'>opname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2971"><span class='Ref_To_Local'>larg</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2972"><span class='Ref_To_Local'>rarg</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2955"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN2973"><span class='Ref_To_Local'>cmp</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/makefuncs.h.html#LN61"><span class='Ref_to_Proto'>makeBoolExpr</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>OR_EXPR</span></a><span class='Delimiter'>, 
</span>                                           <a href="../../include/nodes/pg_list.h.html#LN139"><span class='Ref_to_Macro'>list_make2</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2973"><span class='Ref_To_Local'>cmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                           <a href="parse_expr.c.html#LN2955"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* zero-length rows?  Generate constant FALSE */ 
</span>        <a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/nodes/makefuncs.h.html#LN59"><span class='Ref_to_Proto'>makeBoolConst</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN2957"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end make_row_distinct_op &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * make the node for an IS DISTINCT FROM operator 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>* 
</span><a name="LN2997"></a><span class='Declare_Function'>make_distinct_op</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ltree</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rtree</span><span class='Delimiter'>, 
</span><a name="LN2998"></a>                 <span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3000"></a>    <a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN3000"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../bin/pgbench/exprparse.y.html#LN24"><span class='Ref_to_Proto'>make_op</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2997"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2997"><span class='Ref_to_Parameter'>opname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2997"><span class='Ref_to_Parameter'>ltree</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2997"><span class='Ref_to_Parameter'>rtree</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2998"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(((</span><a href="../../include/nodes/primnodes.h.html#LN491"><span class='Ref_to_Struct'>OpExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3000"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>opresulttype <span class='Operator'>!= </span><a href="../../interfaces/ecpg/ecpglib/pg_type.h.html#LN17"><span class='Ref_to_Const'>BOOLOID</span></a><span class='Parentheses'>)</span> 
        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DATATYPE_MISMATCH<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>             <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"IS DISTINCT FROM requires = operator to yield boolean"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN2997"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN2998"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We rely on DistinctExpr and OpExpr being same struct 
     */ 
</span>    <a href="../../include/nodes/nodes.h.html#LN557"><span class='Ref_to_Macro'>NodeSetTag</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3000"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN155"><span class='Ref_to_EnumConst'>T_DistinctExpr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN3000"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end make_distinct_op &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Produce a NullTest node from an IS [NOT] DISTINCT FROM NULL construct 
 * 
 * "arg" is the untransformed other argument 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>* 
</span><a name="LN3023"></a><span class='Declare_Function'>make_nulltest_from_distinct</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>distincta</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3025"></a>    <a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>nt</span> <span class='Operator'>= </span><a href="../../include/nodes/nodes.h.html#LN556"><span class='Ref_to_Macro'>makeNode</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="parse_expr.c.html#LN3025"><span class='Ref_To_Local'>nt</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1178"><span class='Ref_to_Member'>arg</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN131"><span class='Ref_to_Struct'>Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN91"><span class='Ref_to_Proto'>transformExprRecurse</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3023"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN3023"><span class='Ref_to_Parameter'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* the argument can be any type, so don't coerce it */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3023"><span class='Ref_to_Parameter'>distincta</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN257"><span class='Ref_to_EnumConst'>AEXPR_NOT_DISTINCT</span></a><span class='Parentheses'>) 
</span>        <a href="parse_expr.c.html#LN3025"><span class='Ref_To_Local'>nt</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1179"><span class='Ref_to_Member'>nulltesttype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN1172"><span class='Ref_to_EnumConst'>IS_NULL</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="parse_expr.c.html#LN3025"><span class='Ref_To_Local'>nt</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1179"><span class='Ref_to_Member'>nulltesttype</span></a> <span class='Operator'>= </span><a href="../../include/nodes/primnodes.h.html#LN1172"><span class='Ref_to_EnumConst'>IS_NOT_NULL</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* argisrow = false is correct whether or not arg is composite */ 
</span>    <a href="parse_expr.c.html#LN3025"><span class='Ref_To_Local'>nt</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1180"><span class='Ref_to_Member'>argisrow</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="parse_expr.c.html#LN3025"><span class='Ref_To_Local'>nt</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1181"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN3023"><span class='Ref_to_Parameter'>distincta</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN278"><span class='Ref_to_Member'>location</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3025"><span class='Ref_To_Local'>nt</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Identify node's group for operator precedence warnings 
 * 
 * For items in nonzero groups, also return a suitable node name into *nodename 
 * 
 * Note: group zero is used for nodes that are higher or lower precedence 
 * than everything that changed precedence; we need never issue warnings 
 * related to such nodes. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN3049"></a><span class='Declare_Function'>operator_precedence_group</span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Parameter'>nodename</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3051"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>group</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN3059"></a>        <a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>aexpr</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/parsenodes.h.html#LN271"><span class='Ref_to_Struct'>A_Expr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a> <span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* binary operator */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* Ignore if op was always higher priority than IS-tests */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"-"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"*"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"/"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"%"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"^"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                         strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN52"><span class='Ref_to_Const'>PREC_GROUP_LESS</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"="</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN53"><span class='Ref_to_Const'>PREC_GROUP_EQUAL</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;="</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                         strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"&GT;="</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                         strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;&GT;"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN54"><span class='Ref_to_Const'>PREC_GROUP_LESS_EQUAL</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN62"><span class='Ref_to_Const'>PREC_GROUP_INFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if list_length(aexpr-&GT;na... &raquo; </span> 
            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* schema-qualified operator syntax */ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"OPERATOR()"</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN62"><span class='Ref_to_Const'>PREC_GROUP_INFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if aexpr-&GT;kind==AEXPR_OP... &raquo; </span> 
        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a> <span class='Operator'>&& 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>&& 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* prefix operator */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* Ignore if op was always higher priority than IS-tests */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                    strcmp<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a><span class='Delimiter'>, </span><span class='String'>"-"</span><span class='Parentheses'>))</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN63"><span class='Ref_to_Const'>PREC_GROUP_PREFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* schema-qualified operator syntax */ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"OPERATOR()"</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN63"><span class='Ref_to_Const'>PREC_GROUP_PREFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if aexpr-&GT;kind==AEXPR_OP... &raquo; </span> 
        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN253"><span class='Ref_to_EnumConst'>AEXPR_OP</span></a> <span class='Operator'>&& 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN276"><span class='Ref_to_Member'>lexpr</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN277"><span class='Ref_to_Member'>rexpr</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* postfix operator */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* schema-qualified operator syntax */ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"OPERATOR()"</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN254"><span class='Ref_to_EnumConst'>AEXPR_OP_ANY</span></a> <span class='Operator'>|| 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN255"><span class='Ref_to_EnumConst'>AEXPR_OP_ALL</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN256"><span class='Ref_to_EnumConst'>AEXPR_DISTINCT</span></a> <span class='Operator'>|| 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN257"><span class='Ref_to_EnumConst'>AEXPR_NOT_DISTINCT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IS"</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN51"><span class='Ref_to_Const'>PREC_GROUP_INFIX_IS</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN259"><span class='Ref_to_EnumConst'>AEXPR_OF</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IS"</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN260"><span class='Ref_to_EnumConst'>AEXPR_IN</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IN"</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"="</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN57"><span class='Ref_to_Const'>PREC_GROUP_IN</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN60"><span class='Ref_to_Const'>PREC_GROUP_NOT_IN</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN261"><span class='Ref_to_EnumConst'>AEXPR_LIKE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"LIKE"</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"~~"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN55"><span class='Ref_to_Const'>PREC_GROUP_LIKE</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN58"><span class='Ref_to_Const'>PREC_GROUP_NOT_LIKE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN262"><span class='Ref_to_EnumConst'>AEXPR_ILIKE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"ILIKE"</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"~~*"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN55"><span class='Ref_to_Const'>PREC_GROUP_LIKE</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN58"><span class='Ref_to_Const'>PREC_GROUP_NOT_LIKE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN263"><span class='Ref_to_EnumConst'>AEXPR_SIMILAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"SIMILAR"</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"~"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN55"><span class='Ref_to_Const'>PREC_GROUP_LIKE</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN58"><span class='Ref_to_Const'>PREC_GROUP_NOT_LIKE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN264"><span class='Ref_to_EnumConst'>AEXPR_BETWEEN</span></a> <span class='Operator'>|| 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN266"><span class='Ref_to_EnumConst'>AEXPR_BETWEEN_SYM</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN56"><span class='Ref_to_Const'>PREC_GROUP_BETWEEN</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN265"><span class='Ref_to_EnumConst'>AEXPR_NOT_BETWEEN</span></a> <span class='Operator'>|| 
</span>                 <a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN274"><span class='Ref_to_Member'>kind</span></a> <span class='Operator'>== </span><a href="../../include/nodes/parsenodes.h.html#LN267"><span class='Ref_to_EnumConst'>AEXPR_NOT_BETWEEN_SYM</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN87"><span class='Ref_to_Func'>list_length</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3059"><span class='Ref_To_Local'>aexpr</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/parsenodes.h.html#LN275"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN59"><span class='Ref_to_Const'>PREC_GROUP_NOT_BETWEEN</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(node,A_Expr) &raquo; </span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1175"><span class='Ref_to_Struct'>NullTest</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>             <a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1198"><span class='Ref_to_Struct'>BooleanTest</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IS"</span><span class='Delimiter'>; 
</span>        <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN3207"></a>        <a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>x</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3207"><span class='Ref_To_Local'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1128"><span class='Ref_to_EnumConst'>IS_DOCUMENT</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IS"</span><span class='Delimiter'>; 
</span>            <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN3217"></a>        <a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3217"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN620"><span class='Ref_to_EnumConst'>ANY_SUBLINK</span></a> <span class='Operator'>|| 
</span>            <a href="parse_expr.c.html#LN3217"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN619"><span class='Ref_to_EnumConst'>ALL_SUBLINK</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3217"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IN"</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN57"><span class='Ref_to_Const'>PREC_GROUP_IN</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><a href="../../include/nodes/value.h.html#LN53"><span class='Ref_to_Macro'>strVal</span></a><span class='Parentheses'>(</span><a href="../../include/nodes/pg_list.h.html#LN130"><span class='Ref_to_Macro'>llast</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3217"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN557"><span class='Ref_to_Struct'>BoolExpr</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Must dig into NOTs to see if it's IS NOT DOCUMENT or NOT IN.  This 
         * opens us to possibly misrecognizing, eg, NOT (x IS DOCUMENT) as a 
         * problematic construct.  We can tell the difference by checking 
         * whether the parse locations of the two nodes are identical. 
         * 
         * Note that when we are comparing the child node to its own children, 
         * we will not know that it was a NOT.  Fortunately, that doesn't 
         * matter for these cases. 
         */ 
</span><a name="LN3246"></a>        <a href="../../include/nodes/primnodes.h.html#LN557"><span class='Ref_to_Struct'>BoolExpr</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>b</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN557"><span class='Ref_to_Struct'>BoolExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>node</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3246"><span class='Ref_To_Local'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN560"><span class='Ref_to_Member'>boolop</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN554"><span class='Ref_to_EnumConst'>NOT_EXPR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3250"></a>            <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Local'>child</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/nodes/pg_list.h.html#LN110"><span class='Ref_to_Macro'>linitial</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3246"><span class='Ref_To_Local'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN561"><span class='Ref_to_Member'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3250"><span class='Ref_To_Local'>child</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span><a name="LN3254"></a>                <a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>x</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN1137"><span class='Ref_to_Struct'>XmlExpr</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3250"><span class='Ref_To_Local'>child</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3254"><span class='Ref_To_Local'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1140"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN1128"><span class='Ref_to_EnumConst'>IS_DOCUMENT</span></a> <span class='Operator'>&& 
</span>                    <a href="parse_expr.c.html#LN3254"><span class='Ref_To_Local'>x</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN1148"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>== </span><a href="parse_expr.c.html#LN3246"><span class='Ref_To_Local'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN562"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IS"</span><span class='Delimiter'>; 
</span>                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3250"><span class='Ref_To_Local'>child</span></a><span class='Delimiter'>, </span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span><a name="LN3265"></a>                <a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/nodes/primnodes.h.html#LN629"><span class='Ref_to_Struct'>SubLink</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="parse_expr.c.html#LN3250"><span class='Ref_To_Local'>child</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3265"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN632"><span class='Ref_to_Member'>subLinkType</span></a> <span class='Operator'>== </span><a href="../../include/nodes/primnodes.h.html#LN620"><span class='Ref_to_EnumConst'>ANY_SUBLINK</span></a> <span class='Operator'>&& </span><a href="parse_expr.c.html#LN3265"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN635"><span class='Ref_to_Member'>operName</span></a> <span class='Operator'>== </span><a href="../../include/nodes/pg_list.h.html#LN68"><span class='Ref_to_Const'>NIL</span></a> <span class='Operator'>&& 
</span>                    <a href="parse_expr.c.html#LN3265"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN637"><span class='Ref_to_Member'>location</span></a> <span class='Operator'>== </span><a href="parse_expr.c.html#LN3246"><span class='Ref_To_Local'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/nodes/primnodes.h.html#LN562"><span class='Ref_to_Member'>location</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="parse_expr.c.html#LN3049"><span class='Ref_to_Parameter'>nodename</span></a> <span class='Operator'>= </span><span class='String'>"IN"</span><span class='Delimiter'>; 
</span>                    <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN60"><span class='Ref_to_Const'>PREC_GROUP_NOT_IN</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if b-&GT;boolop==NOT_EXPR &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if IsA(node,BoolExpr) &raquo; </span> 
    <span class='Control'>return</span> <a href="parse_expr.c.html#LN3051"><span class='Ref_To_Local'>group</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end operator_precedence_group &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * helper routine for delivering 9.4-to-9.5 operator precedence warnings 
 * 
 * opgroup/opname/location represent some parent node 
 * lchild, rchild are its left and right children (either could be NULL) 
 * 
 * This should be called before transforming the child nodes, since if a 
 * precedence-driven parsing change has occurred in a query that used to work, 
 * it's quite possible that we'll get a semantic failure while analyzing the 
 * child expression.  We want to produce the warning before that happens. 
 * In any case, operator_precedence_group() expects untransformed input. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN3292"></a><span class='Declare_Function'>emit_precedence_warnings</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN164"><span class='Ref_to_Struct'>ParseState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Delimiter'>, 
</span><a name="LN3293"></a>                         <span class='Keyword'>int </span><span class='Declare_Parameter'>opgroup</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>opname</span><span class='Delimiter'>, 
</span><a name="LN3294"></a>                         <a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lchild</span><span class='Delimiter'>, </span><a href="../../include/nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rchild</span><span class='Delimiter'>, 
</span><a name="LN3295"></a>                         <span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3297"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>cgroup</span><span class='Delimiter'>; 
</span><a name="LN3298"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>copname</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3293"><span class='Ref_to_Parameter'>opgroup</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Complain if left child, which should be same or higher precedence 
     * according to current rules, used to be lower precedence. 
     * 
     * Exception to precedence rules: if left child is IN or NOT IN or a 
     * postfix operator, the grouping is syntactically forced regardless of 
     * precedence. 
     */ 
</span>    <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN132"><span class='Ref_to_Proto'>operator_precedence_group</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3294"><span class='Ref_to_Parameter'>lchild</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN3298"><span class='Ref_To_Local'>copname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN84"><span class='Ref_to_Global_Var'>oldprecedence_l</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a><span class='Delimiter'>] </span><span class='Operator'>&LT; </span><a href="parse_expr.c.html#LN87"><span class='Ref_to_Global_Var'>oldprecedence_r</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN3293"><span class='Ref_to_Parameter'>opgroup</span></a><span class='Delimiter'>] </span><span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>!= </span><a href="parse_expr.c.html#LN57"><span class='Ref_to_Const'>PREC_GROUP_IN</span></a> <span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>!= </span><a href="parse_expr.c.html#LN60"><span class='Ref_to_Const'>PREC_GROUP_NOT_IN</span></a> <span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>!= </span><a href="parse_expr.c.html#LN61"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_OP</span></a> <span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>!= </span><a href="parse_expr.c.html#LN50"><span class='Ref_to_Const'>PREC_GROUP_POSTFIX_IS</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN39"><span class='Ref_to_Const'>WARNING</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"operator precedence change: %s is now lower precedence than %s"</span><span class='Delimiter'>, 
</span>                            <a href="parse_expr.c.html#LN3293"><span class='Ref_to_Parameter'>opname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN3298"><span class='Ref_To_Local'>copname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3292"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN3295"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Complain if right child, which should be higher precedence according to 
     * current rules, used to be same or lower precedence. 
     * 
     * Exception to precedence rules: if right child is a prefix operator, the 
     * grouping is syntactically forced regardless of precedence. 
     */ 
</span>    <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>= </span><a href="parse_expr.c.html#LN132"><span class='Ref_to_Proto'>operator_precedence_group</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3294"><span class='Ref_to_Parameter'>rchild</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="parse_expr.c.html#LN3298"><span class='Ref_To_Local'>copname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN87"><span class='Ref_to_Global_Var'>oldprecedence_r</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a><span class='Delimiter'>] </span><span class='Operator'>&LT;= </span><a href="parse_expr.c.html#LN84"><span class='Ref_to_Global_Var'>oldprecedence_l</span></a><span class='Delimiter'>[</span><a href="parse_expr.c.html#LN3293"><span class='Ref_to_Parameter'>opgroup</span></a><span class='Delimiter'>] </span><span class='Operator'>&& 
</span>            <a href="parse_expr.c.html#LN3297"><span class='Ref_To_Local'>cgroup</span></a> <span class='Operator'>!= </span><a href="parse_expr.c.html#LN63"><span class='Ref_to_Const'>PREC_GROUP_PREFIX_OP</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN39"><span class='Ref_to_Const'>WARNING</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"operator precedence change: %s is now lower precedence than %s"</span><span class='Delimiter'>, 
</span>                            <a href="parse_expr.c.html#LN3293"><span class='Ref_to_Parameter'>opname</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN3298"><span class='Ref_To_Local'>copname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../../pl/plpgsql/src/pl_gram.y.html#LN55"><span class='Ref_to_Macro'>parser_errposition</span></a><span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3292"><span class='Ref_to_Parameter'>pstate</span></a><span class='Delimiter'>, </span><a href="parse_expr.c.html#LN3295"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end emit_precedence_warnings &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Produce a string identifying an expression by kind. 
 * 
 * Note: when practical, use a simple SQL keyword for the result.  If that 
 * doesn't work well, check call sites to see whether custom error message 
 * strings are required. 
 */ 
</span><span class='Keyword'>const char </span><span class='Operator'>* 
</span><a name="LN3351"></a><span class='Declare_Function'>ParseExprKindName</span><span class='Parentheses'>(</span><a href="../../include/parser/parse_node.h.html#LN32"><span class='Ref_to_Enum'>ParseExprKind</span></a> <span class='Declare_Parameter'>exprKind</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="parse_expr.c.html#LN3351"><span class='Ref_to_Parameter'>exprKind</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN34"><span class='Ref_to_EnumConst'>EXPR_KIND_NONE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"invalid expression context"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN35"><span class='Ref_to_EnumConst'>EXPR_KIND_OTHER</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"extension expression"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN36"><span class='Ref_to_EnumConst'>EXPR_KIND_JOIN_ON</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"JOIN/ON"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN37"><span class='Ref_to_EnumConst'>EXPR_KIND_JOIN_USING</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"JOIN/USING"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN38"><span class='Ref_to_EnumConst'>EXPR_KIND_FROM_SUBSELECT</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"sub-SELECT in FROM"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN39"><span class='Ref_to_EnumConst'>EXPR_KIND_FROM_FUNCTION</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"function in FROM"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN40"><span class='Ref_to_EnumConst'>EXPR_KIND_WHERE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"WHERE"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN68"><span class='Ref_to_EnumConst'>EXPR_KIND_POLICY</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"POLICY"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN41"><span class='Ref_to_EnumConst'>EXPR_KIND_HAVING</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"HAVING"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN42"><span class='Ref_to_EnumConst'>EXPR_KIND_FILTER</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"FILTER"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN43"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_PARTITION</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"window PARTITION BY"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN44"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_ORDER</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"window ORDER BY"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN45"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_FRAME_RANGE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"window RANGE"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN46"><span class='Ref_to_EnumConst'>EXPR_KIND_WINDOW_FRAME_ROWS</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"window ROWS"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN47"><span class='Ref_to_EnumConst'>EXPR_KIND_SELECT_TARGET</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"SELECT"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN48"><span class='Ref_to_EnumConst'>EXPR_KIND_INSERT_TARGET</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"INSERT"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN49"><span class='Ref_to_EnumConst'>EXPR_KIND_UPDATE_SOURCE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN50"><span class='Ref_to_EnumConst'>EXPR_KIND_UPDATE_TARGET</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"UPDATE"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN51"><span class='Ref_to_EnumConst'>EXPR_KIND_GROUP_BY</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"GROUP BY"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN52"><span class='Ref_to_EnumConst'>EXPR_KIND_ORDER_BY</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"ORDER BY"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN53"><span class='Ref_to_EnumConst'>EXPR_KIND_DISTINCT_ON</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"DISTINCT ON"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN54"><span class='Ref_to_EnumConst'>EXPR_KIND_LIMIT</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"LIMIT"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN55"><span class='Ref_to_EnumConst'>EXPR_KIND_OFFSET</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"OFFSET"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN56"><span class='Ref_to_EnumConst'>EXPR_KIND_RETURNING</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"RETURNING"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN57"><span class='Ref_to_EnumConst'>EXPR_KIND_VALUES</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN58"><span class='Ref_to_EnumConst'>EXPR_KIND_VALUES_SINGLE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"VALUES"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN59"><span class='Ref_to_EnumConst'>EXPR_KIND_CHECK_CONSTRAINT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN60"><span class='Ref_to_EnumConst'>EXPR_KIND_DOMAIN_CHECK</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"CHECK"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN61"><span class='Ref_to_EnumConst'>EXPR_KIND_COLUMN_DEFAULT</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN62"><span class='Ref_to_EnumConst'>EXPR_KIND_FUNCTION_DEFAULT</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"DEFAULT"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN63"><span class='Ref_to_EnumConst'>EXPR_KIND_INDEX_EXPRESSION</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"index expression"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN64"><span class='Ref_to_EnumConst'>EXPR_KIND_INDEX_PREDICATE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"index predicate"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN65"><span class='Ref_to_EnumConst'>EXPR_KIND_ALTER_COL_TRANSFORM</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"USING"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN66"><span class='Ref_to_EnumConst'>EXPR_KIND_EXECUTE_PARAMETER</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"EXECUTE"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN67"><span class='Ref_to_EnumConst'>EXPR_KIND_TRIGGER_WHEN</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"WHEN"</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/parser/parse_node.h.html#LN69"><span class='Ref_to_EnumConst'>EXPR_KIND_PARTITION_EXPRESSION</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"PARTITION BY"</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * There is intentionally no default: case here, so that the 
             * compiler will warn if we add a new ParseExprKind without 
             * extending this switch.  If we do see an unrecognized value at 
             * runtime, we'll fall through to the "unrecognized" return. 
             */ 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch exprKind &raquo; </span> 
    <span class='Control'>return</span> <span class='String'>"unrecognized expression kind"</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ParseExprKindName &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>