<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\parser\scan.l</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\parser\scan.l</b></p></td>
<td align='right'>
Wed Jun 14 08:25:45 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Operator'>%</span>top<span class='Delimiter'>{ 
</span><span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * scan.l 
 *    lexical scanner for PostgreSQL 
 * 
 * NOTE NOTE NOTE: 
 * 
 * The rules in this file must be kept in sync with src/fe_utils/psqlscan.l! 
 * 
 * The rules are designed so that the scanner never has to backtrack, 
 * in the sense that there is always a rule that can match the input 
 * consumed so far (the rule action may internally throw back some input 
 * with yyless(), however).  As explained in the flex manual, this makes 
 * for a useful speed increase --- about a third faster than a plain -CF 
 * lexer, in simple testing.  The extra complexity is mostly in the rules 
 * for handling float numbers and continued string literals.  If you change 
 * the lexical rules, verify that you haven't broken the no-backtrack 
 * property by running flex with the "-b" option and checking that the 
 * resulting "lex.backup" file says that no backing up is needed.  (As of 
 * Postgres 9.2, this check is made automatically by the Makefile.) 
 * 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * IDENTIFICATION 
 *    src/backend/parser/scan.l 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;unistd.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"parser/gramparse.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"parser/parser.h"</span>      <span class='Comment_Single_Line'>/* only needed for GUC variables */ 
</span><span class='Keyword'>#include </span><span class='String'>"parser/scansup.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"mb/pg_wchar.h"</span> 
<span class='Delimiter'>} 
</span> 
<span class='Operator'>%</span><span class='Delimiter'>{ 
</span><span class='Comment_Multi_Line'>/* Avoid exit() on fatal scanner errors (a bit ugly -- see yy_fatal_error) */ 
</span><span class='Keyword'>#undef </span><a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a> 
<a name="LN45"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>fprintf</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>file</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>fmt</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>msg</span><span class='Parentheses'>)</span>  <a href="../../../contrib/seg/segscan.l.html#LN12"><span class='Ref_to_Func'>fprintf_to_ereport</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN45"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN45"><span class='Ref_to_Parameter'>msg</span></a><span class='Parentheses'>) 
</span> 
<span class='Keyword'>static void 
</span><a name="LN48"></a><span class='Declare_Function'>fprintf_to_ereport</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmt</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>msg</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../utils/error/elog.c.html#LN825"><span class='Ref_to_Func'>errmsg_internal</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="scan.l.html#LN48"><span class='Ref_to_Parameter'>msg</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * GUC variables.  This is a DIRECT violation of the warning given at the 
 * head of gram.y, ie flex/bison code must not depend on any GUC variables; 
 * as such, changing their values can induce very unintuitive behavior. 
 * But we shall have to live with it until we can remove these variables. 
 */ 
</span><a name="LN59"></a><span class='Keyword'>int</span>         <span class='Declare_Var'>backslash_quote</span> <span class='Operator'>= </span><a href="../../include/parser/parser.h.html#LN24"><span class='Ref_to_EnumConst'>BACKSLASH_QUOTE_SAFE_ENCODING</span></a><span class='Delimiter'>; 
</span><a name="LN60"></a><span class='Keyword'>bool</span>        <span class='Declare_Var'>escape_string_warning</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span><a name="LN61"></a><span class='Keyword'>bool</span>        <span class='Declare_Var'>standard_conforming_strings</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Set the type of YYSTYPE. 
 */ 
</span><a name="LN66"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>YYSTYPE</span> <a href="../../include/parser/scanner.h.html#LN28"><span class='Ref_to_Union'>core_YYSTYPE</span></a> 
 
<span class='Comment_Multi_Line'>/* 
 * Set the type of yyextra.  All state variables used by the scanner should 
 * be in yyextra, *not* statically allocated. 
 */ 
</span><a name="LN72"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>YY_EXTRA_TYPE</span> <a href="../../include/parser/scanner.h.html#LN65"><span class='Ref_to_Struct'>core_yy_extra_type</span></a> <span class='Operator'>* 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Each call to yylex must set yylloc to the location of the found token 
 * (expressed as a byte offset from the start of the input text). 
 * When we parse a token that requires multiple lexer rules to process, 
 * this should be done in the first such rule, else yylloc will point 
 * into the middle of the token. 
 */ 
</span><a name="LN81"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>SET_YYLLOC</span><span class='Parentheses'>()</span>  <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span>yylloc<span class='Parentheses'>) </span><span class='Operator'>= </span>yytext <span class='Operator'>- </span>yyextra<span class='Operator'>-&GT;</span>scanbuf<span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Advance yylloc by the given number of bytes. 
 */ 
</span><a name="LN86"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ADVANCE_YYLLOC</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>delta</span><span class='Parentheses'>)</span>  <span class='Parentheses'>(</span> <span class='Operator'>*</span><span class='Parentheses'>(</span>yylloc<span class='Parentheses'>) </span><span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="scan.l.html#LN86"><span class='Ref_to_Parameter'>delta</span></a><span class='Parentheses'>) )</span> 
 
<a name="LN88"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>startlit</span><span class='Parentheses'>()</span>  <span class='Parentheses'>( </span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>= </span><span class='Number'>0</span> <span class='Parentheses'>) 
</span><a name="LN89"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ytext</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>yleng</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN90"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>ychar</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN91"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>litbufdup</span><span class='Parentheses'>(</span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN92"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>litbuf_udeescape</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>escape</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN93"></a><span class='Keyword'>static unsigned char </span><span class='Declare_Prototype'>unescape_single_char</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>c</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN94"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>process_integer_literal</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>token</span><span class='Delimiter'>, </span><a href="../../../contrib/cube/cubeparse.y.html#LN12"><span class='Ref_to_Const'>YYSTYPE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lval</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN95"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>is_utf16_surrogate_first</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN96"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>is_utf16_surrogate_second</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN97"></a><span class='Keyword'>static </span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Prototype'>surrogate_pair_to_codepoint</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>first</span><span class='Delimiter'>, </span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>second</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN98"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>addunicode</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Delimiter'>, </span><a href="../../bin/pgbench/pgbench.h.html#LN22"><span class='Ref_to_Const'>yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN99"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>check_uescapechar</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>escape</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN101"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>yyerror</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>msg</span><span class='Parentheses'>)</span>  <a href="scan.l.html#LN1066"><span class='Ref_to_Func'>scanner_yyerror</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN101"><span class='Ref_to_Parameter'>msg</span></a><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>) 
</span> 
<a name="LN103"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>lexer_errposition</span><span class='Parentheses'>()</span>  <a href="../../include/parser/scanner.h.html#LN126"><span class='Ref_to_Proto'>scanner_errposition</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span>yylloc<span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span> 
 
<a name="LN105"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>check_string_escape_warning</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>ychar</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN106"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>check_escape_warning</span><span class='Parentheses'>(</span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Work around a bug in flex 2.5.35: it emits a couple of functions that 
 * it forgets to emit declarations for.  Since we use -Wmissing-prototypes, 
 * this would cause warnings.  Providing our own declarations should be 
 * harmless even when the bug gets fixed. 
 */ 
</span><a name="LN114"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>core_yyget_column</span><span class='Parentheses'>(</span><a href="../../bin/pgbench/pgbench.h.html#LN22"><span class='Ref_to_Const'>yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN115"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>core_yyset_column</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>column_no</span><span class='Delimiter'>, </span><a href="../../bin/pgbench/pgbench.h.html#LN22"><span class='Ref_to_Const'>yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Operator'>%</span><span class='Delimiter'>} 
</span> 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> reentrant 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> bison<span class='Operator'>-</span>bridge 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> bison<span class='Operator'>-</span>locations 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> <span class='Number'>8bit</span> 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> never<span class='Operator'>-</span>interactive 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> nodefault 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> noinput 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> nounput 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> noyywrap 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> noyyalloc 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> noyyrealloc 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> noyyfree 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> <a href="../../interfaces/ecpg/test/expected/preproc-whenever.c.html#LN38"><span class='Ref_to_Func'>warn</span></a> 
<span class='Operator'>%</span><a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> prefix<span class='Operator'>=</span><span class='String'>"core_yy"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * OK, here is a short description of lex/flex rules behavior. 
 * The longest pattern which matches an input string is always chosen. 
 * For equal-length patterns, the first occurring in the rules list is chosen. 
 * INITIAL is the starting state, to which all non-conditional rules apply. 
 * Exclusive states change parsing rules while the state is active.  When in 
 * an exclusive state, only those rules defined for that state apply. 
 * 
 * We use exclusive states for quoted strings, extended comments, 
 * and to eliminate parsing troubles for numeric strings. 
 * Exclusive states: 
 *  &LT;xb&GT; bit string literal 
 *  &LT;xc&GT; extended C-style comments 
 *  &LT;xd&GT; delimited identifiers (double-quoted identifiers) 
 *  &LT;xh&GT; hexadecimal numeric string 
 *  &LT;xq&GT; standard quoted strings 
 *  &LT;xe&GT; extended quoted strings (support backslash escape sequences) 
 *  &LT;xdolq&GT; $foo$ quoted strings 
 *  &LT;xui&GT; quoted identifier with Unicode escapes 
 *  &LT;xuiend&GT; end of a quoted identifier with Unicode escapes, UESCAPE can follow 
 *  &LT;xus&GT; quoted string with Unicode escapes 
 *  &LT;xusend&GT; end of a quoted string with Unicode escapes, UESCAPE can follow 
 *  &LT;xeu&GT; Unicode surrogate pair in extended quoted string 
 * 
 * Remember to add an &LT;&LT;EOF&GT;&GT; case whenever you add a new exclusive state! 
 * The default one is probably not the right thing. 
 */ 
</span> 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xb 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xc 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xd 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xh 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xe 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xq 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xdolq 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xui 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xuiend 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xus 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xusend 
<span class='Operator'>%</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a> xeu 
 
<span class='Comment_Multi_Line'>/* 
 * In order to make the world safe for Windows and Mac clients as well as 
 * Unix ones, we accept either \n or \r as a newline.  A DOS-style \r\n 
 * sequence will be seen as two successive newlines, but that doesn't cause 
 * any problems.  Comments that start with -- and extend to the next 
 * newline are treated as equivalent to a single whitespace character. 
 * 
 * NOTE a fine point: if there is no newline following --, we will absorb 
 * everything to the end of the input as a comment.  This is correct.  Older 
 * versions of Postgres failed to recognize -- as a comment if the input 
 * did not end with a newline. 
 * 
 * XXX perhaps \f (formfeed) should be treated as a newline as well? 
 * 
 * XXX if you change the set of whitespace characters, fix scanner_isspace() 
 * to agree, and see also the plpgsql lexer. 
 */ 
</span> 
space           <span class='Delimiter'>[ </span><span class='Operator'>\</span>t<span class='Operator'>\</span>n<span class='Operator'>\</span>r<span class='Operator'>\</span>f<span class='Delimiter'>] 
</span>horiz_space     <span class='Delimiter'>[ </span><span class='Operator'>\</span>t<span class='Operator'>\</span>f<span class='Delimiter'>] 
</span><a href="../regex/regcomp.c.html#LN89"><span class='Ref_to_Proto'>newline</span></a>         <span class='Delimiter'>[</span><span class='Operator'>\</span>n<span class='Operator'>\</span>r<span class='Delimiter'>] 
</span>non_newline     <span class='Delimiter'>[</span><span class='Operator'>^\</span>n<span class='Operator'>\</span>r<span class='Delimiter'>] 
</span> 
<a name="LN198"></a><span class='Declare_Function'>comment         </span><span class='Parentheses'>(</span><span class='String'>"--"</span><span class='Delimiter'>{</span>non_newline<span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Parentheses'>) 
</span> 
whitespace      <span class='Parentheses'>(</span><span class='Delimiter'>{</span>space<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end comment &raquo; </span><span class='Operator'>+|</span><span class='Delimiter'>{</span><a href="../../test/isolation/specscanner.l.html#LN31"><span class='Ref_to_Func'>comment</span></a><span class='Delimiter'>}</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * SQL requires at least one newline in the whitespace separating 
 * string literals that are to be concatenated.  Silly, but who are we 
 * to argue?  Note that {whitespace_with_newline} should not have * after 
 * it, whereas {whitespace} should generally have a * after it... 
 */ 
</span> 
<a name="LN209"></a><span class='Declare_Function'>special_whitespace      </span><span class='Parentheses'>(</span><span class='Delimiter'>{</span>space<span class='Delimiter'>}</span><span class='Operator'>+|</span><span class='Delimiter'>{</span><a href="../../test/isolation/specscanner.l.html#LN31"><span class='Ref_to_Func'>comment</span></a><span class='Delimiter'>}{</span><a href="../regex/regcomp.c.html#LN89"><span class='Ref_to_Proto'>newline</span></a><span class='Delimiter'>}</span><span class='Parentheses'>) 
</span>horiz_whitespace        <span class='Parentheses'>(</span><span class='Delimiter'>{</span>horiz_space<span class='Delimiter'>}</span><span class='Operator'>|</span><span class='Delimiter'>{</span><a href="../../test/isolation/specscanner.l.html#LN31"><span class='Ref_to_Func'>comment</span></a><span class='Delimiter'>}</span><span class='Parentheses'>) 
</span><a name="LN211"></a><span class='Declare_Function'>whitespace_with_newline </span><span class='Parentheses'>(</span><span class='Delimiter'>{</span>horiz_whitespace<span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Delimiter'>{</span><a href="../regex/regcomp.c.html#LN89"><span class='Ref_to_Proto'>newline</span></a><span class='Delimiter'>}{</span><a href="../../fe_utils/psqlscan.l.html#LN170"><span class='Ref_to_Func'>special_whitespace</span></a><span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * To ensure that {quotecontinue} can be scanned without having to back up 
 * if the full pattern isn't matched, we include trailing whitespace in 
 * {quotestop}.  This matches all cases where {quotecontinue} fails to match, 
 * except for {quote} followed by whitespace and just one "-" (not two, 
 * which would start a {comment}).  To cover that we have {quotefail}. 
 * The actions for {quotestop} and {quotefail} must throw back characters 
 * beyond the quote proper. 
 */ 
</span>quote           <span class='String'>' 
quotestop       {quote}{whitespace}* 
quotecontinue   {quote}{whitespace_with_newline}{quote} 
quotefail       {quote}{whitespace}*"-" 
 
/* Bit string 
 * It is tempting to scan the string for only those characters 
 * which are allowed. However, this leads to silently swallowed 
 * characters if illegal characters are included in the string. 
 * For example, if xbinside is [01] then B'</span>ABCD<span class='String'>' is interpreted 
 * as a zero-length string, and the ABCD'</span> is lost<span class='Operator'>! 
</span> <span class='Operator'>* </span>Better to pass the <a href="../../interfaces/ecpg/test/expected/preproc-type.c.html#LN45"><span class='Ref_to_Typedef'>string</span></a> forward and let the input routines 
 <span class='Operator'>* </span>validate the contents<span class='Operator'>. 
</span> <span class='Operator'>*/ 
</span>xbstart         <span class='Delimiter'>[</span>bB<span class='Delimiter'>]{</span>quote<span class='Delimiter'>} 
</span>xbinside        <span class='Delimiter'>[</span><span class='Operator'>^</span><span class='String'>']* 
 
/* Hexadecimal number */ 
</span><a name="LN240"></a><span class='String'>xhstart         [xX]{quote} 
xhinside        [^'</span><span class='Delimiter'>]</span><span class='Operator'>* 
</span> 
<span class='Comment_Multi_Line'>/* National character */ 
</span><a name="LN244"></a><span class='Declare_Var'>xnstart</span>         <span class='Delimiter'>[</span>nN<span class='Delimiter'>]{</span>quote<span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* Quoted string that allows backslash escapes */ 
</span>xestart         <span class='Delimiter'>[</span>eE<span class='Delimiter'>]{</span>quote<span class='Delimiter'>} 
</span>xeinside        <span class='Delimiter'>[</span><span class='Operator'>^\\</span><span class='String'>']+ 
xeescape        [\\][^0-7] 
</span><a name="LN250"></a><span class='String'>xeoctesc        [\\][0-7]{1,3} 
</span><a name="LN251"></a><span class='String'>xehexesc        [\\]x[0-9A-Fa-f]{1,2} 
</span><a name="LN252"></a><span class='String'>xeunicode       [\\](u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}) 
xeunicodefail   [\\](u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7}) 
 
/* Extended quote 
 * xqdouble implements embedded quote, '''' 
 */ 
xqstart         {quote} 
xqdouble        {quote}{quote} 
xqinside        [^'</span><span class='Delimiter'>]</span><span class='Operator'>+ 
</span> 
<span class='Comment_Multi_Line'>/* $foo$ style quotes ("dollar quoting") 
 * The quoted string starts with $foo$ where "foo" is an optional string 
 * in the form of an identifier, except that it may not contain "$", 
 * and extends to the first occurrence of an identical string. 
 * There is *no* processing of the quoted text. 
 * 
 * {dolqfailed} is an error rule to avoid scanner backup when {dolqdelim} 
 * fails to match its trailing "$". 
 */ 
</span>dolq_start      <span class='Delimiter'>[</span>A<span class='Operator'>-</span>Za<span class='Operator'>-</span>z<span class='Operator'>\</span><span class='Number'>200</span><span class='Operator'>-\</span><span class='Number'>377_</span><span class='Delimiter'>] 
</span>dolq_cont       <span class='Delimiter'>[</span>A<span class='Operator'>-</span>Za<span class='Operator'>-</span>z<span class='Operator'>\</span><span class='Number'>200</span><span class='Operator'>-\</span><span class='Number'>377_0</span><span class='Operator'>-</span><span class='Number'>9</span><span class='Delimiter'>] 
</span><a name="LN273"></a>dolqdelim       <span class='Operator'>\</span><span class='Declare_Function'>$</span><span class='Parentheses'>(</span><span class='Delimiter'>{</span>dolq_start<span class='Delimiter'>}{</span>dolq_cont<span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Operator'>?\</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN176"><span class='Ref_to_Func'>$</span></a> 
dolqfailed      <span class='Operator'>\</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN176"><span class='Ref_to_Func'>$</span></a><span class='Delimiter'>{</span>dolq_start<span class='Delimiter'>}{</span>dolq_cont<span class='Delimiter'>}</span><span class='Operator'>* 
</span>dolqinside      <span class='Delimiter'>[</span><span class='Operator'>^</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN176"><span class='Ref_to_Func'>$</span></a><span class='Delimiter'>]</span><span class='Operator'>+ 
</span> 
<span class='Comment_Multi_Line'>/* Double quote 
 * Allows embedded spaces and other special characters into identifiers. 
 */ 
</span>dquote          <span class='Operator'>\</span><span class='String'>" 
xdstart         {dquote} 
xdstop          {dquote} 
xddouble        {dquote}{dquote} 
xdinside        [^"</span><span class='Delimiter'>]</span><span class='Operator'>+ 
</span> 
<span class='Comment_Multi_Line'>/* Unicode escapes */ 
</span>uescape         <span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>][</span>cC<span class='Delimiter'>][</span>aA<span class='Delimiter'>][</span>pP<span class='Delimiter'>][</span>eE<span class='Delimiter'>]{</span>whitespace<span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Delimiter'>{</span>quote<span class='Delimiter'>}[</span><span class='Operator'>^</span><span class='String'>']{quote} 
/* error rule to avoid backup */ 
uescapefail     [uU][eE][sS][cC][aA][pP][eE]{whitespace}*"-"|[uU][eE][sS][cC][aA][pP][eE]{whitespace}*{quote}[^'</span><span class='Delimiter'>]</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>][</span>cC<span class='Delimiter'>][</span>aA<span class='Delimiter'>][</span>pP<span class='Delimiter'>][</span>eE<span class='Delimiter'>]{</span>whitespace<span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Delimiter'>{</span>quote<span class='Delimiter'>}</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>][</span>cC<span class='Delimiter'>][</span>aA<span class='Delimiter'>][</span>pP<span class='Delimiter'>][</span>eE<span class='Delimiter'>]{</span>whitespace<span class='Delimiter'>}</span><span class='Operator'>*|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>][</span>cC<span class='Delimiter'>][</span>aA<span class='Delimiter'>][</span>pP<span class='Delimiter'>]</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>][</span>cC<span class='Delimiter'>][</span>aA<span class='Delimiter'>]</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>][</span>cC<span class='Delimiter'>]</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>][</span>sS<span class='Delimiter'>]</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>][</span>eE<span class='Delimiter'>]</span><span class='Operator'>|</span><span class='Delimiter'>[</span>uU<span class='Delimiter'>] 
</span> 
<span class='Comment_Multi_Line'>/* Quoted identifier with Unicode escapes */ 
</span>xuistart        <span class='Delimiter'>[</span>uU<span class='Delimiter'>]</span><span class='Operator'>&</span><span class='Delimiter'>{</span>dquote<span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* Quoted string with Unicode escapes */ 
</span>xusstart        <span class='Delimiter'>[</span>uU<span class='Delimiter'>]</span><span class='Operator'>&</span><span class='Delimiter'>{</span>quote<span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* Optional UESCAPE after a quoted string or identifier with Unicode escapes. */ 
</span>xustop1     <span class='Delimiter'>{</span>uescapefail<span class='Delimiter'>}</span><span class='Operator'>? 
</span>xustop2     <span class='Delimiter'>{</span>uescape<span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* error rule to avoid backup */ 
</span>xufailed        <span class='Delimiter'>[</span>uU<span class='Delimiter'>]</span><span class='Operator'>& 
</span> 
 
<span class='Comment_Multi_Line'>/* C-style comments 
 * 
 * The "extended comment" syntax closely resembles allowable operator syntax. 
 * The tricky part here is to get lex to recognize a string starting with 
 * slash-star as a comment, when interpreting it as an operator would produce 
 * a longer match --- remember lex will prefer a longer match!  Also, if we 
 * have something like plus-slash-star, lex will think this is a 3-character 
 * operator whereas we want to see it as a + operator and a comment start. 
 * The solution is two-fold: 
 * 1. append {op_chars}* to xcstart so that it matches as much text as 
 *    {operator} would. Then the tie-breaker (first matching rule of same 
 *    length) ensures xcstart wins.  We put back the extra stuff with yyless() 
 *    in case it contains a star-slash that should terminate the comment. 
 * 2. In the operator rule, check for slash-star within the operator, and 
 *    if found throw it back with yyless().  This handles the plus-slash-star 
 *    problem. 
 * Dash-dash comments have similar interactions with the operator rule. 
 */ 
</span>xcstart         <span class='Operator'>\/\*</span><span class='Delimiter'>{</span>op_chars<span class='Delimiter'>}</span><span class='Operator'>* 
</span>xcstop          <span class='Operator'>\*+\/ 
</span>xcinside        <span class='Delimiter'>[</span><span class='Operator'>^*/</span><span class='Delimiter'>]</span><span class='Operator'>+ 
</span> 
digit           <span class='Delimiter'>[</span><span class='Number'>0</span><span class='Operator'>-</span><span class='Number'>9</span><span class='Delimiter'>] 
</span>ident_start     <span class='Delimiter'>[</span>A<span class='Operator'>-</span>Za<span class='Operator'>-</span>z<span class='Operator'>\</span><span class='Number'>200</span><span class='Operator'>-\</span><span class='Number'>377_</span><span class='Delimiter'>] 
</span>ident_cont      <span class='Delimiter'>[</span>A<span class='Operator'>-</span>Za<span class='Operator'>-</span>z<span class='Operator'>\</span><span class='Number'>200</span><span class='Operator'>-\</span><span class='Number'>377_0</span><span class='Operator'>-</span><span class='Number'>9</span><span class='Operator'>\</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN176"><span class='Ref_to_Func'>$</span></a><span class='Delimiter'>] 
</span> 
<a href="../replication/syncrep_scanner.l.html#LN55"><span class='Ref_to_Global_Var'>identifier</span></a>      <span class='Delimiter'>{</span>ident_start<span class='Delimiter'>}{</span>ident_cont<span class='Delimiter'>}</span><span class='Operator'>* 
</span> 
<span class='Comment_Multi_Line'>/* Assorted special-case operators and operator-like tokens */ 
</span>typecast        <span class='String'>"::"</span> 
dot_dot         <span class='Operator'>\.\. 
</span>colon_equals    <span class='String'>":="</span> 
equals_greater  <span class='String'>"=&GT;"</span> 
less_equals     <span class='String'>"&LT;="</span> 
greater_equals  <span class='String'>"&GT;="</span> 
less_greater    <span class='String'>"&LT;&GT;"</span> 
not_equals      <span class='String'>"!="</span> 
 
<span class='Comment_Multi_Line'>/* 
 * "self" is the set of chars that should be returned as single-character 
 * tokens.  "op_chars" is the set of chars that can make up "Op" tokens, 
 * which can be one or more characters long (but if a single-char token 
 * appears in the "self" set, it is not to be returned as an Op).  Note 
 * that the sets overlap, but each has some chars that are not in the other. 
 * 
 * If you change either set, adjust the character lists appearing in the 
 * rule for "operator"! 
 */ 
</span>self            <span class='Delimiter'>[,</span><span class='Parentheses'>()</span><span class='Operator'>\</span><span class='Delimiter'>[</span><span class='Operator'>\</span><span class='Delimiter'>]</span><span class='Operator'>.</span><span class='Delimiter'>;</span><span class='Operator'>\:\+\-\*\/\%\^\&LT;\&GT;\=</span><span class='Delimiter'>] 
</span>op_chars        <span class='Delimiter'>[</span><span class='Operator'>\~\!\@\</span>#\<span class='Operator'>^\&\|\`\?\+\-\*\/\%\&LT;\&GT;\=</span><span class='Delimiter'>] 
</span><span class='Keyword'>operator</span>        <span class='Delimiter'>{</span>op_chars<span class='Delimiter'>}</span><span class='Operator'>+ 
</span> 
<span class='Comment_Multi_Line'>/* we no longer allow unary minus in numbers. 
 * instead we pass it separately to parser. there it gets 
 * coerced via doNegate() -- Leon aug 20 1999 
 * 
 * {decimalfail} is used because we would like "1..10" to lex as 1, dot_dot, 10. 
 * 
 * {realfail1} and {realfail2} are added to prevent the need for scanner 
 * backup when the {real} rule fails to match completely. 
 */ 
</span> 
integer         <span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>+ 
</span><a href="../../interfaces/ecpg/test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a>         <span class='Parentheses'>((</span><span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>*\.</span><span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>+</span><span class='Parentheses'>)</span><span class='Operator'>|</span><span class='Parentheses'>(</span><span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>+\.</span><span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>*</span><span class='Parentheses'>))</span> 
decimalfail     <span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>+\.\. 
</span><a href="../../../contrib/cube/cubescan.l.html#LN38"><span class='Ref_to_Func'>real</span></a>            <span class='Parentheses'>(</span><span class='Delimiter'>{</span>integer<span class='Delimiter'>}</span><span class='Operator'>|</span><span class='Delimiter'>{</span><a href="../../interfaces/ecpg/test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>[</span>Ee<span class='Delimiter'>][</span><span class='Operator'>-+</span><span class='Delimiter'>]</span><span class='Operator'>?</span><span class='Delimiter'>{</span>digit<span class='Delimiter'>}</span><span class='Operator'>+ 
</span>realfail1       <span class='Parentheses'>(</span><span class='Delimiter'>{</span>integer<span class='Delimiter'>}</span><span class='Operator'>|</span><span class='Delimiter'>{</span><a href="../../interfaces/ecpg/test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>[</span>Ee<span class='Delimiter'>] 
</span>realfail2       <span class='Parentheses'>(</span><span class='Delimiter'>{</span>integer<span class='Delimiter'>}</span><span class='Operator'>|</span><span class='Delimiter'>{</span><a href="../../interfaces/ecpg/test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>[</span>Ee<span class='Delimiter'>][</span><span class='Operator'>-+</span><span class='Delimiter'>] 
</span> 
param           <span class='Operator'>\</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN176"><span class='Ref_to_Func'>$</span></a><span class='Delimiter'>{</span>integer<span class='Delimiter'>} 
</span> 
other           <span class='Operator'>. 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Dollar quoted strings are totally opaque, and no escaping is done on them. 
 * Other quoted strings must allow some special characters such as single-quote 
 *  and newline. 
 * Embedded single-quotes are implemented both in the SQL standard 
 *  style of two adjacent single quotes "''" and in the Postgres/Java style 
 *  of escaped-quote "\'". 
 * Other embedded escaped characters are matched explicitly and the leading 
 *  backslash is dropped from the string. 
 * Note that xcstart must appear before operator, as explained above! 
 *  Also whitespace (comment) must appear before operator. 
 */ 
</span> 
<span class='Operator'>%% 
</span> 
<span class='Delimiter'>{</span>whitespace<span class='Delimiter'>}</span>    <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* ignore */ 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>xcstart<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Set location in case of syntax error in comment */ 
</span>                    <a href="scan.l.html#LN81"><span class='Ref_to_Macro'>SET_YYLLOC</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yyextra<span class='Operator'>-&GT;</span>xcdepth <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="../replication/syncrep_scanner.l.html#LN73"><span class='Ref_to_Proto'>BEGIN</span></a><span class='Parentheses'>(</span>xc<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* Put back any characters past slash-star; see above */ 
</span>                    <a href="../replication/repl_scanner.l.html#LN135"><span class='Ref_to_Proto'>yyless</span></a><span class='Parentheses'>(</span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;</span>xc<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xcstart<span class='Delimiter'>}</span>   <span class='Delimiter'>{ 
</span>                    <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>xcdepth<span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* Put back any characters past slash-star; see above */ 
</span>                    <a href="../replication/repl_scanner.l.html#LN135"><span class='Ref_to_Proto'>yyless</span></a><span class='Parentheses'>(</span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;</span>xc<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xcstop<span class='Delimiter'>}</span>    <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>xcdepth <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <a href="../replication/syncrep_scanner.l.html#LN73"><span class='Ref_to_Proto'>BEGIN</span></a><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>xcdepth<span class='Parentheses'>)</span><span class='Operator'>--</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;</span>xc<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xcinside<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* ignore */ 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;</span>xc<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>op_chars<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* ignore */ 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;</span>xc<span class='Operator'>&GT;\*+</span>         <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* ignore */ 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;</span>xc<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>     <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"unterminated /* comment"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
<span class='Delimiter'>{</span>xbstart<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Binary bit type. 
                     * At some point we should simply pass the string 
                     * forward to the parser and label it there. 
                     * In the meantime, place a leading "b" on the string 
                     * to mark it for the input routine as a binary string. 
                     */ 
</span>                    <a href="scan.l.html#LN81"><span class='Ref_to_Macro'>SET_YYLLOC</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN441"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xb<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN442"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN443"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><span class='String'>'b'</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xb<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotestop<span class='Delimiter'>} </span><span class='Operator'>| 
&LT;</span>xb<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotefail<span class='Delimiter'>} { 
</span><a name="LN447"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN448"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../replication/repl_scanner.l.html#LN36"><span class='Ref_to_Proto'>litbufdup</span></a><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> BCONST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xh<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xhinside<span class='Delimiter'>}</span>  <span class='Operator'>| 
&LT;</span>xb<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xbinside<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN454"></a>                    <span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xh<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotecontinue<span class='Delimiter'>} </span><span class='Operator'>| 
&LT;</span>xb<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotecontinue<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* ignore */ 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xb<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>     <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"unterminated bit string literal"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
<span class='Delimiter'>{</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN142"><span class='Ref_to_Global_Var'>xhstart</span></a><span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Hexadecimal bit type. 
                     * At some point we should simply pass the string 
                     * forward to the parser and label it there. 
                     * In the meantime, place a leading "x" on the string 
                     * to mark it for the input routine as a hex string. 
                     */ 
</span><a name="LN469"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN470"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xh<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN471"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN472"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><span class='String'>'x'</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xh<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotestop<span class='Delimiter'>} </span><span class='Operator'>| 
&LT;</span>xh<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotefail<span class='Delimiter'>} { 
</span><a name="LN476"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN477"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../replication/repl_scanner.l.html#LN36"><span class='Ref_to_Proto'>litbufdup</span></a><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> XCONST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xh<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>     <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"unterminated hexadecimal string literal"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
<span class='Delimiter'>{</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN146"><span class='Ref_to_Global_Var'>xnstart</span></a><span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* National character. 
                     * We will pass this along as a normal character string, 
                     * but preceded with an internally-generated "NCHAR". 
                     */ 
</span><a name="LN488"></a>                    <span class='Keyword'>const </span><a href="../../include/common/keywords.h.html#LN23"><span class='Ref_to_Struct'>ScanKeyword</span></a> <span class='Operator'>*</span><span class='Declare_Var'>keyword</span><span class='Delimiter'>; 
</span> 
<a name="LN490"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN491"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* eat only 'n' this time */ 
</span> 
                    <a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a> <span class='Operator'>= </span><a href="../../include/common/keywords.h.html#LN39"><span class='Ref_to_Proto'>ScanKeywordLookup</span></a><span class='Parentheses'>(</span><span class='String'>"nchar"</span><span class='Delimiter'>, 
</span>                                                yyextra<span class='Operator'>-&GT;</span>keywords<span class='Delimiter'>, 
</span>                                                yyextra<span class='Operator'>-&GT;</span>num_keywords<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        yylval<span class='Operator'>-&GT;</span>keyword <span class='Operator'>= </span><a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a><span class='Operator'>-&GT;</span>name<span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* If NCHAR isn't a keyword, just return "n" */ 
</span>                        yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><span class='String'>"n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN269"><span class='Ref_to_Global_Var'>IDENT</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>xqstart<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span>                    yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    yyextra<span class='Operator'>-&GT;</span>saw_non_ascii <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN512"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>standard_conforming_strings<span class='Parentheses'>) 
</span><a name="LN514"></a>                        <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xq<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
<a name="LN516"></a>                        <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xe<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN517"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>xestart<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span>                    yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                    yyextra<span class='Operator'>-&GT;</span>saw_non_ascii <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN522"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN523"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xe<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN524"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>xusstart<span class='Delimiter'>}</span>      <span class='Delimiter'>{ 
</span><a name="LN527"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span>yyextra<span class='Operator'>-&GT;</span>standard_conforming_strings<span class='Parentheses'>) 
</span><a name="LN529"></a>                        <span class='Declare_Prototype'>ereport</span><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"unsafe use of string constant with Unicode escapes"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                 <a href="../utils/error/elog.c.html#LN871"><span class='Ref_to_Func'>errdetail</span></a><span class='Parentheses'>(</span><span class='String'>"String constants with Unicode escapes cannot be used when standard_conforming_strings is off."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                 <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span><a name="LN534"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xus<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN535"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xq<span class='Delimiter'>,</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotestop<span class='Delimiter'>}</span>  <span class='Operator'>| 
&LT;</span>xq<span class='Delimiter'>,</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotefail<span class='Delimiter'>} { 
</span><a name="LN539"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN540"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * check that the data remains valid if it might have been 
                     * made invalid by unescaping any chars. 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>saw_non_ascii<span class='Parentheses'>) 
</span><a name="LN546"></a>                        <span class='Declare_Prototype'>pg_verifymbstr</span><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Delimiter'>, 
</span>                                       yyextra<span class='Operator'>-&GT;</span>literallen<span class='Delimiter'>, 
</span>                                       <span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../replication/repl_scanner.l.html#LN36"><span class='Ref_to_Proto'>litbufdup</span></a><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN174"><span class='Ref_to_Global_Var'>SCONST</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xus<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotestop<span class='Delimiter'>} </span><span class='Operator'>| 
&LT;</span>xus<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotefail<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* throw back all but the quote */ 
</span><a name="LN555"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* xusend state looks for possible UESCAPE */ 
</span><a name="LN557"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xusend<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xusend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>whitespace<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* stay in xusend state over whitespace */ 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xusend<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT; | 
&LT;</span>xusend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>other<span class='Delimiter'>} </span><span class='Operator'>| 
&LT;</span>xusend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xustop1<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* no UESCAPE after the quote, throw back everything */ 
</span><a name="LN566"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN567"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN92"><span class='Ref_to_Proto'>litbuf_udeescape</span></a><span class='Parentheses'>(</span><span class='String'>'\\'</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN174"><span class='Ref_to_Global_Var'>SCONST</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xusend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xustop2<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* found UESCAPE after the end quote */ 
</span><a name="LN573"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="scan.l.html#LN99"><span class='Ref_to_Proto'>check_uescapechar</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="scan.l.html#LN81"><span class='Ref_to_Macro'>SET_YYLLOC</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                        <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode escape character"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN92"><span class='Ref_to_Proto'>litbuf_udeescape</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Delimiter'>], 
</span>                                                   <a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN174"><span class='Ref_to_Global_Var'>SCONST</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xq<span class='Delimiter'>,</span>xe<span class='Delimiter'>,</span>xus<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xqdouble<span class='Delimiter'>} { 
</span><a name="LN585"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><span class='String'>'\''</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xq<span class='Delimiter'>,</span>xus<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xqinside<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN588"></a>                    <span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xeinside<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN591"></a>                    <span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN154"><span class='Ref_to_Func'>xeunicode</span></a><span class='Delimiter'>} { 
</span><a name="LN594"></a>                    <a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a>    <span class='Declare_Var'>c</span> <span class='Operator'>= </span>strtoul<span class='Parentheses'>(</span>yytext <span class='Operator'>+ </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN596"></a>                    <span class='Declare_Prototype'>check_escape_warning</span><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN95"><span class='Ref_to_Proto'>is_utf16_surrogate_first</span></a><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        yyextra<span class='Operator'>-&GT;</span>utf16_first_part <span class='Operator'>= </span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Delimiter'>; 
</span>                        <a href="../replication/syncrep_scanner.l.html#LN73"><span class='Ref_to_Proto'>BEGIN</span></a><span class='Parentheses'>(</span>xeu<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN96"><span class='Ref_to_Proto'>is_utf16_surrogate_second</span></a><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Parentheses'>))</span> 
<a name="LN604"></a>                        <span class='Declare_Prototype'>yyerror</span><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
<a name="LN606"></a>                        <span class='Declare_Prototype'>addunicode</span><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xeu<span class='Operator'>&GT;</span><span class='Delimiter'>{</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN154"><span class='Ref_to_Func'>xeunicode</span></a><span class='Delimiter'>} { 
</span><a name="LN609"></a>                    <a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a>    <span class='Declare_Var'>c</span> <span class='Operator'>= </span>strtoul<span class='Parentheses'>(</span>yytext <span class='Operator'>+ </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="scan.l.html#LN96"><span class='Ref_to_Proto'>is_utf16_surrogate_second</span></a><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Parentheses'>))</span> 
<a name="LN612"></a>                        <span class='Declare_Prototype'>yyerror</span><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN97"><span class='Ref_to_Proto'>surrogate_pair_to_codepoint</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>utf16_first_part<span class='Delimiter'>, </span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN616"></a>                    <span class='Declare_Prototype'>addunicode</span><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN618"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xe<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xeu<span class='Operator'>&GT;.</span>          <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span><span class='Operator'>&LT;</span>xeu<span class='Operator'>&GT;\</span>n         <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span><span class='Operator'>&LT;</span>xeu<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>    <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span><span class='Operator'>&LT;</span>xe<span class='Delimiter'>,</span>xeu<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xeunicodefail<span class='Delimiter'>} { 
</span><a name="LN624"></a>                    <span class='Declare_Prototype'>ereport</span><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                            <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ESCAPE_SEQUENCE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode escape"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Unicode escapes must be \\uXXXX or \\UXXXXXXXX."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xeescape<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\''</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>backslash_quote <span class='Operator'>== </span><a href="../../include/parser/parser.h.html#LN22"><span class='Ref_to_EnumConst'>BACKSLASH_QUOTE_OFF</span></a> <span class='Operator'>|| 
</span>                            <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>backslash_quote <span class='Operator'>== </span><a href="../../include/parser/parser.h.html#LN24"><span class='Ref_to_EnumConst'>BACKSLASH_QUOTE_SAFE_ENCODING</span></a> <span class='Operator'>&& 
</span>                             <a href="../../include/mb/pg_wchar.h.html#LN295"><span class='Ref_to_Macro'>PG_ENCODING_IS_CLIENT_ONLY</span></a><span class='Parentheses'>(</span><a href="../utils/mb/mbutils.c.html#LN315"><span class='Ref_to_Func'>pg_get_client_encoding</span></a><span class='Parentheses'>())))</span> 
                            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NONSTANDARD_USE_OF_ESCAPE_CHARACTER<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"unsafe use of \\' in a string literal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                     <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Use '' to write quotes in strings. \\' is insecure in client-only encodings."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                     <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span><a name="LN642"></a>                    <span class='Declare_Prototype'>check_string_escape_warning</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN643"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><a href="scan.l.html#LN93"><span class='Ref_to_Proto'>unescape_single_char</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                               <a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN152"><span class='Ref_to_Global_Var'>xeoctesc</span></a><span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN647"></a>                    <span class='Keyword'>unsigned char </span><span class='Declare_Var'>c</span> <span class='Operator'>= </span>strtoul<span class='Parentheses'>(</span>yytext <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN649"></a>                    <span class='Declare_Prototype'>check_escape_warning</span><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN650"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span> <span class='Operator'>|| </span><a href="../../include/c.h.html#LN972"><span class='Ref_to_Macro'>IS_HIGHBIT_SET</span></a><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Parentheses'>))</span> 
                        yyextra<span class='Operator'>-&GT;</span>saw_non_ascii <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xe<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xehexesc<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN655"></a>                    <span class='Keyword'>unsigned char </span><span class='Declare_Var'>c</span> <span class='Operator'>= </span>strtoul<span class='Parentheses'>(</span>yytext <span class='Operator'>+ </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN657"></a>                    <span class='Declare_Prototype'>check_escape_warning</span><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN658"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span> <span class='Operator'>|| </span><a href="../../include/c.h.html#LN972"><span class='Ref_to_Macro'>IS_HIGHBIT_SET</span></a><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Parentheses'>))</span> 
                        yyextra<span class='Operator'>-&GT;</span>saw_non_ascii <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xq<span class='Delimiter'>,</span>xe<span class='Delimiter'>,</span>xus<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>quotecontinue<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* ignore */ 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xe<span class='Operator'>&GT;.</span>           <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* This is only needed for \ just before EOF */ 
</span><a name="LN667"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>], </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xq<span class='Delimiter'>,</span>xe<span class='Delimiter'>,</span>xus<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>      <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"unterminated quoted string"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
<span class='Delimiter'>{</span>dolqdelim<span class='Delimiter'>}</span>     <span class='Delimiter'>{ 
</span><a name="LN672"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yyextra<span class='Operator'>-&GT;</span>dolqstart <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span>yytext<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN674"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xdolq<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN675"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>dolqfailed<span class='Delimiter'>}</span>    <span class='Delimiter'>{ 
</span><a name="LN678"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* throw back all but the initial "$" */ 
</span><a name="LN680"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* and treat it as {other} */ 
</span>                    <span class='Control'>return</span> yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xdolq<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>dolqdelim<span class='Delimiter'>} { 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyextra<span class='Operator'>-&GT;</span>dolqstart<span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>dolqstart<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        yyextra<span class='Operator'>-&GT;</span>dolqstart <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                        <a href="../replication/syncrep_scanner.l.html#LN73"><span class='Ref_to_Proto'>BEGIN</span></a><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../replication/repl_scanner.l.html#LN36"><span class='Ref_to_Proto'>litbufdup</span></a><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN174"><span class='Ref_to_Global_Var'>SCONST</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* 
                         * When we fail to match $...$ to dolqstart, transfer 
                         * the $... part to the output, but put back the final 
                         * $ for rescanning.  Consider $delim$...$junk$delim$ 
                         */ 
</span>                        <a href="../replication/repl_scanner.l.html#LN37"><span class='Ref_to_Proto'>addlit</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../replication/repl_scanner.l.html#LN135"><span class='Ref_to_Proto'>yyless</span></a><span class='Parentheses'>(</span>yyleng <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xdolq<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>dolqinside<span class='Delimiter'>} { 
</span><a name="LN705"></a>                    <span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xdolq<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>dolqfailed<span class='Delimiter'>} { 
</span><a name="LN708"></a>                    <span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xdolq<span class='Operator'>&GT;.</span>        <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* This is only needed for $ inside the quoted text */ 
</span><a name="LN712"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>], </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xdolq<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>  <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"unterminated dollar-quoted string"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
<span class='Delimiter'>{</span>xdstart<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span><a name="LN717"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN718"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xd<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN719"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>xuistart<span class='Delimiter'>}</span>      <span class='Delimiter'>{ 
</span><a name="LN722"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN723"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xui<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN724"></a>                    <span class='Declare_Prototype'>startlit</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xd<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xdstop<span class='Delimiter'>}</span>    <span class='Delimiter'>{ 
</span><a name="LN727"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>ident</span><span class='Delimiter'>; 
</span> 
<a name="LN729"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN731"></a>                        <span class='Declare_Prototype'>yyerror</span><span class='Parentheses'>(</span><span class='String'>"zero-length delimited identifier"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a> <span class='Operator'>= </span><a href="../replication/repl_scanner.l.html#LN36"><span class='Ref_to_Proto'>litbufdup</span></a><span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>&GT;= </span><a href="../../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Parentheses'>) 
</span><a name="LN734"></a>                        <span class='Declare_Prototype'>truncate_identifier</span><span class='Parentheses'>(</span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>, </span>yyextra<span class='Operator'>-&GT;</span>literallen<span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN269"><span class='Ref_to_Global_Var'>IDENT</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xui<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>dquote<span class='Delimiter'>} { 
</span><a name="LN739"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* xuiend state looks for possible UESCAPE */ 
</span><a name="LN741"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>xuiend<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xuiend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>whitespace<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* stay in xuiend state over whitespace */ 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xuiend<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT; | 
&LT;</span>xuiend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>other<span class='Delimiter'>} </span><span class='Operator'>| 
&LT;</span>xuiend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xustop1<span class='Delimiter'>} { 
</span>                    <span class='Comment_Multi_Line'>/* no UESCAPE after the quote, throw back everything */ 
</span><a name="LN750"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>ident</span><span class='Delimiter'>; 
</span><a name="LN751"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Var'>identlen</span><span class='Delimiter'>; 
</span> 
<a name="LN753"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN755"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN757"></a>                        <span class='Declare_Prototype'>yyerror</span><span class='Parentheses'>(</span><span class='String'>"zero-length delimited identifier"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN92"><span class='Ref_to_Proto'>litbuf_udeescape</span></a><span class='Parentheses'>(</span><span class='String'>'\\'</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="scan.l.html#LN751"><span class='Ref_to_Global_Var'>identlen</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN751"><span class='Ref_to_Global_Var'>identlen</span></a> <span class='Operator'>&GT;= </span><a href="../../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Parentheses'>) 
</span><a name="LN761"></a>                        <span class='Declare_Prototype'>truncate_identifier</span><span class='Parentheses'>(</span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN751"><span class='Ref_to_Global_Var'>identlen</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN269"><span class='Ref_to_Global_Var'>IDENT</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xuiend<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xustop2<span class='Delimiter'>}</span>   <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* found UESCAPE after the end quote */ 
</span><a name="LN767"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>ident</span><span class='Delimiter'>; 
</span><a name="LN768"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Var'>identlen</span><span class='Delimiter'>; 
</span> 
<a name="LN770"></a>                    <span class='Declare_Prototype'>BEGIN</span><span class='Parentheses'>(</span>INITIAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN772"></a>                        <span class='Declare_Prototype'>yyerror</span><span class='Parentheses'>(</span><span class='String'>"zero-length delimited identifier"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="scan.l.html#LN99"><span class='Ref_to_Proto'>check_uescapechar</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="scan.l.html#LN81"><span class='Ref_to_Macro'>SET_YYLLOC</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                        <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode escape character"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN92"><span class='Ref_to_Proto'>litbuf_udeescape</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Delimiter'>], </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="scan.l.html#LN751"><span class='Ref_to_Global_Var'>identlen</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN751"><span class='Ref_to_Global_Var'>identlen</span></a> <span class='Operator'>&GT;= </span><a href="../../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Parentheses'>) 
</span><a name="LN782"></a>                        <span class='Declare_Prototype'>truncate_identifier</span><span class='Parentheses'>(</span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN751"><span class='Ref_to_Global_Var'>identlen</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN269"><span class='Ref_to_Global_Var'>IDENT</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xd<span class='Delimiter'>,</span>xui<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xddouble<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN787"></a>                    <span class='Declare_Prototype'>addlitchar</span><span class='Parentheses'>(</span><span class='String'>'"'</span><span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xd<span class='Delimiter'>,</span>xui<span class='Operator'>&GT;</span><span class='Delimiter'>{</span>xdinside<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN790"></a>                    <span class='Declare_Prototype'>addlit</span><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span><span class='Operator'>&LT;</span>xd<span class='Delimiter'>,</span>xui<span class='Operator'>&GT;&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>     <span class='Delimiter'>{ </span><a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"unterminated quoted identifier"</span><span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
<span class='Delimiter'>{</span>xufailed<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN795"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>ident</span><span class='Delimiter'>; 
</span> 
<a name="LN797"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* throw back all but the initial u/U */ 
</span><a name="LN799"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* and treat it as {identifier} */ 
</span>                    <a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a> <span class='Operator'>= </span><a href="../../include/parser/scansup.h.html#LN19"><span class='Ref_to_Proto'>downcase_truncate_identifier</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN269"><span class='Ref_to_Global_Var'>IDENT</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>typecast<span class='Delimiter'>}</span>      <span class='Delimiter'>{ 
</span><a name="LN807"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> TYPECAST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>dot_dot<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span><a name="LN812"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> DOT_DOT<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>colon_equals<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span><a name="LN817"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> COLON_EQUALS<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>equals_greater<span class='Delimiter'>} { 
</span><a name="LN822"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> EQUALS_GREATER<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>less_equals<span class='Delimiter'>}</span>   <span class='Delimiter'>{ 
</span><a name="LN827"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> LESS_EQUALS<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>greater_equals<span class='Delimiter'>} { 
</span><a name="LN832"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> GREATER_EQUALS<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>less_greater<span class='Delimiter'>}</span>  <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* We accept both "&LT;&GT;" and "!=" as meaning NOT_EQUALS */ 
</span><a name="LN838"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> NOT_EQUALS<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>not_equals<span class='Delimiter'>}</span>    <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* We accept both "&LT;&GT;" and "!=" as meaning NOT_EQUALS */ 
</span><a name="LN844"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> NOT_EQUALS<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>self<span class='Delimiter'>}</span>          <span class='Delimiter'>{ 
</span><a name="LN849"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span><span class='Keyword'>operator</span><span class='Delimiter'>}</span>      <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Check for embedded slash-star or dash-dash; those 
                     * are comment starts, so operator must stop there. 
                     * Note that slash-star or dash-dash at the first 
                     * character will match a prior rule, not this one. 
                     */ 
</span><a name="LN860"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Var'>nchars</span> <span class='Operator'>= </span>yyleng<span class='Delimiter'>; 
</span><a name="LN861"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>slashstar</span> <span class='Operator'>= </span>strstr<span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span><span class='String'>"/*"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN862"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>dashdash</span> <span class='Operator'>= </span>strstr<span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span><span class='String'>"--"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a> <span class='Operator'>&& </span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN667"><span class='Ref_to_Global_Var'>dashdash</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* if both appear, take the first one */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a> <span class='Operator'>&GT; </span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN667"><span class='Ref_to_Global_Var'>dashdash</span></a><span class='Parentheses'>) 
</span>                            <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN667"><span class='Ref_to_Global_Var'>dashdash</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a><span class='Parentheses'>) 
</span>                        <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN667"><span class='Ref_to_Global_Var'>dashdash</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a><span class='Parentheses'>) 
</span>                        <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>= </span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN666"><span class='Ref_to_Global_Var'>slashstar</span></a> <span class='Operator'>- </span>yytext<span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * For SQL compatibility, '+' and '-' cannot be the 
                     * last char of a multi-char operator unless the operator 
                     * contains chars that are not in SQL operators. 
                     * The idea is to lex '=-' as two operators, but not 
                     * to forbid operator names like '?-' that could not be 
                     * sequences of SQL operators. 
                     */ 
</span>                    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span> <span class='Operator'>&& 
</span>                           <span class='Parentheses'>(</span>yytext<span class='Delimiter'>[</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'+'</span> <span class='Operator'>|| 
</span>                            yytext<span class='Delimiter'>[</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'-'</span><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span><a name="LN887"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>ic</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>for</span> <span class='Parentheses'>(</span>ic <span class='Operator'>= </span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>- </span><span class='Number'>2</span><span class='Delimiter'>; </span>ic <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Delimiter'>; </span>ic<span class='Operator'>--</span><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span>strchr<span class='Parentheses'>(</span><span class='String'>"~!@#^&|`?%"</span><span class='Delimiter'>, </span>yytext<span class='Delimiter'>[</span>ic<span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span>ic <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* found a char that makes it OK */ 
</span>                        <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a><span class='Operator'>--</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* else remove the +/-, and check again */ 
</span>                    <span class='Delimiter'>} 
</span> 
<a name="LN899"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>&LT; </span>yyleng<span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* Strip the unwanted chars from the token */ 
</span>                        <a href="../replication/repl_scanner.l.html#LN135"><span class='Ref_to_Proto'>yyless</span></a><span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Comment_Multi_Line'>/* 
                         * If what we have left is only one char, and it's 
                         * one of the characters matching "self", then 
                         * return it as a character token the same way 
                         * that the "self" rule would have. 
                         */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>== </span><span class='Number'>1</span> <span class='Operator'>&& 
</span>                            strchr<span class='Parentheses'>(</span><span class='String'>",()[].;:+-*/%^&LT;&GT;="</span><span class='Delimiter'>, </span>yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
                            <span class='Control'>return</span> yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * Complain if operator is too long.  Unlike the case 
                     * for identifiers, we make this an error not a notice- 
                     * and-truncate, because the odds are we are looking at 
                     * a syntactic mistake anyway. 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/ecpg/preproc/pgc.l.html#LN665"><span class='Ref_to_Global_Var'>nchars</span></a> <span class='Operator'>&GT;= </span><a href="../../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Parentheses'>) 
</span><a name="LN923"></a>                        <span class='Declare_Prototype'>yyerror</span><span class='Parentheses'>(</span><span class='String'>"operator too long"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span>yytext<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> Op<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>param<span class='Delimiter'>}</span>         <span class='Delimiter'>{ 
</span><a name="LN930"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>ival <span class='Operator'>= </span>atol<span class='Parentheses'>(</span>yytext <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> PARAM<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>integer<span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span><a name="LN936"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="scan.l.html#LN94"><span class='Ref_to_Proto'>process_integer_literal</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yylval<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span><a href="../../interfaces/ecpg/test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Delimiter'>}</span>       <span class='Delimiter'>{ 
</span><a name="LN940"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span>yytext<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> FCONST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>decimalfail<span class='Delimiter'>}</span>   <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* throw back the .., and treat as integer */ 
</span><a name="LN946"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN947"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="scan.l.html#LN94"><span class='Ref_to_Proto'>process_integer_literal</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yylval<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span><a href="../../../contrib/cube/cubescan.l.html#LN38"><span class='Ref_to_Func'>real</span></a><span class='Delimiter'>}</span>          <span class='Delimiter'>{ 
</span><a name="LN951"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span>yytext<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> FCONST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>realfail1<span class='Delimiter'>}</span>     <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * throw back the [Ee], and treat as {decimal}.  Note 
                     * that it is possible the input is actually {integer}, 
                     * but since this case will almost certainly lead to a 
                     * syntax error anyway, we don't bother to distinguish. 
                     */ 
</span><a name="LN962"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span>yyleng <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN963"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span>yytext<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> FCONST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
{</span>realfail2<span class='Delimiter'>}</span>     <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* throw back the [Ee][+-], and proceed as above */ 
</span><a name="LN969"></a>                    <span class='Declare_Prototype'>yyless</span><span class='Parentheses'>(</span>yyleng <span class='Operator'>- </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN970"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span>yytext<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> FCONST<span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
 
<span class='Delimiter'>{</span><a href="../replication/syncrep_scanner.l.html#LN55"><span class='Ref_to_Global_Var'>identifier</span></a><span class='Delimiter'>}</span>    <span class='Delimiter'>{ 
</span><a name="LN977"></a>                    <span class='Keyword'>const </span><a href="../../include/common/keywords.h.html#LN23"><span class='Ref_to_Struct'>ScanKeyword</span></a> <span class='Operator'>*</span><span class='Declare_Var'>keyword</span><span class='Delimiter'>; 
</span><a name="LN978"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>ident</span><span class='Delimiter'>; 
</span> 
<a name="LN980"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* Is it a keyword? */ 
</span>                    <a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a> <span class='Operator'>= </span><a href="../../include/common/keywords.h.html#LN39"><span class='Ref_to_Proto'>ScanKeywordLookup</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, 
</span>                                                yyextra<span class='Operator'>-&GT;</span>keywords<span class='Delimiter'>, 
</span>                                                yyextra<span class='Operator'>-&GT;</span>num_keywords<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        yylval<span class='Operator'>-&GT;</span>keyword <span class='Operator'>= </span><a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a><span class='Operator'>-&GT;</span>name<span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <a href="../../pl/plpgsql/src/pl_gram.y.html#LN123"><span class='Ref_to_Global_Var'>keyword</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * No.  Convert the identifier to lower case, and truncate 
                     * if necessary. 
                     */ 
</span>                    <a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a> <span class='Operator'>= </span><a href="../../include/parser/scansup.h.html#LN19"><span class='Ref_to_Proto'>downcase_truncate_identifier</span></a><span class='Parentheses'>(</span>yytext<span class='Delimiter'>, </span>yyleng<span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    yylval<span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="scan.l.html#LN727"><span class='Ref_to_Global_Var'>ident</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <a href="../replication/repl_gram.y.html#LN269"><span class='Ref_to_Global_Var'>IDENT</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Delimiter'>{</span>other<span class='Delimiter'>}</span>         <span class='Delimiter'>{ 
</span><a name="LN1002"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> yytext<span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>&LT;&LT;</span>EOF<span class='Operator'>&GT;&GT;</span>         <span class='Delimiter'>{ 
</span><a name="LN1007"></a>                    <span class='Declare_Prototype'>SET_YYLLOC</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN1008"></a>                    <span class='Declare_Prototype'>yyterminate</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Operator'>%% 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Arrange access to yyextra for subroutines of the main yylex() function. 
 * We expect each subroutine to have a yyscanner parameter.  Rather than 
 * use the yyget_xxx functions, which might or might not get inlined by the 
 * compiler, we cheat just a bit and cast yyscanner to the right type. 
 */ 
</span><span class='Keyword'>#undef </span>yyextra 
<span class='Keyword'>#define </span>yyextra  <span class='Parentheses'>(((</span><span class='Control'>struct</span> yyguts_t <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>yyextra_r<span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* Likewise for a couple of other things we need. */ 
</span><span class='Keyword'>#undef </span>yylloc 
<span class='Keyword'>#define </span>yylloc  <span class='Parentheses'>(((</span><span class='Control'>struct</span> yyguts_t <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>yylloc_r<span class='Parentheses'>)</span> 
<span class='Keyword'>#undef </span>yyleng 
<span class='Keyword'>#define </span>yyleng  <span class='Parentheses'>(((</span><span class='Control'>struct</span> yyguts_t <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../pl/plpgsql/src/pl_scanner.c.html#LN209"><span class='Ref_to_Global_Var'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>yyleng_r<span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * scanner_errposition 
 *      Report a lexer or grammar error cursor position, if possible. 
 * 
 * This is expected to be used within an ereport() call.  The return value 
 * is a dummy (always 0, in fact). 
 * 
 * Note that this can only be used for messages emitted during raw parsing 
 * (essentially, scan.l and gram.y), since it requires the yyscanner struct 
 * to still be available. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN1041"></a><span class='Declare_Function'>scanner_errposition</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>location</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1043"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>pos</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1041"><span class='Ref_to_Parameter'>location</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;</span>               <span class='Comment_Single_Line'>/* no-op if location is unknown */ 
</span> 
    <span class='Comment_Multi_Line'>/* Convert byte offset to character number */ 
</span>    <a href="scan.l.html#LN1043"><span class='Ref_To_Local'>pos</span></a> <span class='Operator'>= </span><a href="../../include/mb/pg_wchar.h.html#LN529"><span class='Ref_to_Proto'>pg_mbstrlen_with_len</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>scanbuf<span class='Delimiter'>, </span><a href="scan.l.html#LN1041"><span class='Ref_to_Parameter'>location</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* And pass it to the ereport mechanism */ 
</span>    <span class='Control'>return</span> <a href="../utils/error/elog.c.html#LN1123"><span class='Ref_to_Func'>errposition</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1043"><span class='Ref_To_Local'>pos</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end scanner_errposition &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * scanner_yyerror 
 *      Report a lexer or grammar error. 
 * 
 * The message's cursor position is whatever YYLLOC was last set to, 
 * ie, the start of the current token if called within yylex(), or the 
 * most recently lexed token if called from the grammar. 
 * This is OK for syntax error messages from the Bison parser, because Bison 
 * parsers report error as soon as the first unparsable token is reached. 
 * Beware of using yyerror for other purposes, as the cursor position might 
 * be misleading! 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1067"></a><span class='Declare_Function'>scanner_yyerror</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>message</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1069"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>loc</span> <span class='Operator'>= </span>yyextra<span class='Operator'>-&GT;</span>scanbuf <span class='Operator'>+ *</span>yylloc<span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="scan.l.html#LN1069"><span class='Ref_To_Local'>loc</span></a> <span class='Operator'>== </span>YY_END_OF_BUFFER_CHAR<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>        <span class='Comment_Multi_Line'>/* translator: %s is typically the translation of "syntax error" */ 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"%s at end of input"</span><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><a href="scan.l.html#LN1067"><span class='Ref_to_Parameter'>message</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                 <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_SYNTAX_ERROR<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>        <span class='Comment_Multi_Line'>/* translator: first %s is typically the translation of "syntax error" */ 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"%s at or near \"%s\""</span><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><a href="scan.l.html#LN1067"><span class='Ref_to_Parameter'>message</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="scan.l.html#LN1069"><span class='Ref_To_Local'>loc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end scanner_yyerror &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Called before any actual parsing is done 
 */ 
</span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> 
<a name="LN1094"></a><span class='Declare_Function'>scanner_init</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, 
</span><a name="LN1095"></a>             <a href="../../include/parser/scanner.h.html#LN65"><span class='Ref_to_Struct'>core_yy_extra_type</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>yyext</span><span class='Delimiter'>, 
</span><a name="LN1096"></a>             <span class='Keyword'>const </span><a href="../../include/common/keywords.h.html#LN23"><span class='Ref_to_Struct'>ScanKeyword</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>keywords</span><span class='Delimiter'>, 
</span><a name="LN1097"></a>             <span class='Keyword'>int </span><span class='Declare_Parameter'>num_keywords</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1099"></a>    <a href="../../include/c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Local'>slen</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="scan.l.html#LN1094"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1100"></a>    <a href="../../bin/pgbench/pgbench.h.html#LN22"><span class='Ref_to_Const'>yyscan_t</span></a>    <span class='Declare_Local'>scanner</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>yylex_init<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="scan.l.html#LN1100"><span class='Ref_To_Local'>scanner</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"yylex_init() failed: %m"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    core_yyset_extra<span class='Parentheses'>(</span><a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1100"><span class='Ref_To_Local'>scanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN77"><span class='Ref_to_Member'>keywords</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN1096"><span class='Ref_to_Parameter'>keywords</span></a><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN78"><span class='Ref_to_Member'>num_keywords</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN1097"><span class='Ref_to_Parameter'>num_keywords</span></a><span class='Delimiter'>; 
</span> 
    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN86"><span class='Ref_to_Member'>backslash_quote</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN59"><span class='Ref_to_Global_Var'>backslash_quote</span></a><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN87"><span class='Ref_to_Member'>escape_string_warning</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN60"><span class='Ref_to_Global_Var'>escape_string_warning</span></a><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN88"><span class='Ref_to_Member'>standard_conforming_strings</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN61"><span class='Ref_to_Global_Var'>standard_conforming_strings</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Make a scan buffer with special termination needed by flex. 
     */ 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN71"><span class='Ref_to_Member'>scanbuf</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1099"><span class='Ref_To_Local'>slen</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN72"><span class='Ref_to_Member'>scanbuflen</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN1099"><span class='Ref_To_Local'>slen</span></a><span class='Delimiter'>; 
</span>    memcpy<span class='Parentheses'>(</span><a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN71"><span class='Ref_to_Member'>scanbuf</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1094"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1099"><span class='Ref_To_Local'>slen</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN71"><span class='Ref_to_Member'>scanbuf</span></a><span class='Delimiter'>[</span><a href="scan.l.html#LN1099"><span class='Ref_To_Local'>slen</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN71"><span class='Ref_to_Member'>scanbuf</span></a><span class='Delimiter'>[</span><a href="scan.l.html#LN1099"><span class='Ref_To_Local'>slen</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span>YY_END_OF_BUFFER_CHAR<span class='Delimiter'>; 
</span>    yy_scan_buffer<span class='Parentheses'>(</span><a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN71"><span class='Ref_to_Member'>scanbuf</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1099"><span class='Ref_To_Local'>slen</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Delimiter'>, </span><a href="scan.l.html#LN1100"><span class='Ref_To_Local'>scanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* initialize literal buffer to a reasonable but expansible size */ 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN99"><span class='Ref_to_Member'>literalalloc</span></a> <span class='Operator'>= </span><span class='Number'>1024</span><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN97"><span class='Ref_to_Member'>literalbuf</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN99"><span class='Ref_to_Member'>literalalloc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1095"><span class='Ref_to_Parameter'>yyext</span></a><span class='Operator'>-&GT;</span><a href="../../include/parser/scanner.h.html#LN98"><span class='Ref_to_Member'>literallen</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="scan.l.html#LN1100"><span class='Ref_To_Local'>scanner</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end scanner_init &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Called after parsing is done to clean up after scanner_init() 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN1136"></a><span class='Declare_Function'>scanner_finish</span><span class='Parentheses'>(</span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * We don't bother to call yylex_destroy(), because all it would do is 
     * pfree a small amount of control storage.  It's cheaper to leak the 
     * storage until the parsing context is destroyed.  The amount of space 
     * involved is usually negligible compared to the output parse tree 
     * anyway. 
     * 
     * We do bother to pfree the scanbuf and literal buffer, but only if they 
     * represent a nontrivial amount of space.  The 8K cutoff is arbitrary. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>scanbuflen <span class='Operator'>&GT;= </span><span class='Number'>8192</span><span class='Parentheses'>) 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>scanbuf<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literalalloc <span class='Operator'>&GT;= </span><span class='Number'>8192</span><span class='Parentheses'>) 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Keyword'>static void 
</span><a name="LN1156"></a><span class='Declare_Function'>addlit</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ytext</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>yleng</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* enlarge buffer if needed */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>+ </span><a href="scan.l.html#LN1156"><span class='Ref_to_Parameter'>yleng</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span>yyextra<span class='Operator'>-&GT;</span>literalalloc<span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>do</span> 
        <span class='Delimiter'>{ 
</span>            yyextra<span class='Operator'>-&GT;</span>literalalloc <span class='Operator'>*= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>((</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>+ </span><a href="scan.l.html#LN1156"><span class='Ref_to_Parameter'>yleng</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span>yyextra<span class='Operator'>-&GT;</span>literalalloc<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        yyextra<span class='Operator'>-&GT;</span>literalbuf <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN36"><span class='Ref_to_Proto'>repalloc</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Delimiter'>, 
</span>                                                yyextra<span class='Operator'>-&GT;</span>literalalloc<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* append new data */ 
</span>    memcpy<span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literalbuf <span class='Operator'>+ </span>yyextra<span class='Operator'>-&GT;</span>literallen<span class='Delimiter'>, </span><a href="scan.l.html#LN1156"><span class='Ref_to_Parameter'>ytext</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1156"><span class='Ref_to_Parameter'>yleng</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>+= </span><a href="scan.l.html#LN1156"><span class='Ref_to_Parameter'>yleng</span></a><span class='Delimiter'>; 
} 
</span> 
 
<span class='Keyword'>static void 
</span><a name="LN1175"></a><span class='Declare_Function'>addlitchar</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>ychar</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* enlarge buffer if needed */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span>yyextra<span class='Operator'>-&GT;</span>literalalloc<span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        yyextra<span class='Operator'>-&GT;</span>literalalloc <span class='Operator'>*= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>        yyextra<span class='Operator'>-&GT;</span>literalbuf <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN36"><span class='Ref_to_Proto'>repalloc</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Delimiter'>, 
</span>                                                yyextra<span class='Operator'>-&GT;</span>literalalloc<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* append new data */ 
</span>    yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Delimiter'>[</span>yyextra<span class='Operator'>-&GT;</span>literallen<span class='Delimiter'>] </span><span class='Operator'>= </span><a href="scan.l.html#LN1175"><span class='Ref_to_Parameter'>ychar</span></a><span class='Delimiter'>; 
</span>    yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>+= </span><span class='Number'>1</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Create a palloc'd copy of literalbuf, adding a trailing null. 
 */ 
</span><span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN1194"></a><span class='Declare_Function'>litbufdup</span><span class='Parentheses'>(</span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1196"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>llen</span> <span class='Operator'>= </span>yyextra<span class='Operator'>-&GT;</span>literallen<span class='Delimiter'>; 
</span><a name="LN1197"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>new</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>new</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1196"><span class='Ref_To_Local'>llen</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    memcpy<span class='Parentheses'>(</span><span class='Control'>new</span><span class='Delimiter'>, </span>yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Delimiter'>, </span><a href="scan.l.html#LN1196"><span class='Ref_To_Local'>llen</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>new</span><span class='Delimiter'>[</span><a href="scan.l.html#LN1196"><span class='Ref_To_Local'>llen</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Control'>new</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static int 
</span><a name="LN1206"></a><span class='Declare_Function'>process_integer_literal</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>token</span><span class='Delimiter'>, </span><a href="../../../contrib/cube/cubeparse.y.html#LN12"><span class='Ref_to_Const'>YYSTYPE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1208"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span><a name="LN1209"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>endptr</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="scan.l.html#LN1206"><span class='Ref_to_Parameter'>token</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="scan.l.html#LN1209"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="scan.l.html#LN1209"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>|| </span>errno <span class='Operator'>== </span>ERANGE 
<span class='Directive'>#ifdef</span> HAVE_LONG_INT_64 
    <span class='Comment_Multi_Line'>/* if long &GT; 32 bits, check for overflow of int4 */ 
</span>        <span class='Operator'>|| </span><a href="scan.l.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>!= </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><a href="../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a><span class='Parentheses'>) </span><a href="scan.l.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span> 
<span class='Directive'>#endif</span> 
        <span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* integer too large, treat it as a float */ 
</span>        <a href="scan.l.html#LN1206"><span class='Ref_to_Parameter'>lval</span></a><span class='Operator'>-&GT;</span>str <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1206"><span class='Ref_to_Parameter'>token</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> FCONST<span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="scan.l.html#LN1206"><span class='Ref_to_Parameter'>lval</span></a><span class='Operator'>-&GT;</span>ival <span class='Operator'>= </span><a href="scan.l.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> ICONST<span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end process_integer_literal &raquo; </span> 
 
<span class='Keyword'>static unsigned int 
</span><a name="LN1229"></a><span class='Declare_Function'>hexval</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT;= </span><span class='String'>'0'</span> <span class='Operator'>&& </span><a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><span class='String'>'9'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>- </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT;= </span><span class='String'>'a'</span> <span class='Operator'>&& </span><a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><span class='String'>'f'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>- </span><span class='String'>'a'</span> <span class='Operator'>+ </span><span class='Number'>0xA</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT;= </span><span class='String'>'A'</span> <span class='Operator'>&& </span><a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><span class='String'>'F'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="scan.l.html#LN1229"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>- </span><span class='String'>'A'</span> <span class='Operator'>+ </span><span class='Number'>0xA</span><span class='Delimiter'>; 
</span>    <a href="../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"invalid hexadecimal digit"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;</span>                   <span class='Comment_Single_Line'>/* not reached */ 
</span><span class='Delimiter'>} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN1242"></a><span class='Declare_Function'>check_unicode_value</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>loc</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN545"><span class='Ref_to_Proto'>GetDatabaseEncoding</span></a><span class='Parentheses'>() </span><span class='Operator'>== </span><a href="../../fe_utils/mbprint.c.html#LN42"><span class='Ref_to_Const'>PG_UTF8</span></a><span class='Parentheses'>)</span> 
        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1242"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT; </span><span class='Number'>0x7F</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1242"><span class='Ref_to_Parameter'>loc</span></a> <span class='Operator'>- </span>yyextra<span class='Operator'>-&GT;</span>literalbuf <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"Unicode escape values cannot be used for code point values above 007F when the server encoding is not UTF8"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1255"></a><span class='Declare_Function'>is_utf16_surrogate_first</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1255"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0xD800</span> <span class='Operator'>&& </span><a href="scan.l.html#LN1255"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0xDBFF</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1261"></a><span class='Declare_Function'>is_utf16_surrogate_second</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1261"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0xDC00</span> <span class='Operator'>&& </span><a href="scan.l.html#LN1261"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0xDFFF</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static </span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> 
<a name="LN1267"></a><span class='Declare_Function'>surrogate_pair_to_codepoint</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>first</span><span class='Delimiter'>, </span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>second</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>((</span><a href="scan.l.html#LN1267"><span class='Ref_to_Parameter'>first</span></a> <span class='Operator'>& </span><span class='Number'>0x3FF</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>10</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Number'>0x10000</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="scan.l.html#LN1267"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>& </span><span class='Number'>0x3FF</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN1273"></a><span class='Declare_Function'>addunicode</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1275"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>buf</span><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>]; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1273"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="scan.l.html#LN1273"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT; </span><span class='Number'>0x10FFFF</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode escape value"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1273"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT; </span><span class='Number'>0x7F</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN545"><span class='Ref_to_Proto'>GetDatabaseEncoding</span></a><span class='Parentheses'>() </span><span class='Operator'>!= </span><a href="../../fe_utils/mbprint.c.html#LN42"><span class='Ref_to_Const'>PG_UTF8</span></a><span class='Parentheses'>)</span> 
            <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"Unicode escape values cannot be used for code point values above 007F when the server encoding is not UTF8"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        yyextra<span class='Operator'>-&GT;</span>saw_non_ascii <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="../utils/mb/wchar.c.html#LN473"><span class='Ref_to_Func'>unicode_to_utf8</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1273"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1275"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../replication/repl_scanner.l.html#LN37"><span class='Ref_to_Proto'>addlit</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1275"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/mb/pg_wchar.h.html#LN521"><span class='Ref_to_Proto'>pg_mblen</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1275"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="scan.l.html#LN1273"><span class='Ref_to_Parameter'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* is 'escape' acceptable as Unicode escape character (UESCAPE syntax) ? */ 
</span><span class='Keyword'>static bool 
</span><a name="LN1291"></a><span class='Declare_Function'>check_uescapechar</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>escape</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>isxdigit<span class='Parentheses'>(</span><a href="scan.l.html#LN1291"><span class='Ref_to_Parameter'>escape</span></a><span class='Parentheses'>) 
</span>        <span class='Operator'>|| </span><a href="scan.l.html#LN1291"><span class='Ref_to_Parameter'>escape</span></a> <span class='Operator'>== </span><span class='String'>'+'</span> 
        <span class='Operator'>|| </span><a href="scan.l.html#LN1291"><span class='Ref_to_Parameter'>escape</span></a> <span class='Operator'>== </span><span class='String'>'\''</span> 
        <span class='Operator'>|| </span><a href="scan.l.html#LN1291"><span class='Ref_to_Parameter'>escape</span></a> <span class='Operator'>== </span><span class='String'>'"'</span> 
        <span class='Operator'>|| </span><a href="../../include/parser/scansup.h.html#LN27"><span class='Ref_to_Proto'>scanner_isspace</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1291"><span class='Ref_to_Parameter'>escape</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* like litbufdup, but handle unicode escapes */ 
</span><span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN1307"></a><span class='Declare_Function'>litbuf_udeescape</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>escape</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1309"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>new</span><span class='Delimiter'>; 
</span><a name="LN1310"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>litbuf</span><span class='Delimiter'>, 
</span><a name="LN1311"></a>               <span class='Operator'>*</span><span class='Declare_Local'>in</span><span class='Delimiter'>, 
</span><a name="LN1312"></a>               <span class='Operator'>*</span><span class='Declare_Local'>out</span><span class='Delimiter'>; 
</span><a name="LN1313"></a>    <a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a>    <span class='Declare_Local'>pair_first</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Make literalbuf null-terminated to simplify the scanning loop */ 
</span>    <a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>= </span>yyextra<span class='Operator'>-&GT;</span>literalbuf<span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a><span class='Delimiter'>[</span>yyextra<span class='Operator'>-&GT;</span>literallen<span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * This relies on the subtle assumption that a UTF-8 expansion cannot be 
     * longer than its escaped representation. 
     */ 
</span>    <span class='Control'>new</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>literallen <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a><span class='Delimiter'>; 
</span>    <a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a> <span class='Operator'>= </span><span class='Control'>new</span><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><a href="scan.l.html#LN1307"><span class='Ref_to_Parameter'>escape</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><a href="scan.l.html#LN1307"><span class='Ref_to_Parameter'>escape</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>- </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>                    <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Operator'>*</span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a><span class='Operator'>++ = </span><a href="scan.l.html#LN1307"><span class='Ref_to_Parameter'>escape</span></a><span class='Delimiter'>; 
</span>                <a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span><a name="LN1346"></a>                <a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a>    <span class='Declare_Local'>unicode</span><span class='Delimiter'>; 
</span> 
                <a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>12</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>4</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="scan.l.html#LN1241"><span class='Ref_to_Func'>check_unicode_value</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1307"><span class='Ref_to_Parameter'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN96"><span class='Ref_to_Proto'>is_utf16_surrogate_second</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN97"><span class='Ref_to_Proto'>surrogate_pair_to_codepoint</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>- </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN96"><span class='Ref_to_Proto'>is_utf16_surrogate_second</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>))</span> 
                    <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN95"><span class='Ref_to_Proto'>is_utf16_surrogate_first</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>))</span> 
                    <a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../utils/mb/wchar.c.html#LN473"><span class='Ref_to_Func'>unicode_to_utf8</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1346"><span class='Ref_To_Local'>unicode</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a> <span class='Operator'>+= </span><a href="../../include/mb/pg_wchar.h.html#LN521"><span class='Ref_to_Proto'>pg_mblen</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>+= </span><span class='Number'>5</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if isxdigit((unsignedcha... &raquo; </span> 
            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'+'</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                     isxdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span><a name="LN1386"></a>                <a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a>    <span class='Declare_Local'>unicode</span><span class='Delimiter'>; 
</span> 
                <a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>20</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>12</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <span class='Parentheses'>(</span><a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>4</span><span class='Parentheses'>)</span> <span class='Operator'>+ 
</span>                    <a href="scan.l.html#LN1228"><span class='Ref_to_Func'>hexval</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="scan.l.html#LN1241"><span class='Ref_to_Func'>check_unicode_value</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1307"><span class='Ref_to_Parameter'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN96"><span class='Ref_to_Proto'>is_utf16_surrogate_second</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN97"><span class='Ref_to_Proto'>surrogate_pair_to_codepoint</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>- </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN96"><span class='Ref_to_Proto'>is_utf16_surrogate_second</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>))</span> 
                    <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN95"><span class='Ref_to_Proto'>is_utf16_surrogate_first</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Parentheses'>))</span> 
                    <a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a> <span class='Operator'>= </span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../utils/mb/wchar.c.html#LN473"><span class='Ref_to_Func'>unicode_to_utf8</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1386"><span class='Ref_To_Local'>unicode</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a> <span class='Operator'>+= </span><a href="../../include/mb/pg_wchar.h.html#LN521"><span class='Ref_to_Proto'>pg_mblen</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>+= </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if in[1]=='+'&&isxdigit(... &raquo; </span> 
            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>- </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode escape value"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if in[0]==escape &raquo; </span> 
        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>- </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Operator'>*</span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a><span class='Operator'>++ = *</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while *in &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* unfinished surrogate pair? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1313"><span class='Ref_To_Local'>pair_first</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="scan.l.html#LN86"><span class='Ref_to_Macro'>ADVANCE_YYLLOC</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1311"><span class='Ref_To_Local'>in</span></a> <span class='Operator'>- </span><a href="scan.l.html#LN1310"><span class='Ref_To_Local'>litbuf</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* 3 for U&" */ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN51"><span class='Ref_to_Func'>yyerror</span></a><span class='Parentheses'>(</span><span class='String'>"invalid Unicode surrogate pair"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Operator'>*</span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We could skip pg_verifymbstr if we didn't process any non-7-bit-ASCII 
     * codes; but it's probably not worth the trouble, since this isn't likely 
     * to be a performance-critical path. 
     */ 
</span>    <a href="scan.l.html#LN546"><span class='Ref_to_Proto'>pg_verifymbstr</span></a><span class='Parentheses'>(</span><span class='Control'>new</span><span class='Delimiter'>, </span><a href="scan.l.html#LN1312"><span class='Ref_To_Local'>out</span></a> <span class='Operator'>- </span><span class='Control'>new</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Control'>new</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end litbuf_udeescape &raquo; </span> 
 
<span class='Keyword'>static unsigned char 
</span><a name="LN1456"></a><span class='Declare_Function'>unescape_single_char</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>c</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1456"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <span class='String'>'b'</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>'\b'</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'f'</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>'\f'</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'n'</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>'\n'</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'r'</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>'\r'</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>'\t'</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* check for backslash followed by non-7-bit-ASCII */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1456"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span> <span class='Operator'>|| </span><a href="../../include/c.h.html#LN972"><span class='Ref_to_Macro'>IS_HIGHBIT_SET</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1456"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span> 
                yyextra<span class='Operator'>-&GT;</span>saw_non_ascii <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>return</span> <a href="scan.l.html#LN1456"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end unescape_single_char &raquo; </span> 
 
<span class='Keyword'>static void 
</span><a name="LN1480"></a><span class='Declare_Function'>check_string_escape_warning</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Declare_Parameter'>ychar</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1480"><span class='Ref_to_Parameter'>ychar</span></a> <span class='Operator'>== </span><span class='String'>'\''</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>&& </span>yyextra<span class='Operator'>-&GT;</span>escape_string_warning<span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN39"><span class='Ref_to_Const'>WARNING</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NONSTANDARD_USE_OF_ESCAPE_CHARACTER<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"nonstandard use of \\' in a string literal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Use '' to write quotes in strings, or use the escape string syntax (E'...')."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>        yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* warn only once per string */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1480"><span class='Ref_to_Parameter'>ychar</span></a> <span class='Operator'>== </span><span class='String'>'\\'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>&& </span>yyextra<span class='Operator'>-&GT;</span>escape_string_warning<span class='Parentheses'>) 
</span>            <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN39"><span class='Ref_to_Const'>WARNING</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NONSTANDARD_USE_OF_ESCAPE_CHARACTER<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"nonstandard use of \\\\ in a string literal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Use the escape string syntax for backslashes, e.g., E'\\\\'."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>        yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* warn only once per string */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="scan.l.html#LN106"><span class='Ref_to_Proto'>check_escape_warning</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1480"><span class='Ref_to_Parameter'>yyscanner</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end check_string_escape_warning &raquo; </span> 
 
<span class='Keyword'>static void 
</span><a name="LN1507"></a><span class='Declare_Function'>check_escape_warning</span><span class='Parentheses'>(</span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>&& </span>yyextra<span class='Operator'>-&GT;</span>escape_string_warning<span class='Parentheses'>) 
</span>        <a href="../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN39"><span class='Ref_to_Const'>WARNING</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NONSTANDARD_USE_OF_ESCAPE_CHARACTER<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../utils/error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"nonstandard use of escape in a string literal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>        <a href="../utils/error/elog.c.html#LN985"><span class='Ref_to_Func'>errhint</span></a><span class='Parentheses'>(</span><span class='String'>"Use the escape string syntax for escapes, e.g., E'\\r\\n'."</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="scan.l.html#LN103"><span class='Ref_to_Macro'>lexer_errposition</span></a><span class='Parentheses'>()))</span><span class='Delimiter'>; 
</span>    yyextra<span class='Operator'>-&GT;</span>warn_on_first_escape <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* warn only once per string */ 
</span><span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Interface functions to make flex use palloc() instead of malloc(). 
 * It'd be better to make these static, but flex insists otherwise. 
 */ 
</span> 
<span class='Keyword'>void </span><span class='Operator'>* 
</span><a name="LN1524"></a><span class='Declare_Function'>core_yyalloc</span><span class='Parentheses'>(</span>yy_size_t <span class='Declare_Parameter'>bytes</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1524"><span class='Ref_to_Parameter'>bytes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void </span><span class='Operator'>* 
</span><a name="LN1530"></a><span class='Declare_Function'>core_yyrealloc</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span>yy_size_t <span class='Declare_Parameter'>bytes</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1530"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN36"><span class='Ref_to_Proto'>repalloc</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1530"><span class='Ref_to_Parameter'>ptr</span></a><span class='Delimiter'>, </span><a href="scan.l.html#LN1530"><span class='Ref_to_Parameter'>bytes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1530"><span class='Ref_to_Parameter'>bytes</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN1539"></a><span class='Declare_Function'>core_yyfree</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span><a href="../../include/parser/scanner.h.html#LN115"><span class='Ref_to_Typedef'>core_yyscan_t</span></a> <span class='Declare_Parameter'>yyscanner</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="scan.l.html#LN1539"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/common/fe_memutils.h.html#LN37"><span class='Ref_to_Proto'>pfree</span></a><span class='Parentheses'>(</span><a href="scan.l.html#LN1539"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>