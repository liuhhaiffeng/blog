<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\regex\regc_color.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\regex\regc_color.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:46 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* 
 * colorings of characters 
 * This file is #included by regcomp.c. 
 * 
 * Copyright (c) 1998, 1999 Henry Spencer.  All rights reserved. 
 * 
 * Development of this software was funded, in part, by Cray Research Inc., 
 * UUNET Communications Services Inc., Sun Microsystems Inc., and Scriptics 
 * Corporation, none of whom are responsible for the results.  The author 
 * thanks all of them. 
 * 
 * Redistribution and use in source and binary forms -- with or without 
 * modification -- are permitted for any purpose, provided that 
 * redistributions in source form retain this entire copyright notice and 
 * indicate the origin and nature of any modifications. 
 * 
 * I'd appreciate being given credit for this package in the documentation 
 * of software which uses it, but that is not a requirement. 
 * 
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, 
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL 
 * HENRY SPENCER BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, 
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF 
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
 * 
 * src/backend/regex/regc_color.c 
 * 
 * 
 * Note that there are some incestuous relationships between this code and 
 * NFA arc maintenance, which perhaps ought to be cleaned up sometime. 
 */ 
</span> 
 
 
<a name="LN39"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>CISERR</span><span class='Parentheses'>()</span>    <a href="regexec.c.html#LN122"><span class='Ref_to_Macro'>VISERR</span></a><span class='Parentheses'>(</span>cm<span class='Operator'>-&GT;</span>v<span class='Parentheses'>) 
</span><a name="LN40"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>CERR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>e</span><span class='Parentheses'>)</span>     <a href="regexec.c.html#LN124"><span class='Ref_to_Macro'>VERR</span></a><span class='Parentheses'>(</span>cm<span class='Operator'>-&GT;</span>v<span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN40"><span class='Ref_to_Parameter'>e</span></a><span class='Parentheses'>))</span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * initcm - set up new colormap 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN48"></a><span class='Declare_Function'>initcm</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN49"></a>       <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN51"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span> 
    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN207"><span class='Ref_to_Member'>magic</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN208"><span class='Ref_to_Const'>CMMAGIC</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN209"><span class='Ref_to_Member'>v</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN48"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>; 
</span> 
    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN229"><span class='Ref_to_Const'>NINLINECDS</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN230"><span class='Ref_to_Member'>cdspace</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* cm-&GT;cd[WHITE] */ 
</span>    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>= </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a> <span class='Operator'>- </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN160"><span class='Ref_to_Member'>firstchr</span></a> <span class='Operator'>= </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN51"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Parentheses'>) 
</span>        <a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>((</span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a> <span class='Operator'>- </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* prevent failure during freecm */ 
</span>        <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* this memset relies on WHITE being zero: */ 
</span>    memset<span class='Parentheses'>(</span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN137"><span class='Ref_to_Const'>WHITE</span></a><span class='Delimiter'>, 
</span>           <span class='Parentheses'>(</span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a> <span class='Operator'>- </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    memset<span class='Parentheses'>(</span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN220"><span class='Ref_to_Member'>classbits</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN220"><span class='Ref_to_Member'>classbits</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>= </span><span class='Number'>4</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* arbitrary initial allocation */ 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN225"><span class='Ref_to_Member'>hiarrayrows</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* but we have only one row/col initially */ 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* initialize the "all other characters" row to WHITE */ 
</span>    <a href="regc_color.c.html#LN49"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN137"><span class='Ref_to_Const'>WHITE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end initcm &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * freecm - free dynamically-allocated things in a colormap 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN102"></a><span class='Declare_Function'>freecm</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN207"><span class='Ref_to_Member'>magic</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a> <span class='Operator'>!= </span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN230"><span class='Ref_to_Member'>cdspace</span></a><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN102"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * pg_reg_getcolor - slow case of GETCOLOR() 
 */ 
</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> 
<a name="LN119"></a><span class='Declare_Function'>pg_reg_getcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN121"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>rownum</span><span class='Delimiter'>, 
</span><a name="LN122"></a>                <span class='Declare_Local'>colnum</span><span class='Delimiter'>, 
</span><a name="LN123"></a>                <span class='Declare_Local'>low</span><span class='Delimiter'>, 
</span><a name="LN124"></a>                <span class='Declare_Local'>high</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Should not be used for chrs in the locolormap */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT; </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Find which row it's in.  The colormapranges are in order, so we can use 
     * binary search. 
     */ 
</span>    <a href="regc_color.c.html#LN121"><span class='Ref_To_Local'>rownum</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>                 <span class='Comment_Single_Line'>/* if no match, use array row zero */ 
</span>    <a href="regc_color.c.html#LN123"><span class='Ref_To_Local'>low</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN124"><span class='Ref_To_Local'>high</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN123"><span class='Ref_To_Local'>low</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN124"><span class='Ref_To_Local'>high</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN138"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>middle</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN123"><span class='Ref_To_Local'>low</span></a> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN124"><span class='Ref_To_Local'>high</span></a> <span class='Operator'>- </span><a href="regc_color.c.html#LN123"><span class='Ref_To_Local'>low</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><span class='Number'>2</span><span class='Delimiter'>; 
</span><a name="LN139"></a>        <span class='Keyword'>const </span><a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cmr</span> <span class='Operator'>= &</span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN138"><span class='Ref_To_Local'>middle</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN139"><span class='Ref_To_Local'>cmr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Parentheses'>) 
</span>            <a href="regc_color.c.html#LN124"><span class='Ref_To_Local'>high</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN138"><span class='Ref_To_Local'>middle</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN139"><span class='Ref_To_Local'>cmr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Parentheses'>) 
</span>            <a href="regc_color.c.html#LN123"><span class='Ref_To_Local'>low</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN138"><span class='Ref_To_Local'>middle</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN121"><span class='Ref_To_Local'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN139"><span class='Ref_To_Local'>cmr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* found a match */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Find which column it's in --- this is all locale-dependent. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN122"><span class='Ref_To_Local'>colnum</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN216"><span class='Ref_to_Proto'>cclass_column_index</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN121"><span class='Ref_To_Local'>rownum</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>+ </span><a href="regc_color.c.html#LN122"><span class='Ref_To_Local'>colnum</span></a><span class='Delimiter'>]; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* fast path if no relevant cclasses */ 
</span>        <span class='Control'>return</span> <a href="regc_color.c.html#LN119"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN121"><span class='Ref_To_Local'>rownum</span></a><span class='Delimiter'>]; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end pg_reg_getcolor &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * maxcolor - report largest color number in use 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> 
<a name="LN171"></a><span class='Declare_Function'>maxcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>())</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>) </span><a href="regc_color.c.html#LN171"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * newcolor - find a new color (must be assigned at once) 
 * Beware:  may relocate the colordescs. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>                    <span class='Comment_Single_Line'>/* COLORLESS for error */ 
</span><a name="LN184"></a><span class='Declare_Function'>newcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN186"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span><a name="LN187"></a>    size_t      <span class='Declare_Local'>n</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>())</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a><span class='Delimiter'>]; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN164"><span class='Ref_to_Macro'>UNUSEDCOLOR</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Delimiter'>]; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* oops, must allocate more */ 
</span><a name="LN209"></a>        <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newCd</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN135"><span class='Ref_to_Const'>MAX_COLOR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN155"><span class='Ref_to_Const'>REG_ECOLORS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* too many colors */ 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="regc_color.c.html#LN187"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a> <span class='Operator'>* </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN187"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>&GT; </span><a href="../../include/regex/regguts.h.html#LN135"><span class='Ref_to_Const'>MAX_COLOR</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <a href="regc_color.c.html#LN187"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN135"><span class='Ref_to_Const'>MAX_COLOR</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN230"><span class='Ref_to_Member'>cdspace</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN209"><span class='Ref_To_Local'>newCd</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN187"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN209"><span class='Ref_To_Local'>newCd</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                memcpy<span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN209"><span class='Ref_To_Local'>newCd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN230"><span class='Ref_to_Member'>cdspace</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a> <span class='Operator'>* 
</span>                       <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="regc_color.c.html#LN209"><span class='Ref_To_Local'>newCd</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Parentheses'>) 
</span>                <a href="../../include/regex/regcustom.h.html#LN63"><span class='Ref_to_Macro'>REALLOC</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN187"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN209"><span class='Ref_To_Local'>newCd</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN209"><span class='Ref_To_Local'>newCd</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN187"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN210"><span class='Ref_to_Member'>ncds</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Delimiter'>]; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN160"><span class='Ref_to_Member'>firstchr</span></a> <span class='Operator'>= </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* in case never set otherwise */ 
</span>    <a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>) (</span><a href="regc_color.c.html#LN186"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>- </span><a href="regc_color.c.html#LN184"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end newcolor &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * freecolor - free a color (must have no arcs or subcolor) 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN256"></a><span class='Declare_Function'>freecolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN257"></a>          <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Parameter'>co</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN259"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span> <span class='Operator'>= &</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN257"><span class='Ref_to_Parameter'>co</span></a><span class='Delimiter'>]; 
</span><a name="LN260"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>pco</span><span class='Delimiter'>, 
</span><a name="LN261"></a>                <span class='Declare_Local'>nco</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* for freelist scan */ 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN257"><span class='Ref_to_Parameter'>co</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN257"><span class='Ref_to_Parameter'>co</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN137"><span class='Ref_to_Const'>WHITE</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN162"><span class='Ref_to_Const'>FREECOL</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regc_color.c.html#LN257"><span class='Ref_to_Parameter'>co</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>&GT; </span><a href="../../include/regex/regguts.h.html#LN137"><span class='Ref_to_Const'>WHITE</span></a> <span class='Operator'>&& </span><a href="../../include/regex/regguts.h.html#LN164"><span class='Ref_to_Macro'>UNUSEDCOLOR</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
            <a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span> 
            <a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN260"><span class='Ref_To_Local'>pco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN260"><span class='Ref_To_Local'>pco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <span class='Control'>if</span> <span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* take this one out of freelist */ 
</span>                    <a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>                    <a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN260"><span class='Ref_To_Local'>pco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="regc_color.c.html#LN260"><span class='Ref_To_Local'>pco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a><span class='Delimiter'>; 
</span>                    <a href="regc_color.c.html#LN261"><span class='Ref_To_Local'>nco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN260"><span class='Ref_To_Local'>pco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if (size_t)co==cm-&GT;max &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN212"><span class='Ref_to_Member'>free</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>) (</span><a href="regc_color.c.html#LN259"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>- </span><a href="regc_color.c.html#LN256"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end freecolor &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * pseudocolor - allocate a false color, to be managed by other means 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> 
<a name="LN311"></a><span class='Declare_Function'>pseudocolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN313"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>; 
</span><a name="LN314"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span> 
    <a href="regc_color.c.html#LN313"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN96"><span class='Ref_to_Proto'>newcolor</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN311"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>())</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN311"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN313"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>]; 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* pretend it is in the upper map */ 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN160"><span class='Ref_to_Member'>firstchr</span></a> <span class='Operator'>= </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN314"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN163"><span class='Ref_to_Const'>PSEUDO</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regc_color.c.html#LN313"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * subcolor - allocate a new subcolor (if necessary) to this chr 
 * 
 * This works only for chrs that map into the low color map. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> 
<a name="LN335"></a><span class='Declare_Function'>subcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN337"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* current color of c */ 
</span><a name="LN338"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* new subcolor */ 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regc_color.c.html#LN337"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>- </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>]; 
</span>    <a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN101"><span class='Ref_to_Proto'>newsub</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN337"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>())</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN337"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a><span class='Parentheses'>)</span>              <span class='Comment_Single_Line'>/* already in an open subcolor */ 
</span>        <span class='Control'>return</span> <a href="regc_color.c.html#LN337"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* rest is redundant */ 
</span>    <a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN337"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN160"><span class='Ref_to_Member'>firstchr</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN217"><span class='Ref_to_Member'>locolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN335"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>- </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regc_color.c.html#LN338"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end subcolor &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * subcolorhi - allocate a new subcolor (if necessary) to this colormap entry 
 * 
 * This is the same processing as subcolor(), but for entries in the high 
 * colormap, which do not necessarily correspond to exactly one chr code. 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> 
<a name="LN365"></a><span class='Declare_Function'>subcolorhi</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pco</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN367"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* current color of entry */ 
</span><a name="LN368"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* new subcolor */ 
</span> 
    <a href="regc_color.c.html#LN367"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= *</span><a href="regc_color.c.html#LN365"><span class='Ref_to_Parameter'>pco</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN368"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN101"><span class='Ref_to_Proto'>newsub</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN365"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN367"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>())</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN368"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN367"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN368"><span class='Ref_To_Local'>sco</span></a><span class='Parentheses'>)</span>              <span class='Comment_Single_Line'>/* already in an open subcolor */ 
</span>        <span class='Control'>return</span> <a href="regc_color.c.html#LN367"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* rest is redundant */ 
</span>    <a href="regc_color.c.html#LN365"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN367"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN365"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN368"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="regc_color.c.html#LN365"><span class='Ref_to_Parameter'>pco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN368"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regc_color.c.html#LN368"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * newsub - allocate a new subcolor (if necessary) for a color 
 */ 
</span><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> 
<a name="LN388"></a><span class='Declare_Function'>newsub</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN389"></a>       <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Parameter'>co</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN391"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* new subcolor */ 
</span> 
    <a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN388"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN389"><span class='Ref_to_Parameter'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* color has no open subcolor */ 
</span>        <span class='Comment_Multi_Line'>/* optimization: singly-referenced color need not be subcolored */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="regc_color.c.html#LN388"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN389"><span class='Ref_to_Parameter'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>+ </span><a href="regc_color.c.html#LN388"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN389"><span class='Ref_to_Parameter'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <a href="regc_color.c.html#LN389"><span class='Ref_to_Parameter'>co</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN96"><span class='Ref_to_Proto'>newcolor</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN388"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* must create subcolor */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regc_color.c.html#LN388"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN389"><span class='Ref_to_Parameter'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN388"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* open subcolor points to self */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="regc_color.c.html#LN391"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end newsub &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * newhicolorrow - get a new row in the hicolormap, cloning it from oldrow 
 * 
 * Returns array index of new row.  Note the array might move. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN419"></a><span class='Declare_Function'>newhicolorrow</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN420"></a>              <span class='Keyword'>int </span><span class='Declare_Parameter'>oldrow</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN422"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>newrow</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN225"><span class='Ref_to_Member'>hiarrayrows</span></a><span class='Delimiter'>; 
</span><a name="LN423"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>newrowptr</span><span class='Delimiter'>; 
</span><a name="LN424"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Assign a fresh array row index, enlarging storage if needed */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN422"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>&GT;= </span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN429"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>newarray</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>&GT;= </span>INT_MAX <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>* </span><span class='Number'>2</span><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regc_color.c.html#LN429"><span class='Ref_To_Local'>newarray</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN63"><span class='Ref_to_Macro'>REALLOC</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>, 
</span>                                     <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>* 
</span>                                     <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN429"><span class='Ref_To_Local'>newarray</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN429"><span class='Ref_To_Local'>newarray</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>*= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if newrow&GT;=cm-&GT;maxarrayr... &raquo; </span> 
    <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN225"><span class='Ref_to_Member'>hiarrayrows</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Copy old row data */ 
</span>    <a href="regc_color.c.html#LN423"><span class='Ref_To_Local'>newrowptr</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN422"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>]; 
</span>    memcpy<span class='Parentheses'>(</span><a href="regc_color.c.html#LN423"><span class='Ref_To_Local'>newrowptr</span></a><span class='Delimiter'>, 
</span>           <span class='Operator'>&</span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN420"><span class='Ref_to_Parameter'>oldrow</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>], 
</span>           <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Increase color reference counts to reflect new colormap entries */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN424"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN424"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN424"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="regc_color.c.html#LN419"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN423"><span class='Ref_To_Local'>newrowptr</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN424"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="regc_color.c.html#LN422"><span class='Ref_To_Local'>newrow</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end newhicolorrow &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * newhicolorcols - create a new set of columns in the high colormap 
 * 
 * Essentially, extends the 2-D array to the right with a copy of itself. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN468"></a><span class='Declare_Function'>newhicolorcols</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN470"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>newarray</span><span class='Delimiter'>; 
</span><a name="LN471"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>r</span><span class='Delimiter'>, 
</span><a name="LN472"></a>                <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>&GT;= </span>INT_MAX <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>* </span><span class='Number'>2</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regc_color.c.html#LN470"><span class='Ref_To_Local'>newarray</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN63"><span class='Ref_to_Macro'>REALLOC</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>, 
</span>                                 <a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN224"><span class='Ref_to_Member'>maxarrayrows</span></a> <span class='Operator'>* 
</span>                                 <a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN470"><span class='Ref_To_Local'>newarray</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN470"><span class='Ref_To_Local'>newarray</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Duplicate existing columns to the right, and increase ref counts */ 
</span>    <span class='Comment_Multi_Line'>/* Must work backwards in the array because we realloc'd in place */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN471"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN225"><span class='Ref_to_Member'>hiarrayrows</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN471"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN471"><span class='Ref_To_Local'>r</span></a><span class='Operator'>--</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN493"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>oldrowptr</span> <span class='Operator'>= &</span><a href="regc_color.c.html#LN470"><span class='Ref_To_Local'>newarray</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN471"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>]; 
</span><a name="LN494"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>newrowptr</span> <span class='Operator'>= &</span><a href="regc_color.c.html#LN470"><span class='Ref_To_Local'>newarray</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN471"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>* </span><span class='Number'>2</span><span class='Delimiter'>]; 
</span><a name="LN495"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>newrowptr2</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN494"><span class='Ref_To_Local'>newrowptr</span></a> <span class='Operator'>+ </span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN472"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN472"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN472"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN499"></a>            <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN493"><span class='Ref_To_Local'>oldrowptr</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN472"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>]; 
</span> 
            <a href="regc_color.c.html#LN494"><span class='Ref_To_Local'>newrowptr</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN472"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regc_color.c.html#LN495"><span class='Ref_To_Local'>newrowptr2</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN472"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regc_color.c.html#LN499"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN499"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="regc_color.c.html#LN468"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>*= </span><span class='Number'>2</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end newhicolorcols &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * subcolorcvec - allocate new subcolors to cvec members, fill in arcs 
 * 
 * For each chr "c" represented by the cvec, do the equivalent of 
 * newarc(v-&GT;nfa, PLAIN, subcolor(v-&GT;cm, c), lp, rp); 
 * 
 * Note that in typical cases, many of the subcolors are the same. 
 * While newarc() would discard duplicate arc requests, we can save 
 * some cycles by not calling it repetitively to begin with.  This is 
 * mechanized with the "lastsubcolor" state variable. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN521"></a><span class='Declare_Function'>subcolorcvec</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN522"></a>             <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cv</span><span class='Delimiter'>, 
</span><a name="LN523"></a>             <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN524"></a>             <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN526"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cm</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN521"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>; 
</span><a name="LN527"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>lastsubcolor</span> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span><a name="LN528"></a>    <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Local'>ch</span><span class='Delimiter'>, 
</span><a name="LN529"></a>                <span class='Declare_Local'>from</span><span class='Delimiter'>, 
</span><a name="LN530"></a>                <span class='Declare_Local'>to</span><span class='Delimiter'>; 
</span><a name="LN531"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>p</span><span class='Delimiter'>; 
</span><a name="LN532"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* ordinary characters */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN259"><span class='Ref_to_Member'>chrs</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN532"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN257"><span class='Ref_to_Member'>nchrs</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN532"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN532"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN528"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>= *</span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN105"><span class='Ref_to_Proto'>subcoloronechr</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN521"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN528"><span class='Ref_To_Local'>ch</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN523"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN524"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* and the ranges */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN262"><span class='Ref_to_Member'>ranges</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN532"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN260"><span class='Ref_to_Member'>nranges</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN532"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN532"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a> <span class='Operator'>= *</span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN530"><span class='Ref_To_Local'>to</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN531"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a> <span class='Operator'>&LT;= </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* deal with simple chars one at a time */ 
</span><a name="LN550"></a>            <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Local'>lim</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN530"><span class='Ref_To_Local'>to</span></a> <span class='Operator'>&LT;= </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regc_color.c.html#LN530"><span class='Ref_To_Local'>to</span></a> <span class='Operator'>: </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a> <span class='Operator'>&LT;= </span><a href="regc_color.c.html#LN550"><span class='Ref_To_Local'>lim</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN554"></a>                <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN99"><span class='Ref_to_Proto'>subcolor</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN554"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= </span><a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN521"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN554"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN523"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN524"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN554"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* deal with any part of the range that's above MAX_SIMPLE_CHR */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN530"><span class='Ref_To_Local'>to</span></a><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN106"><span class='Ref_to_Proto'>subcoloronerange</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN521"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN530"><span class='Ref_To_Local'>to</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN523"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN524"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN530"><span class='Ref_To_Local'>to</span></a><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN105"><span class='Ref_to_Proto'>subcoloronechr</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN521"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN529"><span class='Ref_To_Local'>from</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN523"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN524"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for p=cv-&GT;ranges,i=cv-&GT;nr... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* and deal with cclass if any */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN263"><span class='Ref_to_Member'>cclasscode</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN577"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>classbit</span><span class='Delimiter'>; 
</span><a name="LN578"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>pco</span><span class='Delimiter'>; 
</span><a name="LN579"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>r</span><span class='Delimiter'>, 
</span><a name="LN580"></a>                    <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Enlarge array if we don't have a column bit assignment for cclass */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN220"><span class='Ref_to_Member'>classbits</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN263"><span class='Ref_to_Member'>cclasscode</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN220"><span class='Ref_to_Member'>classbits</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN263"><span class='Ref_to_Member'>cclasscode</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN103"><span class='Ref_to_Proto'>newhicolorcols</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* Apply subcolorhi() and make arc for each entry in relevant cols */ 
</span>        <a href="regc_color.c.html#LN577"><span class='Ref_To_Local'>classbit</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN220"><span class='Ref_to_Member'>classbits</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN522"><span class='Ref_to_Parameter'>cv</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN263"><span class='Ref_to_Member'>cclasscode</span></a><span class='Delimiter'>]; 
</span>        <a href="regc_color.c.html#LN578"><span class='Ref_To_Local'>pco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN579"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN579"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN225"><span class='Ref_to_Member'>hiarrayrows</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN579"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN580"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN580"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN580"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN580"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>& </span><a href="regc_color.c.html#LN577"><span class='Ref_To_Local'>classbit</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN598"></a>                    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN100"><span class='Ref_to_Proto'>subcolorhi</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN526"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN578"><span class='Ref_To_Local'>pco</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* add the arc if needed */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN598"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= </span><a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN521"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN598"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN523"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN524"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                        <a href="regc_color.c.html#LN527"><span class='Ref_To_Local'>lastsubcolor</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN598"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span>                <a href="regc_color.c.html#LN578"><span class='Ref_To_Local'>pco</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for r=0;r&LT;cm-&GT;hiarrayrows... &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if cv-&GT;cclasscode&GT;=0 &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end subcolorcvec &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * subcoloronechr - do subcolorcvec's work for a singleton chr 
 * 
 * We could just let subcoloronerange do this, but it's a bit more efficient 
 * if we exploit the single-chr case.  Also, callers find it useful for this 
 * to be able to handle both low and high chr codes. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN623"></a><span class='Declare_Function'>subcoloronechr</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN624"></a>               <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>ch</span><span class='Delimiter'>, 
</span><a name="LN625"></a>               <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN626"></a>               <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Delimiter'>, 
</span><a name="LN627"></a>               <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lastsubcolor</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN629"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cm</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN623"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>; 
</span><a name="LN630"></a>    <a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newranges</span><span class='Delimiter'>; 
</span><a name="LN631"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>numnewranges</span><span class='Delimiter'>; 
</span><a name="LN632"></a>    <a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Declare_Local'>oldrange</span><span class='Delimiter'>; 
</span><a name="LN633"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>oldrangen</span><span class='Delimiter'>; 
</span><a name="LN634"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>newrow</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Easy case for low chr codes */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a> <span class='Operator'>&LT;= </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN639"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN99"><span class='Ref_to_Proto'>subcolor</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN639"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= *</span><a href="regc_color.c.html#LN627"><span class='Ref_to_Parameter'>lastsubcolor</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN623"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN639"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN625"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN626"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="regc_color.c.html#LN627"><span class='Ref_to_Parameter'>lastsubcolor</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN639"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Potentially, we could need two more colormapranges than we have now, if 
     * the given chr is in the middle of some existing range. 
     */ 
</span>    <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Parentheses'>) 
</span>        <a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>((</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Ranges before target are unchanged */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>         <a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a><span class='Delimiter'>; 
</span>         <a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>&GT;= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Match target chr against current range */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>&GT;= </span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>|| </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* chr does not belong to any existing range, make a new one */ 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* row state should be cloned from the "all others" row */ 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN634"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* we have an existing singleton range matching the chr */ 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN634"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* we've now fully processed this old range */ 
</span>        <a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* chr is a subset of this existing range, must split it */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* emit portion of old range before chr */ 
</span>            <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* emit chr as singleton range, initially cloning from range */ 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN634"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= 
</span>            <a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* emit portion of old range after chr */ 
</span>            <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* must clone the row if we are making two new ranges from old */ 
</span>            <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= 
</span>                <span class='Parentheses'>(</span><a href="regc_color.c.html#LN624"><span class='Ref_to_Parameter'>ch</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Parentheses'>) </span><span class='Operator'>: 
</span>                <a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* we've now fully processed this old range */ 
</span>        <a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* Update colors in newrow and create arcs as needed */ 
</span>    <a href="regcomp.c.html#LN107"><span class='Ref_to_Proto'>subcoloronerow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN623"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN634"><span class='Ref_To_Local'>newrow</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN625"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN626"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN627"><span class='Ref_to_Parameter'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Ranges after target are unchanged */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN633"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="regc_color.c.html#LN632"><span class='Ref_To_Local'>oldrange</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Assert our original space estimate was adequate */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a> <span class='Operator'>&LT;= </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* And finally, store back the updated list of ranges */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN630"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN629"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN631"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end subcoloronechr &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * subcoloronerange - do subcolorcvec's work for a high range 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN746"></a><span class='Declare_Function'>subcoloronerange</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN747"></a>                 <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>from</span><span class='Delimiter'>, 
</span><a name="LN748"></a>                 <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>to</span><span class='Delimiter'>, 
</span><a name="LN749"></a>                 <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN750"></a>                 <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Delimiter'>, 
</span><a name="LN751"></a>                 <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lastsubcolor</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN753"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cm</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN746"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>; 
</span><a name="LN754"></a>    <a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newranges</span><span class='Delimiter'>; 
</span><a name="LN755"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>numnewranges</span><span class='Delimiter'>; 
</span><a name="LN756"></a>    <a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Declare_Local'>oldrange</span><span class='Delimiter'>; 
</span><a name="LN757"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>oldrangen</span><span class='Delimiter'>; 
</span><a name="LN758"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>newrow</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Caller should take care of non-high-range cases */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&GT; </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Potentially, if we have N non-adjacent ranges, we could need as many as 
     * 2N+1 result ranges (consider case where new range spans 'em all). 
     */ 
</span>    <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Parentheses'>) 
</span>        <a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>((</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN40"><span class='Ref_to_Macro'>CERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Ranges before target are unchanged */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>         <a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a><span class='Delimiter'>; 
</span>         <a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>&GT;= </span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Deal with ranges that (partially) overlap the target.  As we process 
     * each such range, increase "from" to remove the dealt-with characters 
     * from the target range. 
     */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>&& </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>&LT;= </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Handle portion of new range that corresponds to no old range */ 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* row state should be cloned from the "all others" row */ 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* Update colors in newrow and create arcs as needed */ 
</span>            <a href="regcomp.c.html#LN107"><span class='Ref_to_Proto'>subcoloronerow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN746"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN749"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN750"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN751"><span class='Ref_to_Parameter'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* We've now fully processed the part of new range before old */ 
</span>            <a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&LT;= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>&& </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a> <span class='Operator'>&GT;= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* old range is fully contained in new, process it in-place */ 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* some part of old range does not overlap new range */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* emit portion of old range before new range */ 
</span>                <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Delimiter'>; 
</span>                <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>; 
</span>                <a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* emit common subrange, initially cloning from old range */ 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= 
</span>                <span class='Parentheses'>(</span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a> <span class='Operator'>: </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= 
</span>                <a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* emit portion of old range after new range */ 
</span>                <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* must clone the row if we are making two new ranges from old */ 
</span>                <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= 
</span>                    <span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&GT; </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Parentheses'>) </span><span class='Operator'>: 
</span>                    <a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a><span class='Delimiter'>; 
</span>                <a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
        <span class='Comment_Multi_Line'>/* Update colors in newrow and create arcs as needed */ 
</span>        <a href="regcomp.c.html#LN107"><span class='Ref_to_Proto'>subcoloronerow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN746"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN749"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN750"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN751"><span class='Ref_to_Parameter'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* we've now fully processed this old range */ 
</span>        <a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while oldrangen&LT;cm-&GT;numcmra... &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a> <span class='Operator'>&LT;= </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Handle portion of new range that corresponds to no old range */ 
</span>        <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN747"><span class='Ref_to_Parameter'>from</span></a><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN748"><span class='Ref_to_Parameter'>to</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* row state should be cloned from the "all others" row */ 
</span>        <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN102"><span class='Ref_to_Proto'>newhicolorrow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* Update colors in newrow and create arcs as needed */ 
</span>        <a href="regcomp.c.html#LN107"><span class='Ref_to_Proto'>subcoloronerow</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN746"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN758"><span class='Ref_To_Local'>newrow</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN749"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN750"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN751"><span class='Ref_to_Parameter'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Ranges after target are unchanged */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN757"><span class='Ref_To_Local'>oldrangen</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="regc_color.c.html#LN756"><span class='Ref_To_Local'>oldrange</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Assert our original space estimate was adequate */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a> <span class='Operator'>&LT;= </span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* And finally, store back the updated list of ranges */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN754"><span class='Ref_To_Local'>newranges</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN753"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN755"><span class='Ref_To_Local'>numnewranges</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end subcoloronerange &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * subcoloronerow - do subcolorcvec's work for one new row in the high colormap 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN884"></a><span class='Declare_Function'>subcoloronerow</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN885"></a>               <span class='Keyword'>int </span><span class='Declare_Parameter'>rownum</span><span class='Delimiter'>, 
</span><a name="LN886"></a>               <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN887"></a>               <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Delimiter'>, 
</span><a name="LN888"></a>               <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>lastsubcolor</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN890"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cm</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN884"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>; 
</span><a name="LN891"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Local'>pco</span><span class='Delimiter'>; 
</span><a name="LN892"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Apply subcolorhi() and make arc for each entry in row */ 
</span>    <a href="regc_color.c.html#LN891"><span class='Ref_To_Local'>pco</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN890"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN885"><span class='Ref_to_Parameter'>rownum</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN890"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN892"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN892"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN890"><span class='Ref_To_Local'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN891"><span class='Ref_To_Local'>pco</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN892"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN898"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN100"><span class='Ref_to_Proto'>subcolorhi</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN890"><span class='Ref_To_Local'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN891"><span class='Ref_To_Local'>pco</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* make the arc if needed */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN898"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>!= *</span><a href="regc_color.c.html#LN888"><span class='Ref_to_Parameter'>lastsubcolor</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN884"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN898"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN886"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN887"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="regc_color.c.html#LN888"><span class='Ref_to_Parameter'>lastsubcolor</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN898"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end subcoloronerow &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * okcolors - promote subcolors to full colors 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN915"></a><span class='Declare_Function'>okcolors</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regc_color.c.html#LN915"><span class='Ref_to_Parameter'>nfa</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>nfa</span><span class='Delimiter'>, 
</span><a name="LN916"></a>         <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN918"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span><a name="LN919"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>end</span> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN214"><span class='Ref_to_Macro'>CDEND</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN920"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>scd</span><span class='Delimiter'>; 
</span><a name="LN921"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>a</span><span class='Delimiter'>; 
</span><a name="LN922"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>; 
</span><a name="LN923"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>sco</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN922"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN919"><span class='Ref_To_Local'>end</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN922"><span class='Ref_To_Local'>co</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN164"><span class='Ref_to_Macro'>UNUSEDCOLOR</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* has no subcolor, no further action */ 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN922"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* is subcolor, let parent deal with it */ 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* parent empty, its arcs change color to subcolor */ 
</span>            <a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN922"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN110"><span class='Ref_to_Proto'>uncolorchain</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN109"><span class='Ref_to_Proto'>colorchain</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="regcomp.c.html#LN97"><span class='Ref_to_Proto'>freecolor</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN922"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* parent's arcs must gain parallel subcolor arcs */ 
</span>            <a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN916"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>]; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN920"><span class='Ref_To_Local'>scd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN158"><span class='Ref_to_Const'>NOSUB</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN918"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN922"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN915"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN277"><span class='Ref_to_Member'>type</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN923"><span class='Ref_To_Local'>sco</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN279"><span class='Ref_to_Member'>from</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN921"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN280"><span class='Ref_to_Member'>to</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for cd=cm-&GT;cd,co=0;cd&LT;end... &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end okcolors &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * colorchain - add this arc to the color chain of its color 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN974"></a><span class='Declare_Function'>colorchain</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN975"></a>           <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN977"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span> <span class='Operator'>= &</span><a href="regc_color.c.html#LN974"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN975"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN977"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regc_color.c.html#LN977"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN287"><span class='Ref_to_Member'>colorchainRev</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN975"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN975"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN977"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN975"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN287"><span class='Ref_to_Member'>colorchainRev</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN977"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN975"><span class='Ref_to_Parameter'>a</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * uncolorchain - delete this arc from the color chain of its color 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN990"></a><span class='Declare_Function'>uncolorchain</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN991"></a>             <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN993"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span> <span class='Operator'>= &</span><a href="regc_color.c.html#LN990"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a><span class='Delimiter'>]; 
</span><a name="LN994"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>aa</span> <span class='Operator'>= </span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN287"><span class='Ref_to_Member'>colorchainRev</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN994"><span class='Ref_To_Local'>aa</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN993"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN993"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN159"><span class='Ref_to_Member'>arcs</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN994"><span class='Ref_To_Local'>aa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a> <span class='Operator'>== </span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regc_color.c.html#LN994"><span class='Ref_To_Local'>aa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN287"><span class='Ref_to_Member'>colorchainRev</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN994"><span class='Ref_To_Local'>aa</span></a><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN286"><span class='Ref_to_Member'>colorchain</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* paranoia */ 
</span>    <a href="regc_color.c.html#LN991"><span class='Ref_to_Parameter'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN287"><span class='Ref_to_Member'>colorchainRev</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end uncolorchain &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * rainbow - add arcs of all full colors (but one) between specified states 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1016"></a><span class='Declare_Function'>rainbow</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regc_color.c.html#LN1016"><span class='Ref_to_Parameter'>nfa</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>nfa</span><span class='Delimiter'>, 
</span><a name="LN1017"></a>        <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN1018"></a>        <span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Delimiter'>, 
</span><a name="LN1019"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Parameter'>but</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* COLORLESS if no exceptions */ 
</span><a name="LN1020"></a>        <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>from</span><span class='Delimiter'>, 
</span><a name="LN1021"></a>        <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>to</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1023"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span><a name="LN1024"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>end</span> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN214"><span class='Ref_to_Macro'>CDEND</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1017"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1025"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1023"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN1017"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1025"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1023"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN1024"><span class='Ref_To_Local'>end</span></a> <span class='Operator'>&& !</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1023"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1025"><span class='Ref_To_Local'>co</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN164"><span class='Ref_to_Macro'>UNUSEDCOLOR</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1023"><span class='Ref_To_Local'>cd</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="regc_color.c.html#LN1023"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN157"><span class='Ref_to_Member'>sub</span></a> <span class='Operator'>!= </span><a href="regc_color.c.html#LN1025"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>&& </span><a href="regc_color.c.html#LN1025"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>!= </span><a href="regc_color.c.html#LN1019"><span class='Ref_to_Parameter'>but</span></a> <span class='Operator'>&& 
</span>            <span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1023"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN163"><span class='Ref_to_Const'>PSEUDO</span></a><span class='Parentheses'>))</span> 
            <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1016"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1018"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1025"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1020"><span class='Ref_to_Parameter'>from</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1021"><span class='Ref_to_Parameter'>to</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * colorcomplement - add arcs of complementary colors 
 * 
 * The calling sequence ought to be reconciled with cloneouts(). 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1039"></a><span class='Declare_Function'>colorcomplement</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regc_color.c.html#LN1039"><span class='Ref_to_Parameter'>nfa</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>nfa</span><span class='Delimiter'>, 
</span><a name="LN1040"></a>                <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN1041"></a>                <span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Delimiter'>, 
</span><a name="LN1042"></a>                <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>of</span><span class='Delimiter'>,</span>      <span class='Comment_Multi_Line'>/* complements of this guy's PLAIN 
                                         * outarcs */ 
</span><a name="LN1044"></a>                <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>from</span><span class='Delimiter'>, 
</span><a name="LN1045"></a>                <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>to</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1047"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span><a name="LN1048"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>end</span> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN214"><span class='Ref_to_Macro'>CDEND</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1040"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1049"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1042"><span class='Ref_to_Parameter'>of</span></a> <span class='Operator'>!= </span><a href="regc_color.c.html#LN1044"><span class='Ref_to_Parameter'>from</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1047"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN1040"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1049"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1047"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN1048"><span class='Ref_To_Local'>end</span></a> <span class='Operator'>&& !</span><a href="regc_color.c.html#LN39"><span class='Ref_to_Macro'>CISERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1047"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1049"><span class='Ref_To_Local'>co</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN164"><span class='Ref_to_Macro'>UNUSEDCOLOR</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1047"><span class='Ref_To_Local'>cd</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1047"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN163"><span class='Ref_to_Const'>PSEUDO</span></a><span class='Parentheses'>))</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN132"><span class='Ref_to_Proto'>findarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1042"><span class='Ref_to_Parameter'>of</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1049"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
                <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1039"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1041"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1049"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1044"><span class='Ref_to_Parameter'>from</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1045"><span class='Ref_to_Parameter'>to</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Directive'>#ifdef</span> REG_DEBUG 
 
<span class='Comment_Multi_Line'>/* 
 * dumpcolors - debugging output 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1065"></a><span class='Declare_Function'>dumpcolors</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, 
</span><a name="LN1066"></a>           FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1068"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cd</span><span class='Delimiter'>; 
</span><a name="LN1069"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>end</span><span class='Delimiter'>; 
</span><a name="LN1070"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>co</span><span class='Delimiter'>; 
</span><a name="LN1071"></a>    <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span> 
    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"max %ld\n"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN211"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN1069"><span class='Ref_To_Local'>end</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN214"><span class='Ref_to_Macro'>CDEND</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>= </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN213"><span class='Ref_to_Member'>cd</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1070"><span class='Ref_To_Local'>co</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN1069"><span class='Ref_To_Local'>end</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1070"><span class='Ref_To_Local'>co</span></a><span class='Operator'>++</span><span class='Parentheses'>) </span><span class='Comment_Single_Line'>/* skip 0 */ 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN164"><span class='Ref_to_Macro'>UNUSEDCOLOR</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN161"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN163"><span class='Ref_to_Const'>PSEUDO</span></a><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"#%2ld(ps): "</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1070"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"#%2ld(%2d): "</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1070"><span class='Ref_To_Local'>co</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN155"><span class='Ref_to_Member'>nschrs</span></a> <span class='Operator'>+ </span><a href="regc_color.c.html#LN1068"><span class='Ref_To_Local'>cd</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN156"><span class='Ref_to_Member'>nuchrs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Unfortunately, it's hard to do this next bit more efficiently. 
             */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1071"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><a href="../../include/regex/regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1071"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&LT;= </span><a href="../../include/regex/regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1071"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN234"><span class='Ref_to_Macro'>GETCOLOR</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1071"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="regc_color.c.html#LN1070"><span class='Ref_To_Local'>co</span></a><span class='Parentheses'>)</span> 
                    <a href="regcomp.c.html#LN116"><span class='Ref_to_Proto'>dumpchr</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1071"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* dump the high colormap if it contains anything interesting */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN225"><span class='Ref_to_Member'>hiarrayrows</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1097"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>r</span><span class='Delimiter'>, 
</span><a name="LN1098"></a>                    <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span><a name="LN1099"></a>        <span class='Keyword'>const </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rowptr</span><span class='Delimiter'>; 
</span> 
        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"other:\t"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\t%ld"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1097"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1097"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN221"><span class='Ref_to_Member'>numcmranges</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1097"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regcomp.c.html#LN116"><span class='Ref_to_Proto'>dumpchr</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN1097"><span class='Ref_To_Local'>r</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN200"><span class='Ref_to_Member'>cmin</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>".."</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN116"><span class='Ref_to_Proto'>dumpchr</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN1097"><span class='Ref_To_Local'>r</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN201"><span class='Ref_to_Member'>cmax</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>":"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regc_color.c.html#LN1099"><span class='Ref_To_Local'>rowptr</span></a> <span class='Operator'>= &</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN223"><span class='Ref_to_Member'>hicolormap</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN222"><span class='Ref_to_Member'>cmranges</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN1097"><span class='Ref_To_Local'>r</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../../include/regex/regguts.h.html#LN202"><span class='Ref_to_Member'>rownum</span></a> <span class='Operator'>* </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>]; 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&LT; </span><a href="regc_color.c.html#LN1065"><span class='Ref_to_Parameter'>cm</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN226"><span class='Ref_to_Member'>hiarraycols</span></a><span class='Delimiter'>; </span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\t%ld"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1099"><span class='Ref_To_Local'>rowptr</span></a><span class='Delimiter'>[</span><a href="regc_color.c.html#LN1098"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1066"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if cm-&GT;hiarrayrows&GT;1||cm... &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end dumpcolors &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * dumpchr - print a chr 
 * 
 * Kind of char-centric but works well enough for debug use. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1129"></a><span class='Declare_Function'>dumpchr</span><span class='Parentheses'>(</span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>c</span><span class='Delimiter'>, 
</span><a name="LN1130"></a>        FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1129"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='String'>'\\'</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1130"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\\\\"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regc_color.c.html#LN1129"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&GT; </span><span class='String'>' '</span> <span class='Operator'>&& </span><a href="regc_color.c.html#LN1129"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>&LT;= </span><span class='String'>'~'</span><span class='Parentheses'>) 
</span>        putc<span class='Parentheses'>((</span><span class='Keyword'>char</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1129"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, </span><a href="regc_color.c.html#LN1130"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regc_color.c.html#LN1130"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\\u%04lx"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regc_color.c.html#LN1129"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* REG_DEBUG */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>