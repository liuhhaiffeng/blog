<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\regex\regcomp.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\regex\regcomp.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:46 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* 
 * re_*comp and friends - compile REs 
 * This file #includes several others (see the bottom). 
 * 
 * Copyright (c) 1998, 1999 Henry Spencer.  All rights reserved. 
 * 
 * Development of this software was funded, in part, by Cray Research Inc., 
 * UUNET Communications Services Inc., Sun Microsystems Inc., and Scriptics 
 * Corporation, none of whom are responsible for the results.  The author 
 * thanks all of them. 
 * 
 * Redistribution and use in source and binary forms -- with or without 
 * modification -- are permitted for any purpose, provided that 
 * redistributions in source form retain this entire copyright notice and 
 * indicate the origin and nature of any modifications. 
 * 
 * I'd appreciate being given credit for this package in the documentation 
 * of software which uses it, but that is not a requirement. 
 * 
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, 
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL 
 * HENRY SPENCER BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, 
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF 
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
 * 
 * src/backend/regex/regcomp.c 
 * 
 */ 
</span> 
<span class='Keyword'>#include </span><span class='String'>"regex/regguts.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * forward declarations, up here so forward datatypes etc. are defined early 
 */ 
/* === regcomp.c === */ 
</span><a name="LN40"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>moresubs</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN41"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>freev</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN42"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>makesearch</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN43"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>parse</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN44"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>parsebranch</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN45"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>parseqatom</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN46"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>nonword</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN47"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>word</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN48"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>scannum</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN49"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>repeat</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN50"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>bracket</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN51"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>cbracket</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN52"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>brackpart</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN53"></a><span class='Keyword'>static const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>scanplain</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN54"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>onechr</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN55"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>wordchrs</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN56"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>processlacon</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, 
</span><a name="LN57"></a>             <span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN58"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>subre</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN59"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freesubre</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN60"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freesrnode</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN61"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>optst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN62"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>numst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN63"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>markst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN64"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>cleanst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN65"></a><span class='Keyword'>static long </span><span class='Declare_Prototype'>nfatree</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN66"></a><span class='Keyword'>static long </span><span class='Declare_Prototype'>nfanode</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN67"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>newlacon</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN68"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freelacons</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN69"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>rfree</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>regex_t</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN70"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>rcancelrequested</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN71"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>rstacktoodeep</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
<a name="LN74"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dump</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>regex_t</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN75"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN76"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>stdump</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN77"></a><span class='Keyword'>static const char </span><span class='Operator'>*</span><span class='Declare_Prototype'>stid</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>subre</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span>size_t<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Comment_Multi_Line'>/* === regc_lex.c === */ 
</span><a name="LN80"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>lexstart</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN81"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>prefixes</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN82"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>lexnest</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN83"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>lexword</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN84"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>next</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN85"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>lexescape</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN86"></a><span class='Keyword'>static </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Declare_Prototype'>lexdigits</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN87"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>brenext</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN88"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>skip</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN89"></a><span class='Keyword'>static </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Declare_Prototype'>newline</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN90"></a><span class='Keyword'>static </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Declare_Prototype'>chrnamed</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN90"><span class='Ref_to_Parameter'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* === regc_color.c === */ 
</span><a name="LN93"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>initcm</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN94"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freecm</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN95"></a><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>maxcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN96"></a><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>newcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN97"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freecolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN98"></a><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>pseudocolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN99"></a><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>subcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN100"></a><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>subcolorhi</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>color</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN101"></a><span class='Keyword'>static </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>newsub</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN102"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>newhicolorrow</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN103"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>newhicolorcols</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN104"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>subcolorcvec</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>cvec</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN105"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>subcoloronechr</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>color</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN106"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>subcoloronerange</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>color</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN107"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>subcoloronerow</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>color</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN108"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>okcolors</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN109"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>colorchain</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN110"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>uncolorchain</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN111"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>rainbow</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN112"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>colorcomplement</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
<a name="LN115"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpcolors</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN116"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpchr</span><span class='Parentheses'>(</span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Comment_Multi_Line'>/* === regc_nfa.c === */ 
</span><a name="LN119"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN314"><span class='Ref_to_Struct'>nfa</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>newnfa</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN120"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freenfa</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN121"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>newstate</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN122"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>newfstate</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>flag</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN123"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dropstate</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN124"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freestate</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN125"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>destroystate</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN126"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>newarc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN127"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>createarc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN128"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>allocarc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN129"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freearc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN130"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>changearctarget</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN131"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>hasnonemptyout</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN132"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>findarc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN133"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>cparc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN134"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>sortins</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN135"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>sortins_cmp</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>void</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>void</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN136"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>sortouts</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN137"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>sortouts_cmp</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>void</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>void</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN138"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>moveins</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN139"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>copyins</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN140"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>mergeins</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>**</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN141"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>moveouts</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN142"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>copyouts</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN143"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>cloneouts</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN144"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>delsub</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN145"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>deltraverse</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN146"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dupnfa</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN147"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>duptraverse</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN148"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>cleartraverse</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN149"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>single_color_transition</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN150"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>specialcolors</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN151"></a><span class='Keyword'>static long </span><span class='Declare_Prototype'>optimize</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN152"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>pullback</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN153"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pull</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>**</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN154"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>pushfwd</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN155"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>push</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>**</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN157"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>INCOMPATIBLE</span>    <span class='Number'>1</span>       <span class='Comment_Single_Line'>/* destroys arc */ 
</span><a name="LN158"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SATISFIED</span>   <span class='Number'>2</span>           <span class='Comment_Single_Line'>/* constraint satisfied */ 
</span><a name="LN159"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>COMPATIBLE</span>  <span class='Number'>3</span>           <span class='Comment_Single_Line'>/* compatible but not satisfied yet */ 
</span><a name="LN160"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>combine</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN161"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>fixempties</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN162"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>emptyreachable</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, 
</span><a name="LN163"></a>               <span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>**</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN164"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>isconstraintarc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN165"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>hasconstraintout</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN166"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>fixconstraintloops</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN167"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>findconstraintloop</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN168"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>breakconstraintloop</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN169"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>clonesuccessorstates</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, 
</span><a name="LN170"></a>                     <span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, 
</span><a name="LN171"></a>                     <span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN172"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>cleanup</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN173"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>markreachable</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN174"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>markcanreach</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN175"></a><span class='Keyword'>static long </span><span class='Declare_Prototype'>analyze</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN176"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>compact</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>cnfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN177"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>carcsort</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>carc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span>size_t<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN178"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>carc_cmp</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>void</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>void</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN179"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freecnfa</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>cnfa</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN180"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpnfa</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>nfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
<a name="LN183"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpstate</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN184"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumparcs</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN185"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumparc</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>arc</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>state</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN186"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpcnfa</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>cnfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN187"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>dumpcstate</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <span class='Declare_Parameter'>cnfa</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>FILE</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Comment_Multi_Line'>/* === regc_cvec.c === */ 
</span><a name="LN190"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>newcvec</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN191"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>clearcvec</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>cvec</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN192"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>addchr</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>cvec</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN193"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>addrange</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>cvec</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN194"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>getcvec</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN195"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>freecvec</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>cvec</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* === regc_pg_locale.c === */ 
</span><a name="LN198"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isdigit</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN199"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isalpha</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN200"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isalnum</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN201"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isupper</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN202"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_islower</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN203"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isgraph</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN204"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isprint</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN205"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_ispunct</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN206"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>pg_wc_isspace</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN207"></a><span class='Keyword'>static </span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Prototype'>pg_wc_toupper</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN208"></a><span class='Keyword'>static </span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Prototype'>pg_wc_tolower</span><span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN24"><span class='Ref_to_Typedef'>pg_wchar</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* === regc_locale.c === */ 
</span><a name="LN211"></a><span class='Keyword'>static </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Declare_Prototype'>element</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN212"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>range</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN213"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>before</span><span class='Parentheses'>(</span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN214"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>eclass</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN215"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>cclass</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN216"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>cclass_column_index</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>colormap</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN217"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>allcases</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <span class='Declare_Parameter'>vars</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN218"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>cmp</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span>size_t<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN219"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>casecmp</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>chr</span> <span class='Operator'>*</span><span class='Delimiter'>, </span>size_t<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* internal variables, bundled for easy passing around */ 
</span><a name="LN223"></a><span class='Control'>struct</span> <span class='Declare_Struct'>vars</span> 
<span class='Delimiter'>{ 
</span><a name="LN225"></a>    <a href="../../include/regex/regex.h.html#LN54"><span class='Ref_to_Typedef'>regex_t</span></a>    <span class='Operator'>*</span><span class='Declare_Member'>re</span><span class='Delimiter'>; 
</span><a name="LN226"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>now</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* scan pointer into string */ 
</span><a name="LN227"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>stop</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* end of string */ 
</span><a name="LN228"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>savenow</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* saved now and stop for "subroutine call" */ 
</span><a name="LN229"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>savestop</span><span class='Delimiter'>; 
</span><a name="LN230"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>err</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* error code (0 if none) */ 
</span><a name="LN231"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>cflags</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* copy of compile flags */ 
</span><a name="LN232"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>lasttype</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* type of previous token */ 
</span><a name="LN233"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nexttype</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* type of next token */ 
</span><a name="LN234"></a>    <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Member'>nextvalue</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* value (if any) of next token */ 
</span><a name="LN235"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>lexcon</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* lexical context type (see lex.c) */ 
</span><a name="LN236"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nsubexp</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* subexpression count */ 
</span><a name="LN237"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>**</span><span class='Declare_Member'>subs</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* subRE pointer vector */ 
</span><a name="LN238"></a>    size_t      <span class='Declare_Member'>nsubs</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* length of vector */ 
</span><a name="LN239"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>sub10</span><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>];</span>    <span class='Comment_Single_Line'>/* initial vector, enough for most */ 
</span><a name="LN240"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a> <span class='Operator'>*</span><span class='Declare_Member'>nfa</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* the NFA */ 
</span><a name="LN241"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>*</span><span class='Declare_Member'>cm</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* character color map */ 
</span><a name="LN242"></a>    <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>nlcolor</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* color of newline */ 
</span><a name="LN243"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>wordchrs</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* state in nfa holding word-char outarcs */ 
</span><a name="LN244"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>tree</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* subexpression tree */ 
</span><a name="LN245"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>treechain</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* all tree nodes allocated */ 
</span><a name="LN246"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>treefree</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* any free tree nodes */ 
</span><a name="LN247"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>ntree</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* number of tree nodes, plus one */ 
</span><a name="LN248"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Member'>cv</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* interface cvec */ 
</span><a name="LN249"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Member'>cv2</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* utility cvec */ 
</span><a name="LN250"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>lacons</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* lookaround-constraint vector */ 
</span><a name="LN251"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nlacons</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* size of lacons[]; note that only slots 
                                 * numbered 1 .. nlacons-1 are used */ 
</span><a name="LN253"></a>    size_t      <span class='Declare_Member'>spaceused</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* approx. space used for compilation */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end vars &raquo; </span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* parsing macros; most know that `v' is the struct vars pointer */ 
</span><a name="LN257"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>NEXT</span><span class='Parentheses'>()</span>  <span class='Parentheses'>(</span><a href="regcomp.c.html#LN84"><span class='Ref_to_Proto'>next</span></a><span class='Parentheses'>(</span>v<span class='Parentheses'>))</span>       <span class='Comment_Single_Line'>/* advance by one token */ 
</span><a name="LN258"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>SEE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>t</span><span class='Parentheses'>)</span>  <span class='Parentheses'>(</span>v<span class='Operator'>-&GT;</span>nexttype <span class='Operator'>== </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Parameter'>t</span></a><span class='Parentheses'>))</span>    <span class='Comment_Single_Line'>/* is next token this? */ 
</span><a name="LN259"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EAT</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>t</span><span class='Parentheses'>)</span>  <span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN259"><span class='Ref_to_Parameter'>t</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN84"><span class='Ref_to_Proto'>next</span></a><span class='Parentheses'>(</span>v<span class='Parentheses'>))</span>     <span class='Comment_Single_Line'>/* if next is this, swallow it */ 
</span><a name="LN260"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>VISERR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>vv</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="regcomp.c.html#LN260"><span class='Ref_to_Parameter'>vv</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>err <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span>    <span class='Comment_Single_Line'>/* have we seen an error yet? */ 
</span><a name="LN261"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ISERR</span><span class='Parentheses'>() </span><a href="regexec.c.html#LN122"><span class='Ref_to_Macro'>VISERR</span></a><span class='Parentheses'>(</span>v<span class='Parentheses'>) 
</span><a name="LN262"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>VERR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>vv</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>e</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="regcomp.c.html#LN262"><span class='Ref_to_Parameter'>vv</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>nexttype <span class='Operator'>= </span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>                     <span class='Parentheses'>(</span><a href="regcomp.c.html#LN262"><span class='Ref_to_Parameter'>vv</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>err <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="regcomp.c.html#LN262"><span class='Ref_to_Parameter'>vv</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>err <span class='Operator'>? </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN262"><span class='Ref_to_Parameter'>vv</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>err <span class='Operator'>: </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN262"><span class='Ref_to_Parameter'>e</span></a><span class='Parentheses'>)))</span> 
<a name="LN264"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ERR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>e</span><span class='Parentheses'>)</span>  <a href="regexec.c.html#LN124"><span class='Ref_to_Macro'>VERR</span></a><span class='Parentheses'>(</span>v<span class='Delimiter'>, </span><a href="regcomp.c.html#LN264"><span class='Ref_to_Parameter'>e</span></a><span class='Parentheses'>)</span>      <span class='Comment_Single_Line'>/* record an error */ 
</span><a name="LN265"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>NOERR</span><span class='Parentheses'>() </span><span class='Delimiter'>{</span><span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> <span class='Control'>return</span><span class='Delimiter'>;}</span>  <span class='Comment_Single_Line'>/* if error seen, return */ 
</span><a name="LN266"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>NOERRN</span><span class='Parentheses'>()</span>    <span class='Delimiter'>{</span><span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>;} </span><span class='Comment_Single_Line'>/* NOERR with retval */ 
</span><a name="LN267"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>NOERRZ</span><span class='Parentheses'>()</span>    <span class='Delimiter'>{</span><span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;}</span>    <span class='Comment_Single_Line'>/* NOERR with retval */ 
</span><a name="LN268"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>INSIST</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>c</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>e</span><span class='Parentheses'>) </span><span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN268"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span> <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN268"><span class='Ref_to_Parameter'>e</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; } </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Comment_Single_Line'>/* error if c false */ 
</span><a name="LN269"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>NOTE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) (</span>v<span class='Operator'>-&GT;</span>re<span class='Operator'>-&GT;</span>re_info <span class='Operator'>|= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN269"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>))</span> <span class='Comment_Single_Line'>/* note visible condition */ 
</span><a name="LN270"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>EMPTYARC</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>y</span><span class='Parentheses'>)</span>  <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span>v<span class='Operator'>-&GT;</span>nfa<span class='Delimiter'>, </span><a href="../../interfaces/ecpg/preproc/extern.h.html#LN17"><span class='Ref_to_Const'>EMPTY</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN270"><span class='Ref_to_Parameter'>x</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN270"><span class='Ref_to_Parameter'>y</span></a><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* token type codes, some also used as NFA arc types */ 
</span><a name="LN273"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EMPTY</span>   <span class='String'>'n'</span>             <span class='Comment_Single_Line'>/* no token present */ 
</span><a name="LN274"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>EOS</span> <span class='String'>'e'</span>                 <span class='Comment_Single_Line'>/* end of string */ 
</span><a name="LN275"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PLAIN</span>   <span class='String'>'p'</span>             <span class='Comment_Single_Line'>/* ordinary character */ 
</span><a name="LN276"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DIGIT</span>   <span class='String'>'d'</span>             <span class='Comment_Single_Line'>/* digit (in bound) */ 
</span><a name="LN277"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>BACKREF</span> <span class='String'>'b'</span>             <span class='Comment_Single_Line'>/* back reference */ 
</span><a name="LN278"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>COLLEL</span>  <span class='String'>'I'</span>             <span class='Comment_Single_Line'>/* start of [. */ 
</span><a name="LN279"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>ECLASS</span>  <span class='String'>'E'</span>             <span class='Comment_Single_Line'>/* start of [= */ 
</span><a name="LN280"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>CCLASS</span>  <span class='String'>'C'</span>             <span class='Comment_Single_Line'>/* start of [: */ 
</span><a name="LN281"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>END</span> <span class='String'>'X'</span>                 <span class='Comment_Single_Line'>/* end of [. [= [: */ 
</span><a name="LN282"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>RANGE</span>   <span class='String'>'R'</span>             <span class='Comment_Single_Line'>/* - within [] which might be range delim. */ 
</span><a name="LN283"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LACON</span>   <span class='String'>'L'</span>             <span class='Comment_Single_Line'>/* lookaround constraint subRE */ 
</span><a name="LN284"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>AHEAD</span>   <span class='String'>'a'</span>             <span class='Comment_Single_Line'>/* color-lookahead arc */ 
</span><a name="LN285"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>BEHIND</span>  <span class='String'>'r'</span>             <span class='Comment_Single_Line'>/* color-lookbehind arc */ 
</span><a name="LN286"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WBDRY</span>   <span class='String'>'w'</span>             <span class='Comment_Single_Line'>/* word boundary constraint */ 
</span><a name="LN287"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>NWBDRY</span>  <span class='String'>'W'</span>             <span class='Comment_Single_Line'>/* non-word-boundary constraint */ 
</span><a name="LN288"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SBEGIN</span>  <span class='String'>'A'</span>             <span class='Comment_Single_Line'>/* beginning of string (even if not BOL) */ 
</span><a name="LN289"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SEND</span>    <span class='String'>'Z'</span>             <span class='Comment_Single_Line'>/* end of string (even if not EOL) */ 
</span><a name="LN290"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PREFER</span>  <span class='String'>'P'</span>             <span class='Comment_Single_Line'>/* length preference */ 
</span> 
<span class='Comment_Multi_Line'>/* is an arc colored, and hence on a color chain? */ 
</span><a name="LN293"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>COLORED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>a</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="regcomp.c.html#LN293"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>type <span class='Operator'>== </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a> <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN293"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>type <span class='Operator'>== </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a> <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN293"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>type <span class='Operator'>== </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* static function list */ 
</span><a name="LN298"></a><span class='Keyword'>static const </span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN444"><span class='Ref_to_Struct'>fns</span></a> <span class='Declare_Var'>functions</span> <span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <a href="regcomp.c.html#LN69"><span class='Ref_to_Proto'>rfree</span></a><span class='Delimiter'>,</span>                      <span class='Comment_Single_Line'>/* regfree insides */ 
</span>    <a href="regcomp.c.html#LN70"><span class='Ref_to_Proto'>rcancelrequested</span></a><span class='Delimiter'>,</span>           <span class='Comment_Single_Line'>/* check for cancel request */ 
</span>    <a href="regcomp.c.html#LN71"><span class='Ref_to_Proto'>rstacktoodeep</span></a>               <span class='Comment_Single_Line'>/* check for stack getting dangerously deep */ 
</span><span class='Delimiter'>}; 
</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * pg_regcomp - compile regular expression 
 * 
 * Note: on failure, no resources remain allocated, so pg_regfree() 
 * need not be applied to re. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN313"></a><span class='Declare_Function'>pg_regcomp</span><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN54"><span class='Ref_to_Typedef'>regex_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>re</span><span class='Delimiter'>, 
</span><a name="LN314"></a>           <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>string</span><span class='Delimiter'>, 
</span><a name="LN315"></a>           size_t <span class='Declare_Parameter'>len</span><span class='Delimiter'>, 
</span><a name="LN316"></a>           <span class='Keyword'>int </span><span class='Declare_Parameter'>flags</span><span class='Delimiter'>, 
</span><a name="LN317"></a>           <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>collation</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN319"></a>    <span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Declare_Local'>var</span><span class='Delimiter'>; 
</span><a name="LN320"></a>    <span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>*</span><span class='Declare_Local'>v</span> <span class='Operator'>= &</span><a href="regcomp.c.html#LN319"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>; 
</span><a name="LN321"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a> <span class='Operator'>*</span><span class='Declare_Local'>g</span><span class='Delimiter'>; 
</span><a name="LN322"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN323"></a>    size_t      <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
<a name="LN326"></a>    FILE       <span class='Operator'>*</span><span class='Declare_Local'>debug</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN116"><span class='Ref_to_Const'>REG_PROGRESS</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span>stdout <span class='Operator'>: </span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
<a name="LN328"></a>    FILE       <span class='Operator'>*</span><span class='Declare_Local'>debug</span> <span class='Operator'>= </span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
<a name="LN331"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>CNOERR</span><span class='Parentheses'>()</span>    <span class='Delimiter'>{ </span><span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> <span class='Control'>return</span> <a href="regcomp.c.html#LN41"><span class='Ref_to_Proto'>freev</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span>err<span class='Parentheses'>)</span><span class='Delimiter'>; } 
</span> 
    <span class='Comment_Multi_Line'>/* sanity checks */ 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN314"><span class='Ref_to_Parameter'>string</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../../include/regex/regex.h.html#LN151"><span class='Ref_to_Const'>REG_INVARG</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN103"><span class='Ref_to_Const'>REG_QUOTE</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>        <span class='Parentheses'>(</span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a> <span class='Operator'>& </span><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN102"><span class='Ref_to_Const'>REG_ADVANCED</span></a> <span class='Operator'>| </span><a href="../../include/regex/regex.h.html#LN107"><span class='Ref_to_Const'>REG_EXPANDED</span></a> <span class='Operator'>| </span><a href="../../include/regex/regex.h.html#LN110"><span class='Ref_to_Const'>REG_NEWLINE</span></a><span class='Parentheses'>)))</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regex.h.html#LN151"><span class='Ref_to_Const'>REG_INVARG</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN100"><span class='Ref_to_Const'>REG_EXTENDED</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN101"><span class='Ref_to_Const'>REG_ADVF</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="../../include/regex/regex.h.html#LN151"><span class='Ref_to_Const'>REG_INVARG</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Initialize locale-dependent support */ 
</span>    <a href="regc_pg_locale.c.html#LN230"><span class='Ref_to_Func'>pg_set_regex_collation</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN317"><span class='Ref_to_Parameter'>collation</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* initial setup (after which freev() is callable) */ 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN104"><span class='Ref_to_Member'>re</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN314"><span class='Ref_to_Parameter'>string</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN112"><span class='Ref_to_Member'>stop</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a> <span class='Operator'>+ </span><a href="regcomp.c.html#LN315"><span class='Ref_to_Parameter'>len</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN228"><span class='Ref_to_Member'>savenow</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN229"><span class='Ref_to_Member'>savestop</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN113"><span class='Ref_to_Member'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN236"><span class='Ref_to_Member'>nsubexp</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN239"><span class='Ref_to_Member'>sub10</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a> <span class='Operator'>= </span><span class='Number'>10</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN323"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN323"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN323"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN323"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN242"><span class='Ref_to_Member'>nlcolor</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN243"><span class='Ref_to_Member'>wordchrs</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN246"><span class='Ref_to_Member'>treefree</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN248"><span class='Ref_to_Member'>cv</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN249"><span class='Ref_to_Member'>cv2</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN253"><span class='Ref_to_Member'>spaceused</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN56"><span class='Ref_to_Member'>re_magic</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN95"><span class='Ref_to_Const'>REMAGIC</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN58"><span class='Ref_to_Member'>re_info</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* bits get set during parse */ 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN73"><span class='Ref_to_Member'>re_csize</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN75"><span class='Ref_to_Member'>re_collation</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN317"><span class='Ref_to_Parameter'>collation</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN78"><span class='Ref_to_Member'>re_fns</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN298"><span class='Ref_to_Global_Var'>functions</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* more complex setup, malloced things */ 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="regcomp.c.html#LN41"><span class='Ref_to_Proto'>freev</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN468"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regc_color.c.html#LN47"><span class='Ref_to_Func'>initcm</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN471"><span class='Ref_to_Member'>cmap</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a> <span class='Operator'>= &</span><a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN471"><span class='Ref_to_Member'>cmap</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN473"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN474"><span class='Ref_to_Member'>nlacons</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="../../include/regex/regguts.h.html#LN370"><span class='Ref_to_Macro'>ZAPCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN469"><span class='Ref_to_Member'>search</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a> <span class='Operator'>= </span><a href="regc_nfa.c.html#LN45"><span class='Ref_to_Func'>newnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN314"><span class='Ref_to_Struct'>nfa</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* set up a reasonably-sized transient cvec for getcvec usage */ 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN248"><span class='Ref_to_Member'>cv</span></a> <span class='Operator'>= </span><a href="regc_cvec.c.html#LN43"><span class='Ref_to_Func'>newcvec</span></a><span class='Parentheses'>(</span><span class='Number'>100</span><span class='Delimiter'>, </span><span class='Number'>20</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN248"><span class='Ref_to_Member'>cv</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="regcomp.c.html#LN41"><span class='Ref_to_Proto'>freev</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* parsing */ 
</span>    <a href="regc_lex.c.html#LN68"><span class='Ref_to_Func'>lexstart</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* also handles prefixes */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN108"><span class='Ref_to_Const'>REG_NLSTOP</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN109"><span class='Ref_to_Const'>REG_NLANCH</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* assign newline a unique color */ 
</span>        <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN242"><span class='Ref_to_Member'>nlcolor</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN99"><span class='Ref_to_Proto'>subcolor</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN89"><span class='Ref_to_Proto'>newline</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN108"><span class='Ref_to_Proto'>okcolors</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN43"><span class='Ref_to_Proto'>parse</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN317"><span class='Ref_to_Member'>init</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>final</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>))</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* even if error; ISERR() =&GT; SEE(EOS) */ 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* finish setup of nfa and its subre tree */ 
</span>    <a href="regcomp.c.html#LN150"><span class='Ref_to_Proto'>specialcolors</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> REG_DEBUG 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Delimiter'>, </span><span class='String'>"\n\n\n========= RAW ==========\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN180"><span class='Ref_to_Proto'>dumpnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN75"><span class='Ref_to_Proto'>dumpst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span> 
    <a href="regcomp.c.html#LN61"><span class='Ref_to_Proto'>optst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN247"><span class='Ref_to_Member'>ntree</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN62"><span class='Ref_to_Proto'>numst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN63"><span class='Ref_to_Proto'>markst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN64"><span class='Ref_to_Proto'>cleanst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> REG_DEBUG 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Delimiter'>, </span><span class='String'>"\n\n\n========= TREE FIXED ==========\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN75"><span class='Ref_to_Proto'>dumpst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span> 
 
    <span class='Comment_Multi_Line'>/* build compacted NFAs for tree and lacons */ 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN58"><span class='Ref_to_Member'>re_info</span></a> <span class='Operator'>|= </span><a href="regcomp.c.html#LN65"><span class='Ref_to_Proto'>nfatree</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN322"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN322"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN322"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN438"></a>        <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>lasub</span> <span class='Operator'>= &</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN322"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Delimiter'>, </span><span class='String'>"\n\n\n========= LA%d ==========\n"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN322"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
        <span class='Comment_Multi_Line'>/* Prepend .* to pattern if it's a lookbehind LACON */ 
</span>        <a href="regcomp.c.html#LN66"><span class='Ref_to_Proto'>nfanode</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN438"><span class='Ref_To_Local'>lasub</span></a><span class='Delimiter'>, </span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN103"><span class='Ref_to_Macro'>LATYPE_IS_AHEAD</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN438"><span class='Ref_To_Local'>lasub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN412"><span class='Ref_to_Const'>SHORTER</span></a><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN269"><span class='Ref_to_Macro'>NOTE</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN72"><span class='Ref_to_Const'>REG_USHORTEST</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* build compacted NFAs for tree, lacons, fast search */ 
</span><span class='Directive'>#ifdef</span> REG_DEBUG 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Delimiter'>, </span><span class='String'>"\n\n\n========= SEARCH ==========\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
    <span class='Comment_Multi_Line'>/* can sacrifice main NFA now, so use it as work area */ 
</span>    <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN57"><span class='Ref_to_Const'>DISCARD</span></a><span class='Parentheses'>) </span><a href="regcomp.c.html#LN151"><span class='Ref_to_Proto'>optimize</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN326"><span class='Ref_To_Local'>debug</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN42"><span class='Ref_to_Proto'>makesearch</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN176"><span class='Ref_to_Proto'>compact</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN469"><span class='Ref_to_Member'>search</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN331"><span class='Ref_to_Macro'>CNOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* looks okay, package it up */ 
</span>    <a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN57"><span class='Ref_to_Member'>re_nsub</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN236"><span class='Ref_to_Member'>nsubexp</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN104"><span class='Ref_to_Member'>re</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>               <span class='Comment_Single_Line'>/* freev no longer frees re */ 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN463"><span class='Ref_to_Member'>magic</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN464"><span class='Ref_to_Const'>GUTSMAGIC</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN465"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN466"><span class='Ref_to_Member'>info</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN58"><span class='Ref_to_Member'>re_info</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN467"><span class='Ref_to_Member'>nsub</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN57"><span class='Ref_to_Member'>re_nsub</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN468"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN470"><span class='Ref_to_Member'>ntree</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN247"><span class='Ref_to_Member'>ntree</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span>compare <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN105"><span class='Ref_to_Const'>REG_ICASE</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN219"><span class='Ref_to_Proto'>casecmp</span></a> <span class='Operator'>: </span><a href="regcomp.c.html#LN218"><span class='Ref_to_Proto'>cmp</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN473"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN321"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN474"><span class='Ref_to_Member'>nlacons</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN316"><span class='Ref_to_Parameter'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN114"><span class='Ref_to_Const'>REG_DUMP</span></a><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN74"><span class='Ref_to_Proto'>dump</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN313"><span class='Ref_to_Parameter'>re</span></a><span class='Delimiter'>, </span>stdout<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN113"><span class='Ref_to_Member'>err</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regcomp.c.html#LN41"><span class='Ref_to_Proto'>freev</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN320"><span class='Ref_To_Local'>v</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_regcomp &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * moresubs - enlarge subRE vector 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN493"></a><span class='Declare_Function'>moresubs</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN494"></a>         <span class='Keyword'>int </span><span class='Declare_Parameter'>wanted</span><span class='Parentheses'>)</span>            <span class='Comment_Single_Line'>/* want enough room for this one */ 
</span><span class='Delimiter'>{ 
</span><a name="LN496"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>**</span><span class='Declare_Local'>p</span><span class='Delimiter'>; 
</span><a name="LN497"></a>    size_t      <span class='Declare_Local'>n</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN494"><span class='Ref_to_Parameter'>wanted</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span>size_t<span class='Parentheses'>) </span><a href="regcomp.c.html#LN494"><span class='Ref_to_Parameter'>wanted</span></a> <span class='Operator'>&GT;= </span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN497"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span>size_t<span class='Parentheses'>) </span><a href="regcomp.c.html#LN494"><span class='Ref_to_Parameter'>wanted</span></a> <span class='Operator'>*</span><span class='Number'>3</span> <span class='Operator'>/ </span><span class='Number'>2</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN239"><span class='Ref_to_Member'>sub10</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>**</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN497"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            memcpy<span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>**</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN63"><span class='Ref_to_Macro'>REALLOC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN497"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= &</span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Delimiter'>]; </span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN497"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Operator'>*</span><a href="regcomp.c.html#LN496"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN497"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regcomp.c.html#LN494"><span class='Ref_to_Parameter'>wanted</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN493"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end moresubs &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * freev - free vars struct's substructures where necessary 
 * 
 * Optionally does error-number setting, and always returns error code 
 * (if any), to make error-handling code terser. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN530"></a><span class='Declare_Function'>freev</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN531"></a>      <span class='Keyword'>int </span><span class='Declare_Parameter'>err</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN104"><span class='Ref_to_Member'>re</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN69"><span class='Ref_to_Proto'>rfree</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN104"><span class='Ref_to_Member'>re</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN239"><span class='Ref_to_Member'>sub10</span></a><span class='Parentheses'>) 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regc_nfa.c.html#LN96"><span class='Ref_to_Func'>freenfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN244"><span class='Ref_to_Member'>tree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN64"><span class='Ref_to_Proto'>cleanst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN248"><span class='Ref_to_Member'>cv</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regc_cvec.c.html#LN133"><span class='Ref_to_Func'>freecvec</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN248"><span class='Ref_to_Member'>cv</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN249"><span class='Ref_to_Member'>cv2</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regc_cvec.c.html#LN133"><span class='Ref_to_Func'>freecvec</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN249"><span class='Ref_to_Member'>cv2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN68"><span class='Ref_to_Proto'>freelacons</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN531"><span class='Ref_to_Parameter'>err</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>                   <span class='Comment_Single_Line'>/* nop if err==0 */ 
</span> 
    <span class='Control'>return</span> <a href="regcomp.c.html#LN530"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN113"><span class='Ref_to_Member'>err</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end freev &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * makesearch - turn an NFA into a search NFA (implicit prepend of .*?) 
 * NFA must have been optimize()d already. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN559"></a><span class='Declare_Function'>makesearch</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN560"></a>           <span class='Control'>struct</span> <a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>nfa</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN562"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>a</span><span class='Delimiter'>; 
</span><a name="LN563"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Local'>b</span><span class='Delimiter'>; 
</span><a name="LN564"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>pre</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN316"><span class='Ref_to_Member'>pre</span></a><span class='Delimiter'>; 
</span><a name="LN565"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s</span><span class='Delimiter'>; 
</span><a name="LN566"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s2</span><span class='Delimiter'>; 
</span><a name="LN567"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>slist</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* no loops are needed if it's anchored */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN305"><span class='Ref_to_Member'>outs</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN281"><span class='Ref_to_Member'>outchain</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN277"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN325"><span class='Ref_to_Member'>bos</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN278"><span class='Ref_to_Member'>co</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN325"><span class='Ref_to_Member'>bos</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* add implicit .* in front */ 
</span>        <a href="regcomp.c.html#LN111"><span class='Ref_to_Proto'>rainbow</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN559"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* and ^* and \A* too -- not always necessary, but harmless */ 
</span>        <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN325"><span class='Ref_to_Member'>bos</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>], </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN325"><span class='Ref_to_Member'>bos</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Now here's the subtle part.  Because many REs have no lookback 
     * constraints, often knowing when you were in the pre state tells you 
     * little; it's the next state(s) that are informative.  But some of them 
     * may have other inarcs, i.e. it may be possible to make actual progress 
     * and then return to one of them.  We must de-optimize such cases, 
     * splitting each such state into progress and no-progress states. 
     */ 
</span> 
    <span class='Comment_Multi_Line'>/* first, make a list of the states reachable from pre and elsewhere */ 
</span>    <a href="regcomp.c.html#LN567"><span class='Ref_To_Local'>slist</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN305"><span class='Ref_to_Member'>outs</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN281"><span class='Ref_to_Member'>outchain</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN280"><span class='Ref_to_Member'>to</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN303"><span class='Ref_to_Member'>ins</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN284"><span class='Ref_to_Member'>inchain</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN279"><span class='Ref_to_Member'>from</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * We want to mark states as being in the list already by having non 
         * NULL tmp fields, but we can't just store the old slist value in tmp 
         * because that doesn't work for the first such state.  Instead, the 
         * first list entry gets its own address in tmp. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN307"><span class='Ref_to_Member'>tmp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN307"><span class='Ref_to_Member'>tmp</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN567"><span class='Ref_To_Local'>slist</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN567"><span class='Ref_To_Local'>slist</span></a> <span class='Operator'>: </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN567"><span class='Ref_To_Local'>slist</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for a=pre-&GT;outs;a!=NULL;a... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* do the splits */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN567"><span class='Ref_To_Local'>slist</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN566"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN566"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN142"><span class='Ref_to_Proto'>copyouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN566"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN303"><span class='Ref_to_Member'>ins</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regcomp.c.html#LN563"><span class='Ref_To_Local'>b</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN284"><span class='Ref_to_Member'>inchain</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN279"><span class='Ref_to_Member'>from</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN564"><span class='Ref_To_Local'>pre</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN133"><span class='Ref_to_Proto'>cparc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN279"><span class='Ref_to_Member'>from</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN566"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN129"><span class='Ref_to_Proto'>freearc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN560"><span class='Ref_to_Parameter'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN562"><span class='Ref_To_Local'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <a href="regcomp.c.html#LN566"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN307"><span class='Ref_to_Member'>tmp</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN307"><span class='Ref_to_Member'>tmp</span></a> <span class='Operator'>: </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN565"><span class='Ref_To_Local'>s</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN307"><span class='Ref_to_Member'>tmp</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* clean up while we're at it */ 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end makesearch &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * parse - parse an RE 
 * 
 * This is actually just the top level, which parses a bunch of branches 
 * tied together with '|'.  They appear in the tree as the left children 
 * of a chain of '|' subres. 
 */ 
</span><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* 
</span><a name="LN648"></a><span class='Declare_Function'>parse</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN649"></a>      <span class='Keyword'>int </span><span class='Declare_Parameter'>stopper</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* EOS or ')' */ 
</span><a name="LN650"></a>      <span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Delimiter'>,</span>                 <span class='Comment_Single_Line'>/* LACON (lookaround subRE) or PLAIN */ 
</span><a name="LN651"></a>      <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>init</span><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* initial state */ 
</span><a name="LN652"></a>      <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>final</span><span class='Parentheses'>)</span>     <span class='Comment_Single_Line'>/* final state */ 
</span><span class='Delimiter'>{ 
</span><a name="LN654"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>left</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* scaffolding for branch */ 
</span><a name="LN655"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>right</span><span class='Delimiter'>; 
</span><a name="LN656"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>branches</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* top level */ 
</span><a name="LN657"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>branch</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* current branch */ 
</span><a name="LN658"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>t</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* temporary */ 
</span><a name="LN659"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>firstbranch</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* is this the first branch? */ 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN649"><span class='Ref_to_Parameter'>stopper</span></a> <span class='Operator'>== </span><span class='String'>')'</span> <span class='Operator'>|| </span><a href="regcomp.c.html#LN649"><span class='Ref_to_Parameter'>stopper</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'|'</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN651"><span class='Ref_to_Parameter'>init</span></a><span class='Delimiter'>, </span><span class='Keyword'>final</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN659"><span class='Ref_To_Local'>firstbranch</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>do</span> 
    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* a branch */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN659"><span class='Ref_To_Local'>firstbranch</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* need a place to hang it */ 
</span>            <a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'|'</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN651"><span class='Ref_to_Parameter'>init</span></a><span class='Delimiter'>, </span><span class='Keyword'>final</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regcomp.c.html#LN659"><span class='Ref_To_Local'>firstbranch</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN654"><span class='Ref_To_Local'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN655"><span class='Ref_To_Local'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN651"><span class='Ref_to_Parameter'>init</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN654"><span class='Ref_To_Local'>left</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN655"><span class='Ref_To_Local'>right</span></a><span class='Delimiter'>, </span><span class='Keyword'>final</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN44"><span class='Ref_to_Proto'>parsebranch</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN649"><span class='Ref_to_Parameter'>stopper</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN650"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN654"><span class='Ref_To_Local'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN655"><span class='Ref_To_Local'>right</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/regex/regguts.h.html#LN420"><span class='Ref_to_Macro'>UP</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>| </span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& ~</span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span>    <span class='Comment_Single_Line'>/* new flags */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Parentheses'>) 
</span>                <a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end do &raquo; </span> <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN259"><span class='Ref_to_Macro'>EAT</span></a><span class='Parentheses'>(</span><span class='String'>'|'</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN649"><span class='Ref_to_Parameter'>stopper</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN649"><span class='Ref_to_Parameter'>stopper</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN649"><span class='Ref_to_Parameter'>stopper</span></a> <span class='Operator'>== </span><span class='String'>')'</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN144"><span class='Ref_to_Const'>REG_EPAREN</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* optimize out simple cases */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* only one branch */ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN657"><span class='Ref_To_Local'>branch</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN658"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN421"><span class='Ref_to_Macro'>MESSY</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* no interesting innards */ 
</span>        <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN648"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN409"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>= </span><span class='String'>'='</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="regcomp.c.html#LN656"><span class='Ref_To_Local'>branches</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end parse &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * parsebranch - parse one branch of an RE 
 * 
 * This mostly manages concatenation, working closely with parseqatom(). 
 * Concatenated things are bundled up as much as possible, with separate 
 * ',' nodes introduced only when necessary due to substructure. 
 */ 
</span><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* 
</span><a name="LN727"></a><span class='Declare_Function'>parsebranch</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN728"></a>            <span class='Keyword'>int </span><span class='Declare_Parameter'>stopper</span><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* EOS or ')' */ 
</span><a name="LN729"></a>            <span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Delimiter'>,</span>           <span class='Comment_Single_Line'>/* LACON (lookaround subRE) or PLAIN */ 
</span><a name="LN730"></a>            <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>left</span><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* leftmost state */ 
</span><a name="LN731"></a>            <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>right</span><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* rightmost state */ 
</span><a name="LN732"></a>            <span class='Keyword'>int </span><span class='Declare_Parameter'>partial</span><span class='Parentheses'>)</span>        <span class='Comment_Single_Line'>/* is this only part of a branch? */ 
</span><span class='Delimiter'>{ 
</span><a name="LN734"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>lp</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* left end of current construct */ 
</span><a name="LN735"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>seencontent</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* is there anything in this branch yet? */ 
</span><a name="LN736"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>t</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN734"><span class='Ref_To_Local'>lp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN730"><span class='Ref_to_Parameter'>left</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN735"><span class='Ref_To_Local'>seencontent</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN736"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN727"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN730"><span class='Ref_to_Parameter'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN731"><span class='Ref_to_Parameter'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* op '=' is tentative */ 
</span>    <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>'|'</span><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN728"><span class='Ref_to_Parameter'>stopper</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN735"><span class='Ref_To_Local'>seencontent</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{</span>                       <span class='Comment_Single_Line'>/* implicit concat operator */ 
</span>            <a href="regcomp.c.html#LN734"><span class='Ref_To_Local'>lp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN727"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN138"><span class='Ref_to_Proto'>moveins</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN727"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN731"><span class='Ref_to_Parameter'>right</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN734"><span class='Ref_To_Local'>lp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regcomp.c.html#LN735"><span class='Ref_To_Local'>seencontent</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* NB, recursion in parseqatom() may swallow rest of branch */ 
</span>        <a href="regcomp.c.html#LN45"><span class='Ref_to_Proto'>parseqatom</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN727"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN728"><span class='Ref_to_Parameter'>stopper</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN729"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN734"><span class='Ref_To_Local'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN731"><span class='Ref_to_Parameter'>right</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN736"><span class='Ref_To_Local'>t</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN266"><span class='Ref_to_Macro'>NOERRN</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN735"><span class='Ref_To_Local'>seencontent</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* empty branch */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN732"><span class='Ref_to_Parameter'>partial</span></a><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN269"><span class='Ref_to_Macro'>NOTE</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN67"><span class='Ref_to_Const'>REG_UUNSPEC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN734"><span class='Ref_To_Local'>lp</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN730"><span class='Ref_to_Parameter'>left</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN730"><span class='Ref_to_Parameter'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN731"><span class='Ref_to_Parameter'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="regcomp.c.html#LN736"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end parsebranch &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * parseqatom - parse one quantified atom or constraint of an RE 
 * 
 * The bookkeeping near the end cooperates very closely with parsebranch(); 
 * in particular, it contains a recursion that can involve parsing the rest 
 * of the branch, making this function's name somewhat inaccurate. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN776"></a><span class='Declare_Function'>parseqatom</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN777"></a>           <span class='Keyword'>int </span><span class='Declare_Parameter'>stopper</span><span class='Delimiter'>,</span>         <span class='Comment_Single_Line'>/* EOS or ')' */ 
</span><a name="LN778"></a>           <span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* LACON (lookaround subRE) or PLAIN */ 
</span><a name="LN779"></a>           <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>,</span>   <span class='Comment_Single_Line'>/* left state to hang it on */ 
</span><a name="LN780"></a>           <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Delimiter'>,</span>   <span class='Comment_Single_Line'>/* right state to hang it on */ 
</span><a name="LN781"></a>           <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>top</span><span class='Parentheses'>)</span>  <span class='Comment_Single_Line'>/* subtree top */ 
</span><span class='Delimiter'>{ 
</span><a name="LN783"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* temporaries for new states */ 
</span><a name="LN784"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s2</span><span class='Delimiter'>; 
</span> 
<a name="LN786"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>ARCV</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>val</span><span class='Parentheses'>)</span>    <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span>nfa<span class='Delimiter'>, </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>, </span><a href="../../../contrib/seg/segparse.y.html#LN121"><span class='Ref_to_Global_Var'>val</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>) 
</span><a name="LN787"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>m</span><span class='Delimiter'>, 
</span><a name="LN788"></a>                <span class='Declare_Local'>n</span><span class='Delimiter'>; 
</span><a name="LN789"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>atom</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* atom's subtree */ 
</span><a name="LN790"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>t</span><span class='Delimiter'>; 
</span><a name="LN791"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>cap</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* capturing parens? */ 
</span><a name="LN792"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>latype</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* lookaround constraint type */ 
</span><a name="LN793"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>subno</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* capturing-parens or backref number */ 
</span><a name="LN794"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>atomtype</span><span class='Delimiter'>; 
</span><a name="LN795"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>qprefer</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* quantifier short/long preference */ 
</span><a name="LN796"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>f</span><span class='Delimiter'>; 
</span><a name="LN797"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>**</span><span class='Declare_Local'>atomp</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* where the pointer to atom is */ 
</span> 
    <span class='Comment_Multi_Line'>/* initial bookkeeping */ 
</span>    <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN304"><span class='Ref_to_Member'>nouts</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* must string new code */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN302"><span class='Ref_to_Member'>nins</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* between lp and rp */ 
</span>    <a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>                  <span class='Comment_Single_Line'>/* just to shut lint up */ 
</span> 
    <span class='Comment_Multi_Line'>/* an atom or constraint... */ 
</span>    <a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN233"><span class='Ref_to_Member'>nexttype</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* first, constraints, which end by returning */ 
</span>        <span class='Control'>case</span> <span class='String'>'^'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><span class='String'>'^'</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN109"><span class='Ref_to_Const'>REG_NLANCH</span></a><span class='Parentheses'>) 
</span>                <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN242"><span class='Ref_to_Member'>nlcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'$'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><span class='String'>'$'</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN109"><span class='Ref_to_Const'>REG_NLANCH</span></a><span class='Parentheses'>) 
</span>                <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN242"><span class='Ref_to_Member'>nlcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN288"><span class='Ref_to_Const'>SBEGIN</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><span class='String'>'^'</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* BOL */ 
</span>            <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><span class='String'>'^'</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* or BOS */ 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN289"><span class='Ref_to_Const'>SEND</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><span class='String'>'$'</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* EOL */ 
</span>            <a href="regcomp.c.html#LN786"><span class='Ref_to_Macro'>ARCV</span></a><span class='Parentheses'>(</span><span class='String'>'$'</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* or EOS */ 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'&LT;'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN55"><span class='Ref_to_Proto'>wordchrs</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* does NEXT() */ 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN46"><span class='Ref_to_Proto'>nonword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN47"><span class='Ref_to_Proto'>word</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'&GT;'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN55"><span class='Ref_to_Proto'>wordchrs</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* does NEXT() */ 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN47"><span class='Ref_to_Proto'>word</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN46"><span class='Ref_to_Proto'>nonword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN286"><span class='Ref_to_Const'>WBDRY</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN55"><span class='Ref_to_Proto'>wordchrs</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* does NEXT() */ 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN46"><span class='Ref_to_Proto'>nonword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN47"><span class='Ref_to_Proto'>word</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN47"><span class='Ref_to_Proto'>word</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN46"><span class='Ref_to_Proto'>nonword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN287"><span class='Ref_to_Const'>NWBDRY</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN55"><span class='Ref_to_Proto'>wordchrs</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* does NEXT() */ 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN47"><span class='Ref_to_Proto'>word</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN47"><span class='Ref_to_Proto'>word</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN46"><span class='Ref_to_Proto'>nonword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN46"><span class='Ref_to_Proto'>nonword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN283"><span class='Ref_to_Const'>LACON</span></a><span class='Operator'>:</span>             <span class='Comment_Single_Line'>/* lookaround constraint */ 
</span>            <a href="regcomp.c.html#LN792"><span class='Ref_To_Local'>latype</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN43"><span class='Ref_to_Proto'>parse</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>')'</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN283"><span class='Ref_to_Const'>LACON</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* internal structure irrelevant */ 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>')'</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN56"><span class='Ref_to_Proto'>processlacon</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN792"><span class='Ref_To_Local'>latype</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* then errors, to get them out of the way */ 
</span>        <span class='Control'>case</span> <span class='String'>'*'</span><span class='Operator'>: 
</span>        <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>        <span class='Control'>case</span> <span class='String'>'?'</span><span class='Operator'>: 
</span>        <span class='Control'>case</span> <span class='String'>'{'</span><span class='Operator'>: 
</span>            <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN149"><span class='Ref_to_Const'>REG_BADRPT</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN150"><span class='Ref_to_Const'>REG_ASSERT</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* then plain characters, and minor variants on that theme */ 
</span>        <span class='Control'>case</span> <span class='String'>')'</span><span class='Operator'>:</span>               <span class='Comment_Single_Line'>/* unbalanced paren */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN102"><span class='Ref_to_Const'>REG_ADVANCED</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="../../include/regex/regex.h.html#LN100"><span class='Ref_to_Const'>REG_EXTENDED</span></a><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN144"><span class='Ref_to_Const'>REG_EPAREN</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* legal in EREs due to specification botch */ 
</span>            <a href="regcomp.c.html#LN269"><span class='Ref_to_Macro'>NOTE</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN64"><span class='Ref_to_Const'>REG_UPBOTCH</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* fallthrough into case PLAIN */ 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN54"><span class='Ref_to_Proto'>onechr</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN108"><span class='Ref_to_Proto'>okcolors</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'['</span><span class='Operator'>: 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                <a href="regcomp.c.html#LN50"><span class='Ref_to_Proto'>bracket</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="regcomp.c.html#LN51"><span class='Ref_to_Proto'>cbracket</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>']'</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'.'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN111"><span class='Ref_to_Proto'>rainbow</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN108"><span class='Ref_to_Const'>REG_NLSTOP</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN242"><span class='Ref_to_Member'>nlcolor</span></a> <span class='Operator'>: </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>, 
</span>                    <a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* and finally the ugly stuff */ 
</span>        <span class='Control'>case</span> <span class='String'>'('</span><span class='Operator'>:</span>               <span class='Comment_Single_Line'>/* value flags as capturing or non */ 
</span>            <a href="regcomp.c.html#LN791"><span class='Ref_To_Local'>cap</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN778"><span class='Ref_to_Parameter'>type</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN283"><span class='Ref_to_Const'>LACON</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='Number'>0</span> <span class='Operator'>: </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN791"><span class='Ref_To_Local'>cap</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN236"><span class='Ref_to_Member'>nsubexp</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN236"><span class='Ref_to_Member'>nsubexp</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a> <span class='Operator'>&GT;= </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Parentheses'>)</span> 
                    <a href="regcomp.c.html#LN40"><span class='Ref_to_Proto'>moresubs</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Debug'>assert</span><span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* something that's not '(' */ 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* need new endpoints because tree will contain pointers */ 
</span>            <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN43"><span class='Ref_to_Proto'>parse</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>')'</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN778"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>')'</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN791"><span class='Ref_To_Local'>cap</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'('</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>| </span><a href="../../include/regex/regguts.h.html#LN414"><span class='Ref_to_Const'>CAP</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* postpone everything else pending possible {0} */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN277"><span class='Ref_to_Const'>BACKREF</span></a><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* the Feature From The Black Lagoon */ 
</span>            <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN778"><span class='Ref_to_Parameter'>type</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN283"><span class='Ref_to_Const'>LACON</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN142"><span class='Ref_to_Const'>REG_ESUBREG</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN238"><span class='Ref_to_Member'>nsubs</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN142"><span class='Ref_to_Const'>REG_ESUBREG</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN142"><span class='Ref_to_Const'>REG_ESUBREG</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'b'</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN415"><span class='Ref_to_Const'>BACKR</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* temporarily, so there's something */ 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch atomtype &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* ...and an atom may be followed by a quantifier */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN233"><span class='Ref_to_Member'>nexttype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <span class='String'>'*'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a> <span class='Operator'>: </span><a href="../../include/regex/regguts.h.html#LN412"><span class='Ref_to_Const'>SHORTER</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a> <span class='Operator'>: </span><a href="../../include/regex/regguts.h.html#LN412"><span class='Ref_to_Const'>SHORTER</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'?'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a> <span class='Operator'>: </span><a href="../../include/regex/regguts.h.html#LN412"><span class='Ref_to_Const'>SHORTER</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'{'</span><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN48"><span class='Ref_to_Proto'>scannum</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN259"><span class='Ref_to_Macro'>EAT</span></a><span class='Parentheses'>(</span><span class='String'>','</span><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN276"><span class='Ref_to_Const'>DIGIT</span></a><span class='Parentheses'>))</span> 
                    <a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN48"><span class='Ref_to_Proto'>scannum</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>&GT; </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN146"><span class='Ref_to_Const'>REG_BADBR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Comment_Multi_Line'>/* {m,n} exercises preference, even if it's {m,m} */ 
</span>                <a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a> <span class='Operator'>: </span><a href="../../include/regex/regguts.h.html#LN412"><span class='Ref_to_Const'>SHORTER</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* {m} passes operand's preference through */ 
</span>                <a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>'}'</span><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{</span>                   <span class='Comment_Single_Line'>/* catches errors too */ 
</span>                <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN146"><span class='Ref_to_Const'>REG_BADBR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>:</span>                <span class='Comment_Single_Line'>/* no quantifier */ 
</span>            <a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch v-&GT;nexttype &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* annoying special case:  {0} or {0,0} cancels everything */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>== </span><span class='String'>'('</span><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN144"><span class='Ref_to_Proto'>delsub</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* if not a messy case, avoid hard part */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN421"><span class='Ref_to_Macro'>MESSY</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>| </span><a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a> <span class='Operator'>| </span><span class='Parentheses'>((</span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>: </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>!= </span><span class='String'>'('</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN277"><span class='Ref_to_Const'>BACKREF</span></a> <span class='Operator'>&& !</span><a href="../../include/regex/regguts.h.html#LN421"><span class='Ref_to_Macro'>MESSY</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN420"><span class='Ref_to_Macro'>UP</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a><span class='Parentheses'>)))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>== </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>))</span> 
            <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * hard part:  something messy 
     * 
     * That is, capturing parens, back reference, short/long clash, or an atom 
     * with substructure containing one of those. 
     */ 
</span> 
    <span class='Comment_Multi_Line'>/* now we'll need a subre for the contents even if they're boring */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/*---------- 
     * Prepare a general-purpose state skeleton. 
     * 
     * In the no-backrefs case, we want this: 
     * 
     * [lp] ---&GT; [s] ---prefix---&GT; [begin] ---atom---&GT; [end] ---rest---&GT; [rp] 
     * 
     * where prefix is some repetitions of atom.  In the general case we need 
     * 
     * [lp] ---&GT; [s] ---iterator---&GT; [s2] ---rest---&GT; [rp] 
     * 
     * where the iterator wraps around [begin] ---atom---&GT; [end] 
     * 
     * We make the s state here for both cases; s2 is made below if needed 
     *---------- 
     */ 
</span>    <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* first, new endpoints for the atom */ 
</span>    <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN138"><span class='Ref_to_Proto'>moveins</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* set up starting state */ 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* break remaining subRE into x{...} and what follows */ 
</span>    <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'.'</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN424"><span class='Ref_to_Macro'>COMBINE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN797"><span class='Ref_To_Local'>atomp</span></a> <span class='Operator'>= &</span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* here we should recurse... but we must postpone that to the end */ 
</span> 
    <span class='Comment_Multi_Line'>/* split top into prefix and remaining */ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN409"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>== </span><span class='String'>'='</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN779"><span class='Ref_to_Parameter'>lp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN409"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>= </span><span class='String'>'.'</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* if it's a backref, now is the time to replicate the subNFA */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN277"><span class='Ref_to_Const'>BACKREF</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN304"><span class='Ref_to_Member'>nouts</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* just the EMPTY */ 
</span>        <a href="regcomp.c.html#LN144"><span class='Ref_to_Proto'>delsub</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * And here's why the recursion got postponed: it must wait until the 
         * skeleton is filled in, because it may hit a backref that wants to 
         * copy the filled-in skeleton. 
         */ 
</span>        <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN237"><span class='Ref_to_Member'>subs</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN793"><span class='Ref_To_Local'>subno</span></a><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>, 
</span>               <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * It's quantifier time.  If the atom is just a backref, we'll let it deal 
     * with quantifiers internally. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN794"><span class='Ref_To_Local'>atomtype</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN277"><span class='Ref_to_Const'>BACKREF</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* special case:  backrefs have internal quantifiers */ 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* empty prefix */ 
</span>        <span class='Comment_Multi_Line'>/* just stuff everything into atom */ 
</span>        <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN428"><span class='Ref_to_Member'>min</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN429"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/regex/regguts.h.html#LN424"><span class='Ref_to_Macro'>COMBINE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* rest of branch can be strung starting from atom-&GT;end */ 
</span>        <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>== </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* no/vacuous quantifier:  done */ 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* empty prefix */ 
</span>        <span class='Comment_Multi_Line'>/* rest of branch can be strung starting from atom-&GT;end */ 
</span>        <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN415"><span class='Ref_to_Const'>BACKR</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * If there's no backrefs involved, we can turn x{m,n} into 
         * x{m-1,n-1}x, with capturing parens in only the second x.  This is 
         * valid because we only care about capturing matches from the final 
         * iteration of the quantifier.  It's a win because we can implement 
         * the backref-free left side as a plain DFA node, since we don't 
         * really care where its submatches are. 
         */ 
</span>        <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a> <span class='Operator'>&& </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>: </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN424"><span class='Ref_to_Macro'>COMBINE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'.'</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* prefix and atom */ 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Delimiter'>, </span><a href="../../include/regex/regguts.h.html#LN422"><span class='Ref_to_Macro'>PREF</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="regcomp.c.html#LN797"><span class='Ref_To_Local'>atomp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* rest of branch can be strung starting from atom-&GT;end */ 
</span>        <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if m&GT;0&&!(atom-&GT;flags&BA... &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* general case: need an iteration node */ 
</span>        <a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN424"><span class='Ref_to_Macro'>COMBINE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN795"><span class='Ref_To_Local'>qprefer</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'*'</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN796"><span class='Ref_To_Local'>f</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN783"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN428"><span class='Ref_to_Member'>min</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN787"><span class='Ref_To_Local'>m</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN429"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN788"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN789"><span class='Ref_To_Local'>atom</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="regcomp.c.html#LN797"><span class='Ref_To_Local'>atomp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* rest of branch is to be strung from iteration's end state */ 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* and finally, look after that postponed recursion */ 
</span>    <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>'|'</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN777"><span class='Ref_to_Parameter'>stopper</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>)))</span> 
        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN44"><span class='Ref_to_Proto'>parsebranch</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN777"><span class='Ref_to_Parameter'>stopper</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN778"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN776"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN784"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN780"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>'|'</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN777"><span class='Ref_to_Parameter'>stopper</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/regex/regguts.h.html#LN424"><span class='Ref_to_Macro'>COMBINE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/regex/regguts.h.html#LN424"><span class='Ref_to_Macro'>COMBINE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN781"><span class='Ref_to_Parameter'>top</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN790"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end parseqatom &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * nonword - generate arcs for non-word-character ahead or behind 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1224"></a><span class='Declare_Function'>nonword</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1225"></a>        <span class='Keyword'>int </span><span class='Declare_Parameter'>dir</span><span class='Delimiter'>,</span>                <span class='Comment_Single_Line'>/* AHEAD or BEHIND */ 
</span><a name="LN1226"></a>        <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1227"></a>        <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1229"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>anchor</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1225"><span class='Ref_to_Parameter'>dir</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='String'>'$'</span> <span class='Operator'>: </span><span class='String'>'^'</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1225"><span class='Ref_to_Parameter'>dir</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a> <span class='Operator'>|| </span><a href="regcomp.c.html#LN1225"><span class='Ref_to_Parameter'>dir</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1224"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1229"><span class='Ref_To_Local'>anchor</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1226"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1227"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1224"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1229"><span class='Ref_To_Local'>anchor</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1226"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1227"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN112"><span class='Ref_to_Proto'>colorcomplement</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1224"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1224"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1225"><span class='Ref_to_Parameter'>dir</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1224"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN243"><span class='Ref_to_Member'>wordchrs</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1226"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1227"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* (no need for special attention to \n) */ 
</span><span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * word - generate arcs for word character ahead or behind 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1242"></a><span class='Declare_Function'>word</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1243"></a>     <span class='Keyword'>int </span><span class='Declare_Parameter'>dir</span><span class='Delimiter'>,</span>                   <span class='Comment_Single_Line'>/* AHEAD or BEHIND */ 
</span><a name="LN1244"></a>     <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1245"></a>     <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1243"><span class='Ref_to_Parameter'>dir</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a> <span class='Operator'>|| </span><a href="regcomp.c.html#LN1243"><span class='Ref_to_Parameter'>dir</span></a> <span class='Operator'>== </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN143"><span class='Ref_to_Proto'>cloneouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1242"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1242"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN243"><span class='Ref_to_Member'>wordchrs</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1244"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1245"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1243"><span class='Ref_to_Parameter'>dir</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* (no need for special attention to \n) */ 
</span><span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * scannum - scan a number 
 */ 
</span><span class='Keyword'>static int</span>                      <span class='Comment_Single_Line'>/* value, &LT;= DUPMAX */ 
</span><a name="LN1256"></a><span class='Declare_Function'>scannum</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1258"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>n</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN276"><span class='Ref_to_Const'>DIGIT</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN1258"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>&LT; </span><a href="../../include/regex/regguts.h.html#LN92"><span class='Ref_to_Const'>DUPMAX</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1258"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1258"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>* </span><span class='Number'>10</span> <span class='Operator'>+ </span><a href="regcomp.c.html#LN1256"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN276"><span class='Ref_to_Const'>DIGIT</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN1258"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>&GT; </span><a href="../../include/regex/regguts.h.html#LN92"><span class='Ref_to_Const'>DUPMAX</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN146"><span class='Ref_to_Const'>REG_BADBR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="regcomp.c.html#LN1258"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * repeat - replicate subNFA for quantifiers 
 * 
 * The sub-NFA strung from lp to rp is modified to represent m to n 
 * repetitions of its initial contents. 
 * 
 * The duplication sequences used here are chosen carefully so that any 
 * pointers starting out pointing into the subexpression end up pointing into 
 * the last occurrence.  (Note that it may not be strung between the same 
 * left and right end states, however!)  This used to be important for the 
 * subRE tree, although the important bits are now handled by the in-line 
 * code in parse(), and when this is called, it doesn't matter any more. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1287"></a><span class='Declare_Function'>repeat</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1288"></a>       <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1289"></a>       <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Delimiter'>, 
</span><a name="LN1290"></a>       <span class='Keyword'>int </span><span class='Declare_Parameter'>m</span><span class='Delimiter'>, 
</span><a name="LN1291"></a>       <span class='Keyword'>int </span><span class='Declare_Parameter'>n</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1293"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>SOME</span>    <span class='Number'>2</span> 
<a name="LN1294"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>INF</span>     <span class='Number'>3</span> 
<a name="LN1295"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>PAIR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>y</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a><span class='Parentheses'>)</span><span class='Operator'>*</span><span class='Number'>4</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span>y<span class='Parentheses'>))</span> 
<a name="LN1296"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>REDUCE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <span class='Parentheses'>((</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a><span class='Parentheses'>)</span> <span class='Operator'>? </span><a href="regcomp.c.html#LN1294"><span class='Ref_to_Const'>INF</span></a> <span class='Operator'>: </span><span class='Parentheses'>(((</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>? </span><a href="regcomp.c.html#LN1293"><span class='Ref_to_Const'>SOME</span></a> <span class='Operator'>: </span><span class='Parentheses'>(</span><a href="../../bin/psql/psqlscanslash.l.html#LN108"><span class='Ref_to_Global_Var'>x</span></a><span class='Parentheses'>))</span> <span class='Parentheses'>)</span> 
<a name="LN1297"></a>    <span class='Keyword'>const int</span>   <span class='Declare_Local'>rm</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN1296"><span class='Ref_to_Macro'>REDUCE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1290"><span class='Ref_to_Parameter'>m</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1298"></a>    <span class='Keyword'>const int</span>   <span class='Declare_Local'>rn</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN1296"><span class='Ref_to_Macro'>REDUCE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1291"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1299"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s</span><span class='Delimiter'>; 
</span><a name="LN1300"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s2</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1297"><span class='Ref_To_Local'>rm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1298"><span class='Ref_To_Local'>rn</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Operator'>:</span>        <span class='Comment_Single_Line'>/* empty string */ 
</span>            <a href="regcomp.c.html#LN144"><span class='Ref_to_Proto'>delsub</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Operator'>:</span>        <span class='Comment_Single_Line'>/* do as x| */ 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1293"><span class='Ref_to_Const'>SOME</span></a><span class='Parentheses'>)</span><span class='Operator'>:</span>     <span class='Comment_Single_Line'>/* do as x{1,n}| */ 
</span>            <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1291"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1294"><span class='Ref_to_Const'>INF</span></a><span class='Parentheses'>)</span><span class='Operator'>:</span>      <span class='Comment_Single_Line'>/* loop x around */ 
</span>            <a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN138"><span class='Ref_to_Proto'>moveins</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Operator'>:</span>        <span class='Comment_Single_Line'>/* no action required */ 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1293"><span class='Ref_to_Const'>SOME</span></a><span class='Parentheses'>)</span><span class='Operator'>:</span>     <span class='Comment_Single_Line'>/* do as x{0,n-1}x = (x{1,n-1}|)x */ 
</span>            <a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1291"><span class='Ref_to_Parameter'>n</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1294"><span class='Ref_to_Const'>INF</span></a><span class='Parentheses'>)</span><span class='Operator'>:</span>      <span class='Comment_Single_Line'>/* add loopback arc */ 
</span>            <a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1300"><span class='Ref_To_Local'>s2</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN138"><span class='Ref_to_Proto'>moveins</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1300"><span class='Ref_To_Local'>s2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1300"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN270"><span class='Ref_to_Macro'>EMPTYARC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1300"><span class='Ref_To_Local'>s2</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1293"><span class='Ref_to_Const'>SOME</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1293"><span class='Ref_to_Const'>SOME</span></a><span class='Parentheses'>)</span><span class='Operator'>:</span>  <span class='Comment_Single_Line'>/* do as x{m-1,n-1}x */ 
</span>            <a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1290"><span class='Ref_to_Parameter'>m</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1291"><span class='Ref_to_Parameter'>n</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN1295"><span class='Ref_to_Macro'>PAIR</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1293"><span class='Ref_to_Const'>SOME</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1294"><span class='Ref_to_Const'>INF</span></a><span class='Parentheses'>)</span><span class='Operator'>:</span>   <span class='Comment_Single_Line'>/* do as x{m-1,}x */ 
</span>            <a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN141"><span class='Ref_to_Proto'>moveouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1289"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN49"><span class='Ref_to_Proto'>repeat</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1287"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1288"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1299"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1290"><span class='Ref_to_Parameter'>m</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1291"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN150"><span class='Ref_to_Const'>REG_ASSERT</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch PAIR(rm,rn) &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end repeat &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * bracket - handle non-complemented bracket expression 
 * Also called from cbracket for complemented bracket expressions. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1373"></a><span class='Declare_Function'>bracket</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1374"></a>        <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1375"></a>        <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>'['</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>']'</span><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN274"><span class='Ref_to_Const'>EOS</span></a><span class='Parentheses'>))</span> 
        <a href="regcomp.c.html#LN52"><span class='Ref_to_Proto'>brackpart</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1373"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1374"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1375"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>']'</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN108"><span class='Ref_to_Proto'>okcolors</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1373"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1373"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * cbracket - handle complemented bracket expression 
 * We do it by calling bracket() with dummy endpoints, and then complementing 
 * the result.  The alternative would be to invoke rainbow(), and then delete 
 * arcs as the b.e. is seen... but that gets messy. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1392"></a><span class='Declare_Function'>cbracket</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1393"></a>         <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1394"></a>         <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1396"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>left</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1397"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>right</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN50"><span class='Ref_to_Proto'>bracket</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1396"><span class='Ref_To_Local'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1397"><span class='Ref_To_Local'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN108"><span class='Ref_to_Const'>REG_NLSTOP</span></a><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN242"><span class='Ref_to_Member'>nlcolor</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1396"><span class='Ref_To_Local'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1397"><span class='Ref_To_Local'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1393"><span class='Ref_to_Parameter'>lp</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN304"><span class='Ref_to_Member'>nouts</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* all outarcs will be ours */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Easy part of complementing, and all there is to do since the MCCE code 
     * was removed. 
     */ 
</span>    <a href="regcomp.c.html#LN112"><span class='Ref_to_Proto'>colorcomplement</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1396"><span class='Ref_To_Local'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1393"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1394"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN123"><span class='Ref_to_Proto'>dropstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1396"><span class='Ref_To_Local'>left</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1397"><span class='Ref_To_Local'>right</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN302"><span class='Ref_to_Member'>nins</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN124"><span class='Ref_to_Proto'>freestate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1392"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1397"><span class='Ref_To_Local'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end cbracket &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * brackpart - handle one item (or range) within a bracket expression 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1422"></a><span class='Declare_Function'>brackpart</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1423"></a>          <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1424"></a>          <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1426"></a>    <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Local'>startc</span><span class='Delimiter'>; 
</span><a name="LN1427"></a>    <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Local'>endc</span><span class='Delimiter'>; 
</span><a name="LN1428"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN255"><span class='Ref_to_Struct'>cvec</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cv</span><span class='Delimiter'>; 
</span><a name="LN1429"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>startp</span><span class='Delimiter'>; 
</span><a name="LN1430"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>endp</span><span class='Delimiter'>; 
</span><a name="LN1431"></a>    <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Local'>c</span><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* parse something, get rid of special cases, take shortcuts */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN233"><span class='Ref_to_Member'>nexttype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN282"><span class='Ref_to_Const'>RANGE</span></a><span class='Operator'>:</span>             <span class='Comment_Single_Line'>/* a-b-c or other botch */ 
</span>            <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN147"><span class='Ref_to_Const'>REG_ERANGE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* shortcut for ordinary chr (not range) */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN282"><span class='Ref_to_Const'>RANGE</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN54"><span class='Ref_to_Proto'>onechr</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>], </span><a href="regcomp.c.html#LN1423"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1424"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN211"><span class='Ref_to_Proto'>element</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN278"><span class='Ref_to_Const'>COLLEL</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN53"><span class='Ref_to_Proto'>scanplain</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN139"><span class='Ref_to_Const'>REG_ECOLLATE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN211"><span class='Ref_to_Proto'>element</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN279"><span class='Ref_to_Const'>ECLASS</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN53"><span class='Ref_to_Proto'>scanplain</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN139"><span class='Ref_to_Const'>REG_ECOLLATE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN211"><span class='Ref_to_Proto'>element</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1428"><span class='Ref_To_Local'>cv</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN214"><span class='Ref_to_Proto'>eclass</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN105"><span class='Ref_to_Const'>REG_ICASE</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN104"><span class='Ref_to_Proto'>subcolorcvec</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1428"><span class='Ref_To_Local'>cv</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1423"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1424"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="regcomp.c.html#LN280"><span class='Ref_to_Const'>CCLASS</span></a><span class='Operator'>: 
</span>            <a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN53"><span class='Ref_to_Proto'>scanplain</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN140"><span class='Ref_to_Const'>REG_ECTYPE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN1428"><span class='Ref_To_Local'>cv</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN215"><span class='Ref_to_Proto'>cclass</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN105"><span class='Ref_to_Const'>REG_ICASE</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="regcomp.c.html#LN104"><span class='Ref_to_Proto'>subcolorcvec</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1428"><span class='Ref_To_Local'>cv</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1423"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1424"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN150"><span class='Ref_to_Const'>REG_ASSERT</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch v-&GT;nexttype &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN282"><span class='Ref_to_Const'>RANGE</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN233"><span class='Ref_to_Member'>nexttype</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="regcomp.c.html#LN282"><span class='Ref_to_Const'>RANGE</span></a><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN234"><span class='Ref_to_Member'>nextvalue</span></a><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN1427"><span class='Ref_To_Local'>endc</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN211"><span class='Ref_to_Proto'>element</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1431"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="regcomp.c.html#LN278"><span class='Ref_to_Const'>COLLEL</span></a><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN53"><span class='Ref_to_Proto'>scanplain</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN268"><span class='Ref_to_Macro'>INSIST</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Delimiter'>, </span><a href="../../include/regex/regex.h.html#LN139"><span class='Ref_to_Const'>REG_ECOLLATE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN1427"><span class='Ref_To_Local'>endc</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN211"><span class='Ref_to_Proto'>element</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1429"><span class='Ref_To_Local'>startp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1430"><span class='Ref_To_Local'>endp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN147"><span class='Ref_to_Const'>REG_ERANGE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch v-&GT;nexttype &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if SEE(RANGE) &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="regcomp.c.html#LN1427"><span class='Ref_To_Local'>endc</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Ranges are unportable.  Actually, standard C does guarantee that digits 
     * are contiguous, but making that an exception is just too complicated. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a> <span class='Operator'>!= </span><a href="regcomp.c.html#LN1427"><span class='Ref_To_Local'>endc</span></a><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN269"><span class='Ref_to_Macro'>NOTE</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN68"><span class='Ref_to_Const'>REG_UUNPORT</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1428"><span class='Ref_To_Local'>cv</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN212"><span class='Ref_to_Proto'>range</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1426"><span class='Ref_To_Local'>startc</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1427"><span class='Ref_To_Local'>endc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN105"><span class='Ref_to_Const'>REG_ICASE</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN104"><span class='Ref_to_Proto'>subcolorcvec</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1422"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1428"><span class='Ref_To_Local'>cv</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1423"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1424"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end brackpart &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * scanplain - scan PLAIN contents of [. etc. 
 * 
 * Certain bits of trickery in lex.c know that this code does not try 
 * to look past the final bracket of the [. etc. 
 */ 
</span><span class='Keyword'>static const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Operator'>*</span>              <span class='Comment_Single_Line'>/* just after end of sequence */ 
</span><a name="LN1535"></a><span class='Declare_Function'>scanplain</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1537"></a>    <span class='Keyword'>const </span><a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>endp</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN278"><span class='Ref_to_Const'>COLLEL</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN279"><span class='Ref_to_Const'>ECLASS</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN280"><span class='Ref_to_Const'>CCLASS</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN1537"><span class='Ref_To_Local'>endp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1535"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN275"><span class='Ref_to_Const'>PLAIN</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1537"><span class='Ref_To_Local'>endp</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1535"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN226"><span class='Ref_to_Member'>now</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><a href="../../../contrib/ltree/ltree.h.html#LN121"><span class='Ref_to_Const'>END</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="regcomp.c.html#LN1537"><span class='Ref_To_Local'>endp</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end scanplain &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * onechr - fill in arcs for a plain character, and possible case complements 
 * This is mostly a shortcut for efficient handling of the common case. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1560"></a><span class='Declare_Function'>onechr</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1561"></a>       <a href="../../include/regex/regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>c</span><span class='Delimiter'>, 
</span><a name="LN1562"></a>       <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, 
</span><a name="LN1563"></a>       <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1560"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN231"><span class='Ref_to_Member'>cflags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regex.h.html#LN105"><span class='Ref_to_Const'>REG_ICASE</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1567"></a>        <a href="../../include/regex/regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Local'>lastsubcolor</span> <span class='Operator'>= </span><a href="../../include/regex/regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a><span class='Delimiter'>; 
</span> 
        <a href="regcomp.c.html#LN105"><span class='Ref_to_Proto'>subcoloronechr</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1560"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1561"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1562"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1563"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regcomp.c.html#LN1567"><span class='Ref_To_Local'>lastsubcolor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* rats, need general case anyway... */ 
</span>    <a href="regcomp.c.html#LN104"><span class='Ref_to_Proto'>subcolorcvec</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1560"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN217"><span class='Ref_to_Proto'>allcases</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1560"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1561"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1562"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1563"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * wordchrs - set up word-chr list for word-boundary stuff, if needed 
 * 
 * The list is kept as a bunch of arcs between two dummy states; it's 
 * disposed of by the unreachable-states sweep in NFA optimization. 
 * Does NEXT().  Must not be called from any unusual lexical context. 
 * This should be reconciled with the \w etc. handling in lex.c, and 
 * should be cleaned up to reduce dependencies on input scanning. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1587"></a><span class='Declare_Function'>wordchrs</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1589"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>left</span><span class='Delimiter'>; 
</span><a name="LN1590"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>right</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN243"><span class='Ref_to_Member'>wordchrs</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>;</span>                 <span class='Comment_Single_Line'>/* for consistency */ 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="regcomp.c.html#LN1589"><span class='Ref_To_Local'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1590"><span class='Ref_To_Local'>right</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN121"><span class='Ref_to_Proto'>newstate</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* fine point:  implemented with [::], and lexer will set REG_ULOCALE */ 
</span>    <a href="regcomp.c.html#LN83"><span class='Ref_to_Proto'>lexword</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN228"><span class='Ref_to_Member'>savenow</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>'['</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN50"><span class='Ref_to_Proto'>bracket</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1589"><span class='Ref_To_Local'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1590"><span class='Ref_To_Local'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>((</span><a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN228"><span class='Ref_to_Member'>savenow</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN258"><span class='Ref_to_Macro'>SEE</span></a><span class='Parentheses'>(</span><span class='String'>']'</span><span class='Parentheses'>))</span> <span class='Operator'>|| </span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN257"><span class='Ref_to_Macro'>NEXT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regexec.c.html#LN126"><span class='Ref_to_Macro'>NOERR</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1587"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN243"><span class='Ref_to_Member'>wordchrs</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1589"><span class='Ref_To_Local'>left</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end wordchrs &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * processlacon - generate the NFA representation of a LACON 
 * 
 * In the general case this is just newlacon() + newarc(), but some cases 
 * can be optimized. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1619"></a><span class='Declare_Function'>processlacon</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1620"></a>             <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>begin</span><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* start of parsed LACON sub-re */ 
</span><a name="LN1621"></a>             <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>end</span><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* end of parsed LACON sub-re */ 
</span><a name="LN1622"></a>             <span class='Keyword'>int </span><span class='Declare_Parameter'>latype</span><span class='Delimiter'>, 
</span><a name="LN1623"></a>             <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>lp</span><span class='Delimiter'>, </span><span class='Comment_Single_Line'>/* left state to hang it on */ 
</span><a name="LN1624"></a>             <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>rp</span><span class='Parentheses'>) </span><span class='Comment_Single_Line'>/* right state to hang it on */ 
</span><span class='Delimiter'>{ 
</span><a name="LN1626"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Local'>s1</span><span class='Delimiter'>; 
</span><a name="LN1627"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>n</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check for lookaround RE consisting of a single plain color arc (or set 
     * of arcs); this would typically be a simple chr or a bracket expression. 
     */ 
</span>    <a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN149"><span class='Ref_to_Proto'>single_color_transition</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1620"><span class='Ref_to_Parameter'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1621"><span class='Ref_to_Parameter'>end</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1622"><span class='Ref_to_Parameter'>latype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN98"><span class='Ref_to_Const'>LATYPE_AHEAD_POS</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* If lookahead RE is just colorset C, convert to AHEAD(C) */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN143"><span class='Ref_to_Proto'>cloneouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN99"><span class='Ref_to_Const'>LATYPE_AHEAD_NEG</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* If lookahead RE is just colorset C, convert to AHEAD(^C)|$ */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN112"><span class='Ref_to_Proto'>colorcomplement</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN284"><span class='Ref_to_Const'>AHEAD</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><span class='String'>'$'</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><span class='String'>'$'</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN100"><span class='Ref_to_Const'>LATYPE_BEHIND_POS</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* If lookbehind RE is just colorset C, convert to BEHIND(C) */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN143"><span class='Ref_to_Proto'>cloneouts</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN101"><span class='Ref_to_Const'>LATYPE_BEHIND_NEG</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* If lookbehind RE is just colorset C, convert to BEHIND(^C)|^ */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="regcomp.c.html#LN112"><span class='Ref_to_Proto'>colorcomplement</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN285"><span class='Ref_to_Const'>BEHIND</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1626"><span class='Ref_To_Local'>s1</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><span class='String'>'^'</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><span class='String'>'^'</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN90"><span class='Ref_to_Const'>NOTREACHED</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch latype &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* General case: we need a LACON subre and arc */ 
</span>    <a href="regcomp.c.html#LN1627"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN67"><span class='Ref_to_Proto'>newlacon</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1620"><span class='Ref_to_Parameter'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1621"><span class='Ref_to_Parameter'>end</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1622"><span class='Ref_to_Parameter'>latype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN126"><span class='Ref_to_Proto'>newarc</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1619"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN283"><span class='Ref_to_Const'>LACON</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1627"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1623"><span class='Ref_to_Parameter'>lp</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1624"><span class='Ref_to_Parameter'>rp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end processlacon &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * subre - allocate a subre 
 */ 
</span><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* 
</span><a name="LN1685"></a><span class='Declare_Function'>subre</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1686"></a>      <span class='Keyword'>int </span><span class='Declare_Parameter'>op</span><span class='Delimiter'>, 
</span><a name="LN1687"></a>      <span class='Keyword'>int </span><span class='Declare_Parameter'>flags</span><span class='Delimiter'>, 
</span><a name="LN1688"></a>      <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>begin</span><span class='Delimiter'>, 
</span><a name="LN1689"></a>      <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>end</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1691"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>ret</span> <span class='Operator'>= </span><a href="regcomp.c.html#LN1685"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN246"><span class='Ref_to_Member'>treefree</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Checking for stack overflow here is sufficient to protect parse() and 
     * its recursive subroutines. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN454"><span class='Ref_to_Macro'>STACK_TOO_DEEP</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1685"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regexec.c.html#LN104"><span class='Ref_to_Member'>re</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN154"><span class='Ref_to_Const'>REG_ETOOBIG</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN1685"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN246"><span class='Ref_to_Member'>treefree</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN435"><span class='Ref_to_Member'>chain</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1685"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN1685"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span>strchr<span class='Parentheses'>(</span><span class='String'>"=b|.*("</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1686"><span class='Ref_to_Parameter'>op</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN409"><span class='Ref_to_Member'>op</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1686"><span class='Ref_to_Parameter'>op</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1687"><span class='Ref_to_Parameter'>flags</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN425"><span class='Ref_to_Member'>id</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* will be assigned later */ 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN428"><span class='Ref_to_Member'>min</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN429"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1688"><span class='Ref_to_Parameter'>begin</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1689"><span class='Ref_to_Parameter'>end</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/regex/regguts.h.html#LN370"><span class='Ref_to_Macro'>ZAPCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="regcomp.c.html#LN1691"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end subre &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * freesubre - free a subRE subtree 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1737"></a><span class='Declare_Function'>freesubre</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* might be NULL */ 
</span><a name="LN1738"></a>          <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>sr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1738"><span class='Ref_to_Parameter'>sr</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1738"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1737"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1738"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1738"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1737"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1738"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN60"><span class='Ref_to_Proto'>freesrnode</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1737"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1738"><span class='Ref_to_Parameter'>sr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * freesrnode - free one node in a subRE subtree 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1755"></a><span class='Declare_Function'>freesrnode</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>,</span>     <span class='Comment_Single_Line'>/* might be NULL */ 
</span><a name="LN1756"></a>           <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>sr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN371"><span class='Ref_to_Macro'>NULLCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>))</span> 
        <a href="regcomp.c.html#LN179"><span class='Ref_to_Proto'>freecnfa</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1755"><span class='Ref_to_Parameter'>v</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN1755"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* we're still parsing, maybe we can reuse the subre */ 
</span>        <a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1755"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN246"><span class='Ref_to_Member'>treefree</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN1755"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN246"><span class='Ref_to_Member'>treefree</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1756"><span class='Ref_to_Parameter'>sr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end freesrnode &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * optst - optimize a subRE subtree 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1779"></a><span class='Declare_Function'>optst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1780"></a>      <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * DGP (2007-11-13): I assume it was the programmer's intent to eventually 
     * come back and add code to optimize subRE trees, but the routine coded 
     * just spends effort traversing the tree and doing nothing. We can do 
     * nothing with less effort. 
     */ 
</span>    <span class='Control'>return</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * numst - number tree nodes (assigning "id" indexes) 
 */ 
</span><span class='Keyword'>static int</span>                      <span class='Comment_Single_Line'>/* next number */ 
</span><a name="LN1795"></a><span class='Declare_Function'>numst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, 
</span><a name="LN1796"></a>      <span class='Keyword'>int </span><span class='Declare_Parameter'>start</span><span class='Parentheses'>)</span>                <span class='Comment_Single_Line'>/* starting point for subtree numbers */ 
</span><span class='Delimiter'>{ 
</span><a name="LN1798"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1795"><span class='Ref_to_Parameter'>t</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1796"><span class='Ref_to_Parameter'>start</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1795"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN425"><span class='Ref_to_Member'>id</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1795"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN62"><span class='Ref_to_Proto'>numst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1795"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1795"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN62"><span class='Ref_to_Proto'>numst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1795"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regcomp.c.html#LN1798"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * markst - mark tree nodes as INUSE 
 * 
 * Note: this is a great deal more subtle than it looks.  During initial 
 * parsing of a regex, all subres are linked into the treechain list; 
 * discarded ones are also linked into the treefree list for possible reuse. 
 * After we are done creating all subres required for a regex, we run markst() 
 * then cleanst(), which results in discarding all subres not reachable from 
 * v-&GT;tree.  We then clear v-&GT;treechain, indicating that subres must be found 
 * by descending from v-&GT;tree.  This changes the behavior of freesubre(): it 
 * will henceforth FREE() unwanted subres rather than sticking them into the 
 * treefree list.  (Doing that any earlier would result in dangling links in 
 * the treechain list.)  This all means that freev() will clean up correctly 
 * if invoked before or after markst()+cleanst(); but it would not work if 
 * called partway through this state conversion, so we mustn't error out 
 * in or between these two functions. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1829"></a><span class='Declare_Function'>markst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1829"><span class='Ref_to_Parameter'>t</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN1829"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>|= </span><a href="../../include/regex/regguts.h.html#LN416"><span class='Ref_to_Const'>INUSE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1829"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN63"><span class='Ref_to_Proto'>markst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1829"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1829"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN63"><span class='Ref_to_Proto'>markst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1829"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * cleanst - free any tree nodes not marked INUSE 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1844"></a><span class='Declare_Function'>cleanst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1846"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>t</span><span class='Delimiter'>; 
</span><a name="LN1847"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>next</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1846"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1844"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN1846"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN1846"><span class='Ref_To_Local'>t</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1847"><span class='Ref_To_Local'>next</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1847"><span class='Ref_To_Local'>next</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1846"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN435"><span class='Ref_to_Member'>chain</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1846"><span class='Ref_To_Local'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN416"><span class='Ref_to_Const'>INUSE</span></a><span class='Parentheses'>))</span> 
            <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1846"><span class='Ref_To_Local'>t</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regcomp.c.html#LN1844"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN245"><span class='Ref_to_Member'>treechain</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1844"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN246"><span class='Ref_to_Member'>treefree</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* just on general principles */ 
</span><span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * nfatree - turn a subRE subtree into a tree of compacted NFAs 
 */ 
</span><span class='Keyword'>static long</span>                     <span class='Comment_Single_Line'>/* optimize results from top node */ 
</span><a name="LN1863"></a><span class='Declare_Function'>nfatree</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1864"></a>        <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, 
</span><a name="LN1865"></a>        FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>)</span>                <span class='Comment_Single_Line'>/* for debug output */ 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN57"><span class='Ref_to_Const'>DISCARD</span></a><span class='Parentheses'>) </span><a href="regcomp.c.html#LN65"><span class='Ref_to_Proto'>nfatree</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1863"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1865"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Parentheses'>(</span><a href="../../include/regex/regguts.h.html#LN57"><span class='Ref_to_Const'>DISCARD</span></a><span class='Parentheses'>) </span><a href="regcomp.c.html#LN65"><span class='Ref_to_Proto'>nfatree</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1863"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1865"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="regcomp.c.html#LN66"><span class='Ref_to_Proto'>nfanode</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1863"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1864"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1865"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * nfanode - do one NFA for nfatree or lacons 
 * 
 * If converttosearch is true, apply makesearch() to the NFA. 
 */ 
</span><span class='Keyword'>static long</span>                     <span class='Comment_Single_Line'>/* optimize results */ 
</span><a name="LN1883"></a><span class='Declare_Function'>nfanode</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1884"></a>        <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, 
</span><a name="LN1885"></a>        <span class='Keyword'>int </span><span class='Declare_Parameter'>converttosearch</span><span class='Delimiter'>, 
</span><a name="LN1886"></a>        FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>)</span>                <span class='Comment_Single_Line'>/* for debug output */ 
</span><span class='Delimiter'>{ 
</span><a name="LN1888"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a> <span class='Operator'>*</span><span class='Declare_Local'>nfa</span><span class='Delimiter'>; 
</span><a name="LN1889"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>ret</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1884"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1886"><span class='Ref_to_Parameter'>f</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1896"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>idbuf</span><span class='Delimiter'>[</span><span class='Number'>50</span><span class='Delimiter'>]; 
</span> 
        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1886"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n\n\n========= TREE NODE %s ==========\n"</span><span class='Delimiter'>, 
</span>                <a href="regcomp.c.html#LN77"><span class='Ref_to_Proto'>stid</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1884"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1896"><span class='Ref_To_Local'>idbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1896"><span class='Ref_To_Local'>idbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span> 
    <a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a> <span class='Operator'>= </span><a href="regc_nfa.c.html#LN45"><span class='Ref_to_Func'>newnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1883"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1883"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN241"><span class='Ref_to_Member'>cm</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1883"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN240"><span class='Ref_to_Member'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN267"><span class='Ref_to_Macro'>NOERRZ</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN146"><span class='Ref_to_Proto'>dupnfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1884"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1884"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN317"><span class='Ref_to_Member'>init</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>final</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> 
        <a href="regcomp.c.html#LN150"><span class='Ref_to_Proto'>specialcolors</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> 
        <a href="regcomp.c.html#LN1889"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN151"><span class='Ref_to_Proto'>optimize</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1886"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1885"><span class='Ref_to_Parameter'>converttosearch</span></a> <span class='Operator'>&& !</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> 
        <a href="regcomp.c.html#LN42"><span class='Ref_to_Proto'>makesearch</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1883"><span class='Ref_to_Parameter'>v</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="regexec.c.html#LN123"><span class='Ref_to_Macro'>ISERR</span></a><span class='Parentheses'>())</span> 
        <a href="regcomp.c.html#LN176"><span class='Ref_to_Proto'>compact</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="regcomp.c.html#LN1884"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regc_nfa.c.html#LN96"><span class='Ref_to_Func'>freenfa</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1888"><span class='Ref_To_Local'>nfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regcomp.c.html#LN1889"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end nfanode &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * newlacon - allocate a lookaround-constraint subRE 
 */ 
</span><span class='Keyword'>static int</span>                      <span class='Comment_Single_Line'>/* lacon number */ 
</span><a name="LN1922"></a><span class='Declare_Function'>newlacon</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN1923"></a>         <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>begin</span><span class='Delimiter'>, 
</span><a name="LN1924"></a>         <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>end</span><span class='Delimiter'>, 
</span><a name="LN1925"></a>         <span class='Keyword'>int </span><span class='Declare_Parameter'>latype</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1927"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>n</span><span class='Delimiter'>; 
</span><a name="LN1928"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>newlacons</span><span class='Delimiter'>; 
</span><a name="LN1929"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sub</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1922"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1927"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>;</span>                  <span class='Comment_Single_Line'>/* skip 0th */ 
</span>        <a href="regcomp.c.html#LN1928"><span class='Ref_To_Local'>newlacons</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a><span class='Parentheses'>(</span><span class='Number'>2</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1927"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1922"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN1928"><span class='Ref_To_Local'>newlacons</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/regex/regcustom.h.html#LN63"><span class='Ref_to_Macro'>REALLOC</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1922"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>, 
</span>                                             <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1927"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1928"><span class='Ref_To_Local'>newlacons</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regexec.c.html#LN125"><span class='Ref_to_Macro'>ERR</span></a><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN148"><span class='Ref_to_Const'>REG_ESPACE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regcomp.c.html#LN1922"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1928"><span class='Ref_To_Local'>newlacons</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1922"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN251"><span class='Ref_to_Member'>nlacons</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1927"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1929"><span class='Ref_To_Local'>sub</span></a> <span class='Operator'>= &</span><a href="regcomp.c.html#LN1922"><span class='Ref_to_Parameter'>v</span></a><span class='Operator'>-&GT;</span><a href="regcomp.c.html#LN250"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN1927"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>]; 
</span>    <a href="regcomp.c.html#LN1929"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1923"><span class='Ref_to_Parameter'>begin</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1929"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1924"><span class='Ref_to_Parameter'>end</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1929"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1925"><span class='Ref_to_Parameter'>latype</span></a><span class='Delimiter'>; 
</span>    <a href="../../include/regex/regguts.h.html#LN370"><span class='Ref_to_Macro'>ZAPCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1929"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regcomp.c.html#LN1927"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end newlacon &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * freelacons - free lookaround-constraint subRE vector 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1961"></a><span class='Declare_Function'>freelacons</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>subs</span><span class='Delimiter'>, 
</span><a name="LN1962"></a>           <span class='Keyword'>int </span><span class='Declare_Parameter'>n</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1964"></a>    <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sub</span><span class='Delimiter'>; 
</span><a name="LN1965"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>assert</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1962"><span class='Ref_to_Parameter'>n</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1964"><span class='Ref_To_Local'>sub</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1961"><span class='Ref_to_Parameter'>subs</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1965"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="regcomp.c.html#LN1962"><span class='Ref_to_Parameter'>n</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN1965"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN1964"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>++</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1965"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Parentheses'>)</span>  <span class='Comment_Single_Line'>/* no 0th */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN371"><span class='Ref_to_Macro'>NULLCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1964"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>))</span> 
            <a href="regcomp.c.html#LN179"><span class='Ref_to_Proto'>freecnfa</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN1964"><span class='Ref_To_Local'>sub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1961"><span class='Ref_to_Parameter'>subs</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * rfree - free a whole RE (insides of regfree) 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1978"></a><span class='Declare_Function'>rfree</span><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN54"><span class='Ref_to_Typedef'>regex_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>re</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1980"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a> <span class='Operator'>*</span><span class='Declare_Local'>g</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1978"><span class='Ref_to_Parameter'>re</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| </span><a href="regcomp.c.html#LN1978"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN56"><span class='Ref_to_Member'>re_magic</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN95"><span class='Ref_to_Const'>REMAGIC</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN1978"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN56"><span class='Ref_to_Member'>re_magic</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* invalidate RE */ 
</span>    <a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN1978"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1978"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN1978"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN78"><span class='Ref_to_Member'>re_fns</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN463"><span class='Ref_to_Member'>magic</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN94"><span class='Ref_to_Proto'>freecm</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN471"><span class='Ref_to_Member'>cmap</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN468"><span class='Ref_to_Member'>tree</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN59"><span class='Ref_to_Proto'>freesubre</span></a><span class='Parentheses'>((</span><span class='Control'>struct</span> <a href="regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN468"><span class='Ref_to_Member'>tree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN473"><span class='Ref_to_Member'>lacons</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="regcomp.c.html#LN68"><span class='Ref_to_Proto'>freelacons</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN473"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN474"><span class='Ref_to_Member'>nlacons</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN371"><span class='Ref_to_Macro'>NULLCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN469"><span class='Ref_to_Member'>search</span></a><span class='Parentheses'>))</span> 
            <a href="regcomp.c.html#LN179"><span class='Ref_to_Proto'>freecnfa</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN469"><span class='Ref_to_Member'>search</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN1980"><span class='Ref_To_Local'>g</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end rfree &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * rcancelrequested - check for external request to cancel regex operation 
 * 
 * Return nonzero to fail the operation with error code REG_CANCEL, 
 * zero to keep going 
 * 
 * The current implementation is Postgres-specific.  If we ever get around 
 * to splitting the regex code out as a standalone library, there will need 
 * to be some API to let applications define a callback function for this. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN2014"></a><span class='Declare_Function'>rcancelrequested</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../utils/init/globals.c.html#LN28"><span class='Ref_to_Global_Var'>InterruptPending</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="../utils/init/globals.c.html#LN29"><span class='Ref_to_Global_Var'>QueryCancelPending</span></a> <span class='Operator'>|| </span><a href="../utils/init/globals.c.html#LN30"><span class='Ref_to_Global_Var'>ProcDiePending</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * rstacktoodeep - check for stack getting dangerously deep 
 * 
 * Return nonzero to fail the operation with error code REG_ETOOBIG, 
 * zero to keep going 
 * 
 * The current implementation is Postgres-specific.  If we ever get around 
 * to splitting the regex code out as a standalone library, there will need 
 * to be some API to let applications define a callback function for this. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN2030"></a><span class='Declare_Function'>rstacktoodeep</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../../include/miscadmin.h.html#LN276"><span class='Ref_to_Proto'>stack_is_too_deep</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<span class='Directive'>#ifdef</span> REG_DEBUG 
 
<span class='Comment_Multi_Line'>/* 
 * dump - dump an RE in human-readable form 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2041"></a><span class='Declare_Function'>dump</span><span class='Parentheses'>(</span><a href="../../include/regex/regex.h.html#LN54"><span class='Ref_to_Typedef'>regex_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>re</span><span class='Delimiter'>, 
</span><a name="LN2042"></a>     FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2044"></a>    <span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a> <span class='Operator'>*</span><span class='Declare_Local'>g</span><span class='Delimiter'>; 
</span><a name="LN2045"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN56"><span class='Ref_to_Member'>re_magic</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN95"><span class='Ref_to_Const'>REMAGIC</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"bad magic number (0x%x not 0x%x)\n"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN56"><span class='Ref_to_Member'>re_magic</span></a><span class='Delimiter'>, 
</span>                <a href="../../include/regex/regguts.h.html#LN95"><span class='Ref_to_Const'>REMAGIC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"NULL guts!!!\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../include/regex/regguts.h.html#LN461"><span class='Ref_to_Struct'>guts</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN77"><span class='Ref_to_Member'>re_guts</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN463"><span class='Ref_to_Member'>magic</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN464"><span class='Ref_to_Const'>GUTSMAGIC</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"bad guts magic number (0x%x not 0x%x)\n"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN463"><span class='Ref_to_Member'>magic</span></a><span class='Delimiter'>, 
</span>                <a href="../../include/regex/regguts.h.html#LN464"><span class='Ref_to_Const'>GUTSMAGIC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n\n\n========= DUMP ==========\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"nsub %d, info 0%lo, csize %d, ntree %d\n"</span><span class='Delimiter'>, 
</span>            <span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN57"><span class='Ref_to_Member'>re_nsub</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN58"><span class='Ref_to_Member'>re_info</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2041"><span class='Ref_to_Parameter'>re</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regex.h.html#LN73"><span class='Ref_to_Member'>re_csize</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN470"><span class='Ref_to_Member'>ntree</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="regcomp.c.html#LN115"><span class='Ref_to_Proto'>dumpcolors</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN471"><span class='Ref_to_Member'>cmap</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN371"><span class='Ref_to_Macro'>NULLCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN469"><span class='Ref_to_Member'>search</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\nsearch:\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN186"><span class='Ref_to_Proto'>dumpcnfa</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN469"><span class='Ref_to_Member'>search</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2045"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="regcomp.c.html#LN2045"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN474"><span class='Ref_to_Member'>nlacons</span></a><span class='Delimiter'>; </span><a href="regcomp.c.html#LN2045"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2072"></a>        <span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Local'>lasub</span> <span class='Operator'>= &</span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN473"><span class='Ref_to_Member'>lacons</span></a><span class='Delimiter'>[</span><a href="regcomp.c.html#LN2045"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span><a name="LN2073"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>latype</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2072"><span class='Ref_To_Local'>lasub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN98"><span class='Ref_to_Const'>LATYPE_AHEAD_POS</span></a><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN2073"><span class='Ref_To_Local'>latype</span></a> <span class='Operator'>= </span><span class='String'>"positive lookahead"</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN99"><span class='Ref_to_Const'>LATYPE_AHEAD_NEG</span></a><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN2073"><span class='Ref_To_Local'>latype</span></a> <span class='Operator'>= </span><span class='String'>"negative lookahead"</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN100"><span class='Ref_to_Const'>LATYPE_BEHIND_POS</span></a><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN2073"><span class='Ref_To_Local'>latype</span></a> <span class='Operator'>= </span><span class='String'>"positive lookbehind"</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../../include/regex/regguts.h.html#LN101"><span class='Ref_to_Const'>LATYPE_BEHIND_NEG</span></a><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN2073"><span class='Ref_To_Local'>latype</span></a> <span class='Operator'>= </span><span class='String'>"negative lookbehind"</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="regcomp.c.html#LN2073"><span class='Ref_To_Local'>latype</span></a> <span class='Operator'>= </span><span class='String'>"???"</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\nla%d (%s):\n"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2045"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2073"><span class='Ref_To_Local'>latype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN186"><span class='Ref_to_Proto'>dumpcnfa</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN2072"><span class='Ref_To_Local'>lasub</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=1;i&LT;g-&GT;nlacons;i++ &raquo; </span> 
    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="regcomp.c.html#LN75"><span class='Ref_to_Proto'>dumpst</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2044"><span class='Ref_To_Local'>g</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN468"><span class='Ref_to_Member'>tree</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2042"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dump &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * dumpst - dump a subRE tree 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2104"></a><span class='Declare_Function'>dumpst</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, 
</span><a name="LN2105"></a>       FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Delimiter'>, 
</span><a name="LN2106"></a>       <span class='Keyword'>int </span><span class='Declare_Parameter'>nfapresent</span><span class='Parentheses'>)</span>          <span class='Comment_Single_Line'>/* is the original NFA still around? */ 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2104"><span class='Ref_to_Parameter'>t</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2105"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"null tree\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="regcomp.c.html#LN76"><span class='Ref_to_Proto'>stdump</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2104"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2105"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2106"><span class='Ref_to_Parameter'>nfapresent</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    fflush<span class='Parentheses'>(</span><a href="regcomp.c.html#LN2105"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * stdump - recursive guts of dumpst 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2119"></a><span class='Declare_Function'>stdump</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, 
</span><a name="LN2120"></a>       FILE <span class='Operator'>*</span><span class='Declare_Parameter'>f</span><span class='Delimiter'>, 
</span><a name="LN2121"></a>       <span class='Keyword'>int </span><span class='Declare_Parameter'>nfapresent</span><span class='Parentheses'>)</span>          <span class='Comment_Single_Line'>/* is the original NFA still around? */ 
</span><span class='Delimiter'>{ 
</span><a name="LN2123"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>idbuf</span><span class='Delimiter'>[</span><span class='Number'>50</span><span class='Delimiter'>]; 
</span> 
    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"%s. `%c'"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN77"><span class='Ref_to_Proto'>stid</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2123"><span class='Ref_To_Local'>idbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2123"><span class='Ref_To_Local'>idbuf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN409"><span class='Ref_to_Member'>op</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN411"><span class='Ref_to_Const'>LONGER</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" longest"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN412"><span class='Ref_to_Const'>SHORTER</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" shortest"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN413"><span class='Ref_to_Const'>MIXED</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" hasmixed"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN414"><span class='Ref_to_Const'>CAP</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" hascapture"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN415"><span class='Ref_to_Const'>BACKR</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" hasbackref"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN410"><span class='Ref_to_Member'>flags</span></a> <span class='Operator'>& </span><a href="../../include/regex/regguts.h.html#LN416"><span class='Ref_to_Const'>INUSE</span></a><span class='Parentheses'>))</span> 
        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" UNUSED"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" (#%d)"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN426"><span class='Ref_to_Member'>subno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN428"><span class='Ref_to_Member'>min</span></a> <span class='Operator'>!= </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN429"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>!= </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" {%d,"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN428"><span class='Ref_to_Member'>min</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN429"><span class='Ref_to_Member'>max</span></a> <span class='Operator'>!= </span><a href="../../include/regex/regguts.h.html#LN93"><span class='Ref_to_Const'>DUPINF</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN429"><span class='Ref_to_Member'>max</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"}"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2121"><span class='Ref_to_Parameter'>nfapresent</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" %ld-%ld"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN432"><span class='Ref_to_Member'>begin</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN299"><span class='Ref_to_Member'>no</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN433"><span class='Ref_to_Member'>end</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN299"><span class='Ref_to_Member'>no</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" L:%s"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN77"><span class='Ref_to_Proto'>stid</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2123"><span class='Ref_To_Local'>idbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2123"><span class='Ref_To_Local'>idbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>" R:%s"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN77"><span class='Ref_to_Proto'>stid</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2123"><span class='Ref_To_Local'>idbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2123"><span class='Ref_To_Local'>idbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/regex/regguts.h.html#LN371"><span class='Ref_to_Macro'>NULLCNFA</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="regcomp.c.html#LN186"><span class='Ref_to_Proto'>dumpcnfa</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN76"><span class='Ref_to_Proto'>stdump</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN430"><span class='Ref_to_Member'>left</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2121"><span class='Ref_to_Parameter'>nfapresent</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="regcomp.c.html#LN76"><span class='Ref_to_Proto'>stdump</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2119"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN431"><span class='Ref_to_Member'>right</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2120"><span class='Ref_to_Parameter'>f</span></a><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2121"><span class='Ref_to_Parameter'>nfapresent</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end stdump &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * stid - identify a subtree node for dumping 
 */ 
</span><span class='Keyword'>static const char </span><span class='Operator'>*</span>             <span class='Comment_Single_Line'>/* points to buf or constant string */ 
</span><a name="LN2169"></a><span class='Declare_Function'>stid</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, 
</span><a name="LN2170"></a>     <span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>buf</span><span class='Delimiter'>, 
</span><a name="LN2171"></a>     size_t <span class='Declare_Parameter'>bufsize</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* big enough for hex int or decimal t-&GT;id? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2171"><span class='Ref_to_Parameter'>bufsize</span></a> <span class='Operator'>&LT; </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>+ </span><span class='Number'>3</span> <span class='Operator'>|| </span><a href="regcomp.c.html#LN2171"><span class='Ref_to_Parameter'>bufsize</span></a> <span class='Operator'>&LT; </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2169"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN425"><span class='Ref_to_Member'>id</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>3</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='String'>"unable"</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="regcomp.c.html#LN2169"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN425"><span class='Ref_to_Member'>id</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2170"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2169"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../../include/regex/regguts.h.html#LN425"><span class='Ref_to_Member'>id</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="regcomp.c.html#LN2170"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%p"</span><span class='Delimiter'>, </span><a href="regcomp.c.html#LN2169"><span class='Ref_to_Parameter'>t</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="regcomp.c.html#LN2170"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>; 
} 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* REG_DEBUG */ 
</span> 
 
<span class='Keyword'>#include </span><span class='String'>"regc_lex.c"</span> 
<span class='Keyword'>#include </span><span class='String'>"regc_color.c"</span> 
<span class='Keyword'>#include </span><span class='String'>"regc_nfa.c"</span> 
<span class='Keyword'>#include </span><span class='String'>"regc_cvec.c"</span> 
<span class='Keyword'>#include </span><span class='String'>"regc_pg_locale.c"</span> 
<span class='Keyword'>#include </span><span class='String'>"regc_locale.c"</span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>