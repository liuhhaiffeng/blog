<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\utils\adt\float.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\utils\adt\float.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:51 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * float.c 
 *    Functions for the built-in floating-point types. 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * 
 * IDENTIFICATION 
 *    src/backend/utils/adt/float.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;float.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;math.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;limits.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"libpq/pqformat.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/array.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/builtins.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/sortsupport.h"</span> 
 
 
<span class='Directive'>#ifndef</span> <a href="../../../../contrib/earthdistance/earthdistance.c.html#LN9"><span class='Ref_to_Const'>M_PI</span></a> 
<span class='Comment_Multi_Line'>/* from my RH5.2 gcc math.h file - thomas 2000-04-03 */ 
</span><a name="LN30"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>M_PI</span> <span class='Number'>3</span><span class='Operator'>.</span><span class='Number'>14159265358979323846</span> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* Radians per degree, a.k.a. PI / 180 */ 
</span><a name="LN34"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>RADIANS_PER_DEGREE</span> <span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0174532925199432957692</span> 
 
<span class='Comment_Multi_Line'>/* Visual C++ etc lacks NAN, and won't accept 0.0/0.0.  NAN definition from 
 * http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclang/html/vclrfNotNumberNANItems.asp 
 */ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span>defined<span class='Parentheses'>(</span><a href="float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Parentheses'>) 
</span><a name="LN40"></a><span class='Keyword'>static const </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Var'>nan</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Number'>0xffffffff</span><span class='Delimiter'>, </span><span class='Number'>0x7fffffff</span><span class='Delimiter'>}; 
</span> 
<a name="LN42"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>NAN</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>const double </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="float.c.html#LN40"><span class='Ref_to_Global_Var'>nan</span></a><span class='Parentheses'>)</span> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* not sure what the following should be, but better to make it over-sufficient */ 
</span><a name="LN46"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MAXFLOATWIDTH</span>   <span class='Number'>64</span> 
<a name="LN47"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MAXDOUBLEWIDTH</span>  <span class='Number'>128</span> 
 
<span class='Comment_Multi_Line'>/* 
 * check to see if a float4/8 val has underflowed or overflowed 
 */ 
</span><a name="LN52"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>CHECKFLOATVAL</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>val</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>inf_is_valid</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>zero_is_valid</span><span class='Parentheses'>)</span>         <span class='Operator'>\ 
</span><span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN52"><span class='Ref_to_Parameter'>val</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="float.c.html#LN52"><span class='Ref_to_Parameter'>inf_is_valid</span></a><span class='Parentheses'>))</span>                          <span class='Operator'>\ 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>,</span>                                          <span class='Operator'>\ 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>,</span>   <span class='Operator'>\ 
</span>          <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"value out of range: overflow"</span><span class='Parentheses'>)))</span><span class='Delimiter'>;</span>             <span class='Operator'>\ 
</span>                                                                <span class='Operator'>\ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="float.c.html#LN52"><span class='Ref_to_Parameter'>val</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="float.c.html#LN52"><span class='Ref_to_Parameter'>zero_is_valid</span></a><span class='Parentheses'>))</span>                       <span class='Operator'>\ 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>,</span>                                          <span class='Operator'>\ 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>,</span>   <span class='Operator'>\ 
</span>         <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"value out of range: underflow"</span><span class='Parentheses'>)))</span><span class='Delimiter'>;</span>             <span class='Operator'>\ 
</span><span class='Delimiter'>} </span><span class='Control'>while</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* Configurable GUC parameter */ 
</span><a name="LN67"></a><span class='Keyword'>int</span>         <span class='Declare_Var'>extra_float_digits</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* Added to DBL_DIG or FLT_DIG */ 
</span> 
<span class='Comment_Multi_Line'>/* Cached constants for degree-based trig functions */ 
</span><a name="LN70"></a><span class='Keyword'>static bool </span><span class='Declare_Var'>degree_consts_set</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN71"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>sin_30</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN72"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>one_minus_cos_60</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN73"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>asin_0_5</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN74"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>acos_0_5</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN75"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>atan_1_0</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN76"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>tan_45</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN77"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Var'>cot_45</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * These are intentionally not static; don't "fix" them.  They will never 
 * be referenced by other files, much less changed; but we don't want the 
 * compiler to know that, else it might try to precompute expressions 
 * involving them.  See comments for init_degree_constants(). 
 */ 
</span><a name="LN85"></a><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Var'>degree_c_thirty</span> <span class='Operator'>= </span><span class='Number'>30</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN86"></a><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Var'>degree_c_forty_five</span> <span class='Operator'>= </span><span class='Number'>45</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN87"></a><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Var'>degree_c_sixty</span> <span class='Operator'>= </span><span class='Number'>60</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN88"></a><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Var'>degree_c_one_half</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>5</span><span class='Delimiter'>; 
</span><a name="LN89"></a><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Var'>degree_c_one</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Local function prototypes */ 
</span><a name="LN92"></a><span class='Keyword'>static double </span><span class='Declare_Prototype'>sind_q1</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN93"></a><span class='Keyword'>static double </span><span class='Declare_Prototype'>cosd_q1</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN94"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>init_degree_constants</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifndef</span> HAVE_CBRT 
<span class='Comment_Multi_Line'>/* 
 * Some machines (in particular, some versions of AIX) have an extern 
 * declaration for cbrt() in &LT;math.h&GT; but fail to provide the actual 
 * function, which causes configure to not set HAVE_CBRT.  Furthermore, 
 * their compilers spit up at the mismatch between extern declaration 
 * and static definition.  We work around that here by the expedient 
 * of a #define to make the actual name of the static function different. 
 */ 
</span><a name="LN105"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>cbrt</span> my_cbrt 
<a name="LN106"></a><span class='Keyword'>static double </span><span class='Declare_Prototype'>cbrt</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_CBRT */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Routines to provide reasonably platform-independent handling of 
 * infinity and NaN.  We assume that isinf() and isnan() are available 
 * and work per spec.  (On some platforms, we have to supply our own; 
 * see src/port.)  However, generating an Infinity or NaN in the first 
 * place is less well standardized; pre-C99 systems tend not to have C99's 
 * INFINITY and NAN macros.  We centralize our workarounds for this here. 
 */ 
</span> 
<span class='Keyword'>double 
</span><a name="LN120"></a><span class='Declare_Function'>get_float8_infinity</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> INFINITY 
    <span class='Comment_Multi_Line'>/* C99 standard way */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span>INFINITY<span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
 
    <span class='Comment_Multi_Line'>/* 
     * On some platforms, HUGE_VAL is an infinity, elsewhere it's just the 
     * largest normal double.  We assume forcing an overflow will get us a 
     * true infinity. 
     */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) (</span>HUGE_VAL <span class='Operator'>* </span>HUGE_VAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Comment_Multi_Line'>/* 
* The funny placements of the two #pragmas is necessary because of a 
* long lived bug in the Microsoft compilers. 
* See http://support.microsoft.com/kb/120968/en-us for details 
*/ 
</span><span class='Directive'>#if</span> <span class='Parentheses'>(</span>_MSC_VER <span class='Operator'>&GT;= </span><span class='Number'>1800</span><span class='Parentheses'>) 
</span><span class='Keyword'>#pragma </span><a href="../../../timezone/zic.c.html#LN492"><span class='Ref_to_Func'>warning</span></a><span class='Parentheses'>(</span>disable<span class='Operator'>:</span><span class='Number'>4756</span><span class='Parentheses'>) 
</span><span class='Directive'>#endif</span> 
<span class='Keyword'>float 
</span><a name="LN145"></a><span class='Declare_Function'>get_float4_infinity</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> INFINITY 
    <span class='Comment_Multi_Line'>/* C99 standard way */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>) </span>INFINITY<span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
<span class='Directive'>#if</span> <span class='Parentheses'>(</span>_MSC_VER <span class='Operator'>&GT;= </span><span class='Number'>1800</span><span class='Parentheses'>) 
</span><span class='Keyword'>#pragma </span><a href="../../../timezone/zic.c.html#LN492"><span class='Ref_to_Func'>warning</span></a><span class='Parentheses'>(</span><span class='Control'>default</span><span class='Operator'>:</span><span class='Number'>4756</span><span class='Parentheses'>) 
</span><span class='Directive'>#endif</span> 
 
    <span class='Comment_Multi_Line'>/* 
     * On some platforms, HUGE_VAL is an infinity, elsewhere it's just the 
     * largest normal double.  We assume forcing an overflow will get us a 
     * true infinity. 
     */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>) (</span>HUGE_VAL <span class='Operator'>* </span>HUGE_VAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Keyword'>double 
</span><a name="LN165"></a><span class='Declare_Function'>get_float8_nan</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* (double) NAN doesn't work on some NetBSD/MIPS releases */ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><span class='Parentheses'>(</span>defined<span class='Parentheses'>(</span>__NetBSD__<span class='Parentheses'>) </span><span class='Operator'>&& </span>defined<span class='Parentheses'>(</span>__mips__<span class='Parentheses'>))</span> 
    <span class='Comment_Multi_Line'>/* C99 standard way */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Comment_Multi_Line'>/* Assume we can get a NAN via zero divide */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) (</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>/ </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Keyword'>float 
</span><a name="LN178"></a><span class='Declare_Function'>get_float4_nan</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> <a href="float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a> 
    <span class='Comment_Multi_Line'>/* C99 standard way */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>) </span><a href="float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Comment_Multi_Line'>/* Assume we can get a NAN via zero divide */ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>) (</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>/ </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Returns -1 if 'val' represents negative infinity, 1 if 'val' 
 * represents (positive) infinity, and 0 otherwise. On some platforms, 
 * this is equivalent to the isinf() macro, but not everywhere: C99 
 * does not specify that isinf() needs to distinguish between positive 
 * and negative infinity. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN198"></a><span class='Declare_Function'>is_infinite</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN200"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>inf</span> <span class='Operator'>= </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN198"><span class='Ref_to_Parameter'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN200"><span class='Ref_To_Local'>inf</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN198"><span class='Ref_to_Parameter'>val</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* ========== USER I/O ROUTINES ========== */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      float4in        - converts "num" to float4 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN218"></a><span class='Declare_Function'>float4in</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN220"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN241"><span class='Ref_to_Macro'>PG_GETARG_CSTRING</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN221"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>orig_num</span><span class='Delimiter'>; 
</span><a name="LN222"></a>    <span class='Keyword'>double</span>      <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span><a name="LN223"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>endptr</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * endptr points to the first character _after_ the sequence we recognized 
     * as a valid floating point number. orig_num points to the original input 
     * string. 
     */ 
</span>    <a href="float.c.html#LN221"><span class='Ref_To_Local'>orig_num</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* skip leading whitespace */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
        <a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check for an empty-string input to begin with, to avoid the vagaries of 
     * strtod() on different platforms. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_TEXT_REPRESENTATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid input syntax for type %s: \"%s\""</span><span class='Delimiter'>, 
</span>                        <span class='String'>"real"</span><span class='Delimiter'>, </span><a href="float.c.html#LN221"><span class='Ref_To_Local'>orig_num</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* did we not see anything that looks like a double? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>== </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>|| </span>errno <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN252"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>save_errno</span> <span class='Operator'>= </span>errno<span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * C99 requires that strtod() accept NaN, [+-]Infinity, and [+-]Inf, 
         * but not all platforms support all of these (and some accept them 
         * but set ERANGE anyway...)  Therefore, we check for these inputs 
         * ourselves if strtod() fails. 
         * 
         * Note: C99 also requires hexadecimal input as well as some extended 
         * forms of NaN, but we consider these forms unportable and don't try 
         * to support them.  You can use 'em if your strtod() takes 'em. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"NaN"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN58"><span class='Ref_to_Proto'>get_float4_nan</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"Infinity"</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN56"><span class='Ref_to_Proto'>get_float4_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"+Infinity"</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN56"><span class='Ref_to_Proto'>get_float4_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>9</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"-Infinity"</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= -</span><a href="../../../include/utils/builtins.h.html#LN56"><span class='Ref_to_Proto'>get_float4_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>9</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"inf"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN56"><span class='Ref_to_Proto'>get_float4_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"+inf"</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN56"><span class='Ref_to_Proto'>get_float4_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='String'>"-inf"</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= -</span><a href="../../../include/utils/builtins.h.html#LN56"><span class='Ref_to_Proto'>get_float4_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN252"><span class='Ref_To_Local'>save_errno</span></a> <span class='Operator'>== </span>ERANGE<span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Some platforms return ERANGE for denormalized numbers (those 
             * that are not zero, but are too close to zero to have full 
             * precision).  We'd prefer not to throw error for that, so try to 
             * detect whether it's a "real" out-of-range condition by checking 
             * to see if the result is zero or huge. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span>HUGE_VAL <span class='Operator'>|| </span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= -</span>HUGE_VAL<span class='Parentheses'>) 
</span>                <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"\"%s\" is out of range for type real"</span><span class='Delimiter'>, 
</span>                                <a href="float.c.html#LN221"><span class='Ref_To_Local'>orig_num</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_TEXT_REPRESENTATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid input syntax for type %s: \"%s\""</span><span class='Delimiter'>, 
</span>                            <span class='String'>"real"</span><span class='Delimiter'>, </span><a href="float.c.html#LN221"><span class='Ref_To_Local'>orig_num</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if endptr==num||errno!=0 &raquo; </span> 
<span class='Directive'>#ifdef</span> <a href="../../../include/port/solaris.h.html#LN37"><span class='Ref_to_Const'>HAVE_BUGGY_SOLARIS_STRTOD</span></a> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Many versions of Solaris have a bug wherein strtod sets endptr to 
         * point one byte beyond the end of the string when given "inf" or 
         * "infinity". 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><a href="float.c.html#LN220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&& </span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>[</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_BUGGY_SOLARIS_STRTOD */ 
</span> 
    <span class='Comment_Multi_Line'>/* skip trailing whitespace */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a><span class='Parentheses'>))</span> 
        <a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* if there is any junk left at the end of the string, bail out */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN223"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_TEXT_REPRESENTATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid input syntax for type %s: \"%s\""</span><span class='Delimiter'>, 
</span>                        <span class='String'>"real"</span><span class='Delimiter'>, </span><a href="float.c.html#LN221"><span class='Ref_To_Local'>orig_num</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * if we get here, we have a legal double, still need to check to see if 
     * it's a legal float4 
     */ 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN222"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float4in &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 *      float4out       - converts a float4 number to a string 
 *                        using a standard output format 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN358"></a><span class='Declare_Function'>float4out</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN360"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN361"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>ascii</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN46"><span class='Ref_to_Const'>MAXFLOATWIDTH</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN360"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN321"><span class='Ref_to_Macro'>PG_RETURN_CSTRING</span></a><span class='Parentheses'>(</span><a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN361"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><span class='String'>"NaN"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN59"><span class='Ref_to_Proto'>is_infinite</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN360"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>            <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN361"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><span class='String'>"Infinity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Operator'>: 
</span>            <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN361"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><span class='String'>"-Infinity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN376"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>ndig</span> <span class='Operator'>= </span>FLT_DIG <span class='Operator'>+ </span><a href="float.c.html#LN67"><span class='Ref_to_Global_Var'>extra_float_digits</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN376"><span class='Ref_To_Local'>ndig</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                    <a href="float.c.html#LN376"><span class='Ref_To_Local'>ndig</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                <a href="../../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN361"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN46"><span class='Ref_to_Const'>MAXFLOATWIDTH</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='String'>"%.*g"</span><span class='Delimiter'>, </span><a href="float.c.html#LN376"><span class='Ref_To_Local'>ndig</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN360"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../include/fmgr.h.html#LN321"><span class='Ref_to_Macro'>PG_RETURN_CSTRING</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN361"><span class='Ref_To_Local'>ascii</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float4out &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 *      float4recv          - converts external binary format to float4 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN392"></a><span class='Declare_Function'>float4recv</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN394"></a>    <a href="../../../include/lib/stringinfo.h.html#LN42"><span class='Ref_to_Typedef'>StringInfo</span></a>  <span class='Declare_Local'>buf</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/lib/stringinfo.h.html#LN42"><span class='Ref_to_Typedef'>StringInfo</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN240"><span class='Ref_to_Macro'>PG_GETARG_POINTER</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="../../../include/libpq/pqformat.h.html#LN40"><span class='Ref_to_Proto'>pq_getmsgfloat4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN394"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float4send          - converts float4 to binary format 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN403"></a><span class='Declare_Function'>float4send</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN405"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN406"></a>    <a href="../../../include/lib/stringinfo.h.html#LN34"><span class='Ref_to_Struct'>StringInfoData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/libpq/pqformat.h.html#LN31"><span class='Ref_to_Proto'>pq_begintypsend</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="float.c.html#LN406"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/libpq/pqformat.h.html#LN27"><span class='Ref_to_Proto'>pq_sendfloat4</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="float.c.html#LN406"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN405"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN328"><span class='Ref_to_Macro'>PG_RETURN_BYTEA_P</span></a><span class='Parentheses'>(</span><a href="../../../include/libpq/pqformat.h.html#LN32"><span class='Ref_to_Proto'>pq_endtypsend</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="float.c.html#LN406"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float8in        - converts "num" to float8 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN417"></a><span class='Declare_Function'>float8in</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN419"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN241"><span class='Ref_to_Macro'>PG_GETARG_CSTRING</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN60"><span class='Ref_to_Proto'>float8in_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN419"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"double precision"</span><span class='Delimiter'>, </span><a href="float.c.html#LN419"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * float8in_internal - guts of float8in() 
 * 
 * This is exposed for use by functions that want a reasonably 
 * platform-independent way of inputting doubles.  The behavior is 
 * essentially like strtod + ereport on error, but note the following 
 * differences: 
 * 1. Both leading and trailing whitespace are skipped. 
 * 2. If endptr_p is NULL, we throw error if there's trailing junk. 
 * Otherwise, it's up to the caller to complain about trailing junk. 
 * 3. In event of a syntax error, the report mentions the given type_name 
 * and prints orig_string as the input; this is meant to support use of 
 * this function with types such as "box" and "point", where what we are 
 * parsing here is just a substring of orig_string. 
 * 
 * "num" could validly be declared "const char *", but that results in an 
 * unreasonable amount of extra casting both here and in callers, so we don't. 
 */ 
</span><span class='Keyword'>double 
</span><a name="LN443"></a><span class='Declare_Function'>float8in_internal</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>num</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>endptr_p</span><span class='Delimiter'>, 
</span><a name="LN444"></a>                  <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>type_name</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>orig_string</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN446"></a>    <span class='Keyword'>double</span>      <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span><a name="LN447"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>endptr</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* skip leading whitespace */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Parentheses'>))</span> 
        <a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check for an empty-string input to begin with, to avoid the vagaries of 
     * strtod() on different platforms. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_TEXT_REPRESENTATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid input syntax for type %s: \"%s\""</span><span class='Delimiter'>, 
</span>                        <a href="float.c.html#LN444"><span class='Ref_to_Parameter'>type_name</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN444"><span class='Ref_to_Parameter'>orig_string</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* did we not see anything that looks like a double? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>== </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>|| </span>errno <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN469"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>save_errno</span> <span class='Operator'>= </span>errno<span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * C99 requires that strtod() accept NaN, [+-]Infinity, and [+-]Inf, 
         * but not all platforms support all of these (and some accept them 
         * but set ERANGE anyway...)  Therefore, we check for these inputs 
         * ourselves if strtod() fails. 
         * 
         * Note: C99 also requires hexadecimal input as well as some extended 
         * forms of NaN, but we consider these forms unportable and don't try 
         * to support them.  You can use 'em if your strtod() takes 'em. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"NaN"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"Infinity"</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"+Infinity"</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>9</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"-Infinity"</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= -</span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>9</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"inf"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"+inf"</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>, </span><span class='String'>"-inf"</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= -</span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN469"><span class='Ref_To_Local'>save_errno</span></a> <span class='Operator'>== </span>ERANGE<span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Some platforms return ERANGE for denormalized numbers (those 
             * that are not zero, but are too close to zero to have full 
             * precision).  We'd prefer not to throw error for that, so try to 
             * detect whether it's a "real" out-of-range condition by checking 
             * to see if the result is zero or huge. 
             * 
             * On error, we intentionally complain about double precision not 
             * the given type name, and we print only the part of the string 
             * that is the current number. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span>HUGE_VAL <span class='Operator'>|| </span><a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= -</span>HUGE_VAL<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN531"></a>                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>errnumber</span> <span class='Operator'>= </span><a href="../../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="float.c.html#LN531"><span class='Ref_To_Local'>errnumber</span></a><span class='Delimiter'>[</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>- </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"\"%s\" is out of range for type double precision"</span><span class='Delimiter'>, 
</span>                          <a href="float.c.html#LN531"><span class='Ref_To_Local'>errnumber</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if save_errno==ERANGE &raquo; </span> 
        <span class='Control'>else</span> 
            <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_TEXT_REPRESENTATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid input syntax for type %s: \"%s\""</span><span class='Delimiter'>, 
</span>                            <a href="float.c.html#LN444"><span class='Ref_to_Parameter'>type_name</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN444"><span class='Ref_to_Parameter'>orig_string</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if endptr==num||errno!=0 &raquo; </span> 
<span class='Directive'>#ifdef</span> <a href="../../../include/port/solaris.h.html#LN37"><span class='Ref_to_Const'>HAVE_BUGGY_SOLARIS_STRTOD</span></a> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Many versions of Solaris have a bug wherein strtod sets endptr to 
         * point one byte beyond the end of the string when given "inf" or 
         * "infinity". 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>num</span></a> <span class='Operator'>&& </span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>[</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_BUGGY_SOLARIS_STRTOD */ 
</span> 
    <span class='Comment_Multi_Line'>/* skip trailing whitespace */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a><span class='Parentheses'>))</span> 
        <a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* report stopping point if wanted, else complain if not end of string */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>endptr_p</span></a><span class='Parentheses'>) 
</span>        <span class='Operator'>*</span><a href="float.c.html#LN443"><span class='Ref_to_Parameter'>endptr_p</span></a> <span class='Operator'>= </span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="float.c.html#LN447"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_TEXT_REPRESENTATION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid input syntax for type %s: \"%s\""</span><span class='Delimiter'>, 
</span>                        <a href="float.c.html#LN444"><span class='Ref_to_Parameter'>type_name</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN444"><span class='Ref_to_Parameter'>orig_string</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="float.c.html#LN446"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8in_internal &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 *      float8out       - converts float8 number to a string 
 *                        using a standard output format 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN580"></a><span class='Declare_Function'>float8out</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN582"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN321"><span class='Ref_to_Macro'>PG_RETURN_CSTRING</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN62"><span class='Ref_to_Proto'>float8out_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN582"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * float8out_internal - guts of float8out() 
 * 
 * This is exposed for use by functions that want a reasonably 
 * platform-independent way of outputting doubles. 
 * The result is always palloc'd. 
 */ 
</span><span class='Keyword'>char </span><span class='Operator'>* 
</span><a name="LN595"></a><span class='Declare_Function'>float8out_internal</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>num</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN597"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>ascii</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/common/fe_memutils.h.html#LN33"><span class='Ref_to_Proto'>palloc</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN47"><span class='Ref_to_Const'>MAXDOUBLEWIDTH</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN595"><span class='Ref_to_Parameter'>num</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN597"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><span class='String'>"NaN"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN59"><span class='Ref_to_Proto'>is_infinite</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN595"><span class='Ref_to_Parameter'>num</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>            <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN597"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><span class='String'>"Infinity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Operator'>: 
</span>            <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN597"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><span class='String'>"-Infinity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN612"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>ndig</span> <span class='Operator'>= </span>DBL_DIG <span class='Operator'>+ </span><a href="float.c.html#LN67"><span class='Ref_to_Global_Var'>extra_float_digits</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN612"><span class='Ref_To_Local'>ndig</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                    <a href="float.c.html#LN612"><span class='Ref_To_Local'>ndig</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                <a href="../../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN597"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN47"><span class='Ref_to_Const'>MAXDOUBLEWIDTH</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='String'>"%.*g"</span><span class='Delimiter'>, </span><a href="float.c.html#LN612"><span class='Ref_To_Local'>ndig</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN595"><span class='Ref_to_Parameter'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="float.c.html#LN597"><span class='Ref_To_Local'>ascii</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8out_internal &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 *      float8recv          - converts external binary format to float8 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN628"></a><span class='Declare_Function'>float8recv</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN630"></a>    <a href="../../../include/lib/stringinfo.h.html#LN42"><span class='Ref_to_Typedef'>StringInfo</span></a>  <span class='Declare_Local'>buf</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/lib/stringinfo.h.html#LN42"><span class='Ref_to_Typedef'>StringInfo</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN240"><span class='Ref_to_Macro'>PG_GETARG_POINTER</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/libpq/pqformat.h.html#LN41"><span class='Ref_to_Proto'>pq_getmsgfloat8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN630"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float8send          - converts float8 to binary format 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN639"></a><span class='Declare_Function'>float8send</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN641"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN642"></a>    <a href="../../../include/lib/stringinfo.h.html#LN34"><span class='Ref_to_Struct'>StringInfoData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/libpq/pqformat.h.html#LN31"><span class='Ref_to_Proto'>pq_begintypsend</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="float.c.html#LN642"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/libpq/pqformat.h.html#LN28"><span class='Ref_to_Proto'>pq_sendfloat8</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="float.c.html#LN642"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN641"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN328"><span class='Ref_to_Macro'>PG_RETURN_BYTEA_P</span></a><span class='Parentheses'>(</span><a href="../../../include/libpq/pqformat.h.html#LN32"><span class='Ref_to_Proto'>pq_endtypsend</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="float.c.html#LN642"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* ========== PUBLIC ROUTINES ========== */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ====================== 
 *      FLOAT4 BASE OPERATIONS 
 *      ====================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float4abs       - returns |arg1| (absolute value) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN663"></a><span class='Declare_Function'>float4abs</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN665"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span>fabs<span class='Parentheses'>(</span><a href="float.c.html#LN665"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float4um        - returns -arg1 (unary minus) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN674"></a><span class='Declare_Function'>float4um</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN676"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN677"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN677"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN676"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN677"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN684"></a><span class='Declare_Function'>float4up</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN686"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN686"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN692"></a><span class='Declare_Function'>float4larger</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN694"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN695"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN696"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN694"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN695"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="float.c.html#LN696"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN694"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN696"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN695"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN696"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN706"></a><span class='Declare_Function'>float4smaller</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN708"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN709"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN710"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN708"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN709"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="float.c.html#LN710"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN708"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN710"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN709"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN710"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      ====================== 
 *      FLOAT8 BASE OPERATIONS 
 *      ====================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float8abs       - returns |arg1| (absolute value) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN729"></a><span class='Declare_Function'>float8abs</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN731"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span>fabs<span class='Parentheses'>(</span><a href="float.c.html#LN731"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      float8um        - returns -arg1 (unary minus) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN741"></a><span class='Declare_Function'>float8um</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN743"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN744"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN744"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN743"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN744"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN751"></a><span class='Declare_Function'>float8up</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN753"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN753"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN759"></a><span class='Declare_Function'>float8larger</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN761"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN762"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN763"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN761"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN762"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="float.c.html#LN763"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN761"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN763"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN762"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN763"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN773"></a><span class='Declare_Function'>float8smaller</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN775"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN776"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN777"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN775"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN776"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="float.c.html#LN777"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN775"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN777"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN776"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN777"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ==================== 
 *      ARITHMETIC OPERATORS 
 *      ==================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float4pl        - returns arg1 + arg2 
 *      float4mi        - returns arg1 - arg2 
 *      float4mul       - returns arg1 * arg2 
 *      float4div       - returns arg1 / arg2 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN800"></a><span class='Declare_Function'>float4pl</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN802"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN803"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN804"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN804"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN802"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>+ </span><a href="float.c.html#LN803"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * There isn't any way to check for underflow of addition/subtraction 
     * because numbers near the underflow value have already been rounded to 
     * the point where we can't detect that the two values were originally 
     * different, e.g. on x86, '1e-45'::float4 == '2e-45'::float4 == 
     * 1.4013e-45. 
     */ 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN804"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN802"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN803"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN804"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN820"></a><span class='Declare_Function'>float4mi</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN822"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN823"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN824"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN824"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN822"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>- </span><a href="float.c.html#LN823"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN824"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN822"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN823"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN824"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN832"></a><span class='Declare_Function'>float4mul</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN834"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN835"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN836"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN836"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN834"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>* </span><a href="float.c.html#LN835"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN836"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN834"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN835"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <a href="float.c.html#LN834"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN835"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN836"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN845"></a><span class='Declare_Function'>float4div</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN847"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN848"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN849"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN848"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DIVISION_BY_ZERO<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"division by zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN849"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN847"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN848"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN849"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN847"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN848"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN847"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN849"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float8pl        - returns arg1 + arg2 
 *      float8mi        - returns arg1 - arg2 
 *      float8mul       - returns arg1 * arg2 
 *      float8div       - returns arg1 / arg2 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN869"></a><span class='Declare_Function'>float8pl</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN871"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN872"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN873"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN873"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN871"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>+ </span><a href="float.c.html#LN872"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN873"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN871"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN872"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN873"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN882"></a><span class='Declare_Function'>float8mi</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN884"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN885"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN886"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN886"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN884"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>- </span><a href="float.c.html#LN885"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN886"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN884"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN885"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN886"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN895"></a><span class='Declare_Function'>float8mul</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN897"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN898"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN899"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN899"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN897"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>* </span><a href="float.c.html#LN898"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN899"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN897"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN898"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <a href="float.c.html#LN897"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN898"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN899"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN909"></a><span class='Declare_Function'>float8div</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN911"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN912"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN913"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN912"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DIVISION_BY_ZERO<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"division by zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN913"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN911"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN912"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN913"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN911"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN912"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN911"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN913"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ==================== 
 *      COMPARISON OPERATORS 
 *      ==================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float4{eq,ne,lt,le,gt,ge}       - float4/float4 comparison operations 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN937"></a><span class='Declare_Function'>float4_cmp_internal</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a> <span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a> <span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * We consider all NANs to be equal and larger than any non-NAN. This is 
     * somewhat arbitrary; the important thing is to have a consistent sort 
     * order. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>))</span> 
            <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* NAN = NAN */ 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* NAN &GT; non-NAN */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* non-NAN &LT; NAN */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>&GT; </span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>&LT; </span><a href="float.c.html#LN937"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end float4_cmp_internal &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN967"></a><span class='Declare_Function'>float4eq</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN969"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN970"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN969"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN970"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN976"></a><span class='Declare_Function'>float4ne</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN978"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN979"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN978"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN979"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN985"></a><span class='Declare_Function'>float4lt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN987"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN988"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN987"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN988"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN994"></a><span class='Declare_Function'>float4le</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN996"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN997"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN996"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN997"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1003"></a><span class='Declare_Function'>float4gt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1005"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1006"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1005"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1006"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1012"></a><span class='Declare_Function'>float4ge</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1014"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1015"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1014"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1015"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1021"></a><span class='Declare_Function'>btfloat4cmp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1023"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1024"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1023"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1024"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static int 
</span><a name="LN1030"></a><span class='Declare_Function'>btfloat4fastcmp</span><span class='Parentheses'>(</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>x</span><span class='Delimiter'>, </span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>y</span><span class='Delimiter'>, </span><a href="../../../include/utils/sortsupport.h.html#LN57"><span class='Ref_to_Typedef'>SortSupport</span></a> <span class='Declare_Parameter'>ssup</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1032"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN672"><span class='Ref_to_Func'>DatumGetFloat4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1030"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1033"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN672"><span class='Ref_to_Func'>DatumGetFloat4</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1030"><span class='Ref_to_Parameter'>y</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="../../../include/utils/builtins.h.html#LN63"><span class='Ref_to_Proto'>float4_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1032"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1033"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1039"></a><span class='Declare_Function'>btfloat4sortsupport</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1041"></a>    <a href="../../../include/utils/sortsupport.h.html#LN57"><span class='Ref_to_Typedef'>SortSupport</span></a> <span class='Declare_Local'>ssup</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/utils/sortsupport.h.html#LN57"><span class='Ref_to_Typedef'>SortSupport</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN240"><span class='Ref_to_Macro'>PG_GETARG_POINTER</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1041"><span class='Ref_To_Local'>ssup</span></a><span class='Operator'>-&GT;</span><a href="../../../include/utils/sortsupport.h.html#LN106"><span class='Ref_to_Member'>comparator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN1029"><span class='Ref_to_Func'>btfloat4fastcmp</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float8{eq,ne,lt,le,gt,ge}       - float8/float8 comparison operations 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN1051"></a><span class='Declare_Function'>float8_cmp_internal</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * We consider all NANs to be equal and larger than any non-NAN. This is 
     * somewhat arbitrary; the important thing is to have a consistent sort 
     * order. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>))</span> 
            <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* NAN = NAN */ 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* NAN &GT; non-NAN */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* non-NAN &LT; NAN */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>&GT; </span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>&LT; </span><a href="float.c.html#LN1051"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end float8_cmp_internal &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1081"></a><span class='Declare_Function'>float8eq</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1083"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1084"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1083"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1084"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1090"></a><span class='Declare_Function'>float8ne</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1092"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1093"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1092"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1093"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1099"></a><span class='Declare_Function'>float8lt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1101"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1102"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1101"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1102"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1108"></a><span class='Declare_Function'>float8le</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1110"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1111"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1110"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1111"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1117"></a><span class='Declare_Function'>float8gt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1119"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1120"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1119"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1120"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1126"></a><span class='Declare_Function'>float8ge</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1128"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1129"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1128"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1129"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1135"></a><span class='Declare_Function'>btfloat8cmp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1137"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1138"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1137"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1138"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static int 
</span><a name="LN1144"></a><span class='Declare_Function'>btfloat8fastcmp</span><span class='Parentheses'>(</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>x</span><span class='Delimiter'>, </span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>y</span><span class='Delimiter'>, </span><a href="../../../include/utils/sortsupport.h.html#LN57"><span class='Ref_to_Typedef'>SortSupport</span></a> <span class='Declare_Parameter'>ssup</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1146"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN720"><span class='Ref_to_Func'>DatumGetFloat8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1144"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1147"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN720"><span class='Ref_to_Func'>DatumGetFloat8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1144"><span class='Ref_to_Parameter'>y</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1146"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1147"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1153"></a><span class='Declare_Function'>btfloat8sortsupport</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1155"></a>    <a href="../../../include/utils/sortsupport.h.html#LN57"><span class='Ref_to_Typedef'>SortSupport</span></a> <span class='Declare_Local'>ssup</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/utils/sortsupport.h.html#LN57"><span class='Ref_to_Typedef'>SortSupport</span></a><span class='Parentheses'>) </span><a href="../../../include/fmgr.h.html#LN240"><span class='Ref_to_Macro'>PG_GETARG_POINTER</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1155"><span class='Ref_To_Local'>ssup</span></a><span class='Operator'>-&GT;</span><a href="../../../include/utils/sortsupport.h.html#LN106"><span class='Ref_to_Member'>comparator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN1143"><span class='Ref_to_Func'>btfloat8fastcmp</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1162"></a><span class='Declare_Function'>btfloat48cmp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1164"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1165"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* widen float4 to float8 and then compare */ 
</span>    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1164"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1165"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1172"></a><span class='Declare_Function'>btfloat84cmp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1174"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1175"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* widen float4 to float8 and then compare */ 
</span>    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1174"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1175"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      =================== 
 *      CONVERSION ROUTINES 
 *      =================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      ftod            - converts a float4 number to a float8 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1192"></a><span class='Declare_Function'>ftod</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1194"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1194"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dtof            - converts a float8 number to a float4 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1204"></a><span class='Declare_Function'>dtof</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1206"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1206"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1206"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN1206"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1206"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dtoi4           - converts a float8 number to an int4 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1218"></a><span class='Declare_Function'>dtoi4</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1220"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1221"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 'Inf' is handled by INT_MAX */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&LT; </span>INT_MIN <span class='Operator'>|| </span><a href="float.c.html#LN1220"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&GT; </span>INT_MAX <span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1220"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"integer out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1221"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a><span class='Parentheses'>) </span><a href="../../../port/rint.c.html#LN20"><span class='Ref_to_Func'>rint</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1220"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1221"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dtoi2           - converts a float8 number to an int2 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1238"></a><span class='Declare_Function'>dtoi2</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1240"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1240"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&LT; </span>SHRT_MIN <span class='Operator'>|| </span><a href="float.c.html#LN1240"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&GT; </span>SHRT_MAX <span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1240"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"smallint out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN315"><span class='Ref_to_Macro'>PG_RETURN_INT16</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a><span class='Parentheses'>) </span><a href="../../../port/rint.c.html#LN20"><span class='Ref_to_Func'>rint</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1240"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      i4tod           - converts an int4 number to a float8 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1255"></a><span class='Declare_Function'>i4tod</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1257"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1257"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      i2tod           - converts an int2 number to a float8 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1267"></a><span class='Declare_Function'>i2tod</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1269"></a>    <a href="../../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a>       <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN235"><span class='Ref_to_Macro'>PG_GETARG_INT16</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1269"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ftoi4           - converts a float4 number to an int4 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1279"></a><span class='Declare_Function'>ftoi4</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1281"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1281"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&LT; </span>INT_MIN <span class='Operator'>|| </span><a href="float.c.html#LN1281"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&GT; </span>INT_MAX <span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1281"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"integer out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a><span class='Parentheses'>) </span><a href="../../../port/rint.c.html#LN20"><span class='Ref_to_Func'>rint</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1281"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ftoi2           - converts a float4 number to an int2 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1296"></a><span class='Declare_Function'>ftoi2</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1298"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1298"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&LT; </span>SHRT_MIN <span class='Operator'>|| </span><a href="float.c.html#LN1298"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>&GT; </span>SHRT_MAX <span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1298"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"smallint out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN315"><span class='Ref_to_Macro'>PG_RETURN_INT16</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a><span class='Parentheses'>) </span><a href="../../../port/rint.c.html#LN20"><span class='Ref_to_Func'>rint</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1298"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      i4tof           - converts an int4 number to a float4 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1313"></a><span class='Declare_Function'>i4tof</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1315"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1315"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      i2tof           - converts an int2 number to a float4 number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1325"></a><span class='Declare_Function'>i2tof</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1327"></a>    <a href="../../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a>       <span class='Declare_Local'>num</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN235"><span class='Ref_to_Macro'>PG_GETARG_INT16</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN324"><span class='Ref_to_Macro'>PG_RETURN_FLOAT4</span></a><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN1327"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ======================= 
 *      RANDOM FLOAT8 OPERATORS 
 *      ======================= 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      dround          - returns   ROUND(arg1) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1343"></a><span class='Declare_Function'>dround</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1345"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../port/rint.c.html#LN20"><span class='Ref_to_Func'>rint</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1345"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      dceil           - returns the smallest integer greater than or 
 *                        equal to the specified float 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1355"></a><span class='Declare_Function'>dceil</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1357"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span>ceil<span class='Parentheses'>(</span><a href="float.c.html#LN1357"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      dfloor          - returns the largest integer lesser than or 
 *                        equal to the specified float 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1367"></a><span class='Declare_Function'>dfloor</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1369"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span>floor<span class='Parentheses'>(</span><a href="float.c.html#LN1369"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      dsign           - returns -1 if the argument is less than 0, 0 
 *                        if the argument is equal to 0, and 1 if the 
 *                        argument is greater than zero. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1380"></a><span class='Declare_Function'>dsign</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1382"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1383"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1382"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN1383"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1382"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN1383"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN1383"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1383"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      dtrunc          - returns truncation-towards-zero of arg1, 
 *                        arg1 &GT;= 0 ... the greatest integer less 
 *                                      than or equal to arg1 
 *                        arg1 &LT; 0  ... the least integer greater 
 *                                      than or equal to arg1 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1403"></a><span class='Declare_Function'>dtrunc</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1405"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1406"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1405"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN1406"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>floor<span class='Parentheses'>(</span><a href="float.c.html#LN1405"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN1406"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= -</span>floor<span class='Parentheses'>(</span><span class='Operator'>-</span><a href="float.c.html#LN1405"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1406"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dsqrt           - returns square root of arg1 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1421"></a><span class='Declare_Function'>dsqrt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1423"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1424"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1423"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot take square root of a negative number"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1424"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>sqrt<span class='Parentheses'>(</span><a href="float.c.html#LN1423"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1424"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1423"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN1423"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1424"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dcbrt           - returns cube root of arg1 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1442"></a><span class='Declare_Function'>dcbrt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1444"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1445"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1445"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN106"><span class='Ref_to_Proto'>cbrt</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1444"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1445"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1444"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN1444"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1445"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dpow            - returns pow(arg1,arg2) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1457"></a><span class='Declare_Function'>dpow</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1459"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1460"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1461"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The SQL spec requires that we emit a particular SQLSTATE error code for 
     * certain error conditions.  Specifically, we don't return a 
     * divide-by-zero error code for 0 ^ -1. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"zero raised to a negative power is undefined"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>&& </span>floor<span class='Parentheses'>(</span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_POWER_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"a negative number raised to a non-integer power yields a complex result"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * pow() sets errno only on some platforms, depending on whether it 
     * follows _IEEE_, _POSIX_, _XOPEN_, or _SVID_, so we try to avoid using 
     * errno.  However, some platform/CPU combinations return errno == EDOM 
     * and result == Nan for negative arg1 and very large arg2 (they must be 
     * using something different from our floor() test to decide it's 
     * invalid).  Other platforms (HPPA) return errno == ERANGE and a large 
     * (HUGE_VAL) but finite result to signal overflow. 
     */ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>pow<span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>== </span>EDOM <span class='Operator'>&& </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span>fabs<span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>|| </span><span class='Parentheses'>(</span>fabs<span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>))</span> 
            <span class='Comment_Multi_Line'>/* The sign of Inf is not significant in this case. */ 
</span>            <a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>fabs<span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>== </span>ERANGE <span class='Operator'>&& </span><a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& !</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>))</span> 
        <a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1460"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN1459"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1461"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dpow &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dexp            - returns the exponential function of arg1 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1510"></a><span class='Declare_Function'>dexp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1512"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1513"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN1513"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>exp<span class='Parentheses'>(</span><a href="float.c.html#LN1512"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>== </span>ERANGE <span class='Operator'>&& </span><a href="float.c.html#LN1513"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& !</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1513"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>))</span> 
        <a href="float.c.html#LN1513"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1513"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1512"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1513"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dlog1           - returns the natural logarithm of arg1 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1529"></a><span class='Declare_Function'>dlog1</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1531"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1532"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Emit particular SQLSTATE error codes for ln(). This is required by the 
     * SQL standard. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1531"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_LOG<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot take logarithm of zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1531"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_LOG<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot take logarithm of a negative number"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1532"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>log<span class='Parentheses'>(</span><a href="float.c.html#LN1531"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1532"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1531"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN1531"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1532"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dlog1 &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dlog10          - returns the base 10 logarithm of arg1 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1558"></a><span class='Declare_Function'>dlog10</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1560"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1561"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Emit particular SQLSTATE error codes for log(). The SQL spec doesn't 
     * define log(), but it does define ln(), so it makes sense to emit the 
     * same error code for an analogous error condition. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1560"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_LOG<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot take logarithm of zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1560"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_LOG<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"cannot take logarithm of a negative number"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1561"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>log10<span class='Parentheses'>(</span><a href="float.c.html#LN1560"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1561"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1560"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN1560"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1561"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dlog10 &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dacos           - returns the arccos of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1588"></a><span class='Declare_Function'>dacos</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1590"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1591"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1590"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The principal branch of the inverse cosine function maps values in the 
     * range [-1, 1] to values in the range [0, Pi], so we should reject any 
     * inputs outside that range and the result will always be finite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1590"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; -</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN1590"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1591"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>acos<span class='Parentheses'>(</span><a href="float.c.html#LN1590"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1591"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1591"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dacos &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dasin           - returns the arcsin of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1618"></a><span class='Declare_Function'>dasin</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1620"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1621"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1620"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The principal branch of the inverse sine function maps values in the 
     * range [-1, 1] to values in the range [-Pi/2, Pi/2], so we should reject 
     * any inputs outside that range and the result will always be finite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1620"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; -</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN1620"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1621"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>asin<span class='Parentheses'>(</span><a href="float.c.html#LN1620"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1621"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1621"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dasin &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      datan           - returns the arctan of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1648"></a><span class='Declare_Function'>datan</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1650"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1651"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1650"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The principal branch of the inverse tangent function maps all inputs to 
     * values in the range [-Pi/2, Pi/2], so the result should always be 
     * finite, even if the input is infinite. 
     */ 
</span>    <a href="float.c.html#LN1651"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>atan<span class='Parentheses'>(</span><a href="float.c.html#LN1650"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1651"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1651"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end datan &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      atan2           - returns the arctan of arg1/arg2 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1673"></a><span class='Declare_Function'>datan2</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1675"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1676"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1677"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if either input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1675"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1676"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * atan2 maps all inputs to values in the range [-Pi, Pi], so the result 
     * should always be finite, even if the inputs are infinite. 
     */ 
</span>    <a href="float.c.html#LN1677"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>atan2<span class='Parentheses'>(</span><a href="float.c.html#LN1675"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN1676"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1677"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1677"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end datan2 &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dcos            - returns the cosine of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1698"></a><span class='Declare_Function'>dcos</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1700"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1701"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1700"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * cos() is periodic and so theoretically can work for all finite inputs, 
     * but some implementations may choose to throw error if the input is so 
     * large that there are no significant digits in the result.  So we should 
     * check for errors.  POSIX allows an error to be reported either via 
     * errno or via fetestexcept(), but currently we only support checking 
     * errno.  (fetestexcept() is rumored to report underflow unreasonably 
     * early on some platforms, so it's not clear that believing it would be a 
     * net improvement anyway.) 
     * 
     * For infinite inputs, POSIX specifies that the trigonometric functions 
     * should return a domain error; but we won't notice that unless the 
     * platform reports via errno, so also explicitly test for infinite 
     * inputs. 
     */ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN1701"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>cos<span class='Parentheses'>(</span><a href="float.c.html#LN1700"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1700"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1701"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1701"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dcos &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dcot            - returns the cotangent of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1738"></a><span class='Declare_Function'>dcot</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1740"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1741"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1740"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Be sure to throw an error if the input is infinite --- see dcos() */ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN1741"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>tan<span class='Parentheses'>(</span><a href="float.c.html#LN1740"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1740"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1741"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>/ </span><a href="float.c.html#LN1741"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1741"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>true </span><span class='Comment_Multi_Line'>/* cot(0) == Inf */ </span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1741"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dcot &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dsin            - returns the sine of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1765"></a><span class='Declare_Function'>dsin</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1767"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1768"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1767"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Be sure to throw an error if the input is infinite --- see dcos() */ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN1768"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>sin<span class='Parentheses'>(</span><a href="float.c.html#LN1767"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1767"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1768"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1768"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dsin &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dtan            - returns the tangent of arg1 (radians) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1791"></a><span class='Declare_Function'>dtan</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1793"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1794"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1793"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Be sure to throw an error if the input is infinite --- see dcos() */ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN1794"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>tan<span class='Parentheses'>(</span><a href="float.c.html#LN1793"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1793"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1794"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>true </span><span class='Comment_Multi_Line'>/* tan(pi/2) == Inf */ </span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1794"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dtan &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* ========== DEGREE-BASED TRIGONOMETRIC FUNCTIONS ========== */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Initialize the cached constants declared at the head of this file 
 * (sin_30 etc).  The fact that we need those at all, let alone need this 
 * Rube-Goldberg-worthy method of initializing them, is because there are 
 * compilers out there that will precompute expressions such as sin(constant) 
 * using a sin() function different from what will be used at runtime.  If we 
 * want exact results, we must ensure that none of the scaling constants used 
 * in the degree-based trig functions are computed that way.  To do so, we 
 * compute them from the variables degree_c_thirty etc, which are also really 
 * constants, but the compiler cannot assume that. 
 * 
 * Other hazards we are trying to forestall with this kluge include the 
 * possibility that compilers will rearrange the expressions, or compute 
 * some intermediate results in registers wider than a standard double. 
 * 
 * In the places where we use these constants, the typical pattern is like 
 *      volatile float8 sin_x = sin(x * RADIANS_PER_DEGREE); 
 *      return (sin_x / sin_30); 
 * where we hope to get a value of exactly 1.0 from the division when x = 30. 
 * The volatile temporary variable is needed on machines with wide float 
 * registers, to ensure that the result of sin(x) is rounded to double width 
 * the same as the value of sin_30 has been.  Experimentation with gcc shows 
 * that marking the temp variable volatile is necessary to make the store and 
 * reload actually happen; hopefully the same trick works for other compilers. 
 * (gcc's documentation suggests using the -ffloat-store compiler switch to 
 * ensure this, but that is compiler-specific and it also pessimizes code in 
 * many places where we don't care about this.) 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN1845"></a><span class='Declare_Function'>init_degree_constants</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="float.c.html#LN71"><span class='Ref_to_Global_Var'>sin_30</span></a> <span class='Operator'>= </span>sin<span class='Parentheses'>(</span><a href="float.c.html#LN85"><span class='Ref_to_Global_Var'>degree_c_thirty</span></a> <span class='Operator'>* </span><a href="float.c.html#LN34"><span class='Ref_to_Const'>RADIANS_PER_DEGREE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN72"><span class='Ref_to_Global_Var'>one_minus_cos_60</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span>cos<span class='Parentheses'>(</span><a href="float.c.html#LN87"><span class='Ref_to_Global_Var'>degree_c_sixty</span></a> <span class='Operator'>* </span><a href="float.c.html#LN34"><span class='Ref_to_Const'>RADIANS_PER_DEGREE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN73"><span class='Ref_to_Global_Var'>asin_0_5</span></a> <span class='Operator'>= </span>asin<span class='Parentheses'>(</span><a href="float.c.html#LN88"><span class='Ref_to_Global_Var'>degree_c_one_half</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN74"><span class='Ref_to_Global_Var'>acos_0_5</span></a> <span class='Operator'>= </span>acos<span class='Parentheses'>(</span><a href="float.c.html#LN88"><span class='Ref_to_Global_Var'>degree_c_one_half</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN75"><span class='Ref_to_Global_Var'>atan_1_0</span></a> <span class='Operator'>= </span>atan<span class='Parentheses'>(</span><a href="float.c.html#LN89"><span class='Ref_to_Global_Var'>degree_c_one</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN76"><span class='Ref_to_Global_Var'>tan_45</span></a> <span class='Operator'>= </span><a href="float.c.html#LN92"><span class='Ref_to_Proto'>sind_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN86"><span class='Ref_to_Global_Var'>degree_c_forty_five</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="float.c.html#LN93"><span class='Ref_to_Proto'>cosd_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN86"><span class='Ref_to_Global_Var'>degree_c_forty_five</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN77"><span class='Ref_to_Global_Var'>cot_45</span></a> <span class='Operator'>= </span><a href="float.c.html#LN93"><span class='Ref_to_Proto'>cosd_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN86"><span class='Ref_to_Global_Var'>degree_c_forty_five</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="float.c.html#LN92"><span class='Ref_to_Proto'>sind_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN86"><span class='Ref_to_Global_Var'>degree_c_forty_five</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN70"><span class='Ref_to_Global_Var'>degree_consts_set</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<a name="LN1857"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>INIT_DEGREE_CONSTANTS</span><span class='Parentheses'>() </span><span class='Operator'>\ 
</span><span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="float.c.html#LN70"><span class='Ref_to_Global_Var'>degree_consts_set</span></a><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="float.c.html#LN94"><span class='Ref_to_Proto'>init_degree_constants</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} </span><span class='Control'>while</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      asind_q1        - returns the inverse sine of x in degrees, for x in 
 *                        the range [0, 1].  The result is an angle in the 
 *                        first quadrant --- [0, 90] degrees. 
 * 
 *                        For the 3 special case inputs (0, 0.5 and 1), this 
 *                        function will return exact values (0, 30 and 90 
 *                        degrees respectively). 
 */ 
</span><span class='Keyword'>static double 
</span><a name="LN1874"></a><span class='Declare_Function'>asind_q1</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Stitch together inverse sine and cosine functions for the ranges [0, 
     * 0.5] and (0.5, 1].  Each expression below is guaranteed to return 
     * exactly 30 for x=0.5, so the result is a continuous monotonic function 
     * over the full range. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1874"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>5</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1884"></a>        <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>asin_x</span> <span class='Operator'>= </span>asin<span class='Parentheses'>(</span><a href="float.c.html#LN1874"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1884"><span class='Ref_To_Local'>asin_x</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN73"><span class='Ref_to_Global_Var'>asin_0_5</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>30</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1890"></a>        <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>acos_x</span> <span class='Operator'>= </span>acos<span class='Parentheses'>(</span><a href="float.c.html#LN1874"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><span class='Parentheses'>(</span><a href="float.c.html#LN1890"><span class='Ref_To_Local'>acos_x</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN74"><span class='Ref_to_Global_Var'>acos_0_5</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>60</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end asind_q1 &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      acosd_q1        - returns the inverse cosine of x in degrees, for x in 
 *                        the range [0, 1].  The result is an angle in the 
 *                        first quadrant --- [0, 90] degrees. 
 * 
 *                        For the 3 special case inputs (0, 0.5 and 1), this 
 *                        function will return exact values (0, 60 and 90 
 *                        degrees respectively). 
 */ 
</span><span class='Keyword'>static double 
</span><a name="LN1907"></a><span class='Declare_Function'>acosd_q1</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Stitch together inverse sine and cosine functions for the ranges [0, 
     * 0.5] and (0.5, 1].  Each expression below is guaranteed to return 
     * exactly 60 for x=0.5, so the result is a continuous monotonic function 
     * over the full range. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1907"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>5</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1917"></a>        <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>asin_x</span> <span class='Operator'>= </span>asin<span class='Parentheses'>(</span><a href="float.c.html#LN1907"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><span class='Parentheses'>(</span><a href="float.c.html#LN1917"><span class='Ref_To_Local'>asin_x</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN73"><span class='Ref_to_Global_Var'>asin_0_5</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>30</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1923"></a>        <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>acos_x</span> <span class='Operator'>= </span>acos<span class='Parentheses'>(</span><a href="float.c.html#LN1907"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1923"><span class='Ref_To_Local'>acos_x</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN74"><span class='Ref_to_Global_Var'>acos_0_5</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>60</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end acosd_q1 &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dacosd          - returns the arccos of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1934"></a><span class='Declare_Function'>dacosd</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1936"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1937"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1936"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The principal branch of the inverse cosine function maps values in the 
     * range [-1, 1] to values in the range [0, 180], so we should reject any 
     * inputs outside that range and the result will always be finite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1936"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; -</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN1936"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1936"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN1937"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN1906"><span class='Ref_to_Func'>acosd_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1936"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN1937"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>+ </span><a href="float.c.html#LN1873"><span class='Ref_to_Func'>asind_q1</span></a><span class='Parentheses'>(</span><span class='Operator'>-</span><a href="float.c.html#LN1936"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1937"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1937"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dacosd &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dasind          - returns the arcsin of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1969"></a><span class='Declare_Function'>dasind</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1971"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1972"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1971"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The principal branch of the inverse sine function maps values in the 
     * range [-1, 1] to values in the range [-90, 90], so we should reject any 
     * inputs outside that range and the result will always be finite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1971"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; -</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN1971"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN1971"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN1972"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN1873"><span class='Ref_to_Func'>asind_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1971"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="float.c.html#LN1972"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN1873"><span class='Ref_to_Func'>asind_q1</span></a><span class='Parentheses'>(</span><span class='Operator'>-</span><a href="float.c.html#LN1971"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1972"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN1972"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dasind &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      datand          - returns the arctan of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2004"></a><span class='Declare_Function'>datand</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2006"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2007"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2008"></a>    <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>atan_arg1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if the input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2006"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The principal branch of the inverse tangent function maps all inputs to 
     * values in the range [-90, 90], so the result should always be finite, 
     * even if the input is infinite.  Additionally, we take care to ensure 
     * than when arg1 is 1, the result is exactly 45. 
     */ 
</span>    <a href="float.c.html#LN2008"><span class='Ref_To_Local'>atan_arg1</span></a> <span class='Operator'>= </span>atan<span class='Parentheses'>(</span><a href="float.c.html#LN2006"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2007"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="float.c.html#LN2008"><span class='Ref_To_Local'>atan_arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN75"><span class='Ref_to_Global_Var'>atan_1_0</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>45</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2007"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2007"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end datand &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      atan2d          - returns the arctan of arg1/arg2 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2034"></a><span class='Declare_Function'>datan2d</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2036"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2037"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2038"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2039"></a>    <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>atan2_arg1_arg2</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Per the POSIX spec, return NaN if either input is NaN */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2036"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2037"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * atan2d maps all inputs to values in the range [-180, 180], so the 
     * result should always be finite, even if the inputs are infinite. 
     * 
     * Note: this coding assumes that atan(1.0) is a suitable scaling constant 
     * to get an exact result from atan2().  This might well fail on us at 
     * some point, requiring us to decide exactly what inputs we think we're 
     * going to guarantee an exact result for. 
     */ 
</span>    <a href="float.c.html#LN2039"><span class='Ref_To_Local'>atan2_arg1_arg2</span></a> <span class='Operator'>= </span>atan2<span class='Parentheses'>(</span><a href="float.c.html#LN2036"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN2037"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2038"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="float.c.html#LN2039"><span class='Ref_To_Local'>atan2_arg1_arg2</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN75"><span class='Ref_to_Global_Var'>atan_1_0</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>45</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2038"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2038"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end datan2d &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      sind_0_to_30    - returns the sine of an angle that lies between 0 and 
 *                        30 degrees.  This will return exactly 0 when x is 0, 
 *                        and exactly 0.5 when x is 30 degrees. 
 */ 
</span><span class='Keyword'>static double 
</span><a name="LN2070"></a><span class='Declare_Function'>sind_0_to_30</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2072"></a>    <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>sin_x</span> <span class='Operator'>= </span>sin<span class='Parentheses'>(</span><a href="float.c.html#LN2070"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>* </span><a href="float.c.html#LN34"><span class='Ref_to_Const'>RADIANS_PER_DEGREE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2072"><span class='Ref_To_Local'>sin_x</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN71"><span class='Ref_to_Global_Var'>sin_30</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><span class='Number'>2</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      cosd_0_to_60    - returns the cosine of an angle that lies between 0 
 *                        and 60 degrees.  This will return exactly 1 when x 
 *                        is 0, and exactly 0.5 when x is 60 degrees. 
 */ 
</span><span class='Keyword'>static double 
</span><a name="LN2084"></a><span class='Declare_Function'>cosd_0_to_60</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2086"></a>    <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>one_minus_cos_x</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span>cos<span class='Parentheses'>(</span><a href="float.c.html#LN2084"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>* </span><a href="float.c.html#LN34"><span class='Ref_to_Const'>RADIANS_PER_DEGREE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><span class='Parentheses'>(</span><a href="float.c.html#LN2086"><span class='Ref_To_Local'>one_minus_cos_x</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN72"><span class='Ref_to_Global_Var'>one_minus_cos_60</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><span class='Number'>2</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      sind_q1         - returns the sine of an angle in the first quadrant 
 *                        (0 to 90 degrees). 
 */ 
</span><span class='Keyword'>static double 
</span><a name="LN2097"></a><span class='Declare_Function'>sind_q1</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Stitch together the sine and cosine functions for the ranges [0, 30] 
     * and (30, 90].  These guarantee to return exact answers at their 
     * endpoints, so the overall result is a continuous monotonic function 
     * that gives exact results when x = 0, 30 and 90 degrees. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2097"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT;= </span><span class='Number'>30</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="float.c.html#LN2069"><span class='Ref_to_Func'>sind_0_to_30</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2097"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <a href="float.c.html#LN2083"><span class='Ref_to_Func'>cosd_0_to_60</span></a><span class='Parentheses'>(</span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2097"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      cosd_q1         - returns the cosine of an angle in the first quadrant 
 *                        (0 to 90 degrees). 
 */ 
</span><span class='Keyword'>static double 
</span><a name="LN2117"></a><span class='Declare_Function'>cosd_q1</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Stitch together the sine and cosine functions for the ranges [0, 60] 
     * and (60, 90].  These guarantee to return exact answers at their 
     * endpoints, so the overall result is a continuous monotonic function 
     * that gives exact results when x = 0, 60 and 90 degrees. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2117"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT;= </span><span class='Number'>60</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="float.c.html#LN2083"><span class='Ref_to_Func'>cosd_0_to_60</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2117"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <a href="float.c.html#LN2069"><span class='Ref_to_Func'>sind_0_to_30</span></a><span class='Parentheses'>(</span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2117"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dcosd           - returns the cosine of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2136"></a><span class='Declare_Function'>dcosd</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2138"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2139"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2140"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sign</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Per the POSIX spec, return NaN if the input is NaN and throw an error 
     * if the input is infinite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Reduce the range of the input to [0,90] degrees */ 
</span>    <a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span>fmod<span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* cosd(-x) = cosd(x) */ 
</span>        <a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* cosd(360-x) = cosd(x) */ 
</span>        <a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* cosd(180-x) = -cosd(x) */ 
</span>        <a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2140"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2140"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="float.c.html#LN2139"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2140"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>* </span><a href="float.c.html#LN93"><span class='Ref_to_Proto'>cosd_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2138"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2139"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2139"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dcosd &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dcotd           - returns the cotangent of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2189"></a><span class='Declare_Function'>dcotd</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2191"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2192"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2193"></a>    <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>cot_arg1</span><span class='Delimiter'>; 
</span><a name="LN2194"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sign</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Per the POSIX spec, return NaN if the input is NaN and throw an error 
     * if the input is infinite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Reduce the range of the input to [0,90] degrees */ 
</span>    <a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span>fmod<span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* cotd(-x) = -cotd(x) */ 
</span>        <a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* cotd(360-x) = -cotd(x) */ 
</span>        <a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* cotd(180-x) = -cotd(x) */ 
</span>        <a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="float.c.html#LN2193"><span class='Ref_To_Local'>cot_arg1</span></a> <span class='Operator'>= </span><a href="float.c.html#LN93"><span class='Ref_to_Proto'>cosd_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="float.c.html#LN92"><span class='Ref_to_Proto'>sind_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2191"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2192"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2194"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN2193"><span class='Ref_To_Local'>cot_arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN77"><span class='Ref_to_Global_Var'>cot_45</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * On some machines we get cotd(270) = minus zero, but this isn't always 
     * true.  For portability, and because the user constituency for this 
     * function probably doesn't want minus zero, force it to plain zero. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2192"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN2192"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2192"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>true </span><span class='Comment_Multi_Line'>/* cotd(0) == Inf */ </span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2192"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dcotd &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dsind           - returns the sine of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2254"></a><span class='Declare_Function'>dsind</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2256"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2257"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2258"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sign</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Per the POSIX spec, return NaN if the input is NaN and throw an error 
     * if the input is infinite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Reduce the range of the input to [0,90] degrees */ 
</span>    <a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span>fmod<span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* sind(-x) = -sind(x) */ 
</span>        <a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2258"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2258"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* sind(360-x) = -sind(x) */ 
</span>        <a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2258"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2258"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* sind(180-x) = sind(x) */ 
</span>        <a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="float.c.html#LN2257"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2258"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>* </span><a href="float.c.html#LN92"><span class='Ref_to_Proto'>sind_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2256"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2257"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2257"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dsind &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      dtand           - returns the tangent of arg1 (degrees) 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2308"></a><span class='Declare_Function'>dtand</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2310"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2311"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2312"></a>    <span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Declare_Local'>tan_arg1</span><span class='Delimiter'>; 
</span><a name="LN2313"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sign</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Per the POSIX spec, return NaN if the input is NaN and throw an error 
     * if the input is infinite. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"input is out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN1857"><span class='Ref_to_Macro'>INIT_DEGREE_CONSTANTS</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Reduce the range of the input to [0,90] degrees */ 
</span>    <a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span>fmod<span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* tand(-x) = -tand(x) */ 
</span>        <a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* tand(360-x) = -tand(x) */ 
</span>        <a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>360</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>&GT; </span><span class='Number'>90</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* tand(180-x) = -tand(x) */ 
</span>        <a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><span class='Number'>180</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= -</span><a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="float.c.html#LN2312"><span class='Ref_To_Local'>tan_arg1</span></a> <span class='Operator'>= </span><a href="float.c.html#LN92"><span class='Ref_to_Proto'>sind_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="float.c.html#LN93"><span class='Ref_to_Proto'>cosd_q1</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2310"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2311"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2313"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN2312"><span class='Ref_To_Local'>tan_arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN76"><span class='Ref_to_Global_Var'>tan_45</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * On some machines we get tand(180) = minus zero, but this isn't always 
     * true.  For portability, and because the user constituency for this 
     * function probably doesn't want minus zero, force it to plain zero. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2311"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN2311"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2311"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Boolean'>true </span><span class='Comment_Multi_Line'>/* tand(90) == Inf */ </span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2311"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dtand &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      degrees     - returns degrees converted from radians 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2373"></a><span class='Declare_Function'>degrees</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2375"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2376"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2376"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2375"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN34"><span class='Ref_to_Const'>RADIANS_PER_DEGREE</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2376"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2375"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN2375"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2376"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      dpi             - returns the constant PI 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2389"></a><span class='Declare_Function'>dpi</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../../contrib/earthdistance/earthdistance.c.html#LN9"><span class='Ref_to_Const'>M_PI</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      radians     - returns radians converted from degrees 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2399"></a><span class='Declare_Function'>radians</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2401"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2402"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2402"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2401"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>* </span><a href="float.c.html#LN34"><span class='Ref_to_Const'>RADIANS_PER_DEGREE</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2402"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2401"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN2401"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2402"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      drandom     - returns a random number 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2415"></a><span class='Declare_Function'>drandom</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2417"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* result [0.0 - 1.0) */ 
</span>    <a href="float.c.html#LN2417"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="../../../port/random.c.html#LN20"><span class='Ref_to_Func'>random</span></a><span class='Parentheses'>() </span><span class='Operator'>/ </span><span class='Parentheses'>((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="../../../include/pg_config_manual.h.html#LN199"><span class='Ref_to_Const'>MAX_RANDOM_VALUE</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2417"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 *      setseed     - set seed for the random number generator 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2430"></a><span class='Declare_Function'>setseed</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2432"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>seed</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2433"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>iseed</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2432"><span class='Ref_To_Local'>seed</span></a> <span class='Operator'>&LT; -</span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="float.c.html#LN2432"><span class='Ref_To_Local'>seed</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>        <a href="../../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"setseed parameter %f out of range [-1,1]"</span><span class='Delimiter'>, </span><a href="float.c.html#LN2432"><span class='Ref_To_Local'>seed</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2433"><span class='Ref_To_Local'>iseed</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) (</span><a href="float.c.html#LN2432"><span class='Ref_To_Local'>seed</span></a> <span class='Operator'>* </span><a href="../../../include/pg_config_manual.h.html#LN199"><span class='Ref_to_Const'>MAX_RANDOM_VALUE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../port/srandom.c.html#LN20"><span class='Ref_to_Func'>srandom</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned int</span><span class='Parentheses'>) </span><a href="float.c.html#LN2433"><span class='Ref_To_Local'>iseed</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      ========================= 
 *      FLOAT AGGREGATE OPERATORS 
 *      ========================= 
 * 
 *      float8_accum        - accumulate for AVG(), variance aggregates, etc. 
 *      float4_accum        - same, but input data is float4 
 *      float8_avg          - produce final result for float AVG() 
 *      float8_var_samp     - produce final result for float VAR_SAMP() 
 *      float8_var_pop      - produce final result for float VAR_POP() 
 *      float8_stddev_samp  - produce final result for float STDDEV_SAMP() 
 *      float8_stddev_pop   - produce final result for float STDDEV_POP() 
 * 
 * The transition datatype for all these aggregates is a 3-element array 
 * of float8, holding the values N, sum(X), sum(X*X) in that order. 
 * 
 * Note that we represent N as a float to avoid having to build a special 
 * datatype.  Given a reasonable floating-point implementation, there should 
 * be no accuracy loss unless N exceeds 2 ^ 52 or so (by which time the 
 * user will have doubtless lost interest anyway...) 
 */ 
</span> 
<span class='Keyword'>static </span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Operator'>* 
</span><a name="LN2469"></a><span class='Declare_Function'>check_float8_array</span><span class='Parentheses'>(</span><a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>transarray</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>caller</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>n</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * We expect the input to be an N-element float array; verify that. We 
     * don't need to use deconstruct_array() since the array data is just 
     * going to look like a C array of N float8 values. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/array.h.html#LN270"><span class='Ref_to_Macro'>ARR_NDIM</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>transarray</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>1</span> <span class='Operator'>|| 
</span>        <a href="../../../include/utils/array.h.html#LN274"><span class='Ref_to_Macro'>ARR_DIMS</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>transarray</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>n</span></a> <span class='Operator'>|| 
</span>        <a href="../../../include/utils/array.h.html#LN271"><span class='Ref_to_Macro'>ARR_HASNULL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>transarray</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>        <a href="../../../include/utils/array.h.html#LN272"><span class='Ref_to_Macro'>ARR_ELEMTYPE</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>transarray</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN39"><span class='Ref_to_Const'>FLOAT8OID</span></a><span class='Parentheses'>)</span> 
        <a href="../../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"%s: expected %d-element float8 array"</span><span class='Delimiter'>, </span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>caller</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/utils/array.h.html#LN302"><span class='Ref_to_Macro'>ARR_DATA_PTR</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2469"><span class='Ref_to_Parameter'>transarray</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * float8_combine 
 * 
 * An aggregate combine function used to combine two 3 fields 
 * aggregate transition data into a single transition data. 
 * This function is used only in two stage aggregation and 
 * shouldn't be called outside aggregate context. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2493"></a><span class='Declare_Function'>float8_combine</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2495"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray1</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2496"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray2</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2497"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues1</span><span class='Delimiter'>; 
</span><a name="LN2498"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues2</span><span class='Delimiter'>; 
</span><a name="LN2499"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2500"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2501"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/fmgr.h.html#LN695"><span class='Ref_to_Proto'>AggCheckCallContext</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
        <a href="../../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"aggregate function called in non-aggregate context"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2495"><span class='Ref_To_Local'>transarray1</span></a><span class='Delimiter'>, </span><span class='String'>"float8_combine"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2499"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2500"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2501"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <a href="float.c.html#LN2498"><span class='Ref_To_Local'>transvalues2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2496"><span class='Ref_To_Local'>transarray2</span></a><span class='Delimiter'>, </span><span class='String'>"float8_combine"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2499"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2498"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2500"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2498"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2500"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2498"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2501"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2498"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2501"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2498"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2499"><span class='Ref_To_Local'>N</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2500"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2497"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2501"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2495"><span class='Ref_To_Local'>transarray1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_combine &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2529"></a><span class='Declare_Function'>float8_accum</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2531"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2532"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>newval</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2533"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2534"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2535"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2536"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2531"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_accum"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2534"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2535"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2536"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <a href="float.c.html#LN2534"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>+= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2535"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2532"><span class='Ref_To_Local'>newval</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2535"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2532"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2536"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2532"><span class='Ref_To_Local'>newval</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2532"><span class='Ref_To_Local'>newval</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2536"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2532"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If we're invoked as an aggregate, we can cheat and modify our first 
     * parameter in-place to reduce palloc overhead. Otherwise we construct a 
     * new array with the updated transition data and return it. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN695"><span class='Ref_to_Proto'>AggCheckCallContext</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2534"><span class='Ref_To_Local'>N</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2535"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2533"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2536"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>; 
</span> 
        <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2531"><span class='Ref_To_Local'>transarray</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN2564"></a>        <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>transdatums</span><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span><a name="LN2565"></a>        <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <a href="float.c.html#LN2564"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2534"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2564"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2535"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2564"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2536"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="float.c.html#LN2565"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN369"><span class='Ref_to_Proto'>construct_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2564"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, 
</span>                                 <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN39"><span class='Ref_to_Const'>FLOAT8OID</span></a><span class='Delimiter'>, 
</span>                                 <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span>FLOAT8PASSBYVAL<span class='Delimiter'>, </span><span class='String'>'d'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2565"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end float8_accum &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2580"></a><span class='Declare_Function'>float4_accum</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2582"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* do computations as float8 */ 
</span><a name="LN2585"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>newval</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2586"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2587"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2588"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2589"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2582"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float4_accum"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2587"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2588"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2589"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <a href="float.c.html#LN2587"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>+= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2588"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2585"><span class='Ref_To_Local'>newval</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2588"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2585"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2589"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2585"><span class='Ref_To_Local'>newval</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2585"><span class='Ref_To_Local'>newval</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2589"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2585"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If we're invoked as an aggregate, we can cheat and modify our first 
     * parameter in-place to reduce palloc overhead. Otherwise we construct a 
     * new array with the updated transition data and return it. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN695"><span class='Ref_to_Proto'>AggCheckCallContext</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2587"><span class='Ref_To_Local'>N</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2588"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2586"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2589"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>; 
</span> 
        <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2582"><span class='Ref_To_Local'>transarray</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN2617"></a>        <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>transdatums</span><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span><a name="LN2618"></a>        <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <a href="float.c.html#LN2617"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2587"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2617"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2588"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2617"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2589"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="float.c.html#LN2618"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN369"><span class='Ref_to_Proto'>construct_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2617"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, 
</span>                                 <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN39"><span class='Ref_to_Const'>FLOAT8OID</span></a><span class='Delimiter'>, 
</span>                                 <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span>FLOAT8PASSBYVAL<span class='Delimiter'>, </span><span class='String'>'d'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2618"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end float4_accum &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2633"></a><span class='Declare_Function'>float8_avg</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2635"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2636"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2637"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2638"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2636"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2635"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_avg"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2637"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2636"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2638"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2636"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <span class='Comment_Multi_Line'>/* ignore sumX2 */ 
</span> 
    <span class='Comment_Multi_Line'>/* SQL defines AVG of no values to be NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2637"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2638"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN2637"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2653"></a><span class='Declare_Function'>float8_var_pop</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2655"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2656"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2657"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2658"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2659"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2660"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2656"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2655"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_var_pop"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2657"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2656"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2658"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2656"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2659"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2656"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Population variance is undefined when N is 0, so return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2657"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2660"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2657"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2659"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2658"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2658"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2660"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2659"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2658"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Watch out for roundoff error producing a negative numerator */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2660"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2660"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN2657"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2657"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_var_pop &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2682"></a><span class='Declare_Function'>float8_var_samp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2684"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2685"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2686"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2687"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2688"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2689"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2685"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2684"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_var_samp"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2686"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2685"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2687"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2685"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2688"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2685"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Sample variance is undefined when N is 0 or 1, so return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2686"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT;= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2689"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2686"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2688"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2687"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2687"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2689"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2688"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2687"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Watch out for roundoff error producing a negative numerator */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2689"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2689"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN2686"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN2686"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_var_samp &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2711"></a><span class='Declare_Function'>float8_stddev_pop</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2713"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2714"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2715"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2716"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2717"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2718"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2714"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2713"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_stddev_pop"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2715"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2714"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2716"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2714"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2717"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2714"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Population stddev is undefined when N is 0, so return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2715"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2718"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2715"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2717"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2716"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2716"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2718"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2717"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2716"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Watch out for roundoff error producing a negative numerator */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2718"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span>sqrt<span class='Parentheses'>(</span><a href="float.c.html#LN2718"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN2715"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2715"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_stddev_pop &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2740"></a><span class='Declare_Function'>float8_stddev_samp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2742"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2743"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2744"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2745"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2746"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2747"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2743"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2742"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_stddev_samp"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2744"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2743"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2745"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2743"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2746"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2743"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Sample stddev is undefined when N is 0 or 1, so return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2744"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT;= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2747"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2744"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2746"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2745"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2745"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2747"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2746"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2745"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Watch out for roundoff error producing a negative numerator */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2747"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span>sqrt<span class='Parentheses'>(</span><a href="float.c.html#LN2747"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN2744"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN2744"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>))))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_stddev_samp &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 *      ========================= 
 *      SQL2003 BINARY AGGREGATES 
 *      ========================= 
 * 
 * The transition datatype for all these aggregates is a 6-element array of 
 * float8, holding the values N, sum(X), sum(X*X), sum(Y), sum(Y*Y), sum(X*Y) 
 * in that order.  Note that Y is the first argument to the aggregates! 
 * 
 * It might seem attractive to optimize this by having multiple accumulator 
 * functions that only calculate the sums actually needed.  But on most 
 * modern machines, a couple of extra floating-point multiplies will be 
 * insignificant compared to the other per-tuple overhead, so I've chosen 
 * to minimize code space instead. 
 */ 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2785"></a><span class='Declare_Function'>float8_regr_accum</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2787"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2788"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>newvalY</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2789"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>newvalX</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2790"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2791"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2792"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2793"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2794"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN2795"></a>                <span class='Declare_Local'>sumY2</span><span class='Delimiter'>, 
</span><a name="LN2796"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2787"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_accum"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2791"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2792"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2793"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2794"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2795"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2796"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <a href="float.c.html#LN2791"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>+= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2792"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2792"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2793"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2793"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2794"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2794"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2795"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2795"><span class='Ref_To_Local'>sumY2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2796"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2796"><span class='Ref_To_Local'>sumXY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2789"><span class='Ref_To_Local'>newvalX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2788"><span class='Ref_To_Local'>newvalY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If we're invoked as an aggregate, we can cheat and modify our first 
     * parameter in-place to reduce palloc overhead. Otherwise we construct a 
     * new array with the updated transition data and return it. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN695"><span class='Ref_to_Proto'>AggCheckCallContext</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2791"><span class='Ref_To_Local'>N</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2792"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2793"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2794"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2795"><span class='Ref_To_Local'>sumY2</span></a><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2790"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2796"><span class='Ref_To_Local'>sumXY</span></a><span class='Delimiter'>; 
</span> 
        <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2787"><span class='Ref_To_Local'>transarray</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN2837"></a>        <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>transdatums</span><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>]; 
</span><a name="LN2838"></a>        <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2791"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2792"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2793"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2794"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2795"><span class='Ref_To_Local'>sumY2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN778"><span class='Ref_to_Macro'>Float8GetDatumFast</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2796"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="float.c.html#LN2838"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN369"><span class='Ref_to_Proto'>construct_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2837"><span class='Ref_To_Local'>transdatums</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, 
</span>                                 <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN39"><span class='Ref_to_Const'>FLOAT8OID</span></a><span class='Delimiter'>, 
</span>                                 <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span>FLOAT8PASSBYVAL<span class='Delimiter'>, </span><span class='String'>'d'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2838"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_accum &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * float8_regr_combine 
 * 
 * An aggregate combine function used to combine two 6 fields 
 * aggregate transition data into a single transition data. 
 * This function is used only in two stage aggregation and 
 * shouldn't be called outside aggregate context. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2864"></a><span class='Declare_Function'>float8_regr_combine</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2866"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray1</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2867"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray2</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2868"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues1</span><span class='Delimiter'>; 
</span><a name="LN2869"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues2</span><span class='Delimiter'>; 
</span><a name="LN2870"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2871"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2872"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2873"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN2874"></a>                <span class='Declare_Local'>sumY2</span><span class='Delimiter'>, 
</span><a name="LN2875"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/fmgr.h.html#LN695"><span class='Ref_to_Proto'>AggCheckCallContext</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
        <a href="../../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"aggregate function called in non-aggregate context"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2866"><span class='Ref_To_Local'>transarray1</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_combine"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2870"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2871"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2872"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2873"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2874"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2875"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2867"><span class='Ref_To_Local'>transarray2</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_combine"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2870"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2871"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2871"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2872"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2872"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2873"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2873"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2874"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2874"><span class='Ref_To_Local'>sumY2</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2875"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>+= </span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2875"><span class='Ref_To_Local'>sumXY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2869"><span class='Ref_To_Local'>transvalues2</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2870"><span class='Ref_To_Local'>N</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2871"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2872"><span class='Ref_To_Local'>sumX2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2873"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2874"><span class='Ref_To_Local'>sumY2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2868"><span class='Ref_To_Local'>transvalues1</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="float.c.html#LN2875"><span class='Ref_To_Local'>sumXY</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/array.h.html#LN245"><span class='Ref_to_Macro'>PG_RETURN_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2866"><span class='Ref_To_Local'>transarray1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_combine &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2919"></a><span class='Declare_Function'>float8_regr_sxx</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2921"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2922"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2923"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2924"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2925"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN2926"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2922"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2921"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_sxx"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2923"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2922"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2924"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2922"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2925"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2922"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2923"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2926"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2923"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2925"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2924"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2924"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2926"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2925"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2924"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Watch out for roundoff error producing a negative numerator */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2926"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2926"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN2923"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_sxx &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2948"></a><span class='Declare_Function'>float8_regr_syy</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2950"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2951"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2952"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2953"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN2954"></a>                <span class='Declare_Local'>sumY2</span><span class='Delimiter'>, 
</span><a name="LN2955"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2951"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2950"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_syy"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2952"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2951"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2953"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2951"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2954"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2951"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2952"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2955"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2952"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2954"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2953"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2953"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2955"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2954"><span class='Ref_To_Local'>sumY2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2953"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Watch out for roundoff error producing a negative numerator */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2955"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2955"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN2952"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_syy &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN2977"></a><span class='Declare_Function'>float8_regr_sxy</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2979"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2980"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN2981"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN2982"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN2983"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN2984"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN2985"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2980"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2979"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_sxy"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN2981"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2980"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2982"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2980"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2983"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2980"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN2984"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2980"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN2981"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN2985"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2981"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2984"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>- </span><a href="float.c.html#LN2982"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN2983"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2985"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2984"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2982"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2983"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* A negative result is valid here */ 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN2985"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN2981"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_sxy &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3007"></a><span class='Declare_Function'>float8_regr_avgx</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3009"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3010"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3011"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3012"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3010"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3009"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_avgx"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3011"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3010"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3012"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3010"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3011"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3012"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN3011"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3026"></a><span class='Declare_Function'>float8_regr_avgy</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3028"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3029"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3030"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3031"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3029"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3028"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_avgy"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3030"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3029"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3031"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3029"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3030"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3031"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN3030"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3045"></a><span class='Declare_Function'>float8_covar_pop</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3047"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3048"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3049"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3050"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN3051"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN3052"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN3053"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3048"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3047"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_covar_pop"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3049"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3048"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3050"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3048"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3051"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3048"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3052"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3048"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3049"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3053"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3049"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3052"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3050"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3051"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3053"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3052"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3050"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3051"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3053"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN3049"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3049"><span class='Ref_To_Local'>N</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_covar_pop &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3073"></a><span class='Declare_Function'>float8_covar_samp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3075"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3076"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3077"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3078"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN3079"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN3080"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN3081"></a>                <span class='Declare_Local'>numerator</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3076"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3075"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_covar_samp"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3077"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3076"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3078"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3076"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3079"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3076"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3080"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3076"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is &LT;= 1 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3077"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>2</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3081"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3077"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3080"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3078"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3079"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3081"><span class='Ref_To_Local'>numerator</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3080"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3078"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3079"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3081"><span class='Ref_To_Local'>numerator</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN3077"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN3077"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_covar_samp &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3101"></a><span class='Declare_Function'>float8_corr</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3103"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3104"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3105"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3106"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN3107"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN3108"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN3109"></a>                <span class='Declare_Local'>sumY2</span><span class='Delimiter'>, 
</span><a name="LN3110"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN3111"></a>                <span class='Declare_Local'>numeratorX</span><span class='Delimiter'>, 
</span><a name="LN3112"></a>                <span class='Declare_Local'>numeratorY</span><span class='Delimiter'>, 
</span><a name="LN3113"></a>                <span class='Declare_Local'>numeratorXY</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3103"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_corr"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3105"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3106"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3107"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3108"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3109"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3110"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3104"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3105"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3111"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3105"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3107"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3106"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3106"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3111"><span class='Ref_To_Local'>numeratorX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3107"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3106"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3112"><span class='Ref_To_Local'>numeratorY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3105"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3109"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3108"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3108"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3112"><span class='Ref_To_Local'>numeratorY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3109"><span class='Ref_To_Local'>sumY2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3108"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3113"><span class='Ref_To_Local'>numeratorXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3105"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3110"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3106"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3108"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3113"><span class='Ref_To_Local'>numeratorXY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3110"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3106"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3108"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3111"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN3112"><span class='Ref_To_Local'>numeratorY</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3113"><span class='Ref_To_Local'>numeratorXY</span></a> <span class='Operator'>/ </span>sqrt<span class='Parentheses'>(</span><a href="float.c.html#LN3111"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3112"><span class='Ref_To_Local'>numeratorY</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_corr &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3141"></a><span class='Declare_Function'>float8_regr_r2</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3143"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3144"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3145"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3146"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN3147"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN3148"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN3149"></a>                <span class='Declare_Local'>sumY2</span><span class='Delimiter'>, 
</span><a name="LN3150"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN3151"></a>                <span class='Declare_Local'>numeratorX</span><span class='Delimiter'>, 
</span><a name="LN3152"></a>                <span class='Declare_Local'>numeratorY</span><span class='Delimiter'>, 
</span><a name="LN3153"></a>                <span class='Declare_Local'>numeratorXY</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3143"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_r2"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3145"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3146"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3147"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3148"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3149"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3150"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3144"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3145"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3151"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3145"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3147"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3146"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3146"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3151"><span class='Ref_To_Local'>numeratorX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3147"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3146"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3152"><span class='Ref_To_Local'>numeratorY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3145"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3149"><span class='Ref_To_Local'>sumY2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3148"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3148"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3152"><span class='Ref_To_Local'>numeratorY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3149"><span class='Ref_To_Local'>sumY2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3148"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3153"><span class='Ref_To_Local'>numeratorXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3145"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3150"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3146"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3148"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3153"><span class='Ref_To_Local'>numeratorXY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3150"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3146"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3148"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3151"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* per spec, horizontal line produces 1.0 */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3152"><span class='Ref_To_Local'>numeratorY</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>((</span><a href="float.c.html#LN3153"><span class='Ref_To_Local'>numeratorXY</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3153"><span class='Ref_To_Local'>numeratorXY</span></a><span class='Parentheses'>) </span><span class='Operator'>/ 
</span>                     <span class='Parentheses'>(</span><a href="float.c.html#LN3151"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3152"><span class='Ref_To_Local'>numeratorY</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_r2 &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3185"></a><span class='Declare_Function'>float8_regr_slope</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3187"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3188"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3189"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3190"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN3191"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN3192"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN3193"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN3194"></a>                <span class='Declare_Local'>numeratorX</span><span class='Delimiter'>, 
</span><a name="LN3195"></a>                <span class='Declare_Local'>numeratorXY</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3188"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3187"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_slope"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3189"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3188"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3190"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3188"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3191"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3188"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3192"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3188"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3193"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3188"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3189"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3194"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3189"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3191"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3190"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3190"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3194"><span class='Ref_To_Local'>numeratorX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3191"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3190"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3195"><span class='Ref_To_Local'>numeratorXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3189"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3193"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3190"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3192"><span class='Ref_To_Local'>sumY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3195"><span class='Ref_To_Local'>numeratorXY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3193"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3190"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3192"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3194"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3195"><span class='Ref_To_Local'>numeratorXY</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN3194"><span class='Ref_To_Local'>numeratorX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_slope &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3220"></a><span class='Declare_Function'>float8_regr_intercept</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3222"></a>    <a href="../../../include/utils/array.h.html#LN75"><span class='Ref_to_Typedef'>ArrayType</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>transarray</span> <span class='Operator'>= </span><a href="../../../include/utils/array.h.html#LN243"><span class='Ref_to_Macro'>PG_GETARG_ARRAYTYPE_P</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3223"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>transvalues</span><span class='Delimiter'>; 
</span><a name="LN3224"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>N</span><span class='Delimiter'>, 
</span><a name="LN3225"></a>                <span class='Declare_Local'>sumX</span><span class='Delimiter'>, 
</span><a name="LN3226"></a>                <span class='Declare_Local'>sumX2</span><span class='Delimiter'>, 
</span><a name="LN3227"></a>                <span class='Declare_Local'>sumY</span><span class='Delimiter'>, 
</span><a name="LN3228"></a>                <span class='Declare_Local'>sumXY</span><span class='Delimiter'>, 
</span><a name="LN3229"></a>                <span class='Declare_Local'>numeratorX</span><span class='Delimiter'>, 
</span><a name="LN3230"></a>                <span class='Declare_Local'>numeratorXXY</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3223"><span class='Ref_To_Local'>transvalues</span></a> <span class='Operator'>= </span><a href="float.c.html#LN2468"><span class='Ref_to_Func'>check_float8_array</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3222"><span class='Ref_To_Local'>transarray</span></a><span class='Delimiter'>, </span><span class='String'>"float8_regr_intercept"</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3224"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3223"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3225"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3223"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3226"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3223"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3227"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3223"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span>    <a href="float.c.html#LN3228"><span class='Ref_To_Local'>sumXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3223"><span class='Ref_To_Local'>transvalues</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* if N is 0 we should return NULL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3224"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3229"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3224"><span class='Ref_To_Local'>N</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3226"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3225"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3225"><span class='Ref_To_Local'>sumX</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3229"><span class='Ref_To_Local'>numeratorX</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3226"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3225"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN3230"><span class='Ref_To_Local'>numeratorXXY</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3227"><span class='Ref_To_Local'>sumY</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3226"><span class='Ref_To_Local'>sumX2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3225"><span class='Ref_To_Local'>sumX</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3228"><span class='Ref_To_Local'>sumXY</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3230"><span class='Ref_To_Local'>numeratorXXY</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3227"><span class='Ref_To_Local'>sumY</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3226"><span class='Ref_To_Local'>sumX2</span></a><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                  <a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3225"><span class='Ref_To_Local'>sumX</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3228"><span class='Ref_To_Local'>sumXY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3229"><span class='Ref_To_Local'>numeratorX</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3230"><span class='Ref_To_Local'>numeratorXXY</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN3229"><span class='Ref_To_Local'>numeratorX</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end float8_regr_intercept &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 *      ==================================== 
 *      MIXED-PRECISION ARITHMETIC OPERATORS 
 *      ==================================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float48pl       - returns arg1 + arg2 
 *      float48mi       - returns arg1 - arg2 
 *      float48mul      - returns arg1 * arg2 
 *      float48div      - returns arg1 / arg2 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3268"></a><span class='Declare_Function'>float48pl</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3270"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3271"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3272"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3272"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3270"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>+ </span><a href="float.c.html#LN3271"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3272"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3270"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3271"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3272"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3280"></a><span class='Declare_Function'>float48mi</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3282"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3283"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3284"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3284"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3282"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3283"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3284"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3282"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3283"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3284"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3292"></a><span class='Declare_Function'>float48mul</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3294"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3295"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3296"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3296"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3294"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3295"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3296"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3294"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3295"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <a href="float.c.html#LN3294"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN3295"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3296"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3305"></a><span class='Declare_Function'>float48div</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3307"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3308"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3309"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3308"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DIVISION_BY_ZERO<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"division by zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3309"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3307"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN3308"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3309"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3307"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3308"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN3307"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3309"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float84pl       - returns arg1 + arg2 
 *      float84mi       - returns arg1 - arg2 
 *      float84mul      - returns arg1 * arg2 
 *      float84div      - returns arg1 / arg2 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3328"></a><span class='Declare_Function'>float84pl</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3330"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3331"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3332"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3332"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3330"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>+ </span><a href="float.c.html#LN3331"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3332"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3330"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3331"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3332"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3341"></a><span class='Declare_Function'>float84mi</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3343"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3344"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3345"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3345"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3343"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3344"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3345"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3343"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3344"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3345"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3354"></a><span class='Declare_Function'>float84mul</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3356"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3357"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3358"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3358"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3356"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3357"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3358"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3356"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3357"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                  <a href="float.c.html#LN3356"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="float.c.html#LN3357"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3358"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3368"></a><span class='Declare_Function'>float84div</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3370"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3371"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3372"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3371"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_DIVISION_BY_ZERO<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"division by zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN3372"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3370"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>/ </span><a href="float.c.html#LN3371"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span> 
    <a href="float.c.html#LN52"><span class='Ref_to_Macro'>CHECKFLOATVAL</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3372"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3370"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3371"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="float.c.html#LN3370"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3372"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      ==================== 
 *      COMPARISON OPERATORS 
 *      ==================== 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float48{eq,ne,lt,le,gt,ge}      - float4/float8 comparison operations 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3395"></a><span class='Declare_Function'>float48eq</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3397"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3398"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3397"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3398"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3404"></a><span class='Declare_Function'>float48ne</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3406"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3407"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3406"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3407"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3413"></a><span class='Declare_Function'>float48lt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3415"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3416"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3415"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3416"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3422"></a><span class='Declare_Function'>float48le</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3424"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3425"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3424"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3425"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3431"></a><span class='Declare_Function'>float48gt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3433"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3434"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3433"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3434"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3440"></a><span class='Declare_Function'>float48ge</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3442"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3443"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3442"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3443"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *      float84{eq,ne,lt,le,gt,ge}      - float8/float4 comparison operations 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3452"></a><span class='Declare_Function'>float84eq</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3454"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3455"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3454"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3455"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3461"></a><span class='Declare_Function'>float84ne</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3463"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3464"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3463"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3464"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3470"></a><span class='Declare_Function'>float84lt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3472"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3473"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3472"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3473"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3479"></a><span class='Declare_Function'>float84le</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3481"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3482"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3481"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3482"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3488"></a><span class='Declare_Function'>float84gt</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3490"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3491"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3490"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3491"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3497"></a><span class='Declare_Function'>float84ge</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3499"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>arg1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3500"></a>    <a href="../../../include/c.h.html#LN379"><span class='Ref_to_Typedef'>float4</span></a>      <span class='Declare_Local'>arg2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN244"><span class='Ref_to_Macro'>PG_GETARG_FLOAT4</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN318"><span class='Ref_to_Macro'>PG_RETURN_BOOL</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN64"><span class='Ref_to_Proto'>float8_cmp_internal</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3499"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>, </span><a href="float.c.html#LN3500"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Implements the float8 version of the width_bucket() function 
 * defined by SQL2003. See also width_bucket_numeric(). 
 * 
 * 'bound1' and 'bound2' are the lower and upper bounds of the 
 * histogram's range, respectively. 'count' is the number of buckets 
 * in the histogram. width_bucket() returns an integer indicating the 
 * bucket number that 'operand' belongs to in an equiwidth histogram 
 * with the specified characteristics. An operand smaller than the 
 * lower bound is assigned to bucket 0. An operand greater than the 
 * upper bound is assigned to an additional bucket (with number 
 * count+1). We don't allow "NaN" for any of the float8 inputs, and we 
 * don't allow either of the histogram bounds to be +/- infinity. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN3520"></a><span class='Declare_Function'>width_bucket_float8</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3522"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>operand</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3523"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>bound1</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3524"></a>    <a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a>      <span class='Declare_Local'>bound2</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN245"><span class='Ref_to_Macro'>PG_GETARG_FLOAT8</span></a><span class='Parentheses'>(</span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3525"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>count</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3526"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"count must be greater than zero"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../interfaces/ecpg/test/expected/pgtypeslib-nan_test.c.html#LN30"><span class='Ref_to_Macro'>isnan</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>             <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"operand, lower bound, and upper bound cannot be NaN"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Note that we allow "operand" to be infinite */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a><span class='Parentheses'>) </span><span class='Operator'>|| </span><a href="../../../port/isinf.c.html#LN24"><span class='Ref_to_Func'>isinf</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"lower and upper bounds must be finite"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a> <span class='Operator'>&LT; </span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a> <span class='Operator'>&LT; </span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a><span class='Parentheses'>) 
</span>            <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a> <span class='Operator'>&GT;= </span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* check for overflow */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT; </span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a><span class='Parentheses'>) 
</span>                <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"integer out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a> <span class='Operator'>&GT; </span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a> <span class='Operator'>&GT; </span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a><span class='Parentheses'>) 
</span>            <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a> <span class='Operator'>&LT;= </span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* check for overflow */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT; </span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a><span class='Parentheses'>) 
</span>                <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                        <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_NUMERIC_VALUE_OUT_OF_RANGE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                         <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"integer out of range"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN380"><span class='Ref_to_Typedef'>float8</span></a><span class='Parentheses'>) </span><a href="float.c.html#LN3525"><span class='Ref_To_Local'>count</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3522"><span class='Ref_To_Local'>operand</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN3523"><span class='Ref_To_Local'>bound1</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3524"><span class='Ref_To_Local'>bound2</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"lower bound cannot equal upper bound"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="float.c.html#LN3526"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end width_bucket_float8 &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* ========== PRIVATE ROUTINES ========== */ 
</span> 
<span class='Directive'>#ifndef</span> HAVE_CBRT 
 
<span class='Keyword'>static double 
</span><a name="LN3592"></a><span class='Declare_Function'>cbrt</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>x</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3594"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>isneg</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="float.c.html#LN3592"><span class='Ref_to_Parameter'>x</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3595"></a>    <span class='Keyword'>double</span>      <span class='Declare_Local'>absx</span> <span class='Operator'>= </span>fabs<span class='Parentheses'>(</span><a href="float.c.html#LN3592"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN3596"></a>    <span class='Keyword'>double</span>      <span class='Declare_Local'>tmpres</span> <span class='Operator'>= </span>pow<span class='Parentheses'>(</span><a href="float.c.html#LN3595"><span class='Ref_To_Local'>absx</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>/ </span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><span class='Number'>3</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The result is somewhat inaccurate --- not really pow()'s fault, as the 
     * exponent it's handed contains roundoff error.  We can improve the 
     * accuracy by doing one iteration of Newton's formula.  Beware of zero 
     * input however. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a> <span class='Operator'>-= </span><span class='Parentheses'>(</span><a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a> <span class='Operator'>- </span><a href="float.c.html#LN3595"><span class='Ref_To_Local'>absx</span></a> <span class='Operator'>/ </span><span class='Parentheses'>(</span><a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a> <span class='Operator'>* </span><a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a><span class='Parentheses'>))</span> <span class='Operator'>/ </span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><span class='Number'>3</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="float.c.html#LN3594"><span class='Ref_To_Local'>isneg</span></a> <span class='Operator'>? -</span><a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a> <span class='Operator'>: </span><a href="float.c.html#LN3596"><span class='Ref_To_Local'>tmpres</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* !HAVE_CBRT */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>