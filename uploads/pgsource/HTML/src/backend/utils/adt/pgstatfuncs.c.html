<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\backend\utils\adt\pgstatfuncs.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\backend\utils\adt\pgstatfuncs.c</b></p></td>
<td align='right'>
Wed Jun 14 08:25:52 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * pgstatfuncs.c 
 *    Functions for accessing the statistics collector data 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * 
 * IDENTIFICATION 
 *    src/backend/utils/adt/pgstatfuncs.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/htup_details.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_authid.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_type.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"common/ip.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"funcapi.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"miscadmin.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgstat.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"postmaster/postmaster.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/proc.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/procarray.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/acl.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/builtins.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/inet.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/timestamp.h"</span> 
 
<a name="LN31"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>UINT32_ACCESS_ONCE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>var</span><span class='Parentheses'>)</span>      <span class='Parentheses'>((</span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>)(</span><span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>volatile </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN31"><span class='Ref_to_Parameter'>var</span></a><span class='Parentheses'>))))</span> 
 
<span class='Comment_Multi_Line'>/* Global bgwriter statistics, from bgwriter.c */ 
</span><a name="LN34"></a><span class='Keyword'>extern </span><a href="../../../include/pgstat.h.html#LN408"><span class='Ref_to_Struct'>PgStat_MsgBgWriter</span></a> <span class='Declare_Var'>bgwriterStats</span><span class='Delimiter'>; 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN37"></a><span class='Declare_Function'>pg_stat_get_numscans</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN39"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN40"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN41"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN41"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN39"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN40"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN40"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN41"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN618"><span class='Ref_to_Member'>numscans</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN40"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN53"></a><span class='Declare_Function'>pg_stat_get_tuples_returned</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN55"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN56"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN57"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN57"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN55"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN56"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN56"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN57"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN620"><span class='Ref_to_Member'>tuples_returned</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN56"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN69"></a><span class='Declare_Function'>pg_stat_get_tuples_fetched</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN71"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN72"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN73"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN73"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN71"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN72"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN72"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN73"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN621"><span class='Ref_to_Member'>tuples_fetched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN72"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN85"></a><span class='Declare_Function'>pg_stat_get_tuples_inserted</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN87"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN88"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN89"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN89"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN87"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN88"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN88"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN89"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN623"><span class='Ref_to_Member'>tuples_inserted</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN88"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN101"></a><span class='Declare_Function'>pg_stat_get_tuples_updated</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN103"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN104"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN105"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN105"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN103"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN104"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN104"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN105"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN624"><span class='Ref_to_Member'>tuples_updated</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN104"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN117"></a><span class='Declare_Function'>pg_stat_get_tuples_deleted</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN119"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN120"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN121"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN121"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN119"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN120"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN120"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN121"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN625"><span class='Ref_to_Member'>tuples_deleted</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN120"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN133"></a><span class='Declare_Function'>pg_stat_get_tuples_hot_updated</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN135"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN136"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN137"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN137"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN135"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN136"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN136"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN137"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN626"><span class='Ref_to_Member'>tuples_hot_updated</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN136"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN149"></a><span class='Declare_Function'>pg_stat_get_live_tuples</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN151"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN152"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN153"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN153"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN151"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN152"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN152"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN153"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN628"><span class='Ref_to_Member'>n_live_tuples</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN152"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN165"></a><span class='Declare_Function'>pg_stat_get_dead_tuples</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN167"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN168"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN169"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN169"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN167"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN168"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN168"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN169"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN629"><span class='Ref_to_Member'>n_dead_tuples</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN168"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN181"></a><span class='Declare_Function'>pg_stat_get_mod_since_analyze</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN183"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN184"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN185"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN185"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN183"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN184"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN184"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN185"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN630"><span class='Ref_to_Member'>changes_since_analyze</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN184"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN197"></a><span class='Declare_Function'>pg_stat_get_blocks_fetched</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN199"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN200"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN201"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN201"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN199"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN200"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN200"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN201"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN632"><span class='Ref_to_Member'>blocks_fetched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN200"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN213"></a><span class='Declare_Function'>pg_stat_get_blocks_hit</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN215"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN216"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN217"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN217"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN215"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN216"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN216"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN217"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN633"><span class='Ref_to_Member'>blocks_hit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN216"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN228"></a><span class='Declare_Function'>pg_stat_get_last_vacuum_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN230"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN231"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN232"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN232"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN230"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN231"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN231"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN232"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN635"><span class='Ref_to_Member'>vacuum_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN231"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN231"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN246"></a><span class='Declare_Function'>pg_stat_get_last_autovacuum_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN248"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN249"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN250"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN250"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN248"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN249"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN249"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN250"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN637"><span class='Ref_to_Member'>autovac_vacuum_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN249"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN249"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN264"></a><span class='Declare_Function'>pg_stat_get_last_analyze_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN266"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN267"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN268"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN268"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN266"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN267"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN267"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN268"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN639"><span class='Ref_to_Member'>analyze_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN267"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN267"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN282"></a><span class='Declare_Function'>pg_stat_get_last_autoanalyze_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN284"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN285"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN286"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN286"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN284"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN285"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN285"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN286"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN641"><span class='Ref_to_Member'>autovac_analyze_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN285"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN285"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN300"></a><span class='Declare_Function'>pg_stat_get_vacuum_count</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN302"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN303"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN304"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN304"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN302"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN303"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN303"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN304"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN636"><span class='Ref_to_Member'>vacuum_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN303"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN315"></a><span class='Declare_Function'>pg_stat_get_autovacuum_count</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN317"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN318"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN319"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN319"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN317"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN318"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN318"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN319"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN638"><span class='Ref_to_Member'>autovac_vacuum_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN318"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN330"></a><span class='Declare_Function'>pg_stat_get_analyze_count</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN332"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN333"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN334"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN334"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN332"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN333"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN333"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN334"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN640"><span class='Ref_to_Member'>analyze_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN333"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN345"></a><span class='Declare_Function'>pg_stat_get_autoanalyze_count</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN347"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN348"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN349"></a>    <a href="../../../include/pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN349"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1318"><span class='Ref_to_Proto'>pgstat_fetch_stat_tabentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN347"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN348"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN348"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN349"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN642"><span class='Ref_to_Member'>autovac_analyze_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN348"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN360"></a><span class='Declare_Function'>pg_stat_get_function_calls</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN362"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN363"></a>    <a href="../../../include/pgstat.h.html#LN650"><span class='Ref_to_Struct'>PgStat_StatFuncEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN363"><span class='Ref_To_Local'>funcentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1321"><span class='Ref_to_Proto'>pgstat_fetch_stat_funcentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN362"><span class='Ref_To_Local'>funcid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN363"><span class='Ref_To_Local'>funcentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN654"><span class='Ref_to_Member'>f_numcalls</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN371"></a><span class='Declare_Function'>pg_stat_get_function_total_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN373"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN374"></a>    <a href="../../../include/pgstat.h.html#LN650"><span class='Ref_to_Struct'>PgStat_StatFuncEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN374"><span class='Ref_To_Local'>funcentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1321"><span class='Ref_to_Proto'>pgstat_fetch_stat_funcentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN373"><span class='Ref_To_Local'>funcid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* convert counter from microsec to millisec for display */ 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="pgstatfuncs.c.html#LN374"><span class='Ref_To_Local'>funcentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN656"><span class='Ref_to_Member'>f_total_time</span></a><span class='Parentheses'>)</span> <span class='Operator'>/ </span><span class='Number'>1000</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN383"></a><span class='Declare_Function'>pg_stat_get_function_self_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN385"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN386"></a>    <a href="../../../include/pgstat.h.html#LN650"><span class='Ref_to_Struct'>PgStat_StatFuncEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN386"><span class='Ref_To_Local'>funcentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1321"><span class='Ref_to_Proto'>pgstat_fetch_stat_funcentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN385"><span class='Ref_To_Local'>funcid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* convert counter from microsec to millisec for display */ 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="pgstatfuncs.c.html#LN386"><span class='Ref_To_Local'>funcentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN657"><span class='Ref_to_Member'>f_self_time</span></a><span class='Parentheses'>)</span> <span class='Operator'>/ </span><span class='Number'>1000</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN395"></a><span class='Declare_Function'>pg_stat_get_backend_idset</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN397"></a>    <a href="../../../include/funcapi.h.html#LN56"><span class='Ref_to_Struct'>FuncCallContext</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcctx</span><span class='Delimiter'>; 
</span><a name="LN398"></a>    <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>fctx</span><span class='Delimiter'>; 
</span><a name="LN399"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* stuff done only on the first call of the function */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/funcapi.h.html#LN284"><span class='Ref_to_Macro'>SRF_IS_FIRSTCALL</span></a><span class='Parentheses'>())</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* create a function context for cross-call persistence */ 
</span>        <a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a> <span class='Operator'>= </span><a href="../../../include/funcapi.h.html#LN286"><span class='Ref_to_Macro'>SRF_FIRSTCALL_INIT</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
        <a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a> <span class='Operator'>= </span><a href="../../../include/utils/palloc.h.html#LN70"><span class='Ref_to_Proto'>MemoryContextAlloc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a><span class='Operator'>-&GT;</span><a href="../../../include/funcapi.h.html#LN108"><span class='Ref_to_Member'>multi_call_memory_ctx</span></a><span class='Delimiter'>, 
</span>                                  <span class='Number'>2</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a><span class='Operator'>-&GT;</span><a href="../../../include/funcapi.h.html#LN89"><span class='Ref_to_Member'>user_fctx</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a><span class='Delimiter'>; 
</span> 
        <a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1322"><span class='Ref_to_Proto'>pgstat_fetch_stat_numbackends</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* stuff done on every call of the function */ 
</span>    <a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a> <span class='Operator'>= </span><a href="../../../include/funcapi.h.html#LN288"><span class='Ref_to_Macro'>SRF_PERCALL_SETUP</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a><span class='Operator'>-&GT;</span><a href="../../../include/funcapi.h.html#LN89"><span class='Ref_to_Member'>user_fctx</span></a><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>+= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN399"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN399"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT;= </span><a href="pgstatfuncs.c.html#LN398"><span class='Ref_To_Local'>fctx</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* do when there is more left to send */ 
</span>        <a href="../../../include/funcapi.h.html#LN290"><span class='Ref_to_Macro'>SRF_RETURN_NEXT</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a><span class='Delimiter'>, </span><a href="../../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN399"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* do when there is no more left */ 
</span>        <a href="../../../include/funcapi.h.html#LN308"><span class='Ref_to_Macro'>SRF_RETURN_DONE</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN397"><span class='Ref_To_Local'>funcctx</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_idset &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Returns command progress information for the named command. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN438"></a><span class='Declare_Function'>pg_stat_get_progress_info</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN440"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_STAT_GET_PROGRESS_COLS</span>   <a href="../../../include/pgstat.h.html#LN917"><span class='Ref_to_Const'>PGSTAT_NUM_PROGRESS_PARAM</span></a> <span class='Operator'>+ </span><span class='Number'>3</span> 
<a name="LN441"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>num_backends</span> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1322"><span class='Ref_to_Proto'>pgstat_fetch_stat_numbackends</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN442"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>curr_backend</span><span class='Delimiter'>; 
</span><a name="LN443"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cmd</span> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN87"><span class='Ref_to_Proto'>text_to_cstring</span></a><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN272"><span class='Ref_to_Macro'>PG_GETARG_TEXT_PP</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN444"></a>    <a href="../../../include/pgstat.h.html#LN911"><span class='Ref_to_Enum'>ProgressCommandType</span></a> <span class='Declare_Local'>cmdtype</span><span class='Delimiter'>; 
</span><a name="LN445"></a>    <a href="../../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupdesc</span><span class='Delimiter'>; 
</span><a name="LN446"></a>    <a href="../sort/tuplestore.c.html#LN102"><span class='Ref_to_Struct'>Tuplestorestate</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tupstore</span><span class='Delimiter'>; 
</span><a name="LN447"></a>    <a href="../../../include/nodes/execnodes.h.html#LN261"><span class='Ref_to_Struct'>ReturnSetInfo</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rsinfo</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/nodes/execnodes.h.html#LN261"><span class='Ref_to_Struct'>ReturnSetInfo</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span>fcinfo<span class='Operator'>-&GT;</span>resultinfo<span class='Delimiter'>; 
</span><a name="LN448"></a>    <a href="../../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>per_query_ctx</span><span class='Delimiter'>; 
</span><a name="LN449"></a>    <a href="../../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>oldcontext</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* check to see if caller supports us returning a tuplestore */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| !</span><a href="../../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a><span class='Delimiter'>, </span><a href="../../../include/nodes/execnodes.h.html#LN261"><span class='Ref_to_Struct'>ReturnSetInfo</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"set-valued function called in context that cannot accept a set"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN267"><span class='Ref_to_Member'>allowedModes</span></a> <span class='Operator'>& </span><a href="../../../include/nodes/execnodes.h.html#LN250"><span class='Ref_to_EnumConst'>SFRM_Materialize</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"materialize mode required, but it is not "</span> <span class='Operator'>\ 
</span>                        <span class='String'>"allowed in this context"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Build a tuple descriptor for our result type */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/funcapi.h.html#LN157"><span class='Ref_to_Proto'>get_call_result_type</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN445"><span class='Ref_To_Local'>tupdesc</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="../../../include/funcapi.h.html#LN152"><span class='Ref_to_EnumConst'>TYPEFUNC_COMPOSITE</span></a><span class='Parentheses'>)</span> 
        <a href="../../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"return type must be a row type"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Translate command name into command type code. */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN443"><span class='Ref_To_Local'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"VACUUM"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN444"><span class='Ref_To_Local'>cmdtype</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN914"><span class='Ref_to_EnumConst'>PROGRESS_COMMAND_VACUUM</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_INVALID_PARAMETER_VALUE<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"invalid command name: \"%s\""</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN443"><span class='Ref_To_Local'>cmd</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN448"><span class='Ref_To_Local'>per_query_ctx</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN265"><span class='Ref_to_Member'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN201"><span class='Ref_to_Member'>ecxt_per_query_memory</span></a><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN449"><span class='Ref_To_Local'>oldcontext</span></a> <span class='Operator'>= </span><a href="../../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN448"><span class='Ref_To_Local'>per_query_ctx</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN446"><span class='Ref_To_Local'>tupstore</span></a> <span class='Operator'>= </span><a href="../../../include/utils/tuplestore.h.html#LN46"><span class='Ref_to_Proto'>tuplestore_begin_heap</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="../init/globals.c.html#LN112"><span class='Ref_to_Global_Var'>work_mem</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN269"><span class='Ref_to_Member'>returnMode</span></a> <span class='Operator'>= </span><a href="../../../include/nodes/execnodes.h.html#LN250"><span class='Ref_to_EnumConst'>SFRM_Materialize</span></a><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN272"><span class='Ref_to_Member'>setResult</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN446"><span class='Ref_To_Local'>tupstore</span></a><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN447"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN273"><span class='Ref_to_Member'>setDesc</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN445"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>; 
</span>    <a href="../../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN449"><span class='Ref_To_Local'>oldcontext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 1-based index */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN442"><span class='Ref_To_Local'>curr_backend</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN442"><span class='Ref_To_Local'>curr_backend</span></a> <span class='Operator'>&LT;= </span><a href="pgstatfuncs.c.html#LN441"><span class='Ref_To_Local'>num_backends</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN442"><span class='Ref_To_Local'>curr_backend</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN486"></a>        <a href="../../../include/pgstat.h.html#LN1063"><span class='Ref_to_Struct'>LocalPgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>local_beentry</span><span class='Delimiter'>; 
</span><a name="LN487"></a>        <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN488"></a>        <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>values</span><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN440"><span class='Ref_to_Const'>PG_STAT_GET_PROGRESS_COLS</span></a><span class='Delimiter'>]; 
</span><a name="LN489"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>nulls</span><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN440"><span class='Ref_to_Const'>PG_STAT_GET_PROGRESS_COLS</span></a><span class='Delimiter'>]; 
</span><a name="LN490"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <a href="../../../include/c.h.html#LN856"><span class='Ref_to_Macro'>MemSet</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="../../../include/c.h.html#LN856"><span class='Ref_to_Macro'>MemSet</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN489"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN489"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="pgstatfuncs.c.html#LN486"><span class='Ref_To_Local'>local_beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1320"><span class='Ref_to_Proto'>pgstat_fetch_stat_local_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN442"><span class='Ref_To_Local'>curr_backend</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="pgstatfuncs.c.html#LN486"><span class='Ref_To_Local'>local_beentry</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
        <a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= &</span><a href="pgstatfuncs.c.html#LN486"><span class='Ref_To_Local'>local_beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1068"><span class='Ref_to_Member'>backendStatus</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Report values for only those backends which are running the given 
         * command. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>|| </span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1013"><span class='Ref_to_Member'>st_progress_command</span></a> <span class='Operator'>!= </span><a href="pgstatfuncs.c.html#LN444"><span class='Ref_To_Local'>cmdtype</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Value available to all callers */ 
</span>        <a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN512"><span class='Ref_to_Macro'>ObjectIdGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN986"><span class='Ref_to_Member'>st_databaseid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* show rest of the values including relid only to role members */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN512"><span class='Ref_to_Macro'>ObjectIdGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1014"><span class='Ref_to_Member'>st_progress_command_target</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../../include/pgstat.h.html#LN917"><span class='Ref_to_Const'>PGSTAT_NUM_PROGRESS_PARAM</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN624"><span class='Ref_to_Macro'>Int64GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN487"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1015"><span class='Ref_to_Member'>st_progress_param</span></a><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="pgstatfuncs.c.html#LN489"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../../include/pgstat.h.html#LN917"><span class='Ref_to_Const'>PGSTAT_NUM_PROGRESS_PARAM</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN489"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN490"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="../../../include/utils/tuplestore.h.html#LN55"><span class='Ref_to_Proto'>tuplestore_putvalues</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN446"><span class='Ref_To_Local'>tupstore</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN445"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN488"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN489"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for curr_backend=1;curr_b... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* clean up and return the tuplestore */ 
</span>    <a href="../../../include/utils/tuplestore.h.html#LN59"><span class='Ref_to_Macro'>tuplestore_donestoring</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN446"><span class='Ref_To_Local'>tupstore</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_progress_info &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Returns activity of PG backends. 
 */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN540"></a><span class='Declare_Function'>pg_stat_get_activity</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN542"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_STAT_GET_ACTIVITY_COLS</span>   <span class='Number'>24</span> 
<a name="LN543"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>num_backends</span> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1322"><span class='Ref_to_Proto'>pgstat_fetch_stat_numbackends</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN544"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>curr_backend</span><span class='Delimiter'>; 
</span><a name="LN545"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>pid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN173"><span class='Ref_to_Macro'>PG_ARGISNULL</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? -</span><span class='Number'>1</span> <span class='Operator'>: </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN546"></a>    <a href="../../../include/nodes/execnodes.h.html#LN261"><span class='Ref_to_Struct'>ReturnSetInfo</span></a> <span class='Operator'>*</span><span class='Declare_Local'>rsinfo</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/nodes/execnodes.h.html#LN261"><span class='Ref_to_Struct'>ReturnSetInfo</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span>fcinfo<span class='Operator'>-&GT;</span>resultinfo<span class='Delimiter'>; 
</span><a name="LN547"></a>    <a href="../../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupdesc</span><span class='Delimiter'>; 
</span><a name="LN548"></a>    <a href="../sort/tuplestore.c.html#LN102"><span class='Ref_to_Struct'>Tuplestorestate</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tupstore</span><span class='Delimiter'>; 
</span><a name="LN549"></a>    <a href="../../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>per_query_ctx</span><span class='Delimiter'>; 
</span><a name="LN550"></a>    <a href="../../../include/utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Local'>oldcontext</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* check to see if caller supports us returning a tuplestore */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| !</span><a href="../../../include/nodes/nodes.h.html#LN559"><span class='Ref_to_Macro'>IsA</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a><span class='Delimiter'>, </span><a href="../../../include/nodes/execnodes.h.html#LN261"><span class='Ref_to_Struct'>ReturnSetInfo</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"set-valued function called in context that cannot accept a set"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN267"><span class='Ref_to_Member'>allowedModes</span></a> <span class='Operator'>& </span><a href="../../../include/nodes/execnodes.h.html#LN250"><span class='Ref_to_EnumConst'>SFRM_Materialize</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/utils/elog.h.html#LN121"><span class='Ref_to_Macro'>ereport</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="../../../include/utils/elog.h.html#LN130"><span class='Ref_to_Proto'>errcode</span></a><span class='Parentheses'>(</span>ERRCODE_FEATURE_NOT_SUPPORTED<span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                 <a href="../error/elog.c.html#LN795"><span class='Ref_to_Func'>errmsg</span></a><span class='Parentheses'>(</span><span class='String'>"materialize mode required, but it is not "</span> <span class='Operator'>\ 
</span>                        <span class='String'>"allowed in this context"</span><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Build a tuple descriptor for our result type */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/funcapi.h.html#LN157"><span class='Ref_to_Proto'>get_call_result_type</span></a><span class='Parentheses'>(</span>fcinfo<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN547"><span class='Ref_To_Local'>tupdesc</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="../../../include/funcapi.h.html#LN152"><span class='Ref_to_EnumConst'>TYPEFUNC_COMPOSITE</span></a><span class='Parentheses'>)</span> 
        <a href="../../bootstrap/bootscanner.l.html#LN129"><span class='Ref_to_Proto'>elog</span></a><span class='Parentheses'>(</span><a href="../../../include/port/win32/sys/socket.h.html#LN22"><span class='Ref_to_Const'>ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"return type must be a row type"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN549"><span class='Ref_To_Local'>per_query_ctx</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN265"><span class='Ref_to_Member'>econtext</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN201"><span class='Ref_to_Member'>ecxt_per_query_memory</span></a><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN550"><span class='Ref_To_Local'>oldcontext</span></a> <span class='Operator'>= </span><a href="../../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN549"><span class='Ref_To_Local'>per_query_ctx</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN548"><span class='Ref_To_Local'>tupstore</span></a> <span class='Operator'>= </span><a href="../../../include/utils/tuplestore.h.html#LN46"><span class='Ref_to_Proto'>tuplestore_begin_heap</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="../init/globals.c.html#LN112"><span class='Ref_to_Global_Var'>work_mem</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN269"><span class='Ref_to_Member'>returnMode</span></a> <span class='Operator'>= </span><a href="../../../include/nodes/execnodes.h.html#LN250"><span class='Ref_to_EnumConst'>SFRM_Materialize</span></a><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN272"><span class='Ref_to_Member'>setResult</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN548"><span class='Ref_To_Local'>tupstore</span></a><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN546"><span class='Ref_To_Local'>rsinfo</span></a><span class='Operator'>-&GT;</span><a href="../../../include/nodes/execnodes.h.html#LN273"><span class='Ref_to_Member'>setDesc</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN547"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/palloc.h.html#LN107"><span class='Ref_to_Func'>MemoryContextSwitchTo</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN550"><span class='Ref_To_Local'>oldcontext</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 1-based index */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN544"><span class='Ref_To_Local'>curr_backend</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN544"><span class='Ref_To_Local'>curr_backend</span></a> <span class='Operator'>&LT;= </span><a href="pgstatfuncs.c.html#LN543"><span class='Ref_To_Local'>num_backends</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN544"><span class='Ref_To_Local'>curr_backend</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* for each row */ 
</span><a name="LN581"></a>        <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>values</span><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN542"><span class='Ref_to_Const'>PG_STAT_GET_ACTIVITY_COLS</span></a><span class='Delimiter'>]; 
</span><a name="LN582"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>nulls</span><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN542"><span class='Ref_to_Const'>PG_STAT_GET_ACTIVITY_COLS</span></a><span class='Delimiter'>]; 
</span><a name="LN583"></a>        <a href="../../../include/pgstat.h.html#LN1063"><span class='Ref_to_Struct'>LocalPgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>local_beentry</span><span class='Delimiter'>; 
</span><a name="LN584"></a>        <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN585"></a>        <a href="../../../include/storage/proc.h.html#LN93"><span class='Ref_to_Struct'>PGPROC</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>proc</span><span class='Delimiter'>; 
</span><a name="LN586"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>wait_event_type</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN587"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>wait_event</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <a href="../../../include/c.h.html#LN856"><span class='Ref_to_Macro'>MemSet</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="../../../include/c.h.html#LN856"><span class='Ref_to_Macro'>MemSet</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Get the next one in the list */ 
</span>        <a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1320"><span class='Ref_to_Proto'>pgstat_fetch_stat_local_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN544"><span class='Ref_To_Local'>curr_backend</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN596"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Ignore missing entries if looking for specific PID */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN545"><span class='Ref_To_Local'>pid</span></a> <span class='Operator'>!= -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN596"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN596"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN596"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><a href="pgstatfuncs.c.html#LN596"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;backend information not available&GT;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../../include/utils/tuplestore.h.html#LN55"><span class='Ref_to_Proto'>tuplestore_putvalues</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN548"><span class='Ref_To_Local'>tupstore</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN547"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= &</span><a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1068"><span class='Ref_to_Member'>backendStatus</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* If looking for specific PID, ignore all the others */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN545"><span class='Ref_To_Local'>pid</span></a> <span class='Operator'>!= -</span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a> <span class='Operator'>!= </span><a href="pgstatfuncs.c.html#LN545"><span class='Ref_To_Local'>pid</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Values available to all callers */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN986"><span class='Ref_to_Member'>st_databaseid</span></a> <span class='Operator'>!= </span><a href="../../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN512"><span class='Ref_to_Macro'>ObjectIdGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN986"><span class='Ref_to_Member'>st_databaseid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a> <span class='Operator'>!= </span><a href="../../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN512"><span class='Ref_to_Macro'>ObjectIdGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN999"><span class='Ref_to_Member'>st_appname</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN999"><span class='Ref_to_Member'>st_appname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/access/transam.h.html#LN40"><span class='Ref_to_Macro'>TransactionIdIsValid</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1074"><span class='Ref_to_Member'>backend_xid</span></a><span class='Parentheses'>))</span> 
            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>15</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN526"><span class='Ref_to_Macro'>TransactionIdGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1074"><span class='Ref_to_Member'>backend_xid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>15</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/access/transam.h.html#LN40"><span class='Ref_to_Macro'>TransactionIdIsValid</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1080"><span class='Ref_to_Member'>backend_xmin</span></a><span class='Parentheses'>))</span> 
            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>16</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN526"><span class='Ref_to_Macro'>TransactionIdGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN583"><span class='Ref_To_Local'>local_beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1080"><span class='Ref_to_Member'>backend_xmin</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>16</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN992"><span class='Ref_to_Member'>st_ssl</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>18</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* ssl */ 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>19</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN993"><span class='Ref_to_Member'>st_sslstatus</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN936"><span class='Ref_to_Member'>ssl_version</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>20</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN993"><span class='Ref_to_Member'>st_sslstatus</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN937"><span class='Ref_to_Member'>ssl_cipher</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>21</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN993"><span class='Ref_to_Member'>st_sslstatus</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN934"><span class='Ref_to_Member'>ssl_bits</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>22</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN993"><span class='Ref_to_Member'>st_sslstatus</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN935"><span class='Ref_to_Member'>ssl_compression</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>23</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN993"><span class='Ref_to_Member'>st_sslstatus</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN938"><span class='Ref_to_Member'>ssl_clientdn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>18</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN407"><span class='Ref_to_Macro'>BoolGetDatum</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* ssl */ 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>19</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>20</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>21</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>22</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>23</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* Values only available to role member or pg_read_all_stats */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| 
</span>            <a href="../../../include/utils/acl.h.html#LN230"><span class='Ref_to_Proto'>is_member_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="../../../include/catalog/pg_authid.h.html#LN107"><span class='Ref_to_Const'>DEFAULT_ROLE_READ_ALL_STATS</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span><a name="LN665"></a>            <a href="../../../include/libpq/pqcomm.h.html#LN61"><span class='Ref_to_Typedef'>SockAddr</span></a>    <span class='Declare_Local'>zero_clientaddr</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN996"><span class='Ref_to_Member'>st_state</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN723"><span class='Ref_to_EnumConst'>STATE_IDLE</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"idle"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN724"><span class='Ref_to_EnumConst'>STATE_RUNNING</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"active"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN725"><span class='Ref_to_EnumConst'>STATE_IDLEINTRANSACTION</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"idle in transaction"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN726"><span class='Ref_to_EnumConst'>STATE_FASTPATH</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"fastpath function call"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN727"><span class='Ref_to_EnumConst'>STATE_IDLEINTRANSACTION_ABORTED</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"idle in transaction (aborted)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN728"><span class='Ref_to_EnumConst'>STATE_DISABLED</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"disabled"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../../../include/pgstat.h.html#LN722"><span class='Ref_to_EnumConst'>STATE_UNDEFINED</span></a><span class='Operator'>: 
</span>                    <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch beentry-&GT;st_state &raquo; </span> 
 
            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1002"><span class='Ref_to_Member'>st_activity</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="pgstatfuncs.c.html#LN585"><span class='Ref_To_Local'>proc</span></a> <span class='Operator'>= </span><a href="../../../include/storage/procarray.h.html#LN98"><span class='Ref_to_Proto'>BackendPidGetProc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN585"><span class='Ref_To_Local'>proc</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN697"></a>                <a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Local'>raw_wait_event</span><span class='Delimiter'>; 
</span> 
                <a href="pgstatfuncs.c.html#LN697"><span class='Ref_To_Local'>raw_wait_event</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN31"><span class='Ref_to_Macro'>UINT32_ACCESS_ONCE</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN585"><span class='Ref_To_Local'>proc</span></a><span class='Operator'>-&GT;</span><a href="../../../include/storage/proc.h.html#LN171"><span class='Ref_to_Member'>wait_event_info</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="pgstatfuncs.c.html#LN586"><span class='Ref_To_Local'>wait_event_type</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1173"><span class='Ref_to_Proto'>pgstat_get_wait_event_type</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN697"><span class='Ref_To_Local'>raw_wait_event</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="pgstatfuncs.c.html#LN587"><span class='Ref_To_Local'>wait_event</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1172"><span class='Ref_to_Proto'>pgstat_get_wait_event</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN697"><span class='Ref_To_Local'>raw_wait_event</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN977"><span class='Ref_to_Member'>st_backendType</span></a> <span class='Operator'>!= </span><a href="../../../include/pgstat.h.html#LN705"><span class='Ref_to_EnumConst'>B_BACKEND</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* 
                 * For an auxiliary process, retrieve process info from 
                 * AuxiliaryProcs stored in shared-memory. 
                 */ 
</span>                <a href="pgstatfuncs.c.html#LN585"><span class='Ref_To_Local'>proc</span></a> <span class='Operator'>= </span><a href="../../../include/storage/proc.h.html#LN310"><span class='Ref_to_Proto'>AuxiliaryPidGetProc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN585"><span class='Ref_To_Local'>proc</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN714"></a>                    <a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Local'>raw_wait_event</span><span class='Delimiter'>; 
</span> 
                    <a href="pgstatfuncs.c.html#LN714"><span class='Ref_To_Local'>raw_wait_event</span></a> <span class='Operator'>= 
</span>                        <a href="pgstatfuncs.c.html#LN31"><span class='Ref_to_Macro'>UINT32_ACCESS_ONCE</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN585"><span class='Ref_To_Local'>proc</span></a><span class='Operator'>-&GT;</span><a href="../../../include/storage/proc.h.html#LN171"><span class='Ref_to_Member'>wait_event_info</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN586"><span class='Ref_To_Local'>wait_event_type</span></a> <span class='Operator'>= 
</span>                        <a href="../../../include/pgstat.h.html#LN1173"><span class='Ref_to_Proto'>pgstat_get_wait_event_type</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN714"><span class='Ref_To_Local'>raw_wait_event</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN587"><span class='Ref_To_Local'>wait_event</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1172"><span class='Ref_to_Proto'>pgstat_get_wait_event</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN714"><span class='Ref_To_Local'>raw_wait_event</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN586"><span class='Ref_To_Local'>wait_event_type</span></a><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN586"><span class='Ref_To_Local'>wait_event_type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN587"><span class='Ref_To_Local'>wait_event</span></a><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN587"><span class='Ref_To_Local'>wait_event</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN981"><span class='Ref_to_Member'>st_xact_start_timestamp</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN981"><span class='Ref_to_Member'>st_xact_start_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN982"><span class='Ref_to_Member'>st_activity_start_timestamp</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN982"><span class='Ref_to_Member'>st_activity_start_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN980"><span class='Ref_to_Member'>st_proc_start_timestamp</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN980"><span class='Ref_to_Member'>st_proc_start_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN983"><span class='Ref_to_Member'>st_state_start_timestamp</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>11</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN983"><span class='Ref_to_Member'>st_state_start_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>11</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* A zeroed client addr means we don't know */ 
</span>            memset<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN665"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN665"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>memcmp<span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN665"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Delimiter'>, 
</span>                       <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN665"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>12</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>14</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family <span class='Operator'>== </span>AF_INET 
<span class='Directive'>#ifdef</span> HAVE_IPV6 
                    <span class='Operator'>|| </span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family <span class='Operator'>== </span>AF_INET6 
<span class='Directive'>#endif</span> 
                    <span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN771"></a>                    <span class='Keyword'>char</span>        <span class='Declare_Local'>remote_host</span><span class='Delimiter'>[</span><a href="../../../include/getaddrinfo.h.html#LN87"><span class='Ref_to_Const'>NI_MAXHOST</span></a><span class='Delimiter'>]; 
</span><a name="LN772"></a>                    <span class='Keyword'>char</span>        <span class='Declare_Local'>remote_port</span><span class='Delimiter'>[</span><a href="../../../include/getaddrinfo.h.html#LN90"><span class='Ref_to_Const'>NI_MAXSERV</span></a><span class='Delimiter'>]; 
</span><a name="LN773"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span><span class='Delimiter'>; 
</span> 
                    <a href="pgstatfuncs.c.html#LN771"><span class='Ref_To_Local'>remote_host</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN772"><span class='Ref_To_Local'>remote_port</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN773"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../../../include/common/ip.h.html#LN31"><span class='Ref_to_Proto'>pg_getnameinfo_all</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Delimiter'>, 
</span>                                             <a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN64"><span class='Ref_to_Member'>salen</span></a><span class='Delimiter'>, 
</span>                                             <a href="pgstatfuncs.c.html#LN771"><span class='Ref_To_Local'>remote_host</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN771"><span class='Ref_To_Local'>remote_host</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                             <a href="pgstatfuncs.c.html#LN772"><span class='Ref_To_Local'>remote_port</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN772"><span class='Ref_To_Local'>remote_port</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                             <a href="../../../include/getaddrinfo.h.html#LN77"><span class='Ref_to_Const'>NI_NUMERICHOST</span></a> <span class='Operator'>| </span><a href="../../../include/getaddrinfo.h.html#LN80"><span class='Ref_to_Const'>NI_NUMERICSERV</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN773"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="../../../include/utils/builtins.h.html#LN108"><span class='Ref_to_Proto'>clean_ipv6_addr</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family<span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN771"><span class='Ref_To_Local'>remote_host</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>12</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN583"><span class='Ref_to_Macro'>DirectFunctionCall1</span></a><span class='Parentheses'>(</span><a href="network.c.html#LN78"><span class='Ref_to_Func'>inet_in</span></a><span class='Delimiter'>, 
</span>                                               <a href="../../../include/postgres.h.html#LN583"><span class='Ref_to_Macro'>CStringGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN771"><span class='Ref_To_Local'>remote_host</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN989"><span class='Ref_to_Member'>st_clienthostname</span></a> <span class='Operator'>&& 
</span>                            <a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN989"><span class='Ref_to_Member'>st_clienthostname</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN989"><span class='Ref_to_Member'>st_clienthostname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>else</span> 
                            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>14</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN484"><span class='Ref_to_Macro'>Int32GetDatum</span></a><span class='Parentheses'>(</span>atoi<span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN772"><span class='Ref_To_Local'>remote_port</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>12</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>14</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if beentry-&GT;st_clientadd... &raquo; </span> 
                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family <span class='Operator'>== </span>AF_UNIX<span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Unix sockets always reports NULL for host and -1 for 
                     * port, so it's possible to tell the difference to 
                     * connections we have no permissions to view, or with 
                     * errors. 
                     */ 
</span>                    <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>12</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>14</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN477"><span class='Ref_to_Macro'>DatumGetInt32</span></a><span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Unknown address type, should never happen */ 
</span>                    <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>12</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>14</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
            <span class='Comment_Multi_Line'>/* Add backend type */ 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>17</span><span class='Delimiter'>] </span><span class='Operator'>= 
</span>                <a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1177"><span class='Ref_to_Proto'>pgstat_get_backend_desc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN584"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN977"><span class='Ref_to_Member'>st_backendType</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if has_privs_of_role(Get... &raquo; </span> 
        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* No permissions to view data about this session */ 
</span>            <a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;insufficient privilege&GT;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>8</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>9</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>10</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>11</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>12</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>14</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>17</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="../../../include/utils/tuplestore.h.html#LN55"><span class='Ref_to_Proto'>tuplestore_putvalues</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN548"><span class='Ref_To_Local'>tupstore</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN547"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN581"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN582"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* If only a single backend was requested, and we found it, break. */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN545"><span class='Ref_To_Local'>pid</span></a> <span class='Operator'>!= -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for curr_backend=1;curr_b... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* clean up and return the tuplestore */ 
</span>    <a href="../../../include/utils/tuplestore.h.html#LN59"><span class='Ref_to_Macro'>tuplestore_donestoring</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN548"><span class='Ref_To_Local'>tupstore</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>) </span><span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_activity &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN857"></a><span class='Declare_Function'>pg_backend_pid</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="../init/globals.c.html#LN38"><span class='Ref_to_Global_Var'>MyProcPid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN864"></a><span class='Declare_Function'>pg_stat_get_backend_pid</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN866"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN867"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN867"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN866"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN867"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN877"></a><span class='Declare_Function'>pg_stat_get_backend_dbid</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN879"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN880"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN880"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN879"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN319"><span class='Ref_to_Macro'>PG_RETURN_OID</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN880"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN986"><span class='Ref_to_Member'>st_databaseid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN890"></a><span class='Declare_Function'>pg_stat_get_backend_userid</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN892"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN893"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN893"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN892"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN319"><span class='Ref_to_Macro'>PG_RETURN_OID</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN893"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN903"></a><span class='Declare_Function'>pg_stat_get_backend_activity</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN905"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN906"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN907"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>activity</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN906"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN905"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN907"><span class='Ref_To_Local'>activity</span></a> <span class='Operator'>= </span><span class='String'>"&LT;backend information not available&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN906"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="pgstatfuncs.c.html#LN907"><span class='Ref_To_Local'>activity</span></a> <span class='Operator'>= </span><span class='String'>"&LT;insufficient privilege&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN906"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1002"><span class='Ref_to_Member'>st_activity</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN907"><span class='Ref_To_Local'>activity</span></a> <span class='Operator'>= </span><span class='String'>"&LT;command string not enabled&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN907"><span class='Ref_To_Local'>activity</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN906"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN1002"><span class='Ref_to_Member'>st_activity</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN329"><span class='Ref_to_Macro'>PG_RETURN_TEXT_P</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN85"><span class='Ref_to_Proto'>cstring_to_text</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN907"><span class='Ref_To_Local'>activity</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN922"></a><span class='Declare_Function'>pg_stat_get_backend_wait_event_type</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN924"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN925"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN926"></a>    <a href="../../../include/storage/proc.h.html#LN93"><span class='Ref_to_Struct'>PGPROC</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>proc</span><span class='Delimiter'>; 
</span><a name="LN927"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>wait_event_type</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN925"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN924"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN927"><span class='Ref_To_Local'>wait_event_type</span></a> <span class='Operator'>= </span><span class='String'>"&LT;backend information not available&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN925"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="pgstatfuncs.c.html#LN927"><span class='Ref_To_Local'>wait_event_type</span></a> <span class='Operator'>= </span><span class='String'>"&LT;insufficient privilege&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN926"><span class='Ref_To_Local'>proc</span></a> <span class='Operator'>= </span><a href="../../../include/storage/procarray.h.html#LN98"><span class='Ref_to_Proto'>BackendPidGetProc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN925"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN927"><span class='Ref_To_Local'>wait_event_type</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1173"><span class='Ref_to_Proto'>pgstat_get_wait_event_type</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN926"><span class='Ref_To_Local'>proc</span></a><span class='Operator'>-&GT;</span><a href="../../../include/storage/proc.h.html#LN171"><span class='Ref_to_Member'>wait_event_info</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="pgstatfuncs.c.html#LN927"><span class='Ref_To_Local'>wait_event_type</span></a><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN329"><span class='Ref_to_Macro'>PG_RETURN_TEXT_P</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN85"><span class='Ref_to_Proto'>cstring_to_text</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN927"><span class='Ref_To_Local'>wait_event_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_wait_event_type &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN943"></a><span class='Declare_Function'>pg_stat_get_backend_wait_event</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN945"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN946"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN947"></a>    <a href="../../../include/storage/proc.h.html#LN93"><span class='Ref_to_Struct'>PGPROC</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>proc</span><span class='Delimiter'>; 
</span><a name="LN948"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>wait_event</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN946"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN945"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN948"><span class='Ref_To_Local'>wait_event</span></a> <span class='Operator'>= </span><span class='String'>"&LT;backend information not available&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN946"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="pgstatfuncs.c.html#LN948"><span class='Ref_To_Local'>wait_event</span></a> <span class='Operator'>= </span><span class='String'>"&LT;insufficient privilege&GT;"</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN947"><span class='Ref_To_Local'>proc</span></a> <span class='Operator'>= </span><a href="../../../include/storage/procarray.h.html#LN98"><span class='Ref_to_Proto'>BackendPidGetProc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN946"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN974"><span class='Ref_to_Member'>st_procpid</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN948"><span class='Ref_To_Local'>wait_event</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1172"><span class='Ref_to_Proto'>pgstat_get_wait_event</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN947"><span class='Ref_To_Local'>proc</span></a><span class='Operator'>-&GT;</span><a href="../../../include/storage/proc.h.html#LN171"><span class='Ref_to_Member'>wait_event_info</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="pgstatfuncs.c.html#LN948"><span class='Ref_To_Local'>wait_event</span></a><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN329"><span class='Ref_to_Macro'>PG_RETURN_TEXT_P</span></a><span class='Parentheses'>(</span><a href="../../../include/utils/builtins.h.html#LN85"><span class='Ref_to_Proto'>cstring_to_text</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN948"><span class='Ref_To_Local'>wait_event</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_wait_event &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN965"></a><span class='Declare_Function'>pg_stat_get_backend_activity_start</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN967"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN968"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN969"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN969"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN967"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN969"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN968"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN969"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN982"><span class='Ref_to_Member'>st_activity_start_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * No time recorded for start of current query -- this is the case if the 
     * user hasn't enabled query-level stats collection. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN968"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN968"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_activity_start &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN991"></a><span class='Declare_Function'>pg_stat_get_backend_xact_start</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN993"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN994"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN995"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN995"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN993"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN995"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN994"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN995"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN981"><span class='Ref_to_Member'>st_xact_start_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN994"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span>            <span class='Comment_Single_Line'>/* not in a transaction */ 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN994"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_xact_start &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1013"></a><span class='Declare_Function'>pg_stat_get_backend_start</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1015"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1016"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1017"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1017"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1015"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN1017"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN1016"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1017"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN980"><span class='Ref_to_Member'>st_proc_start_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1016"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span>            <span class='Comment_Single_Line'>/* probably can't happen? */ 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1016"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_start &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1035"></a><span class='Declare_Function'>pg_stat_get_backend_client_addr</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1037"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1038"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN1039"></a>    <a href="../../../include/libpq/pqcomm.h.html#LN61"><span class='Ref_to_Typedef'>SockAddr</span></a>    <span class='Declare_Local'>zero_clientaddr</span><span class='Delimiter'>; 
</span><a name="LN1040"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>remote_host</span><span class='Delimiter'>[</span><a href="../../../include/getaddrinfo.h.html#LN87"><span class='Ref_to_Const'>NI_MAXHOST</span></a><span class='Delimiter'>]; 
</span><a name="LN1041"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1037"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* A zeroed client addr means we don't know */ 
</span>    memset<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN1039"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1039"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>memcmp<span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN1039"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Delimiter'>, 
</span>               <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1039"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> AF_INET<span class='Operator'>: 
</span><span class='Directive'>#ifdef</span> HAVE_IPV6 
        <span class='Control'>case</span> AF_INET6<span class='Operator'>: 
</span><span class='Directive'>#endif</span> 
            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="pgstatfuncs.c.html#LN1040"><span class='Ref_To_Local'>remote_host</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN1041"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../../../include/common/ip.h.html#LN31"><span class='Ref_to_Proto'>pg_getnameinfo_all</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Delimiter'>, 
</span>                             <a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN64"><span class='Ref_to_Member'>salen</span></a><span class='Delimiter'>, 
</span>                             <a href="pgstatfuncs.c.html#LN1040"><span class='Ref_To_Local'>remote_host</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1040"><span class='Ref_To_Local'>remote_host</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>                             <a href="../../../include/getaddrinfo.h.html#LN77"><span class='Ref_to_Const'>NI_NUMERICHOST</span></a> <span class='Operator'>| </span><a href="../../../include/getaddrinfo.h.html#LN80"><span class='Ref_to_Const'>NI_NUMERICSERV</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1041"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/builtins.h.html#LN108"><span class='Ref_to_Proto'>clean_ipv6_addr</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1038"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family<span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN1040"><span class='Ref_To_Local'>remote_host</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/utils/inet.h.html#LN124"><span class='Ref_to_Macro'>PG_RETURN_INET_P</span></a><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN583"><span class='Ref_to_Macro'>DirectFunctionCall1</span></a><span class='Parentheses'>(</span><a href="network.c.html#LN78"><span class='Ref_to_Func'>inet_in</span></a><span class='Delimiter'>, 
</span>                                         <a href="../../../include/postgres.h.html#LN583"><span class='Ref_to_Macro'>CStringGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1040"><span class='Ref_To_Local'>remote_host</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_client_addr &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1082"></a><span class='Declare_Function'>pg_stat_get_backend_client_port</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1084"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>beid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN233"><span class='Ref_to_Macro'>PG_GETARG_INT32</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1085"></a>    <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span><span class='Delimiter'>; 
</span><a name="LN1086"></a>    <a href="../../../include/libpq/pqcomm.h.html#LN61"><span class='Ref_to_Typedef'>SockAddr</span></a>    <span class='Declare_Local'>zero_clientaddr</span><span class='Delimiter'>; 
</span><a name="LN1087"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>remote_port</span><span class='Delimiter'>[</span><a href="../../../include/getaddrinfo.h.html#LN90"><span class='Ref_to_Const'>NI_MAXSERV</span></a><span class='Delimiter'>]; 
</span><a name="LN1088"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1085"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1084"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../../include/utils/acl.h.html#LN229"><span class='Ref_to_Proto'>has_privs_of_role</span></a><span class='Parentheses'>(</span><a href="../init/miscinit.c.html#LN281"><span class='Ref_to_Func'>GetUserId</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN1085"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN987"><span class='Ref_to_Member'>st_userid</span></a><span class='Parentheses'>))</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* A zeroed client addr means we don't know */ 
</span>    memset<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN1086"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1086"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>memcmp<span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1085"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN1086"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Delimiter'>, 
</span>               <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1086"><span class='Ref_To_Local'>zero_clientaddr</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1085"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Operator'>.</span>ss_family<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> AF_INET<span class='Operator'>: 
</span><span class='Directive'>#ifdef</span> HAVE_IPV6 
        <span class='Control'>case</span> AF_INET6<span class='Operator'>: 
</span><span class='Directive'>#endif</span> 
            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> AF_UNIX<span class='Operator'>: 
</span>            <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="pgstatfuncs.c.html#LN1087"><span class='Ref_To_Local'>remote_port</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <a href="pgstatfuncs.c.html#LN1088"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../../../include/common/ip.h.html#LN31"><span class='Ref_to_Proto'>pg_getnameinfo_all</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="pgstatfuncs.c.html#LN1085"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN63"><span class='Ref_to_Member'>addr</span></a><span class='Delimiter'>, 
</span>                             <a href="pgstatfuncs.c.html#LN1085"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN988"><span class='Ref_to_Member'>st_clientaddr</span></a><span class='Operator'>.</span><a href="../../../include/libpq/pqcomm.h.html#LN64"><span class='Ref_to_Member'>salen</span></a><span class='Delimiter'>, 
</span>                             <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>                             <a href="pgstatfuncs.c.html#LN1087"><span class='Ref_To_Local'>remote_port</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1087"><span class='Ref_To_Local'>remote_port</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                             <a href="../../../include/getaddrinfo.h.html#LN77"><span class='Ref_to_Const'>NI_NUMERICHOST</span></a> <span class='Operator'>| </span><a href="../../../include/getaddrinfo.h.html#LN80"><span class='Ref_to_Const'>NI_NUMERICSERV</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1088"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN312"><span class='Ref_to_Macro'>PG_RETURN_DATUM</span></a><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN583"><span class='Ref_to_Macro'>DirectFunctionCall1</span></a><span class='Parentheses'>(</span><a href="int.c.html#LN264"><span class='Ref_to_Func'>int4in</span></a><span class='Delimiter'>, 
</span>                                        <a href="../../../include/postgres.h.html#LN583"><span class='Ref_to_Macro'>CStringGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1087"><span class='Ref_To_Local'>remote_port</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_backend_client_port &raquo; </span> 
 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1130"></a><span class='Declare_Function'>pg_stat_get_db_numbackends</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1132"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1133"></a>    <a href="../../../include/c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1134"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>tot_backends</span> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1322"><span class='Ref_to_Proto'>pgstat_fetch_stat_numbackends</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN1135"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>beid</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN1133"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1135"><span class='Ref_To_Local'>beid</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1135"><span class='Ref_To_Local'>beid</span></a> <span class='Operator'>&LT;= </span><a href="pgstatfuncs.c.html#LN1134"><span class='Ref_To_Local'>tot_backends</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1135"><span class='Ref_To_Local'>beid</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1140"></a>        <a href="../../../include/pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>beentry</span> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1319"><span class='Ref_to_Proto'>pgstat_fetch_stat_beentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1135"><span class='Ref_To_Local'>beid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1140"><span class='Ref_To_Local'>beentry</span></a> <span class='Operator'>&& </span><a href="pgstatfuncs.c.html#LN1140"><span class='Ref_To_Local'>beentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN986"><span class='Ref_to_Member'>st_databaseid</span></a> <span class='Operator'>== </span><a href="pgstatfuncs.c.html#LN1132"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN1133"><span class='Ref_To_Local'>result</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../include/fmgr.h.html#LN313"><span class='Ref_to_Macro'>PG_RETURN_INT32</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1133"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1151"></a><span class='Declare_Function'>pg_stat_get_db_xact_commit</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1153"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1154"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1155"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1155"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1153"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1154"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1154"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1155"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN577"><span class='Ref_to_Member'>n_xact_commit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1154"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1167"></a><span class='Declare_Function'>pg_stat_get_db_xact_rollback</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1169"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1170"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1171"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1171"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1169"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1170"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1170"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1171"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN578"><span class='Ref_to_Member'>n_xact_rollback</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1170"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1183"></a><span class='Declare_Function'>pg_stat_get_db_blocks_fetched</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1185"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1186"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1187"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1187"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1185"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1186"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1186"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1187"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN579"><span class='Ref_to_Member'>n_blocks_fetched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1186"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1199"></a><span class='Declare_Function'>pg_stat_get_db_blocks_hit</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1201"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1202"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1203"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1203"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1201"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1202"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1202"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1203"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN580"><span class='Ref_to_Member'>n_blocks_hit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1202"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1215"></a><span class='Declare_Function'>pg_stat_get_db_tuples_returned</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1217"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1218"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1219"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1219"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1217"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1218"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1218"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1219"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN581"><span class='Ref_to_Member'>n_tuples_returned</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1218"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1231"></a><span class='Declare_Function'>pg_stat_get_db_tuples_fetched</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1233"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1234"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1235"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1235"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1233"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1234"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1234"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1235"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN582"><span class='Ref_to_Member'>n_tuples_fetched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1234"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1247"></a><span class='Declare_Function'>pg_stat_get_db_tuples_inserted</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1249"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1250"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1251"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1251"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1249"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1250"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1250"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1251"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN583"><span class='Ref_to_Member'>n_tuples_inserted</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1250"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1263"></a><span class='Declare_Function'>pg_stat_get_db_tuples_updated</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1265"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1266"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1267"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1267"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1265"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1266"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1266"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1267"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN584"><span class='Ref_to_Member'>n_tuples_updated</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1266"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1279"></a><span class='Declare_Function'>pg_stat_get_db_tuples_deleted</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1281"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1282"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1283"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1283"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1281"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1282"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1282"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1283"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN585"><span class='Ref_to_Member'>n_tuples_deleted</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1282"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1294"></a><span class='Declare_Function'>pg_stat_get_db_stat_reset_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1296"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1297"></a>    <a href="../../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1298"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1298"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1296"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1297"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1297"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1298"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN598"><span class='Ref_to_Member'>stat_reset_timestamp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1297"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1297"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1312"></a><span class='Declare_Function'>pg_stat_get_db_temp_files</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1314"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1315"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1316"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1316"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1314"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1315"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1315"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1316"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN592"><span class='Ref_to_Member'>n_temp_files</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1315"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1328"></a><span class='Declare_Function'>pg_stat_get_db_temp_bytes</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1330"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1331"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1332"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1332"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1330"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1331"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1331"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1332"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN593"><span class='Ref_to_Member'>n_temp_bytes</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1331"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1343"></a><span class='Declare_Function'>pg_stat_get_db_conflict_tablespace</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1345"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1346"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1347"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1347"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1345"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1346"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1347"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN587"><span class='Ref_to_Member'>n_conflict_tablespace</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1346"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1358"></a><span class='Declare_Function'>pg_stat_get_db_conflict_lock</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1360"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1361"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1362"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1362"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1360"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1361"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1361"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1362"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN588"><span class='Ref_to_Member'>n_conflict_lock</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1361"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1373"></a><span class='Declare_Function'>pg_stat_get_db_conflict_snapshot</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1375"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1376"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1377"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1377"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1375"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1376"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1376"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1377"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN589"><span class='Ref_to_Member'>n_conflict_snapshot</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1376"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1388"></a><span class='Declare_Function'>pg_stat_get_db_conflict_bufferpin</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1390"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1391"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1392"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1392"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1390"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1391"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1391"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1392"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN590"><span class='Ref_to_Member'>n_conflict_bufferpin</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1391"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1403"></a><span class='Declare_Function'>pg_stat_get_db_conflict_startup_deadlock</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1405"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1406"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1407"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1407"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1405"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1406"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1406"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1407"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN591"><span class='Ref_to_Member'>n_conflict_startup_deadlock</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1406"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1418"></a><span class='Declare_Function'>pg_stat_get_db_conflict_all</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1420"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1421"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1422"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1422"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1420"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1421"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1421"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) ( 
</span>                          <a href="pgstatfuncs.c.html#LN1422"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN587"><span class='Ref_to_Member'>n_conflict_tablespace</span></a> <span class='Operator'>+ 
</span>                          <a href="pgstatfuncs.c.html#LN1422"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN588"><span class='Ref_to_Member'>n_conflict_lock</span></a> <span class='Operator'>+ 
</span>                          <a href="pgstatfuncs.c.html#LN1422"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN589"><span class='Ref_to_Member'>n_conflict_snapshot</span></a> <span class='Operator'>+ 
</span>                          <a href="pgstatfuncs.c.html#LN1422"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN590"><span class='Ref_to_Member'>n_conflict_bufferpin</span></a> <span class='Operator'>+ 
</span>                          <a href="pgstatfuncs.c.html#LN1422"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN591"><span class='Ref_to_Member'>n_conflict_startup_deadlock</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1421"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1438"></a><span class='Declare_Function'>pg_stat_get_db_deadlocks</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1440"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1441"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1442"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1442"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1440"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1441"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1441"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1442"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN594"><span class='Ref_to_Member'>n_deadlocks</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1441"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1453"></a><span class='Declare_Function'>pg_stat_get_db_blk_read_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1455"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1456"></a>    <span class='Keyword'>double</span>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1457"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* convert counter from microsec to millisec for display */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1457"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1455"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1456"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1456"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="pgstatfuncs.c.html#LN1457"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN595"><span class='Ref_to_Member'>n_block_read_time</span></a><span class='Parentheses'>)</span> <span class='Operator'>/ </span><span class='Number'>1000</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1456"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1469"></a><span class='Declare_Function'>pg_stat_get_db_blk_write_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1471"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>dbid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1472"></a>    <span class='Keyword'>double</span>      <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1473"></a>    <a href="../../../include/pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>dbentry</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* convert counter from microsec to millisec for display */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1473"><span class='Ref_To_Local'>dbentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1317"><span class='Ref_to_Proto'>pgstat_fetch_stat_dbentry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1471"><span class='Ref_To_Local'>dbid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1472"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1472"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="pgstatfuncs.c.html#LN1473"><span class='Ref_To_Local'>dbentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN596"><span class='Ref_to_Member'>n_block_write_time</span></a><span class='Parentheses'>)</span> <span class='Operator'>/ </span><span class='Number'>1000</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1472"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1485"></a><span class='Declare_Function'>pg_stat_get_bgwriter_timed_checkpoints</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN683"><span class='Ref_to_Member'>timed_checkpoints</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1491"></a><span class='Declare_Function'>pg_stat_get_bgwriter_requested_checkpoints</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN684"><span class='Ref_to_Member'>requested_checkpoints</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1497"></a><span class='Declare_Function'>pg_stat_get_bgwriter_buf_written_checkpoints</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN687"><span class='Ref_to_Member'>buf_written_checkpoints</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1503"></a><span class='Declare_Function'>pg_stat_get_bgwriter_buf_written_clean</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN688"><span class='Ref_to_Member'>buf_written_clean</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1509"></a><span class='Declare_Function'>pg_stat_get_bgwriter_maxwritten_clean</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN689"><span class='Ref_to_Member'>maxwritten_clean</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1515"></a><span class='Declare_Function'>pg_stat_get_checkpoint_write_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* time is already in msec, just convert to double for presentation */ 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN685"><span class='Ref_to_Member'>checkpoint_write_time</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1522"></a><span class='Declare_Function'>pg_stat_get_checkpoint_sync_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* time is already in msec, just convert to double for presentation */ 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>((</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN686"><span class='Ref_to_Member'>checkpoint_sync_time</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1529"></a><span class='Declare_Function'>pg_stat_get_bgwriter_stat_reset_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN693"><span class='Ref_to_Member'>stat_reset_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1535"></a><span class='Declare_Function'>pg_stat_get_buf_written_backend</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN690"><span class='Ref_to_Member'>buf_written_backend</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1541"></a><span class='Declare_Function'>pg_stat_get_buf_fsync_backend</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN691"><span class='Ref_to_Member'>buf_fsync_backend</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1547"></a><span class='Declare_Function'>pg_stat_get_buf_alloc</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN692"><span class='Ref_to_Member'>buf_alloc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1553"></a><span class='Declare_Function'>pg_stat_get_xact_numscans</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1555"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1556"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1557"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1557"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1555"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1556"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1556"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1557"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN98"><span class='Ref_to_Member'>t_numscans</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1556"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1568"></a><span class='Declare_Function'>pg_stat_get_xact_tuples_returned</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1570"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1571"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1572"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1572"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1570"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1571"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1571"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1572"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN100"><span class='Ref_to_Member'>t_tuples_returned</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1571"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1583"></a><span class='Declare_Function'>pg_stat_get_xact_tuples_fetched</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1585"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1586"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1587"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1587"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1585"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1586"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1586"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1587"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN101"><span class='Ref_to_Member'>t_tuples_fetched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1586"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1598"></a><span class='Declare_Function'>pg_stat_get_xact_tuples_inserted</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1600"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1601"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1602"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span><a name="LN1603"></a>    <a href="../../../include/pgstat.h.html#LN164"><span class='Ref_to_Struct'>PgStat_TableXactStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>trans</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1602"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1600"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1601"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="pgstatfuncs.c.html#LN1601"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1602"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN103"><span class='Ref_to_Member'>t_tuples_inserted</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* live subtransactions' counts aren't in t_tuples_inserted yet */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1603"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1602"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN156"><span class='Ref_to_Member'>trans</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1603"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1603"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1603"><span class='Ref_To_Local'>trans</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN175"><span class='Ref_to_Member'>upper</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN1601"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="pgstatfuncs.c.html#LN1603"><span class='Ref_To_Local'>trans</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN166"><span class='Ref_to_Member'>tuples_inserted</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1601"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_xact_tuples_inserted &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1619"></a><span class='Declare_Function'>pg_stat_get_xact_tuples_updated</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1621"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1622"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1623"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span><a name="LN1624"></a>    <a href="../../../include/pgstat.h.html#LN164"><span class='Ref_to_Struct'>PgStat_TableXactStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>trans</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1623"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1621"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1622"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="pgstatfuncs.c.html#LN1622"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1623"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN104"><span class='Ref_to_Member'>t_tuples_updated</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* live subtransactions' counts aren't in t_tuples_updated yet */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1624"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1623"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN156"><span class='Ref_to_Member'>trans</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1624"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1624"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1624"><span class='Ref_To_Local'>trans</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN175"><span class='Ref_to_Member'>upper</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN1622"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="pgstatfuncs.c.html#LN1624"><span class='Ref_To_Local'>trans</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN167"><span class='Ref_to_Member'>tuples_updated</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1622"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_xact_tuples_updated &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1640"></a><span class='Declare_Function'>pg_stat_get_xact_tuples_deleted</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1642"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1643"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1644"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span><a name="LN1645"></a>    <a href="../../../include/pgstat.h.html#LN164"><span class='Ref_to_Struct'>PgStat_TableXactStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>trans</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1644"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1642"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1643"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="pgstatfuncs.c.html#LN1643"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1644"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN105"><span class='Ref_to_Member'>t_tuples_deleted</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* live subtransactions' counts aren't in t_tuples_deleted yet */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1645"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1644"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN156"><span class='Ref_to_Member'>trans</span></a><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1645"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="pgstatfuncs.c.html#LN1645"><span class='Ref_To_Local'>trans</span></a> <span class='Operator'>= </span><a href="pgstatfuncs.c.html#LN1645"><span class='Ref_To_Local'>trans</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN175"><span class='Ref_to_Member'>upper</span></a><span class='Parentheses'>) 
</span>            <a href="pgstatfuncs.c.html#LN1643"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>+= </span><a href="pgstatfuncs.c.html#LN1645"><span class='Ref_To_Local'>trans</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN168"><span class='Ref_to_Member'>tuples_deleted</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1643"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_xact_tuples_deleted &raquo; </span> 
 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1661"></a><span class='Declare_Function'>pg_stat_get_xact_tuples_hot_updated</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1663"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1664"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1665"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1665"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1663"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1664"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1664"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1665"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN106"><span class='Ref_to_Member'>t_tuples_hot_updated</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1664"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1676"></a><span class='Declare_Function'>pg_stat_get_xact_blocks_fetched</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1678"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1679"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1680"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1680"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1678"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1679"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1679"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1680"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN113"><span class='Ref_to_Member'>t_blocks_fetched</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1679"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1691"></a><span class='Declare_Function'>pg_stat_get_xact_blocks_hit</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1693"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>relid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1694"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1695"></a>    <a href="../../../include/pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Local'>tabentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1695"><span class='Ref_To_Local'>tabentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1186"><span class='Ref_to_Proto'>find_tabstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1693"><span class='Ref_To_Local'>relid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1694"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1694"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>) (</span><a href="pgstatfuncs.c.html#LN1695"><span class='Ref_To_Local'>tabentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN157"><span class='Ref_to_Member'>t_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN114"><span class='Ref_to_Member'>t_blocks_hit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1694"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1706"></a><span class='Declare_Function'>pg_stat_get_xact_function_calls</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1708"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1709"></a>    <a href="../../../include/pgstat.h.html#LN469"><span class='Ref_to_Struct'>PgStat_BackendFunctionEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1709"><span class='Ref_To_Local'>funcentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1187"><span class='Ref_to_Proto'>find_funcstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1708"><span class='Ref_To_Local'>funcid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN326"><span class='Ref_to_Macro'>PG_RETURN_INT64</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1709"><span class='Ref_To_Local'>funcentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN472"><span class='Ref_to_Member'>f_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN460"><span class='Ref_to_Member'>f_numcalls</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1717"></a><span class='Declare_Function'>pg_stat_get_xact_function_total_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1719"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1720"></a>    <a href="../../../include/pgstat.h.html#LN469"><span class='Ref_to_Struct'>PgStat_BackendFunctionEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1720"><span class='Ref_To_Local'>funcentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1187"><span class='Ref_to_Proto'>find_funcstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1719"><span class='Ref_To_Local'>funcid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/portability/instr_time.h.html#LN134"><span class='Ref_to_Macro'>INSTR_TIME_GET_MILLISEC</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1720"><span class='Ref_To_Local'>funcentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN472"><span class='Ref_to_Member'>f_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN461"><span class='Ref_to_Member'>f_total_time</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1728"></a><span class='Declare_Function'>pg_stat_get_xact_function_self_time</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1730"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1731"></a>    <a href="../../../include/pgstat.h.html#LN469"><span class='Ref_to_Struct'>PgStat_BackendFunctionEntry</span></a> <span class='Operator'>*</span><span class='Declare_Local'>funcentry</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstatfuncs.c.html#LN1731"><span class='Ref_To_Local'>funcentry</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1187"><span class='Ref_to_Proto'>find_funcstat_entry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1730"><span class='Ref_To_Local'>funcid</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../../include/fmgr.h.html#LN304"><span class='Ref_to_Macro'>PG_RETURN_NULL</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="../../../include/fmgr.h.html#LN325"><span class='Ref_to_Macro'>PG_RETURN_FLOAT8</span></a><span class='Parentheses'>(</span><a href="../../../include/portability/instr_time.h.html#LN134"><span class='Ref_to_Macro'>INSTR_TIME_GET_MILLISEC</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1731"><span class='Ref_To_Local'>funcentry</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN472"><span class='Ref_to_Member'>f_counts</span></a><span class='Operator'>.</span><a href="../../../include/pgstat.h.html#LN462"><span class='Ref_to_Member'>f_self_time</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* Get the timestamp of the current statistics snapshot */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1741"></a><span class='Declare_Function'>pg_stat_get_snapshot_timestamp</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/utils/timestamp.h.html#LN39"><span class='Ref_to_Macro'>PG_RETURN_TIMESTAMPTZ</span></a><span class='Parentheses'>(</span><a href="../../../include/pgstat.h.html#LN1324"><span class='Ref_to_Proto'>pgstat_fetch_global</span></a><span class='Parentheses'>()</span><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN682"><span class='Ref_to_Member'>stats_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Discard the active statistics snapshot */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1748"></a><span class='Declare_Function'>pg_stat_clear_snapshot</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/pgstat.h.html#LN1150"><span class='Ref_to_Proto'>pgstat_clear_snapshot</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* Reset all counters for the current database */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1758"></a><span class='Declare_Function'>pg_stat_reset</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../include/pgstat.h.html#LN1151"><span class='Ref_to_Proto'>pgstat_reset_counters</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Reset some shared cluster-wide counters */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1767"></a><span class='Declare_Function'>pg_stat_reset_shared</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1769"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>target</span> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN87"><span class='Ref_to_Proto'>text_to_cstring</span></a><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN272"><span class='Ref_to_Macro'>PG_GETARG_TEXT_PP</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/pgstat.h.html#LN1152"><span class='Ref_to_Proto'>pgstat_reset_shared_counters</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1769"><span class='Ref_To_Local'>target</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* Reset a single counter in the current database */ 
</span><a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1778"></a><span class='Declare_Function'>pg_stat_reset_single_table_counters</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1780"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>taboid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/pgstat.h.html#LN1153"><span class='Ref_to_Proto'>pgstat_reset_single_counter</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1780"><span class='Ref_To_Local'>taboid</span></a><span class='Delimiter'>, </span><a href="../../../include/pgstat.h.html#LN127"><span class='Ref_to_EnumConst'>RESET_TABLE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1788"></a><span class='Declare_Function'>pg_stat_reset_single_function_counters</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1790"></a>    <a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>funcoid</span> <span class='Operator'>= </span><a href="../../../include/fmgr.h.html#LN239"><span class='Ref_to_Macro'>PG_GETARG_OID</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/pgstat.h.html#LN1153"><span class='Ref_to_Proto'>pgstat_reset_single_counter</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1790"><span class='Ref_To_Local'>funcoid</span></a><span class='Delimiter'>, </span><a href="../../../include/pgstat.h.html#LN128"><span class='Ref_to_EnumConst'>RESET_FUNCTION</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/fmgr.h.html#LN308"><span class='Ref_to_Macro'>PG_RETURN_VOID</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
} 
</span> 
<a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> 
<a name="LN1798"></a><span class='Declare_Function'>pg_stat_get_archiver</span><span class='Parentheses'>(</span><a href="../../../include/fmgr.h.html#LN157"><span class='Ref_to_Const'>PG_FUNCTION_ARGS</span></a><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1800"></a>    <a href="../../../include/access/tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Local'>tupdesc</span><span class='Delimiter'>; 
</span><a name="LN1801"></a>    <a href="../../../include/postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Local'>values</span><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]; 
</span><a name="LN1802"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>nulls</span><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]; 
</span><a name="LN1803"></a>    <a href="../../../include/pgstat.h.html#LN664"><span class='Ref_to_Struct'>PgStat_ArchiverStats</span></a> <span class='Operator'>*</span><span class='Declare_Local'>archiver_stats</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Initialise values and NULL flags arrays */ 
</span>    <a href="../../../include/c.h.html#LN856"><span class='Ref_to_Macro'>MemSet</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../../include/c.h.html#LN856"><span class='Ref_to_Macro'>MemSet</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Initialise attributes information in the tuple descriptor */ 
</span>    <a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a> <span class='Operator'>= </span><a href="../../access/common/tupdesc.c.html#LN39"><span class='Ref_to_Func'>CreateTemplateTupleDesc</span></a><span class='Parentheses'>(</span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='String'>"archived_count"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN21"><span class='Ref_to_Const'>INT8OID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='String'>"last_archived_wal"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='String'>"last_archived_time"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN53"><span class='Ref_to_Const'>TIMESTAMPTZOID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='String'>"failed_count"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN21"><span class='Ref_to_Const'>INT8OID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>"last_failed_wal"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN26"><span class='Ref_to_Const'>TEXTOID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='String'>"last_failed_time"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN53"><span class='Ref_to_Const'>TIMESTAMPTZOID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/access/tupdesc.h.html#LN114"><span class='Ref_to_Proto'>TupleDescInitEntry</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../../include/access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a><span class='Parentheses'>) </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='String'>"stats_reset"</span><span class='Delimiter'>, 
</span>                       <a href="../../../interfaces/ecpg/ecpglib/pg_type.h.html#LN53"><span class='Ref_to_Const'>TIMESTAMPTZOID</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/funcapi.h.html#LN229"><span class='Ref_to_Proto'>BlessTupleDesc</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get statistics about the archiver process */ 
</span>    <a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a> <span class='Operator'>= </span><a href="../../../include/pgstat.h.html#LN1323"><span class='Ref_to_Proto'>pgstat_fetch_stat_archiver</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Fill values and NULLs */ 
</span>    <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN624"><span class='Ref_to_Macro'>Int64GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN666"><span class='Ref_to_Member'>archived_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN667"><span class='Ref_to_Member'>last_archived_wal</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN667"><span class='Ref_to_Member'>last_archived_wal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN669"><span class='Ref_to_Member'>last_archived_timestamp</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN669"><span class='Ref_to_Member'>last_archived_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/postgres.h.html#LN624"><span class='Ref_to_Macro'>Int64GetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN670"><span class='Ref_to_Member'>failed_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN671"><span class='Ref_to_Member'>last_failed_wal</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>)</span> 
        <a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN90"><span class='Ref_to_Macro'>CStringGetTextDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN671"><span class='Ref_to_Member'>last_failed_wal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN673"><span class='Ref_to_Member'>last_failed_timestamp</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN673"><span class='Ref_to_Member'>last_failed_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN674"><span class='Ref_to_Member'>stat_reset_timestamp</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../include/utils/timestamp.h.html#LN31"><span class='Ref_to_Macro'>TimestampTzGetDatum</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1803"><span class='Ref_To_Local'>archiver_stats</span></a><span class='Operator'>-&GT;</span><a href="../../../include/pgstat.h.html#LN674"><span class='Ref_to_Member'>stat_reset_timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Returns the record as Datum */ 
</span>    <a href="../../../include/fmgr.h.html#LN312"><span class='Ref_to_Macro'>PG_RETURN_DATUM</span></a><span class='Parentheses'>(</span><a href="../../../include/funcapi.h.html#LN221"><span class='Ref_to_Macro'>HeapTupleGetDatum</span></a><span class='Parentheses'>(</span> 
                                   <a href="../../access/common/heaptuple.c.html#LN690"><span class='Ref_to_Func'>heap_form_tuple</span></a><span class='Parentheses'>(</span><a href="pgstatfuncs.c.html#LN1800"><span class='Ref_To_Local'>tupdesc</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN1801"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><a href="pgstatfuncs.c.html#LN1802"><span class='Ref_To_Local'>nulls</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pg_stat_get_archiver &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>