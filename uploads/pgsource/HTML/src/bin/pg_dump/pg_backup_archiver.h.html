<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\bin\pg_dump\pg_backup_archiver.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\bin\pg_dump\pg_backup_archiver.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:00 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * pg_backup_archiver.h 
 * 
 *  Private interface to the pg_dump archiver routines. 
 *  It is NOT intended that these routines be called by any 
 *  dumper directly. 
 * 
 *  See the headers to pg_restore for more details. 
 * 
 * Copyright (c) 2000, Philip Warner 
 *      Rights are granted to use this software in any way so long 
 *      as this notice is not removed. 
 * 
 *  The author is not responsible for loss or damages that may 
 *  result from it's use. 
 * 
 * 
 * IDENTIFICATION 
 *      src/bin/pg_dump/pg_backup_archiver.h 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="pg_backup_archiver.h.html#LN24"><span class='Ref_to_Const'>__PG_BACKUP_ARCHIVE__</span></a> 
<a name="LN24"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>__PG_BACKUP_ARCHIVE__</span> 
 
 
<span class='Keyword'>#include </span><span class='String'>&LT;time.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"pg_backup.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"libpq-fe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pqexpbuffer.h"</span> 
 
<a name="LN34"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LOBBUFSIZE</span> <span class='Number'>16384</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Note: zlib.h must be included *after* libpq-fe.h, because the latter may 
 * include ssl.h, which has a naming conflict with zlib.h. 
 */ 
</span><span class='Directive'>#ifdef</span> HAVE_LIBZ 
<span class='Keyword'>#include </span><span class='String'>&LT;zlib.h&GT;</span> 
<a name="LN42"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZCLOSE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>) </span>gzclose<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN42"><span class='Ref_to_Parameter'>fh</span></a><span class='Parentheses'>) 
</span><a name="LN43"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZWRITE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>s</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>n</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>) </span>gzwrite<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN43"><span class='Ref_to_Parameter'>fh</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN43"><span class='Ref_to_Parameter'>p</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN43"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN43"><span class='Ref_to_Parameter'>s</span></a><span class='Parentheses'>))</span> 
<a name="LN44"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZREAD</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>s</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>n</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>) </span>gzread<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN44"><span class='Ref_to_Parameter'>fh</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN44"><span class='Ref_to_Parameter'>p</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN44"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN44"><span class='Ref_to_Parameter'>s</span></a><span class='Parentheses'>))</span> 
<a name="LN45"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZEOF</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>)</span>   gzeof<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN45"><span class='Ref_to_Parameter'>fh</span></a><span class='Parentheses'>) 
</span><span class='Directive'>#else</span> 
<a name="LN47"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZCLOSE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>) </span>fclose<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN47"><span class='Ref_to_Parameter'>fh</span></a><span class='Parentheses'>) 
</span><a name="LN48"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZWRITE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>s</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>n</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>) (</span>fwrite<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN48"><span class='Ref_to_Parameter'>p</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN48"><span class='Ref_to_Parameter'>s</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN48"><span class='Ref_to_Parameter'>n</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN48"><span class='Ref_to_Parameter'>fh</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN48"><span class='Ref_to_Parameter'>s</span></a><span class='Parentheses'>))</span> 
<a name="LN49"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZREAD</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>s</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>n</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>) </span>fread<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN49"><span class='Ref_to_Parameter'>p</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN49"><span class='Ref_to_Parameter'>s</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN49"><span class='Ref_to_Parameter'>n</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN49"><span class='Ref_to_Parameter'>fh</span></a><span class='Parentheses'>) 
</span><a name="LN50"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GZEOF</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>fh</span><span class='Parentheses'>)</span>   feof<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN50"><span class='Ref_to_Parameter'>fh</span></a><span class='Parentheses'>) 
</span><span class='Comment_Multi_Line'>/* this is just the redefinition of a libz constant */ 
</span><a name="LN52"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>Z_DEFAULT_COMPRESSION</span> <span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>) 
</span> 
<a name="LN54"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>_z_stream</span> 
<span class='Delimiter'>{ 
</span><a name="LN56"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>next_in</span><span class='Delimiter'>; 
</span><a name="LN57"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>next_out</span><span class='Delimiter'>; 
</span><a name="LN58"></a>    size_t      <span class='Declare_Member'>avail_in</span><span class='Delimiter'>; 
</span><a name="LN59"></a>    size_t      <span class='Declare_Member'>avail_out</span><span class='Delimiter'>; 
</span><a name="LN60"></a>} <span class='Declare_Typedef'>z_stream</span><span class='Delimiter'>; 
</span><a name="LN61"></a><span class='Control'>typedef</span> <a href="pg_backup_archiver.h.html#LN54"><span class='Ref_to_Typedef'>z_stream</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>z_streamp</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* Data block types */ 
</span><a name="LN65"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>BLK_DATA</span> <span class='Number'>1</span> 
<a name="LN66"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>BLK_BLOBS</span> <span class='Number'>3</span> 
 
<span class='Comment_Multi_Line'>/* Encode version components into a convenient integer &LT;maj&GT;&LT;min&GT;&LT;rev&GT; */ 
</span><a name="LN69"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>MAKE_ARCHIVE_VERSION</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>major</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>minor</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>rev</span><span class='Parentheses'>) (((</span><a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Parameter'>major</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>256</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Parameter'>minor</span></a><span class='Parentheses'>))</span> <span class='Operator'>* </span><span class='Number'>256</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Parameter'>rev</span></a><span class='Parentheses'>))</span> 
 
<a name="LN71"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ARCHIVE_MAJOR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>version</span><span class='Parentheses'>) (((</span><a href="pg_backup_archiver.h.html#LN71"><span class='Ref_to_Parameter'>version</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;&GT; </span><span class='Number'>16</span><span class='Parentheses'>)</span> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>)</span> 
<a name="LN72"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ARCHIVE_MINOR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>version</span><span class='Parentheses'>) (((</span><a href="pg_backup_archiver.h.html#LN72"><span class='Ref_to_Parameter'>version</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;&GT;</span>  <span class='Number'>8</span><span class='Parentheses'>)</span> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>)</span> 
<a name="LN73"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ARCHIVE_REV</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>version</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(((</span><a href="pg_backup_archiver.h.html#LN73"><span class='Ref_to_Parameter'>version</span></a><span class='Parentheses'>)</span>      <span class='Parentheses'>)</span> <span class='Operator'>& </span><span class='Number'>255</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* Historical version numbers (checked in code) */ 
</span><a name="LN76"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_0</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN77"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_2</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* Allow No ZLIB */ 
</span><a name="LN78"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_3</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* BLOBs */ 
</span><a name="LN79"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_4</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* Date & name in header */ 
</span><a name="LN80"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_5</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* Handle dependencies */ 
</span><a name="LN81"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_6</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* Schema field in TOCs */ 
</span><a name="LN82"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_7</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Multi_Line'>/* File Offset size in 
                                                         * header */ 
</span><a name="LN84"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_8</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Multi_Line'>/* change interpretation 
                                                         * of ID numbers and 
                                                         * dependencies */ 
</span><a name="LN87"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_9</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>       <span class='Comment_Multi_Line'>/* add default_with_oids 
                                                         * tracking */ 
</span><a name="LN89"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_10</span> <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>      <span class='Comment_Single_Line'>/* add tablespace */ 
</span><a name="LN90"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_11</span> <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>11</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>      <span class='Comment_Multi_Line'>/* add toc section 
                                                         * indicator */ 
</span><a name="LN92"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_1_12</span> <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>12</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span>      <span class='Comment_Multi_Line'>/* add separate BLOB 
                                                         * entries */ 
</span> 
<span class='Comment_Multi_Line'>/* Current archive version number (the format we can output) */ 
</span><a name="LN96"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_MAJOR</span> <span class='Number'>1</span> 
<a name="LN97"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_MINOR</span> <span class='Number'>12</span> 
<a name="LN98"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_REV</span> <span class='Number'>0</span> 
<a name="LN99"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_SELF</span> <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN96"><span class='Ref_to_Const'>K_VERS_MAJOR</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN97"><span class='Ref_to_Const'>K_VERS_MINOR</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN98"><span class='Ref_to_Const'>K_VERS_REV</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Newest format we can read */ 
</span><a name="LN102"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_VERS_MAX</span>  <a href="pg_backup_archiver.h.html#LN69"><span class='Ref_to_Macro'>MAKE_ARCHIVE_VERSION</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN96"><span class='Ref_to_Const'>K_VERS_MAJOR</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN97"><span class='Ref_to_Const'>K_VERS_MINOR</span></a><span class='Delimiter'>, </span><span class='Number'>255</span><span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* Flags to indicate disposition of offsets stored in files */ 
</span><a name="LN106"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_OFFSET_POS_NOT_SET</span> <span class='Number'>1</span> 
<a name="LN107"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_OFFSET_POS_SET</span> <span class='Number'>2</span> 
<a name="LN108"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>K_OFFSET_NO_DATA</span> <span class='Number'>3</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Special exit values from worker children.  We reserve 0 for normal 
 * success; 1 and other small values should be interpreted as crashes. 
 */ 
</span><a name="LN114"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WORKER_OK</span>                     <span class='Number'>0</span> 
<a name="LN115"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WORKER_CREATE_DONE</span>            <span class='Number'>10</span> 
<a name="LN116"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WORKER_INHIBIT_DATA</span>           <span class='Number'>11</span> 
<a name="LN117"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WORKER_IGNORED_ERRORS</span>         <span class='Number'>12</span> 
 
<a name="LN119"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN212"><span class='Ref_to_Struct'>_archiveHandle</span></a> <span class='Declare_Typedef'>ArchiveHandle</span><span class='Delimiter'>; 
</span><a name="LN120"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Declare_Typedef'>TocEntry</span><span class='Delimiter'>; 
</span><span class='Control'>struct</span> <a href="parallel.h.html#LN39"><span class='Ref_to_Struct'>ParallelState</span></a><span class='Delimiter'>; 
</span> 
<a name="LN123"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>READ_ERROR_EXIT</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>fd</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>feof<span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN123"><span class='Ref_to_Parameter'>fd</span></a><span class='Parentheses'>))</span> <span class='Operator'>\ 
</span>            <a href="pg_backup_utils.c.html#LN100"><span class='Ref_to_Func'>exit_horribly</span></a><span class='Parentheses'>(</span><a href="pg_dump_sort.c.html#LN24"><span class='Ref_to_Global_Var'>modulename</span></a><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>                          <span class='String'>"could not read from input file: end of file\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <span class='Control'>else</span> <span class='Operator'>\ 
</span>            <a href="pg_backup_utils.c.html#LN100"><span class='Ref_to_Func'>exit_horribly</span></a><span class='Parentheses'>(</span><a href="pg_dump_sort.c.html#LN24"><span class='Ref_to_Global_Var'>modulename</span></a><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>                    <span class='String'>"could not read from input file: %s\n"</span><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN133"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WRITE_ERROR_EXIT</span> <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        <a href="pg_backup_utils.c.html#LN100"><span class='Ref_to_Func'>exit_horribly</span></a><span class='Parentheses'>(</span><a href="pg_dump_sort.c.html#LN24"><span class='Ref_to_Global_Var'>modulename</span></a><span class='Delimiter'>, </span><span class='String'>"could not write to output file: %s\n"</span><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>                      <a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN139"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>T_Action</span> 
<span class='Delimiter'>{ 
</span><a name="LN141"></a>    <span class='Declare_Enum_Const'>ACT_DUMP</span><span class='Delimiter'>, 
</span><a name="LN142"></a>    <span class='Declare_Enum_Const'>ACT_RESTORE</span> 
<a name="LN143"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>T_Action</span><span class='Delimiter'>; 
</span> 
<a name="LN145"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ClosePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN146"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReopenPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN147"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ArchiveEntryPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN149"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>StartDataPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN150"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>WriteDataPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>const void </span><span class='Operator'>*</span>data<span class='Delimiter'>, </span>size_t dLen<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN151"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>EndDataPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN153"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>StartBlobsPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN154"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>StartBlobPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <a href="../../pl/plpgsql/src/pl_gram.y.html#LN129"><span class='Ref_to_Global_Var'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN155"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>EndBlobPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <a href="../../pl/plpgsql/src/pl_gram.y.html#LN129"><span class='Ref_to_Global_Var'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN156"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>EndBlobsPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN158"></a><span class='Control'>typedef</span> <span class='Keyword'>int </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>WriteBytePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>const int </span><a href="../../interfaces/ecpg/test/expected/preproc-comment.c.html#LN22"><span class='Ref_to_Global_Var'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN159"></a><span class='Control'>typedef</span> <span class='Keyword'>int </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReadBytePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN160"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>WriteBufPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>const void </span><span class='Operator'>*</span><a href="../../interfaces/ecpg/test/expected/preproc-cursor.c.html#LN30"><span class='Ref_to_Typedef'>c</span></a><span class='Delimiter'>, </span>size_t <a href="../../backend/replication/repl_scanner.l.html#LN155"><span class='Ref_to_Global_Var'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN161"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReadBufPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><a href="../pg_test_fsync/pg_test_fsync.c.html#LN66"><span class='Ref_to_Global_Var'>buf</span></a><span class='Delimiter'>, </span>size_t <a href="../../backend/replication/repl_scanner.l.html#LN155"><span class='Ref_to_Global_Var'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN162"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>SaveArchivePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN163"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>WriteExtraTocPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN164"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReadExtraTocPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN165"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>PrintExtraTocPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN166"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>PrintTocDataPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN168"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ClonePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN169"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>DeClonePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN171"></a><span class='Control'>typedef</span> <span class='Keyword'>int </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>WorkerJobDumpPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN172"></a><span class='Control'>typedef</span> <span class='Keyword'>int </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>WorkerJobRestorePtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span>te<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN174"></a><span class='Control'>typedef</span> size_t <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>CustomOutPtrType</span><span class='Parentheses'>) (</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>const void </span><span class='Operator'>*</span><a href="../pg_test_fsync/pg_test_fsync.c.html#LN66"><span class='Ref_to_Global_Var'>buf</span></a><span class='Delimiter'>, </span>size_t <a href="../../backend/replication/repl_scanner.l.html#LN155"><span class='Ref_to_Global_Var'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN178"></a>    <span class='Declare_Enum_Const'>SQL_SCAN</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>,</span>               <span class='Comment_Single_Line'>/* normal */ 
</span><a name="LN179"></a>    <span class='Declare_Enum_Const'>SQL_IN_SINGLE_QUOTE</span><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* '...' literal */ 
</span><a name="LN180"></a>    <span class='Declare_Enum_Const'>SQL_IN_DOUBLE_QUOTE</span>         <span class='Comment_Single_Line'>/* "..." identifier */ 
</span><a name="LN181"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>sqlparseState</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN185"></a>    <a href="pg_backup_archiver.h.html#LN176"><span class='Ref_to_Typedef'>sqlparseState</span></a> <span class='Declare_Member'>state</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* see above */ 
</span><a name="LN186"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>backSlash</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* next char is backslash quoted? */ 
</span><a name="LN187"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Member'>curCmd</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* incomplete line (NULL if not created) */ 
</span><a name="LN188"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>sqlparseInfo</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN192"></a>    <span class='Declare_Enum_Const'>STAGE_NONE</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN193"></a>    <span class='Declare_Enum_Const'>STAGE_INITIALIZING</span><span class='Delimiter'>, 
</span><a name="LN194"></a>    <span class='Declare_Enum_Const'>STAGE_PROCESSING</span><span class='Delimiter'>, 
</span><a name="LN195"></a>    <span class='Declare_Enum_Const'>STAGE_FINALIZING</span> 
<a name="LN196"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>ArchiverStage</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN200"></a>    <span class='Declare_Enum_Const'>OUTPUT_SQLCMDS</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>,</span>         <span class='Comment_Single_Line'>/* emitting general SQL commands */ 
</span><a name="LN201"></a>    <span class='Declare_Enum_Const'>OUTPUT_COPYDATA</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* writing COPY data */ 
</span><a name="LN202"></a>    <span class='Declare_Enum_Const'>OUTPUT_OTHERDATA</span>            <span class='Comment_Single_Line'>/* writing data as INSERT commands */ 
</span><a name="LN203"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>ArchiverOutput</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN207"></a>    <span class='Declare_Enum_Const'>REQ_SCHEMA</span> <span class='Operator'>= </span><span class='Number'>0x01</span><span class='Delimiter'>,</span>          <span class='Comment_Single_Line'>/* want schema */ 
</span><a name="LN208"></a>    <span class='Declare_Enum_Const'>REQ_DATA</span> <span class='Operator'>= </span><span class='Number'>0x02</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* want data */ 
</span><a name="LN209"></a>    <span class='Declare_Enum_Const'>REQ_SPECIAL</span> <span class='Operator'>= </span><span class='Number'>0x04</span>          <span class='Comment_Single_Line'>/* for special TOC entries */ 
</span><a name="LN210"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>teReqs</span><span class='Delimiter'>; 
</span> 
<a name="LN212"></a><span class='Control'>struct</span> <span class='Declare_Struct'>_archiveHandle</span> 
<span class='Delimiter'>{ 
</span><a name="LN214"></a>    <a href="pg_backup.h.html#LN177"><span class='Ref_to_Struct'>Archive</span></a>     <span class='Declare_Member'>public</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* Public part of archive */ 
</span><a name="LN215"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>version</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* Version of file */ 
</span> 
<a name="LN217"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>archiveRemoteVersion</span><span class='Delimiter'>;</span>   <span class='Comment_Multi_Line'>/* When reading an archive, the 
                                         * version of the dumped DB */ 
</span><a name="LN219"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>archiveDumpVersion</span><span class='Delimiter'>;</span>     <span class='Comment_Multi_Line'>/* When reading an archive, the 
                                         * version of the dumper */ 
</span> 
<a name="LN222"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>debugLevel</span><span class='Delimiter'>;</span>     <span class='Comment_Multi_Line'>/* Used for logging (currently only by 
                                 * --verbose) */ 
</span><a name="LN224"></a>    size_t      <span class='Declare_Member'>intSize</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* Size of an integer in the archive */ 
</span><a name="LN225"></a>    size_t      <span class='Declare_Member'>offSize</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* Size of a file offset in the archive - 
                                 * Added V1.7 */ 
</span><a name="LN227"></a>    <a href="pg_backup.h.html#LN36"><span class='Ref_to_Typedef'>ArchiveFormat</span></a> <span class='Declare_Member'>format</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* Archive format */ 
</span> 
<a name="LN229"></a>    <a href="pg_backup_archiver.h.html#LN183"><span class='Ref_to_Typedef'>sqlparseInfo</span></a> <span class='Declare_Member'>sqlparse</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* state for parsing INSERT data */ 
</span> 
<a name="LN231"></a>    time_t      <span class='Declare_Member'>createDate</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* Date archive created */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Fields used when discovering header. A format can always get the 
     * previous read bytes from here... 
     */ 
</span><a name="LN237"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>readHeader</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* Used if file header has been read already */ 
</span><a name="LN238"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>lookahead</span><span class='Delimiter'>;</span>      <span class='Comment_Multi_Line'>/* Buffer used when reading header to discover 
                                 * format */ 
</span><a name="LN240"></a>    size_t      <span class='Declare_Member'>lookaheadSize</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Size of allocated buffer */ 
</span><a name="LN241"></a>    size_t      <span class='Declare_Member'>lookaheadLen</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* Length of data in lookahead */ 
</span><a name="LN242"></a>    <a href="../../include/port/win32.h.html#LN230"><span class='Ref_to_Const'>pgoff_t</span></a>     <span class='Declare_Member'>lookaheadPos</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* Current read position in lookahead buffer */ 
</span> 
<a name="LN244"></a>    <a href="pg_backup_archiver.h.html#LN147"><span class='Ref_to_Typedef'>ArchiveEntryPtrType</span></a> <span class='Declare_Member'>ArchiveEntryPtr</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* Called for each metadata 
                                                 * object */ 
</span><a name="LN246"></a>    <a href="pg_backup_archiver.h.html#LN149"><span class='Ref_to_Typedef'>StartDataPtrType</span></a> <span class='Declare_Member'>StartDataPtr</span><span class='Delimiter'>;</span>      <span class='Comment_Multi_Line'>/* Called when table data is about to 
                                         * be dumped */ 
</span><a name="LN248"></a>    <a href="pg_backup_archiver.h.html#LN150"><span class='Ref_to_Typedef'>WriteDataPtrType</span></a> <span class='Declare_Member'>WriteDataPtr</span><span class='Delimiter'>;</span>      <span class='Comment_Multi_Line'>/* Called to send some table data to 
                                         * the archive */ 
</span><a name="LN250"></a>    <a href="pg_backup_archiver.h.html#LN151"><span class='Ref_to_Typedef'>EndDataPtrType</span></a> <span class='Declare_Member'>EndDataPtr</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Called when table data dump is finished */ 
</span><a name="LN251"></a>    <a href="pg_backup_archiver.h.html#LN158"><span class='Ref_to_Typedef'>WriteBytePtrType</span></a> <span class='Declare_Member'>WriteBytePtr</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* Write a byte to output */ 
</span><a name="LN252"></a>    <a href="pg_backup_archiver.h.html#LN159"><span class='Ref_to_Typedef'>ReadBytePtrType</span></a> <span class='Declare_Member'>ReadBytePtr</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* Read a byte from an archive */ 
</span><a name="LN253"></a>    <a href="pg_backup_archiver.h.html#LN160"><span class='Ref_to_Typedef'>WriteBufPtrType</span></a> <span class='Declare_Member'>WriteBufPtr</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* Write a buffer of output to the archive */ 
</span><a name="LN254"></a>    <a href="pg_backup_archiver.h.html#LN161"><span class='Ref_to_Typedef'>ReadBufPtrType</span></a> <span class='Declare_Member'>ReadBufPtr</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Read a buffer of input from the archive */ 
</span><a name="LN255"></a>    <a href="pg_backup_archiver.h.html#LN145"><span class='Ref_to_Typedef'>ClosePtrType</span></a> <span class='Declare_Member'>ClosePtr</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* Close the archive */ 
</span><a name="LN256"></a>    <a href="pg_backup_archiver.h.html#LN146"><span class='Ref_to_Typedef'>ReopenPtrType</span></a> <span class='Declare_Member'>ReopenPtr</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* Reopen the archive */ 
</span><a name="LN257"></a>    <a href="pg_backup_archiver.h.html#LN163"><span class='Ref_to_Typedef'>WriteExtraTocPtrType</span></a> <span class='Declare_Member'>WriteExtraTocPtr</span><span class='Delimiter'>;</span>      <span class='Comment_Multi_Line'>/* Write extra TOC entry data 
                                                 * associated with the current 
                                                 * archive format */ 
</span><a name="LN260"></a>    <a href="pg_backup_archiver.h.html#LN164"><span class='Ref_to_Typedef'>ReadExtraTocPtrType</span></a> <span class='Declare_Member'>ReadExtraTocPtr</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* Read extra info associated 
                                                 * with archive format */ 
</span><a name="LN262"></a>    <a href="pg_backup_archiver.h.html#LN165"><span class='Ref_to_Typedef'>PrintExtraTocPtrType</span></a> <span class='Declare_Member'>PrintExtraTocPtr</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* Extra TOC info for format */ 
</span><a name="LN263"></a>    <a href="pg_backup_archiver.h.html#LN166"><span class='Ref_to_Typedef'>PrintTocDataPtrType</span></a> <span class='Declare_Member'>PrintTocDataPtr</span><span class='Delimiter'>; 
</span> 
<a name="LN265"></a>    <a href="pg_backup_archiver.h.html#LN153"><span class='Ref_to_Typedef'>StartBlobsPtrType</span></a> <span class='Declare_Member'>StartBlobsPtr</span><span class='Delimiter'>; 
</span><a name="LN266"></a>    <a href="pg_backup_archiver.h.html#LN156"><span class='Ref_to_Typedef'>EndBlobsPtrType</span></a> <span class='Declare_Member'>EndBlobsPtr</span><span class='Delimiter'>; 
</span><a name="LN267"></a>    <a href="pg_backup_archiver.h.html#LN154"><span class='Ref_to_Typedef'>StartBlobPtrType</span></a> <span class='Declare_Member'>StartBlobPtr</span><span class='Delimiter'>; 
</span><a name="LN268"></a>    <a href="pg_backup_archiver.h.html#LN155"><span class='Ref_to_Typedef'>EndBlobPtrType</span></a> <span class='Declare_Member'>EndBlobPtr</span><span class='Delimiter'>; 
</span> 
<a name="LN270"></a>    <a href="pg_backup.h.html#LN233"><span class='Ref_to_Typedef'>SetupWorkerPtrType</span></a> <span class='Declare_Member'>SetupWorkerPtr</span><span class='Delimiter'>; 
</span><a name="LN271"></a>    <a href="pg_backup_archiver.h.html#LN171"><span class='Ref_to_Typedef'>WorkerJobDumpPtrType</span></a> <span class='Declare_Member'>WorkerJobDumpPtr</span><span class='Delimiter'>; 
</span><a name="LN272"></a>    <a href="pg_backup_archiver.h.html#LN172"><span class='Ref_to_Typedef'>WorkerJobRestorePtrType</span></a> <span class='Declare_Member'>WorkerJobRestorePtr</span><span class='Delimiter'>; 
</span> 
<a name="LN274"></a>    <a href="pg_backup_archiver.h.html#LN168"><span class='Ref_to_Typedef'>ClonePtrType</span></a> <span class='Declare_Member'>ClonePtr</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* Clone format-specific fields */ 
</span><a name="LN275"></a>    <a href="pg_backup_archiver.h.html#LN169"><span class='Ref_to_Typedef'>DeClonePtrType</span></a> <span class='Declare_Member'>DeClonePtr</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Clean up cloned fields */ 
</span> 
<a name="LN277"></a>    <a href="pg_backup_archiver.h.html#LN174"><span class='Ref_to_Typedef'>CustomOutPtrType</span></a> <span class='Declare_Member'>CustomOutPtr</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* Alternative script output routine */ 
</span> 
    <span class='Comment_Multi_Line'>/* Stuff for direct DB connection */ 
</span><a name="LN280"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>archdbname</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* DB name *read* from archive */ 
</span><a name="LN281"></a>    <a href="pg_backup.h.html#LN29"><span class='Ref_to_Enum'>trivalue</span></a>    <span class='Declare_Member'>promptPassword</span><span class='Delimiter'>; 
</span><a name="LN282"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>savedPassword</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* password for ropt-&GT;username, if known */ 
</span><a name="LN283"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>use_role</span><span class='Delimiter'>; 
</span><a name="LN284"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN139"><span class='Ref_to_Typedef'>PGconn</span></a>     <span class='Operator'>*</span><span class='Declare_Member'>connection</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* If connCancel isn't NULL, SIGINT handler will send a cancel */ 
</span><a name="LN286"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN152"><span class='Ref_to_Typedef'>PGcancel</span></a>   <span class='Operator'>*</span><span class='Keyword'>volatile </span><span class='Declare_Member'>connCancel</span><span class='Delimiter'>; 
</span> 
<a name="LN288"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>connectToDB</span><span class='Delimiter'>;</span>    <span class='Comment_Multi_Line'>/* Flag to indicate if direct DB connection is 
                                 * required */ 
</span><a name="LN290"></a>    <a href="pg_backup_archiver.h.html#LN198"><span class='Ref_to_Typedef'>ArchiverOutput</span></a> <span class='Declare_Member'>outputKind</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Flag for what we're currently writing */ 
</span><a name="LN291"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>pgCopyIn</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* Currently in libpq 'COPY IN' mode. */ 
</span> 
<a name="LN293"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>loFd</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* BLOB fd */ 
</span><a name="LN294"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>writingBlob</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* Flag */ 
</span><a name="LN295"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>blobCount</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* # of blobs restored */ 
</span> 
<a name="LN297"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>fSpec</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* Archive File Spec */ 
</span><a name="LN298"></a>    FILE       <span class='Operator'>*</span><span class='Declare_Member'>FH</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* General purpose file handle */ 
</span><a name="LN299"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>OF</span><span class='Delimiter'>; 
</span><a name="LN300"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>gzOut</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* Output file */ 
</span> 
<a name="LN302"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>toc</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* Header of circular list of TOC entries */ 
</span><a name="LN303"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>tocCount</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* Number of TOC entries */ 
</span><a name="LN304"></a>    <a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a>      <span class='Declare_Member'>maxDumpId</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* largest DumpId among all TOC entries */ 
</span> 
    <span class='Comment_Multi_Line'>/* arrays created after the TOC list is complete: */ 
</span><a name="LN307"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>**</span><span class='Declare_Member'>tocsByDumpId</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* TOCs indexed by dumpId */ 
</span><a name="LN308"></a>    <a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a>     <span class='Operator'>*</span><span class='Declare_Member'>tableDataId</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* TABLE DATA ids, indexed by table dumpId */ 
</span> 
<a name="LN310"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>currToc</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Used when dumping data */ 
</span><a name="LN311"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>compression</span><span class='Delimiter'>;</span>    <span class='Comment_Multi_Line'>/* Compression requested on open Possible 
                                 * values for compression: -1 
                                 * Z_DEFAULT_COMPRESSION 0  COMPRESSION_NONE 
                                 * 1-9 levels for gzip compression */ 
</span><a name="LN315"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>dosync</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* data requested to be synced on sight */ 
</span><a name="LN316"></a>    <a href="../../include/access/xlog.h.html#LN114"><span class='Ref_to_Enum'>ArchiveMode</span></a> <span class='Declare_Member'>mode</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* File mode - r or w */ 
</span><a name="LN317"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>formatData</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* Header data specific to file format */ 
</span> 
    <span class='Comment_Multi_Line'>/* these vars track state to avoid sending redundant SET commands */ 
</span><a name="LN320"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>currUser</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* current username, or NULL if unknown */ 
</span><a name="LN321"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>currSchema</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* current schema, or NULL */ 
</span><a name="LN322"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>currTablespace</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* current tablespace, or NULL */ 
</span><a name="LN323"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>currWithOids</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* current default_with_oids setting */ 
</span> 
<a name="LN325"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>lo_buf</span><span class='Delimiter'>; 
</span><a name="LN326"></a>    size_t      <span class='Declare_Member'>lo_buf_used</span><span class='Delimiter'>; 
</span><a name="LN327"></a>    size_t      <span class='Declare_Member'>lo_buf_size</span><span class='Delimiter'>; 
</span> 
<a name="LN329"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>noTocComments</span><span class='Delimiter'>; 
</span><a name="LN330"></a>    <a href="pg_backup_archiver.h.html#LN190"><span class='Ref_to_Typedef'>ArchiverStage</span></a> <span class='Declare_Member'>stage</span><span class='Delimiter'>; 
</span><a name="LN331"></a>    <a href="pg_backup_archiver.h.html#LN190"><span class='Ref_to_Typedef'>ArchiverStage</span></a> <span class='Declare_Member'>lastErrorStage</span><span class='Delimiter'>; 
</span><a name="LN332"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>currentTE</span><span class='Delimiter'>; 
</span><a name="LN333"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>lastErrorTE</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end _archiveHandle &raquo; </span><span class='Delimiter'>; 
</span> 
<a name="LN336"></a><span class='Control'>struct</span> <span class='Declare_Struct'>_tocEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN338"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>prev</span><span class='Delimiter'>; 
</span><a name="LN339"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>next</span><span class='Delimiter'>; 
</span><a name="LN340"></a>    <a href="pg_backup.h.html#LN223"><span class='Ref_to_Typedef'>CatalogId</span></a>   <span class='Declare_Member'>catalogId</span><span class='Delimiter'>; 
</span><a name="LN341"></a>    <a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a>      <span class='Declare_Member'>dumpId</span><span class='Delimiter'>; 
</span><a name="LN342"></a>    <a href="pg_backup.h.html#LN52"><span class='Ref_to_Typedef'>teSection</span></a>   <span class='Declare_Member'>section</span><span class='Delimiter'>; 
</span><a name="LN343"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>hadDumper</span><span class='Delimiter'>;</span>      <span class='Comment_Multi_Line'>/* Archiver was passed a dumper routine (used 
                                 * in restore) */ 
</span><a name="LN345"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>tag</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* index tag */ 
</span><a name="LN346"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>namespace</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* null or empty string if not in a schema */ 
</span><a name="LN347"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>tablespace</span><span class='Delimiter'>;</span>     <span class='Comment_Multi_Line'>/* null if not in a tablespace; empty string 
                                 * means use database default */ 
</span><a name="LN349"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>owner</span><span class='Delimiter'>; 
</span><a name="LN350"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>withOids</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* Used only by "TABLE" tags */ 
</span><a name="LN351"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>desc</span><span class='Delimiter'>; 
</span><a name="LN352"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>defn</span><span class='Delimiter'>; 
</span><a name="LN353"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>dropStmt</span><span class='Delimiter'>; 
</span><a name="LN354"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>copyStmt</span><span class='Delimiter'>; 
</span><a name="LN355"></a>    <a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a>     <span class='Operator'>*</span><span class='Declare_Member'>dependencies</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* dumpIds of objects this one depends on */ 
</span><a name="LN356"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nDeps</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* number of dependencies */ 
</span> 
<a name="LN358"></a>    <a href="pg_backup.h.html#LN231"><span class='Ref_to_Typedef'>DataDumperPtr</span></a> <span class='Declare_Member'>dataDumper</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* Routine to dump data for object */ 
</span><a name="LN359"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>dataDumperArg</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* Arg for above routine */ 
</span><a name="LN360"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>formatData</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* TOC Entry data specific to file format */ 
</span> 
    <span class='Comment_Multi_Line'>/* working state while dumping/restoring */ 
</span><a name="LN363"></a>    <a href="pg_backup_archiver.h.html#LN205"><span class='Ref_to_Typedef'>teReqs</span></a>      <span class='Declare_Member'>reqs</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* do we need schema and/or data of object */ 
</span><a name="LN364"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>created</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* set for DATA member if TABLE was created */ 
</span> 
    <span class='Comment_Multi_Line'>/* working state (needed only for parallel restore) */ 
</span><a name="LN367"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>par_prev</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* list links for pending/ready items; */ 
</span><a name="LN368"></a>    <span class='Control'>struct</span> <a href="pg_backup_archiver.h.html#LN336"><span class='Ref_to_Struct'>_tocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>par_next</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* these are NULL if not in either list */ 
</span><a name="LN369"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>depCount</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* number of dependencies not yet restored */ 
</span><a name="LN370"></a>    <a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a>     <span class='Operator'>*</span><span class='Declare_Member'>revDeps</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* dumpIds of objects depending on this one */ 
</span><a name="LN371"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nRevDeps</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* number of such dependencies */ 
</span><a name="LN372"></a>    <a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a>     <span class='Operator'>*</span><span class='Declare_Member'>lockDeps</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* dumpIds of objects this one needs lock on */ 
</span><a name="LN373"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nLockDeps</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* number of such dependencies */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end _tocEntry &raquo; </span><span class='Delimiter'>; 
</span> 
<a name="LN376"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>parallel_restore</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>te</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN377"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>on_exit_close_archive</span><span class='Parentheses'>(</span><a href="pg_backup.h.html#LN177"><span class='Ref_to_Struct'>Archive</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AHX</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN379"></a><span class='Keyword'>extern void </span><a href="pg_backup_archiver.c.html#LN1735"><span class='Ref_to_Func'>warn_or_exit_horribly</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><a href="pg_dump_sort.c.html#LN24"><span class='Ref_to_Global_Var'>modulename</span></a><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span>fmt<span class='Delimiter'>,</span><span class='Operator'>...</span><span class='Parentheses'>) </span><span class='Declare_Var'>pg_attribute_printf</span><span class='Parentheses'>(</span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN381"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>WriteTOC</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN382"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ReadTOC</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN383"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>WriteHead</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN384"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ReadHead</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN385"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>WriteToc</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN386"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ReadToc</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN387"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>WriteDataChunks</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="parallel.h.html#LN39"><span class='Ref_to_Struct'>ParallelState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>pstate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN388"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>WriteDataChunksForTocEntry</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>te</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN389"></a><span class='Keyword'>extern </span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>CloneArchive</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN390"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>DeCloneArchive</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN392"></a><span class='Keyword'>extern </span><a href="pg_backup_archiver.h.html#LN205"><span class='Ref_to_Typedef'>teReqs</span></a> <span class='Declare_Prototype'>TocIDRequired</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a> <span class='Declare_Parameter'>id</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN393"></a><a href="pg_backup_archiver.h.html#LN120"><span class='Ref_to_Typedef'>TocEntry</span></a>   <span class='Operator'>*</span><span class='Declare_Prototype'>getTocEntryByDumpId</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="pg_backup.h.html#LN229"><span class='Ref_to_Typedef'>DumpId</span></a> <span class='Declare_Parameter'>id</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN394"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>checkSeek</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fp</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN396"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>appendStringLiteralAHX</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>buf</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../../include/fe_utils/string_utils.h.html#LN33"><span class='Ref_to_Proto'>appendStringLiteral</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN396"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN396"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN396"><span class='Ref_to_Parameter'>AH</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span><span class='Keyword'>public</span><span class='Operator'>.</span>encoding<span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN396"><span class='Ref_to_Parameter'>AH</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span><span class='Keyword'>public</span><span class='Operator'>.</span>std_strings<span class='Parentheses'>)</span> 
 
<a name="LN399"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>appendByteaLiteralAHX</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>buf</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>len</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../../include/fe_utils/string_utils.h.html#LN39"><span class='Ref_to_Proto'>appendByteaLiteral</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN399"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN399"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN399"><span class='Ref_to_Parameter'>len</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN399"><span class='Ref_to_Parameter'>AH</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span><span class='Keyword'>public</span><span class='Operator'>.</span>std_strings<span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Mandatory routines for each supported format 
 */ 
</span> 
<a name="LN406"></a><span class='Keyword'>extern </span>size_t <span class='Declare_Prototype'>WriteInt</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>i</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN407"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>ReadInt</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN408"></a><span class='Keyword'>extern char </span><span class='Operator'>*</span><span class='Declare_Prototype'>ReadStr</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN409"></a><span class='Keyword'>extern </span>size_t <span class='Declare_Prototype'>WriteStr</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>s</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN411"></a><span class='Keyword'>int</span>         <span class='Declare_Prototype'>ReadOffset</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ArchiveHandle</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>pgoff_t</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN412"></a>size_t      <span class='Declare_Prototype'>WriteOffset</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ArchiveHandle</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../../include/port/win32.h.html#LN230"><span class='Ref_to_Const'>pgoff_t</span></a><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN414"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>StartRestoreBlobs</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN415"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>StartRestoreBlob</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>oid</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>drop</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN416"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>EndRestoreBlob</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>oid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN417"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>EndRestoreBlobs</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN419"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>InitArchiveFmt_Custom</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN420"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>InitArchiveFmt_Null</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN421"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>InitArchiveFmt_Directory</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN422"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>InitArchiveFmt_Tar</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN424"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>isValidTarHeader</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>header</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN426"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>ReconnectToServer</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>dbname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newUser</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN427"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>DropBlobIfExists</span><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>oid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN429"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ahwrite</span><span class='Parentheses'>(</span><span class='Keyword'>const void </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span>size_t <span class='Declare_Parameter'>size</span><span class='Delimiter'>, </span>size_t <span class='Declare_Parameter'>nmemb</span><span class='Delimiter'>, </span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>AH</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN430"></a><span class='Keyword'>int</span>         <a href="pg_backup_archiver.c.html#LN1584"><span class='Ref_to_Func'>ahprintf</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span>fmt<span class='Delimiter'>,</span><span class='Operator'>...</span><span class='Parentheses'>) </span><span class='Declare_Var'>pg_attribute_printf</span><span class='Parentheses'>(</span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN432"></a><span class='Keyword'>void</span>        <a href="pg_backup_archiver.c.html#LN1616"><span class='Ref_to_Func'>ahlog</span></a><span class='Parentheses'>(</span><a href="pg_backup_archiver.h.html#LN119"><span class='Ref_to_Typedef'>ArchiveHandle</span></a> <span class='Operator'>*</span>AH<span class='Delimiter'>, </span><span class='Keyword'>int </span>level<span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span>fmt<span class='Delimiter'>,</span><span class='Operator'>...</span><span class='Parentheses'>) </span><span class='Declare_Var'>pg_attribute_printf</span><span class='Parentheses'>(</span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>