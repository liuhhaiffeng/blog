<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\bin\psql\command.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\bin\psql\command.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:01 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* 
 * psql - the PostgreSQL interactive terminal 
 * 
 * Copyright (c) 2000-2017, PostgreSQL Global Development Group 
 * 
 * src/bin/psql/command.c 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"command.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;time.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;pwd.h&GT;</span> 
<span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<span class='Keyword'>#include </span><span class='String'>&LT;sys/stat.h&GT;</span>           <span class='Comment_Single_Line'>/* for stat() */ 
</span><span class='Keyword'>#include </span><span class='String'>&LT;fcntl.h&GT;</span>              <span class='Comment_Single_Line'>/* open() flags */ 
</span><span class='Keyword'>#include </span><span class='String'>&LT;unistd.h&GT;</span>             <span class='Comment_Single_Line'>/* for geteuid(), getpid(), stat() */ 
</span><span class='Directive'>#else</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;win32.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;io.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;fcntl.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;direct.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;sys/stat.h&GT;</span>           <span class='Comment_Single_Line'>/* for stat() */ 
</span><span class='Directive'>#endif</span> 
 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_class.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"portability/instr_time.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"libpq-fe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pqexpbuffer.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fe_utils/string_utils.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"common.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"copy.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"crosstabview.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"describe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"help.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"input.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"large_obj.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"mainloop.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fe_utils/print.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"psqlscanslash.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"settings.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"variables.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Editable database object types. 
 */ 
</span><a name="LN48"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>EditableObjectType</span> 
<span class='Delimiter'>{ 
</span><a name="LN50"></a>    <span class='Declare_Enum_Const'>EditableFunction</span><span class='Delimiter'>, 
</span><a name="LN51"></a>    <span class='Declare_Enum_Const'>EditableView</span> 
<a name="LN52"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>EditableObjectType</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* local function declarations */ 
</span><a name="LN55"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Delimiter'>, 
</span><a name="LN56"></a>             <a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, 
</span><a name="LN57"></a>             <a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN58"></a>             <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, 
</span><a name="LN59"></a>             <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN60"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_a</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN61"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_C</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN62"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_connect</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN63"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_cd</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN64"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN65"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_conninfo</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN66"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_copy</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN67"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_copyright</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN68"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_crosstabview</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN69"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_d</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN70"></a>               <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN71"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_edit</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN72"></a>                  <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN73"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_ef</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN74"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN75"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_ev</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN76"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN77"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_echo</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN78"></a>                  <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN79"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_elif</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN80"></a>                  <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN81"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_else</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN82"></a>                  <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN83"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_endif</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN84"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN85"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_encoding</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN86"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_errverbose</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN87"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_f</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN88"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_g</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN89"></a>               <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN90"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_gexec</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN91"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_gset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN92"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_help</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN93"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_html</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN94"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_include</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN95"></a>                     <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN96"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_if</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN97"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN98"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_list</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN99"></a>                  <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN100"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_lo</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN101"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN102"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_out</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN103"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_print</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN104"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN105"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_password</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN106"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_prompt</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN107"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN108"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_pset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN109"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_quit</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN110"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_reset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN111"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN112"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_s</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN113"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_set</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN114"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_setenv</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN115"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN116"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_sf</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN117"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN118"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_sv</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN119"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN120"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_t</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN121"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_T</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN122"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_timing</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN123"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_unset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN124"></a>                   <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN125"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_write</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN126"></a>                   <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Delimiter'>, 
</span><a name="LN127"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN128"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_watch</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN129"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN130"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_x</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN131"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_z</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN132"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_shell_escape</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN133"></a><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Prototype'>exec_command_slash_command_help</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN134"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>read_connect_arg</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN135"></a><span class='Keyword'>static </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Prototype'>gather_boolean_expression</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN136"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>is_true_boolean_expression</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN137"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ignore_boolean_expression</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN138"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ignore_slash_options</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN139"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ignore_slash_filepipe</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN140"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>ignore_slash_whole_line</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN141"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>is_branching_command</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN142"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>save_query_text_state</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN143"></a>                      <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN144"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>discard_query_text</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN145"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN146"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>copy_previous_query</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN147"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>do_connect</span><span class='Parentheses'>(</span><span class='Control'>enum</span> <a href="../pg_dump/pg_backup.h.html#LN29"><span class='Ref_to_Enum'>trivalue</span></a> <span class='Declare_Parameter'>reuse_previous_specification</span><span class='Delimiter'>, 
</span><a name="LN148"></a>           <span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>dbname</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>user</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>host</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>port</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN149"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>do_edit</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>filename_arg</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, 
</span><a name="LN150"></a>        <span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>edited</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN151"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>do_shell</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>command</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN152"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>do_watch</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><span class='Keyword'>double </span><span class='Declare_Parameter'>sleep</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN153"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>lookup_object_oid</span><span class='Parentheses'>(</span><a href="command.c.html#LN48"><span class='Ref_to_Enum'>EditableObjectType</span></a> <span class='Declare_Parameter'>obj_type</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>desc</span><span class='Delimiter'>, 
</span><a name="LN154"></a>                  <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>obj_oid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN155"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>get_create_object_cmd</span><span class='Parentheses'>(</span><a href="command.c.html#LN48"><span class='Ref_to_Enum'>EditableObjectType</span></a> <span class='Declare_Parameter'>obj_type</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>oid</span><span class='Delimiter'>, 
</span><a name="LN156"></a>                      <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN157"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>strip_lineno_from_objdesc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>obj</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN158"></a><span class='Keyword'>static int</span>  <span class='Declare_Prototype'>count_lines_in_buf</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN159"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>print_with_linenumbers</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>output</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>lines</span><span class='Delimiter'>, 
</span><a name="LN160"></a>                       <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>header_keyword</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN161"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>minimal_error_message</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN163"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>printSSLInfo</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN164"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>printPsetInfo</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>param</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>popt</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN165"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>pset_value_string</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>param</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>popt</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<a name="LN168"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>checkWin32Codepage</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
 
 
<span class='Comment_Multi_Line'>/*---------- 
 * HandleSlashCmds: 
 * 
 * Handles all the different commands that start with '\'. 
 * Ordinarily called by MainLoop(). 
 * 
 * scan_state is a lexer working state that is set to continue scanning 
 * just after the '\'.  The lexer is advanced past the command and all 
 * arguments on return. 
 * 
 * cstack is the current \if stack state.  This will be examined, and 
 * possibly modified by conditional commands. 
 * 
 * query_buf contains the query-so-far, which may be modified by 
 * execution of the backslash command (for example, \r clears it). 
 * 
 * previous_buf contains the query most recently sent to the server 
 * (empty if none yet).  This should not be modified here, but some 
 * commands copy its content into query_buf. 
 * 
 * query_buf and previous_buf will be NULL when executing a "-c" 
 * command-line option. 
 * 
 * Returns a status code indicating what action is desired, see command.h. 
 *---------- 
 */ 
</span> 
<a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN201"></a><span class='Declare_Function'>HandleSlashCmds</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, 
</span><a name="LN202"></a>                <a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN203"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, 
</span><a name="LN204"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN206"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span><span class='Delimiter'>; 
</span><a name="LN207"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cmd</span><span class='Delimiter'>; 
</span><a name="LN208"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN201"><span class='Ref_to_Parameter'>scan_state</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN202"><span class='Ref_to_Parameter'>cstack</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Parse off the command name */ 
</span>    <a href="command.c.html#LN207"><span class='Ref_To_Local'>cmd</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN24"><span class='Ref_to_Proto'>psql_scan_slash_command</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN201"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* And try to execute it */ 
</span>    <a href="command.c.html#LN206"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN55"><span class='Ref_to_Proto'>exec_command</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN207"><span class='Ref_To_Local'>cmd</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN201"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN202"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN203"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN204"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN206"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>== </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN104"><span class='Ref_to_Member'>cur_cmd_interactive</span></a><span class='Parentheses'>) 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Invalid command \\%s. Try \\? for help.\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN207"><span class='Ref_To_Local'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"invalid command \\%s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN207"><span class='Ref_To_Local'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN206"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN206"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>!= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * Eat any remaining arguments after a valid command.  We want to 
         * suppress evaluation of backticks in this situation, so transiently 
         * push an inactive conditional-stack entry. 
         */ 
</span><a name="LN235"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>active_branch</span> <span class='Operator'>= </span><a href="conditional.h.html#LN72"><span class='Ref_to_Proto'>conditional_active</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN202"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="conditional.c.html#LN37"><span class='Ref_to_Func'>conditional_stack_push</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN202"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN21"><span class='Ref_to_EnumConst'>IFSTATE_IGNORED</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="command.c.html#LN208"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN201"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                             <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN235"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>) 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: extra argument \"%s\" ignored\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN207"><span class='Ref_To_Local'>cmd</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN208"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN208"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="conditional.c.html#LN53"><span class='Ref_to_Func'>conditional_stack_pop</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN202"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* silently throw away rest of line after an erroneous command */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="command.c.html#LN208"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN201"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                             <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)))</span> 
            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN208"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* if there is a trailing \\, swallow it */ 
</span>    <a href="psqlscanslash.h.html#LN31"><span class='Ref_to_Proto'>psql_scan_slash_command_end</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN201"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN207"><span class='Ref_To_Local'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* some commands write to queryFout, so make sure output is sent */ 
</span>    fflush<span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN206"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end HandleSlashCmds &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Subroutine to actually try to execute a backslash command. 
 * 
 * The typical "success" result code is PSQL_CMD_SKIP_LINE, although some 
 * commands return something else.  Failure results are PSQL_CMD_ERROR, 
 * unless PSQL_CMD_UNKNOWN is more appropriate. 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN275"></a><span class='Declare_Function'>exec_command</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Delimiter'>, 
</span><a name="LN276"></a>             <a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, 
</span><a name="LN277"></a>             <a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN278"></a>             <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, 
</span><a name="LN279"></a>             <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN281"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span><span class='Delimiter'>; 
</span><a name="LN282"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>active_branch</span> <span class='Operator'>= </span><a href="conditional.h.html#LN72"><span class='Ref_to_Proto'>conditional_active</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN277"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * In interactive mode, warn when we're ignoring a command within a false 
     * \if-branch.  But we continue on, so as to parse and discard the right 
     * amount of parameter text.  Each individual backslash command subroutine 
     * is responsible for doing nothing after discarding appropriate 
     * arguments, if !active_branch. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN104"><span class='Ref_to_Member'>cur_cmd_interactive</span></a> <span class='Operator'>&& !</span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a> <span class='Operator'>&& 
</span>        <span class='Operator'>!</span><a href="command.c.html#LN141"><span class='Ref_to_Proto'>is_branching_command</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s command ignored; use \\endif or Ctrl-C to exit current \\if block\n"</span><span class='Delimiter'>, 
</span>                   <a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"a"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN60"><span class='Ref_to_Proto'>exec_command_a</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"C"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN61"><span class='Ref_to_Proto'>exec_command_C</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"c"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"connect"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN62"><span class='Ref_to_Proto'>exec_command_connect</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"cd"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN63"><span class='Ref_to_Proto'>exec_command_cd</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"conninfo"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN65"><span class='Ref_to_Proto'>exec_command_conninfo</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"copy"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN66"><span class='Ref_to_Proto'>exec_command_copy</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"copyright"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN67"><span class='Ref_to_Proto'>exec_command_copyright</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"crosstabview"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN68"><span class='Ref_to_Proto'>exec_command_crosstabview</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'d'</span><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN69"><span class='Ref_to_Proto'>exec_command_d</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"e"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"edit"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN71"><span class='Ref_to_Proto'>exec_command_edit</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, 
</span>                                   <a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN279"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"ef"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN73"><span class='Ref_to_Proto'>exec_command_ef</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"ev"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN75"><span class='Ref_to_Proto'>exec_command_ev</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"echo"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"qecho"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN77"><span class='Ref_to_Proto'>exec_command_echo</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"elif"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN79"><span class='Ref_to_Proto'>exec_command_elif</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN277"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"else"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN81"><span class='Ref_to_Proto'>exec_command_else</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN277"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"endif"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN83"><span class='Ref_to_Proto'>exec_command_endif</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN277"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"encoding"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN85"><span class='Ref_to_Proto'>exec_command_encoding</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"errverbose"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN86"><span class='Ref_to_Proto'>exec_command_errverbose</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"f"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN87"><span class='Ref_to_Proto'>exec_command_f</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"g"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"gx"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN88"><span class='Ref_to_Proto'>exec_command_g</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"gexec"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN90"><span class='Ref_to_Proto'>exec_command_gexec</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"gset"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN91"><span class='Ref_to_Proto'>exec_command_gset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"h"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"help"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN92"><span class='Ref_to_Proto'>exec_command_help</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"H"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"html"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN93"><span class='Ref_to_Proto'>exec_command_html</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"i"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"include"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>             strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"ir"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"include_relative"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN94"><span class='Ref_to_Proto'>exec_command_include</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"if"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN96"><span class='Ref_to_Proto'>exec_command_if</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN277"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"l"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"list"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>             strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"l+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"list+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN98"><span class='Ref_to_Proto'>exec_command_list</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"lo_"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN100"><span class='Ref_to_Proto'>exec_command_lo</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"o"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"out"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN102"><span class='Ref_to_Proto'>exec_command_out</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"p"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"print"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN103"><span class='Ref_to_Proto'>exec_command_print</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, 
</span>                                    <a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN279"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"password"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN105"><span class='Ref_to_Proto'>exec_command_password</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"prompt"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN106"><span class='Ref_to_Proto'>exec_command_prompt</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"pset"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN108"><span class='Ref_to_Proto'>exec_command_pset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"q"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"quit"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN109"><span class='Ref_to_Proto'>exec_command_quit</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"r"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"reset"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN110"><span class='Ref_to_Proto'>exec_command_reset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"s"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN112"><span class='Ref_to_Proto'>exec_command_s</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"set"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN113"><span class='Ref_to_Proto'>exec_command_set</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"setenv"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN114"><span class='Ref_to_Proto'>exec_command_setenv</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"sf"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"sf+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN116"><span class='Ref_to_Proto'>exec_command_sf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"sv"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"sv+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN118"><span class='Ref_to_Proto'>exec_command_sv</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN120"><span class='Ref_to_Proto'>exec_command_t</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"T"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN121"><span class='Ref_to_Proto'>exec_command_T</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"timing"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN122"><span class='Ref_to_Proto'>exec_command_timing</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"unset"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN123"><span class='Ref_to_Proto'>exec_command_unset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"w"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"write"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN125"><span class='Ref_to_Proto'>exec_command_write</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, 
</span>                                    <a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN279"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"watch"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN128"><span class='Ref_to_Proto'>exec_command_watch</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Delimiter'>, 
</span>                                    <a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN279"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"x"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN130"><span class='Ref_to_Proto'>exec_command_x</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"z"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN131"><span class='Ref_to_Proto'>exec_command_z</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"!"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN132"><span class='Ref_to_Proto'>exec_command_shell_escape</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN275"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"?"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.c.html#LN133"><span class='Ref_to_Proto'>exec_command_slash_command_help</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN276"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN282"><span class='Ref_To_Local'>active_branch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * All the commands that return PSQL_CMD_SEND want to execute previous_buf 
     * if query_buf is empty.  For convenience we implement that here, not in 
     * the individual command subroutines. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>== </span><a href="command.h.html#LN18"><span class='Ref_to_EnumConst'>PSQL_CMD_SEND</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN146"><span class='Ref_to_Proto'>copy_previous_query</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN278"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN279"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN281"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \a -- toggle field alignment 
 * 
 * This makes little sense but we keep it around. 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN425"></a><span class='Declare_Function'>exec_command_a</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN427"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN425"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>!= </span><a href="../../include/fe_utils/print.h.html#LN29"><span class='Ref_to_EnumConst'>PRINT_ALIGNED</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN427"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"format"</span><span class='Delimiter'>, </span><span class='String'>"aligned"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN427"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"format"</span><span class='Delimiter'>, </span><span class='String'>"unaligned"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN427"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \C -- override table title (formerly change HTML caption) 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN444"></a><span class='Declare_Function'>exec_command_C</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN446"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN444"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN450"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN444"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN446"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"title"</span><span class='Delimiter'>, </span><a href="command.c.html#LN450"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN450"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN444"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN446"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \c or \connect -- connect to database using the specified parameters. 
 * 
 * \c [-reuse-previous=BOOL] dbname user host port 
 * 
 * Specifying a parameter as '-' is equivalent to omitting it.  Examples: 
 * 
 * \c - - hst       Connect to current database on current port of 
 *                  host "hst" as current user. 
 * \c - usr - prt   Connect to current database on port "prt" of current host 
 *                  as user "usr". 
 * \c dbs           Connect to database "dbs" on current port of current host 
 *                  as current user. 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN477"></a><span class='Declare_Function'>exec_command_connect</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN479"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN483"></a>        <span class='Keyword'>static const char </span><span class='Declare_Local'>prefix</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='String'>"-reuse-previous="</span><span class='Delimiter'>; 
</span><a name="LN484"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt1</span><span class='Delimiter'>, 
</span><a name="LN485"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>opt2</span><span class='Delimiter'>, 
</span><a name="LN486"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>opt3</span><span class='Delimiter'>, 
</span><a name="LN487"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>opt4</span><span class='Delimiter'>; 
</span><a name="LN488"></a>        <span class='Control'>enum</span> <a href="../pg_dump/pg_backup.h.html#LN29"><span class='Ref_to_Enum'>trivalue</span></a> <span class='Declare_Local'>reuse_previous</span> <span class='Operator'>= </span><a href="../pg_dump/pg_backup.h.html#LN31"><span class='Ref_to_EnumConst'>TRI_DEFAULT</span></a><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a> <span class='Operator'>= </span><a href="command.c.html#LN134"><span class='Ref_to_Proto'>read_connect_arg</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span>strncmp<span class='Parentheses'>(</span><a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN483"><span class='Ref_To_Local'>prefix</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN483"><span class='Ref_To_Local'>prefix</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span><a name="LN493"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>on_off</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN479"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a> <span class='Operator'>+ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN483"><span class='Ref_To_Local'>prefix</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                                        <span class='String'>"-reuse-previous"</span><span class='Delimiter'>, 
</span>                                        <span class='Operator'>&</span><a href="command.c.html#LN493"><span class='Ref_To_Local'>on_off</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN479"><span class='Ref_To_Local'>success</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="command.c.html#LN488"><span class='Ref_To_Local'>reuse_previous</span></a> <span class='Operator'>= </span><a href="command.c.html#LN493"><span class='Ref_To_Local'>on_off</span></a> <span class='Operator'>? </span><a href="../pg_dump/pg_backup.h.html#LN33"><span class='Ref_to_EnumConst'>TRI_YES</span></a> <span class='Operator'>: </span><a href="../pg_dump/pg_backup.h.html#LN32"><span class='Ref_to_EnumConst'>TRI_NO</span></a><span class='Delimiter'>; 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a> <span class='Operator'>= </span><a href="command.c.html#LN134"><span class='Ref_to_Proto'>read_connect_arg</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN479"><span class='Ref_To_Local'>success</span></a><span class='Parentheses'>)</span>            <span class='Comment_Single_Line'>/* give up if reuse_previous was invalid */ 
</span>        <span class='Delimiter'>{ 
</span>            <a href="command.c.html#LN485"><span class='Ref_To_Local'>opt2</span></a> <span class='Operator'>= </span><a href="command.c.html#LN134"><span class='Ref_to_Proto'>read_connect_arg</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN486"><span class='Ref_To_Local'>opt3</span></a> <span class='Operator'>= </span><a href="command.c.html#LN134"><span class='Ref_to_Proto'>read_connect_arg</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN487"><span class='Ref_To_Local'>opt4</span></a> <span class='Operator'>= </span><a href="command.c.html#LN134"><span class='Ref_to_Proto'>read_connect_arg</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN479"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.c.html#LN147"><span class='Ref_to_Proto'>do_connect</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN488"><span class='Ref_To_Local'>reuse_previous</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN485"><span class='Ref_To_Local'>opt2</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN486"><span class='Ref_To_Local'>opt3</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN487"><span class='Ref_To_Local'>opt4</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN485"><span class='Ref_To_Local'>opt2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN486"><span class='Ref_To_Local'>opt3</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN487"><span class='Ref_To_Local'>opt4</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN484"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN477"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN479"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_connect &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \cd -- change directory 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN530"></a><span class='Declare_Function'>exec_command_cd</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN532"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN530"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN536"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN530"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN538"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>dir</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN536"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN538"><span class='Ref_To_Local'>dir</span></a> <span class='Operator'>= </span><a href="command.c.html#LN536"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<a name="LN545"></a>            <span class='Control'>struct</span> passwd <span class='Operator'>*</span><span class='Declare_Local'>pw</span><span class='Delimiter'>; 
</span><a name="LN546"></a>            <a href="../../include/port/win32.h.html#LN249"><span class='Ref_to_Typedef'>uid_t</span></a>       <span class='Declare_Local'>user_id</span> <span class='Operator'>= </span>geteuid<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
            errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* clear errno before call */ 
</span>            <a href="command.c.html#LN545"><span class='Ref_To_Local'>pw</span></a> <span class='Operator'>= </span>getpwuid<span class='Parentheses'>(</span><a href="command.c.html#LN546"><span class='Ref_To_Local'>user_id</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN545"><span class='Ref_To_Local'>pw</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"could not get home directory for user ID %ld: %s\n"</span><span class='Delimiter'>, 
</span>                           <span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="command.c.html#LN546"><span class='Ref_To_Local'>user_id</span></a><span class='Delimiter'>, 
</span>                         errno <span class='Operator'>? </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>) </span><span class='Operator'>: </span>_<span class='Parentheses'>(</span><span class='String'>"user does not exist"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="command.c.html#LN538"><span class='Ref_To_Local'>dir</span></a> <span class='Operator'>= </span><a href="command.c.html#LN545"><span class='Ref_To_Local'>pw</span></a><span class='Operator'>-&GT;</span>pw_dir<span class='Delimiter'>; 
</span><span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* WIN32 */ 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * On Windows, 'cd' without arguments prints the current 
             * directory, so if someone wants to code this here instead... 
             */ 
</span>            <a href="command.c.html#LN538"><span class='Ref_To_Local'>dir</span></a> <span class='Operator'>= </span><span class='String'>"/"</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WIN32 */ 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>chdir<span class='Parentheses'>(</span><a href="command.c.html#LN538"><span class='Ref_To_Local'>dir</span></a><span class='Parentheses'>) </span><span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: could not change directory to \"%s\": %s\n"</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN530"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN538"><span class='Ref_To_Local'>dir</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN532"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN536"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN536"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN530"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN532"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_cd &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \conninfo -- display information about the current connection 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN588"></a><span class='Declare_Function'>exec_command_conninfo</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN588"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN592"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>db</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN310"><span class='Ref_to_Proto'>PQdb</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN592"><span class='Ref_To_Local'>db</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"You are currently not connected to a database.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN598"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>host</span><span class='Delimiter'>; 
</span><a name="LN599"></a>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN200"><span class='Ref_to_Typedef'>PQconninfoOption</span></a> <span class='Operator'>*</span><span class='Declare_Local'>connOptions</span><span class='Delimiter'>; 
</span><a name="LN600"></a>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN200"><span class='Ref_to_Typedef'>PQconninfoOption</span></a> <span class='Operator'>*</span><span class='Declare_Local'>option</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN598"><span class='Ref_To_Local'>host</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* A usable "hostaddr" overrides the basic sense of host. */ 
</span>            <a href="command.c.html#LN599"><span class='Ref_To_Local'>connOptions</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN281"><span class='Ref_to_Proto'>PQconninfo</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN599"><span class='Ref_To_Local'>connOptions</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a> <span class='Operator'>= </span><a href="command.c.html#LN599"><span class='Ref_To_Local'>connOptions</span></a><span class='Delimiter'>; </span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN202"><span class='Ref_to_Member'>keyword</span></a><span class='Delimiter'>; </span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN202"><span class='Ref_to_Member'>keyword</span></a><span class='Delimiter'>, </span><span class='String'>"hostaddr"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN205"><span class='Ref_to_Member'>val</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN205"><span class='Ref_to_Member'>val</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                        <a href="command.c.html#LN598"><span class='Ref_To_Local'>host</span></a> <span class='Operator'>= </span><a href="command.c.html#LN600"><span class='Ref_To_Local'>option</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN205"><span class='Ref_to_Member'>val</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* If the host is an absolute path, the connection is via socket */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/port.h.html#LN76"><span class='Ref_to_Macro'>is_absolute_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN598"><span class='Ref_To_Local'>host</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"You are connected to database \"%s\" as user \"%s\" via socket in \"%s\" at port \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN592"><span class='Ref_To_Local'>db</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN598"><span class='Ref_To_Local'>host</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"You are connected to database \"%s\" as user \"%s\" on host \"%s\" at port \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN592"><span class='Ref_To_Local'>db</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN598"><span class='Ref_To_Local'>host</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN163"><span class='Ref_to_Proto'>printSSLInfo</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN284"><span class='Ref_to_Proto'>PQconninfoFree</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN599"><span class='Ref_To_Local'>connOptions</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_conninfo &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \copy -- run a COPY command 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN638"></a><span class='Declare_Function'>exec_command_copy</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN640"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN638"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN644"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN638"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN640"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="copy.h.html#LN14"><span class='Ref_to_Proto'>do_copy</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN644"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN644"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN638"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN640"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \copyright -- print copyright notice 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN660"></a><span class='Declare_Function'>exec_command_copyright</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN660"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>        <a href="help.h.html#LN18"><span class='Ref_to_Proto'>print_copyright</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \crosstabview -- execute a query and display results in crosstab 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN672"></a><span class='Declare_Function'>exec_command_crosstabview</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN674"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN672"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN678"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="command.c.html#LN678"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="command.c.html#LN678"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN97"><span class='Ref_to_Member'>ctv_args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="command.c.html#LN678"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN97"><span class='Ref_to_Member'>ctv_args</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN678"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN672"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                      <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN96"><span class='Ref_to_Member'>crosstab_flag</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN674"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN18"><span class='Ref_to_EnumConst'>PSQL_CMD_SEND</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN672"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN674"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_crosstabview &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \d* commands 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN696"></a><span class='Declare_Function'>exec_command_d</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN698"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span><a name="LN699"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN703"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pattern</span><span class='Delimiter'>; 
</span><a name="LN704"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>show_verbose</span><span class='Delimiter'>, 
</span><a name="LN705"></a>                    <span class='Declare_Local'>show_system</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* We don't do SQLID reduction on the pattern yet */ 
</span>        <a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                         <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>'+'</span><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='Boolean'>true </span><span class='Operator'>: </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>'S'</span><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='Boolean'>true </span><span class='Operator'>: </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='String'>'\0'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'S'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>) 
</span>                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN45"><span class='Ref_to_Proto'>describeTableDetails</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <span class='Comment_Multi_Line'>/* standard listing of interesting things */ 
</span>                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN63"><span class='Ref_to_Proto'>listTables</span></a><span class='Parentheses'>(</span><span class='String'>"tvmsE"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'A'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN15"><span class='Ref_to_Proto'>describeAccessMethods</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'a'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN12"><span class='Ref_to_Proto'>describeAggregates</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'b'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN18"><span class='Ref_to_Proto'>describeTablespaces</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'c'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN69"><span class='Ref_to_Proto'>listConversions</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'C'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN72"><span class='Ref_to_Proto'>listCasts</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'d'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"ddp"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN39"><span class='Ref_to_Proto'>listDefaultACLs</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN42"><span class='Ref_to_Proto'>objectDescription</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'D'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN66"><span class='Ref_to_Proto'>listDomains</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'f'</span><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* function subsystem */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <span class='String'>'\0'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'S'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'a'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'n'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'w'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN21"><span class='Ref_to_Proto'>describeFunctions</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>], </span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>default</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'g'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* no longer distinct from \du */ 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN30"><span class='Ref_to_Proto'>describeRoles</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'l'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="large_obj.h.html#LN13"><span class='Ref_to_Proto'>do_lo_list</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'L'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN93"><span class='Ref_to_Proto'>listLanguages</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'n'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN78"><span class='Ref_to_Proto'>listSchemas</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'o'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN27"><span class='Ref_to_Proto'>describeOperators</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'O'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN75"><span class='Ref_to_Proto'>listCollations</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'p'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN36"><span class='Ref_to_Proto'>permissionsList</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'T'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN24"><span class='Ref_to_Proto'>describeTypes</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'v'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'m'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'i'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'s'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'E'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN63"><span class='Ref_to_Proto'>listTables</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'r'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'d'</span> <span class='Operator'>&& </span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'s'</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN802"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pattern2</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>) 
</span>                        <a href="command.c.html#LN802"><span class='Ref_To_Local'>pattern2</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                      <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN33"><span class='Ref_to_Proto'>listDbRoleSettings</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN802"><span class='Ref_To_Local'>pattern2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                    <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'R'</span><span class='Operator'>: 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <span class='String'>'p'</span><span class='Operator'>: 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>) 
</span>                            <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN108"><span class='Ref_to_Proto'>describePublications</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>else</span> 
                            <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN105"><span class='Ref_to_Proto'>listPublications</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'s'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN111"><span class='Ref_to_Proto'>describeSubscriptions</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>default</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'u'</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN30"><span class='Ref_to_Proto'>describeRoles</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN705"><span class='Ref_To_Local'>show_system</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'F'</span><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* text search subsystem */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <span class='String'>'\0'</span><span class='Operator'>: 
</span>                    <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN48"><span class='Ref_to_Proto'>listTSConfigs</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'p'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN51"><span class='Ref_to_Proto'>listTSParsers</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'d'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN54"><span class='Ref_to_Proto'>listTSDictionaries</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN57"><span class='Ref_to_Proto'>listTSTemplates</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>default</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'e'</span><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* SQL/MED subsystem */ 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <span class='String'>'s'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN84"><span class='Ref_to_Proto'>listForeignServers</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'u'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN87"><span class='Ref_to_Proto'>listUserMappings</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'w'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN81"><span class='Ref_to_Proto'>listForeignDataWrappers</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN90"><span class='Ref_to_Proto'>listForeignTables</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>default</span><span class='Operator'>: 
</span>                        <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'x'</span><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* Extensions */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>) 
</span>                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN99"><span class='Ref_to_Proto'>listExtensionContents</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN96"><span class='Ref_to_Proto'>listExtensions</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'y'</span><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* Event Triggers */ 
</span>                <a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN102"><span class='Ref_to_Proto'>listEventTriggers</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch cmd[1] &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN696"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN699"><span class='Ref_To_Local'>success</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN698"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_d &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \e or \edit -- edit the current query buffer, or edit a file and 
 * make it the query buffer 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN902"></a><span class='Declare_Function'>exec_command_edit</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN903"></a>                  <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN905"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN902"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN903"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"no query buffer\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN905"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN916"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span><span class='Delimiter'>; 
</span><a name="LN917"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>ln</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN918"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN902"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                           <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* try to get separate lineno arg */ 
</span>                <a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN902"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                            <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* only one arg; maybe it is lineno not fname */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>&& 
</span>                        strspn<span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><span class='String'>"0123456789"</span><span class='Parentheses'>) </span><span class='Operator'>== </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* all digits, so assume it is lineno */ 
</span>                        <a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a> <span class='Operator'>= </span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>; 
</span>                        <a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="command.c.html#LN918"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN918"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"invalid line number: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN905"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN905"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>!= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>                    <a href="../../include/port.h.html#LN42"><span class='Ref_to_Proto'>canonicalize_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* If query_buf is empty, recall previous query for editing */ 
</span>                <a href="command.c.html#LN146"><span class='Ref_to_Proto'>copy_previous_query</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN903"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN903"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN149"><span class='Ref_to_Proto'>do_edit</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN903"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN918"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
                    <a href="command.c.html#LN905"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN21"><span class='Ref_to_EnumConst'>PSQL_CMD_NEWEDIT</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="command.c.html#LN905"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN916"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN917"><span class='Ref_To_Local'>ln</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN902"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN905"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_edit &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \ef -- edit the named function, or present a blank CREATE FUNCTION 
 * template if no argument is given 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN979"></a><span class='Declare_Function'>exec_command_ef</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN980"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN982"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN979"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN986"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>func</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN979"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN988"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN992"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support editing function source.\n"</span><span class='Delimiter'>, 
</span>                       <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                             <a href="command.c.html#LN992"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN992"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN980"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"no query buffer\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN1006"></a>            <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>foid</span> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN988"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>= </span><a href="command.c.html#LN157"><span class='Ref_to_Proto'>strip_lineno_from_objdesc</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN986"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN988"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* error already reported */ 
</span>                <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN986"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* set up an empty command to fill in */ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN980"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"CREATE FUNCTION ( )\n"</span> 
                                  <span class='String'>" RETURNS \n"</span> 
                                  <span class='String'>" LANGUAGE \n"</span> 
                                  <span class='String'>" -- common options:  IMMUTABLE  STABLE  STRICT  SECURITY DEFINER\n"</span> 
                                  <span class='String'>"AS $function$\n"</span> 
                                  <span class='String'>"\n$function$\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN153"><span class='Ref_to_Proto'>lookup_object_oid</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN986"><span class='Ref_To_Local'>func</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN1006"><span class='Ref_To_Local'>foid</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* error already reported */ 
</span>                <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN155"><span class='Ref_to_Proto'>get_create_object_cmd</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1006"><span class='Ref_To_Local'>foid</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN980"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* error already reported */ 
</span>                <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN988"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* 
                 * lineno "1" should correspond to the first line of the 
                 * function body.  We expect that pg_get_functiondef() will 
                 * emit that on a line beginning with "AS ", and that there 
                 * can be no such line before the real start of the function 
                 * body.  Increment lineno by the number of lines before that 
                 * line, so that it becomes relative to the first line of the 
                 * function definition. 
                 */ 
</span><a name="LN1046"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>lines</span> <span class='Operator'>= </span><a href="command.c.html#LN980"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN1046"><span class='Ref_To_Local'>lines</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="command.c.html#LN1046"><span class='Ref_To_Local'>lines</span></a><span class='Delimiter'>, </span><span class='String'>"AS "</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN988"><span class='Ref_To_Local'>lineno</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* find start of next line */ 
</span>                    <a href="command.c.html#LN1046"><span class='Ref_To_Local'>lines</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN1046"><span class='Ref_To_Local'>lines</span></a><span class='Delimiter'>, </span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1046"><span class='Ref_To_Local'>lines</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN1046"><span class='Ref_To_Local'>lines</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if lineno&GT;0 &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>!= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1064"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>edited</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN149"><span class='Ref_to_Proto'>do_edit</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="command.c.html#LN980"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN988"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN1064"><span class='Ref_To_Local'>edited</span></a><span class='Parentheses'>))</span> 
                <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1064"><span class='Ref_To_Local'>edited</span></a><span class='Parentheses'>) 
</span>                puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"No changes"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN21"><span class='Ref_to_EnumConst'>PSQL_CMD_NEWEDIT</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN986"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN986"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN979"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN982"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_ef &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \ev -- edit the named view, or present a blank CREATE VIEW 
 * template if no argument is given 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1088"></a><span class='Declare_Function'>exec_command_ev</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN1089"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1091"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1088"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1095"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>view</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1088"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1097"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>70400</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1101"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support editing view definitions.\n"</span><span class='Delimiter'>, 
</span>                       <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                             <a href="command.c.html#LN1101"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN1101"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1089"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"no query buffer\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN1115"></a>            <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>view_oid</span> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN1097"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>= </span><a href="command.c.html#LN157"><span class='Ref_to_Proto'>strip_lineno_from_objdesc</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1095"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1097"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* error already reported */ 
</span>                <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1095"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* set up an empty command to fill in */ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1089"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"CREATE VIEW  AS\n"</span> 
                                  <span class='String'>" SELECT \n"</span> 
                                  <span class='String'>"  -- something...\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN153"><span class='Ref_to_Proto'>lookup_object_oid</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1095"><span class='Ref_To_Local'>view</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN1115"><span class='Ref_To_Local'>view_oid</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* error already reported */ 
</span>                <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN155"><span class='Ref_to_Proto'>get_create_object_cmd</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1115"><span class='Ref_To_Local'>view_oid</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1089"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* error already reported */ 
</span>                <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>!= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1145"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>edited</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN149"><span class='Ref_to_Proto'>do_edit</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><a href="command.c.html#LN1089"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1097"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN1145"><span class='Ref_To_Local'>edited</span></a><span class='Parentheses'>))</span> 
                <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1145"><span class='Ref_To_Local'>edited</span></a><span class='Parentheses'>) 
</span>                puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"No changes"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN21"><span class='Ref_to_EnumConst'>PSQL_CMD_NEWEDIT</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1095"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1095"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1088"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1091"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_ev &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \echo and \qecho -- echo arguments to stdout or query output 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1168"></a><span class='Declare_Function'>exec_command_echo</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1168"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1172"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>value</span><span class='Delimiter'>; 
</span><a name="LN1173"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>quoted</span><span class='Delimiter'>; 
</span><a name="LN1174"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>no_newline</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN1175"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>first</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span><a name="LN1176"></a>        FILE       <span class='Operator'>*</span><span class='Declare_Local'>fout</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1168"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"qecho"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN1176"><span class='Ref_To_Local'>fout</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN1176"><span class='Ref_To_Local'>fout</span></a> <span class='Operator'>= </span>stdout<span class='Delimiter'>; 
</span> 
        <span class='Control'>while</span> <span class='Parentheses'>((</span><span class='Keyword'>value </span><span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1168"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                               <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN1173"><span class='Ref_To_Local'>quoted</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1173"><span class='Ref_To_Local'>quoted</span></a> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>"-n"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="command.c.html#LN1174"><span class='Ref_To_Local'>no_newline</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1175"><span class='Ref_To_Local'>first</span></a><span class='Parentheses'>) 
</span>                    <a href="command.c.html#LN1175"><span class='Ref_To_Local'>first</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    fputc<span class='Parentheses'>(</span><span class='String'>' '</span><span class='Delimiter'>, </span><a href="command.c.html#LN1176"><span class='Ref_To_Local'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN1176"><span class='Ref_To_Local'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1174"><span class='Ref_To_Local'>no_newline</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1176"><span class='Ref_To_Local'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1168"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_echo &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \encoding -- set/show client side encoding 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1211"></a><span class='Declare_Function'>exec_command_encoding</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1211"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1215"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>encoding</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1211"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                      <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1215"><span class='Ref_To_Local'>encoding</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* show encoding */ 
</span>            puts<span class='Parentheses'>(</span><a href="../../include/mb/pg_wchar.h.html#LN502"><span class='Ref_to_Proto'>pg_encoding_to_char</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* set encoding */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN329"><span class='Ref_to_Proto'>PQsetClientEncoding</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1215"><span class='Ref_To_Local'>encoding</span></a><span class='Parentheses'>) </span><span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>)</span> 
                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: invalid encoding name or conversion procedure not found\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1215"><span class='Ref_To_Local'>encoding</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* save encoding info into psql internal data */ 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN328"><span class='Ref_to_Proto'>PQclientEncoding</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN117"><span class='Ref_to_Member'>encoding</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Delimiter'>; 
</span>                <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ENCODING"</span><span class='Delimiter'>, 
</span>                            <a href="../../include/mb/pg_wchar.h.html#LN502"><span class='Ref_to_Proto'>pg_encoding_to_char</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1215"><span class='Ref_To_Local'>encoding</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1211"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_encoding &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \errverbose -- display verbose message from last failed query 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1249"></a><span class='Declare_Function'>exec_command_errverbose</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1249"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN88"><span class='Ref_to_Member'>last_error_result</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1255"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>msg</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN1255"><span class='Ref_To_Local'>msg</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN469"><span class='Ref_to_Proto'>PQresultVerboseErrorMessage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN88"><span class='Ref_to_Member'>last_error_result</span></a><span class='Delimiter'>, 
</span>                                              <a href="../../interfaces/libpq/libpq-fe.h.html#LN113"><span class='Ref_to_EnumConst'>PQERRORS_VERBOSE</span></a><span class='Delimiter'>, 
</span>                                              <a href="../../interfaces/libpq/libpq-fe.h.html#LN120"><span class='Ref_to_EnumConst'>PQSHOW_CONTEXT_ALWAYS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1255"><span class='Ref_To_Local'>msg</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1255"><span class='Ref_To_Local'>msg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../interfaces/libpq/libpq-fe.h.html#LN504"><span class='Ref_to_Proto'>PQfreemem</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1255"><span class='Ref_To_Local'>msg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"out of memory"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"There is no previous error."</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_errverbose &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \f -- change field separator 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1279"></a><span class='Declare_Function'>exec_command_f</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1281"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1279"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1285"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1279"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN1281"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"fieldsep"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1285"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1285"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1279"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1281"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \g [filename] -- send query, optionally with output to file/pipe 
 * \gx [filename] -- same as \g, with expanded mode forced 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1302"></a><span class='Declare_Function'>exec_command_g</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1304"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1302"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1308"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1302"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN19"><span class='Ref_to_EnumConst'>OT_FILEPIPE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1308"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN92"><span class='Ref_to_Member'>gfname</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1308"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN92"><span class='Ref_to_Member'>gfname</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1308"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1308"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1302"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"gx"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN93"><span class='Ref_to_Member'>g_expanded</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN1304"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN18"><span class='Ref_to_EnumConst'>PSQL_CMD_SEND</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN139"><span class='Ref_to_Proto'>ignore_slash_filepipe</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1302"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1304"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_g &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \gexec -- send query and execute each field of result 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1333"></a><span class='Declare_Function'>exec_command_gexec</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1335"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1333"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN95"><span class='Ref_to_Member'>gexec_flag</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN1335"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN18"><span class='Ref_to_EnumConst'>PSQL_CMD_SEND</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1335"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \gset [prefix] -- send query and store result into variables 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1350"></a><span class='Declare_Function'>exec_command_gset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1352"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1350"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1356"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>prefix</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1350"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                    <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1356"><span class='Ref_To_Local'>prefix</span></a><span class='Parentheses'>) 
</span>            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN94"><span class='Ref_to_Member'>gset_prefix</span></a> <span class='Operator'>= </span><a href="command.c.html#LN1356"><span class='Ref_To_Local'>prefix</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* we must set a non-NULL prefix to trigger storing */ 
</span>            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN94"><span class='Ref_to_Member'>gset_prefix</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* gset_prefix is freed later */ 
</span>        <a href="command.c.html#LN1352"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN18"><span class='Ref_to_EnumConst'>PSQL_CMD_SEND</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1350"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1352"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_gset &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \help [topic] -- print help about SQL commands 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1379"></a><span class='Declare_Function'>exec_command_help</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1379"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1383"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1379"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1385"></a>        size_t      <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* strip any trailing spaces and semicolons */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="command.c.html#LN1385"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1385"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& 
</span>                   <span class='Parentheses'>(</span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN1385"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
                    <span class='Operator'>|| </span><a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN1385"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>';'</span><span class='Parentheses'>))</span> 
                <a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>[</span><span class='Operator'>--</span><a href="command.c.html#LN1385"><span class='Ref_To_Local'>len</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="help.h.html#LN16"><span class='Ref_to_Proto'>helpSQL</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1383"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1379"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_help &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \H and \html -- toggle HTML formatting 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1410"></a><span class='Declare_Function'>exec_command_html</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1412"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1410"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>!= </span><a href="../../include/fe_utils/print.h.html#LN31"><span class='Ref_to_EnumConst'>PRINT_HTML</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN1412"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"format"</span><span class='Delimiter'>, </span><span class='String'>"html"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN1412"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"format"</span><span class='Delimiter'>, </span><span class='String'>"aligned"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1412"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \i and \ir -- include a file 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1429"></a><span class='Declare_Function'>exec_command_include</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1431"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1429"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1435"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1429"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1435"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1429"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1431"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN1445"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>include_relative</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN1445"><span class='Ref_To_Local'>include_relative</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1429"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"ir"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> 
                                <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1429"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"include_relative"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1435"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1431"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="command.h.html#LN32"><span class='Ref_to_Proto'>process_file</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1435"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1445"><span class='Ref_To_Local'>include_relative</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1435"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1429"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1431"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_include &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \if &LT;expr&GT; -- beginning of an \if..\endif block 
 * 
 * &LT;expr&GT; is parsed as a boolean expression.  Invalid expressions will emit a 
 * warning and be treated as false.  Statements that follow a false expression 
 * will be parsed but ignored.  Note that in the case where an \if statement 
 * is itself within an inactive section of a block, then the entire inner 
 * \if..\endif block will be parsed but ignored. 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1470"></a><span class='Declare_Function'>exec_command_if</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN1471"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="conditional.h.html#LN72"><span class='Ref_to_Proto'>conditional_active</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * First, push a new active stack entry; this ensures that the lexer 
         * will perform variable substitution and backtick evaluation while 
         * scanning the expression.  (That should happen anyway, since we know 
         * we're in an active outer branch, but let's be sure.) 
         */ 
</span>        <a href="conditional.c.html#LN37"><span class='Ref_to_Func'>conditional_stack_push</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN16"><span class='Ref_to_EnumConst'>IFSTATE_TRUE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Remember current query state in case we need to restore later */ 
</span>        <a href="command.c.html#LN142"><span class='Ref_to_Proto'>save_query_text_state</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1471"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Evaluate the expression; if it's false, change to inactive state. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN136"><span class='Ref_to_Proto'>is_true_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><span class='String'>"\\if expression"</span><span class='Parentheses'>))</span> 
            <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN18"><span class='Ref_to_EnumConst'>IFSTATE_FALSE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * We're within an inactive outer branch, so this entire \if block 
         * will be ignored.  We don't want to evaluate the expression, so push 
         * the "ignored" stack state before scanning it. 
         */ 
</span>        <a href="conditional.c.html#LN37"><span class='Ref_to_Func'>conditional_stack_push</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN21"><span class='Ref_to_EnumConst'>IFSTATE_IGNORED</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Remember current query state in case we need to restore later */ 
</span>        <a href="command.c.html#LN142"><span class='Ref_to_Proto'>save_query_text_state</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1471"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN137"><span class='Ref_to_Proto'>ignore_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1470"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_if &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \elif &LT;expr&GT; -- alternative branch in an \if..\endif block 
 * 
 * &LT;expr&GT; is evaluated the same as in \if &LT;expr&GT;. 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1516"></a><span class='Declare_Function'>exec_command_elif</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN1517"></a>                  <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1519"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="conditional.h.html#LN66"><span class='Ref_to_Proto'>conditional_stack_peek</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN16"><span class='Ref_to_EnumConst'>IFSTATE_TRUE</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Just finished active branch of this \if block.  Update saved 
             * state so we will keep whatever data was put in query_buf by the 
             * active branch. 
             */ 
</span>            <a href="command.c.html#LN142"><span class='Ref_to_Proto'>save_query_text_state</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1517"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Discard \elif expression and ignore the rest until \endif. 
             * Switch state before reading expression to ensure proper lexer 
             * behavior. 
             */ 
</span>            <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN21"><span class='Ref_to_EnumConst'>IFSTATE_IGNORED</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN137"><span class='Ref_to_Proto'>ignore_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN18"><span class='Ref_to_EnumConst'>IFSTATE_FALSE</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Discard any query text added by the just-skipped branch. 
             */ 
</span>            <a href="command.c.html#LN144"><span class='Ref_to_Proto'>discard_query_text</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1517"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Have not yet found a true expression in this \if block, so this 
             * might be the first.  We have to change state before examining 
             * the expression, or the lexer won't do the right thing. 
             */ 
</span>            <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN16"><span class='Ref_to_EnumConst'>IFSTATE_TRUE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN136"><span class='Ref_to_Proto'>is_true_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><span class='String'>"\\elif expression"</span><span class='Parentheses'>))</span> 
                <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN18"><span class='Ref_to_EnumConst'>IFSTATE_FALSE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN21"><span class='Ref_to_EnumConst'>IFSTATE_IGNORED</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Discard any query text added by the just-skipped branch. 
             */ 
</span>            <a href="command.c.html#LN144"><span class='Ref_to_Proto'>discard_query_text</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1517"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Skip expression and move on.  Either the \if block already had 
             * an active section, or whole block is being skipped. 
             */ 
</span>            <a href="command.c.html#LN137"><span class='Ref_to_Proto'>ignore_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1516"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN24"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_TRUE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN26"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_FALSE</span></a><span class='Operator'>: 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\elif: cannot occur after \\else\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1519"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN15"><span class='Ref_to_EnumConst'>IFSTATE_NONE</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* no \if to elif from */ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\elif: no matching \\if\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1519"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch conditional_stack_pee... &raquo; </span> 
 
    <span class='Control'>return</span> <a href="command.c.html#LN1519"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_elif &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \else -- final alternative in an \if..\endif block 
 * 
 * Statements within an \else branch will only be executed if 
 * all previous \if and \elif expressions evaluated to false 
 * and the block was not itself being ignored. 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1592"></a><span class='Declare_Function'>exec_command_else</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN1593"></a>                  <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1595"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="conditional.h.html#LN66"><span class='Ref_to_Proto'>conditional_stack_peek</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN16"><span class='Ref_to_EnumConst'>IFSTATE_TRUE</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Just finished active branch of this \if block.  Update saved 
             * state so we will keep whatever data was put in query_buf by the 
             * active branch. 
             */ 
</span>            <a href="command.c.html#LN142"><span class='Ref_to_Proto'>save_query_text_state</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1593"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Now skip the \else branch */ 
</span>            <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN26"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_FALSE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN18"><span class='Ref_to_EnumConst'>IFSTATE_FALSE</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Discard any query text added by the just-skipped branch. 
             */ 
</span>            <a href="command.c.html#LN144"><span class='Ref_to_Proto'>discard_query_text</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1593"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We've not found any true \if or \elif expression, so execute 
             * the \else branch. 
             */ 
</span>            <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN24"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_TRUE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN21"><span class='Ref_to_EnumConst'>IFSTATE_IGNORED</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Discard any query text added by the just-skipped branch. 
             */ 
</span>            <a href="command.c.html#LN144"><span class='Ref_to_Proto'>discard_query_text</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1593"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Either we previously processed the active branch of this \if, 
             * or the whole \if block is being skipped.  Either way, skip the 
             * \else branch. 
             */ 
</span>            <a href="conditional.h.html#LN68"><span class='Ref_to_Proto'>conditional_stack_poke</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1592"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="conditional.h.html#LN26"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_FALSE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN24"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_TRUE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN26"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_FALSE</span></a><span class='Operator'>: 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\else: cannot occur after \\else\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1595"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN15"><span class='Ref_to_EnumConst'>IFSTATE_NONE</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* no \if to else from */ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\else: no matching \\if\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1595"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch conditional_stack_pee... &raquo; </span> 
 
    <span class='Control'>return</span> <a href="command.c.html#LN1595"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_else &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \endif -- ends an \if...\endif block 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1657"></a><span class='Declare_Function'>exec_command_endif</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN1658"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1660"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="conditional.h.html#LN66"><span class='Ref_to_Proto'>conditional_stack_peek</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1657"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN16"><span class='Ref_to_EnumConst'>IFSTATE_TRUE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN24"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_TRUE</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* Close the \if block, keeping the query text */ 
</span>            <a href="command.c.html#LN1660"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="conditional.c.html#LN53"><span class='Ref_to_Func'>conditional_stack_pop</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1657"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN1660"><span class='Ref_To_Local'>success</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN18"><span class='Ref_to_EnumConst'>IFSTATE_FALSE</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN21"><span class='Ref_to_EnumConst'>IFSTATE_IGNORED</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN26"><span class='Ref_to_EnumConst'>IFSTATE_ELSE_FALSE</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Discard any query text added by the just-skipped branch. 
             */ 
</span>            <a href="command.c.html#LN144"><span class='Ref_to_Proto'>discard_query_text</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1657"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1657"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1658"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Close the \if block */ 
</span>            <a href="command.c.html#LN1660"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="conditional.c.html#LN53"><span class='Ref_to_Func'>conditional_stack_pop</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1657"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN1660"><span class='Ref_To_Local'>success</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="conditional.h.html#LN15"><span class='Ref_to_EnumConst'>IFSTATE_NONE</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* no \if to end */ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\endif: no matching \\if\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1660"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch conditional_stack_pee... &raquo; </span> 
 
    <span class='Control'>return</span> <a href="command.c.html#LN1660"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_endif &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \l -- list databases 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1697"></a><span class='Declare_Function'>exec_command_list</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1699"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1697"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1703"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pattern</span><span class='Delimiter'>; 
</span><a name="LN1704"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>show_verbose</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN1703"><span class='Ref_To_Local'>pattern</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1697"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                         <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN1704"><span class='Ref_To_Local'>show_verbose</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN1697"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>'+'</span><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='Boolean'>true </span><span class='Operator'>: </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN1699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN60"><span class='Ref_to_Proto'>listAllDbs</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1703"><span class='Ref_To_Local'>pattern</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1704"><span class='Ref_To_Local'>show_verbose</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1703"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1697"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1699"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_list &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \lo_* -- large object operations 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1726"></a><span class='Declare_Function'>exec_command_lo</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1728"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span><a name="LN1729"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1733"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt1</span><span class='Delimiter'>, 
</span><a name="LN1734"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>opt2</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                      <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN1734"><span class='Ref_To_Local'>opt2</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                      <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='String'>"export"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1734"><span class='Ref_To_Local'>opt2</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1734"><span class='Ref_To_Local'>opt2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="large_obj.h.html#LN10"><span class='Ref_to_Proto'>do_lo_export</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1734"><span class='Ref_To_Local'>opt2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='String'>"import"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="large_obj.h.html#LN11"><span class='Ref_to_Proto'>do_lo_import</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1734"><span class='Ref_To_Local'>opt2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='String'>"list"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="large_obj.h.html#LN13"><span class='Ref_to_Proto'>do_lo_list</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='String'>"unlink"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="large_obj.h.html#LN12"><span class='Ref_to_Proto'>do_lo_unlink</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>else</span> 
            <a href="command.c.html#LN1728"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN17"><span class='Ref_to_EnumConst'>PSQL_CMD_UNKNOWN</span></a><span class='Delimiter'>; 
</span> 
        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1733"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1734"><span class='Ref_To_Local'>opt2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1726"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1729"><span class='Ref_To_Local'>success</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN1728"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1728"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_lo &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \o -- set query output 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1802"></a><span class='Declare_Function'>exec_command_out</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1804"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1802"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1808"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1802"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN19"><span class='Ref_to_EnumConst'>OT_FILEPIPE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1808"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN1804"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="common.h.html#LN17"><span class='Ref_to_Proto'>setQFout</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1808"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1808"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN139"><span class='Ref_to_Proto'>ignore_slash_filepipe</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1802"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1804"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \p -- print the current query buffer 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1825"></a><span class='Declare_Function'>exec_command_print</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN1826"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1825"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * We want to print the same thing \g would execute, but not to change 
         * the query buffer state; so we can't use copy_previous_query(). 
         * Also, beware of possibility that buffer pointers are NULL. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1826"><span class='Ref_to_Parameter'>query_buf</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN1826"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            puts<span class='Parentheses'>(</span><a href="command.c.html#LN1826"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1826"><span class='Ref_to_Parameter'>previous_buf</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN1826"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            puts<span class='Parentheses'>(</span><a href="command.c.html#LN1826"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Query buffer is empty."</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        fflush<span class='Parentheses'>(</span>stdout<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_print &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \password -- set user password 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1851"></a><span class='Declare_Function'>exec_command_password</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1853"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1851"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1857"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt0</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1851"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN17"><span class='Ref_to_EnumConst'>OT_SQLID</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1859"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>pw1</span><span class='Delimiter'>[</span><span class='Number'>100</span><span class='Delimiter'>]; 
</span><a name="LN1860"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>pw2</span><span class='Delimiter'>[</span><span class='Number'>100</span><span class='Delimiter'>]; 
</span> 
        <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><span class='String'>"Enter new password: "</span><span class='Delimiter'>, </span><a href="command.c.html#LN1859"><span class='Ref_To_Local'>pw1</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN1859"><span class='Ref_To_Local'>pw1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><span class='String'>"Enter it again: "</span><span class='Delimiter'>, </span><a href="command.c.html#LN1860"><span class='Ref_To_Local'>pw2</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN1860"><span class='Ref_To_Local'>pw2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN1859"><span class='Ref_To_Local'>pw1</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1860"><span class='Ref_To_Local'>pw2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Passwords didn't match.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1853"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN1872"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>user</span><span class='Delimiter'>; 
</span><a name="LN1873"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>encrypted_password</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1857"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>) 
</span>                <a href="command.c.html#LN1872"><span class='Ref_To_Local'>user</span></a> <span class='Operator'>= </span><a href="command.c.html#LN1857"><span class='Ref_To_Local'>opt0</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="command.c.html#LN1872"><span class='Ref_To_Local'>user</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN1873"><span class='Ref_To_Local'>encrypted_password</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN599"><span class='Ref_to_Proto'>PQencryptPasswordConn</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1859"><span class='Ref_To_Local'>pw1</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1872"><span class='Ref_To_Local'>user</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1873"><span class='Ref_To_Local'>encrypted_password</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN323"><span class='Ref_to_Proto'>PQerrorMessage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1853"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span><a name="LN1889"></a>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN1890"></a>                <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1889"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1889"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ALTER USER %s PASSWORD "</span><span class='Delimiter'>, 
</span>                                  <a href="../../include/fe_utils/string_utils.h.html#LN26"><span class='Ref_to_Proto'>fmtId</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1872"><span class='Ref_To_Local'>user</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="../../include/fe_utils/string_utils.h.html#LN35"><span class='Ref_to_Proto'>appendStringLiteralConn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1889"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1873"><span class='Ref_To_Local'>encrypted_password</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1890"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1889"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN1889"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1890"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>                    <a href="command.c.html#LN1853"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1890"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../interfaces/libpq/libpq-fe.h.html#LN504"><span class='Ref_to_Proto'>PQfreemem</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1873"><span class='Ref_To_Local'>encrypted_password</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1857"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1857"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1851"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1853"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_password &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \prompt -- prompt and set variable 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1919"></a><span class='Declare_Function'>exec_command_prompt</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN1920"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1922"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1919"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1926"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span><span class='Delimiter'>, 
</span><a name="LN1927"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>prompt_text</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN1928"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>arg1</span><span class='Delimiter'>, 
</span><a name="LN1929"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>arg2</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN1928"><span class='Ref_To_Local'>arg1</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1919"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN1929"><span class='Ref_To_Local'>arg2</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1919"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1928"><span class='Ref_To_Local'>arg1</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN1920"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN1922"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN1941"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1929"><span class='Ref_To_Local'>arg2</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="command.c.html#LN1927"><span class='Ref_To_Local'>prompt_text</span></a> <span class='Operator'>= </span><a href="command.c.html#LN1928"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN1926"><span class='Ref_To_Local'>opt</span></a> <span class='Operator'>= </span><a href="command.c.html#LN1929"><span class='Ref_To_Local'>arg2</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="command.c.html#LN1926"><span class='Ref_To_Local'>opt</span></a> <span class='Operator'>= </span><a href="command.c.html#LN1928"><span class='Ref_To_Local'>arg1</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN107"><span class='Ref_to_Member'>inputfile</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><span class='Number'>4096</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1927"><span class='Ref_To_Local'>prompt_text</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>4096</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1927"><span class='Ref_To_Local'>prompt_text</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1927"><span class='Ref_To_Local'>prompt_text</span></a><span class='Delimiter'>, </span>stdout<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    fflush<span class='Parentheses'>(</span>stdout<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="input.h.html#LN41"><span class='Ref_to_Proto'>gets_fromFile</span></a><span class='Parentheses'>(</span>stdin<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: could not read value for variable\n"</span><span class='Delimiter'>, 
</span>                               <a href="command.c.html#LN1920"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN1922"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&& 
</span>                <span class='Operator'>!</span><a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1926"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>))</span> 
                <a href="command.c.html#LN1922"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1941"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1927"><span class='Ref_To_Local'>prompt_text</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1927"><span class='Ref_To_Local'>prompt_text</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1926"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1919"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1922"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_prompt &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \pset -- set printing parameters 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN1993"></a><span class='Declare_Function'>exec_command_pset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1995"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN1993"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1999"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt0</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1993"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2001"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt1</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1993"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN1999"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* list all variables */ 
</span> 
<a name="LN2008"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN2009"></a>            <span class='Keyword'>static const char </span><span class='Operator'>*</span><span class='Keyword'>const </span><span class='Declare_Local'>my_list</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>                <span class='String'>"border"</span><span class='Delimiter'>, </span><span class='String'>"columns"</span><span class='Delimiter'>, </span><span class='String'>"expanded"</span><span class='Delimiter'>, </span><span class='String'>"fieldsep"</span><span class='Delimiter'>, </span><span class='String'>"fieldsep_zero"</span><span class='Delimiter'>, 
</span>                <span class='String'>"footer"</span><span class='Delimiter'>, </span><span class='String'>"format"</span><span class='Delimiter'>, </span><span class='String'>"linestyle"</span><span class='Delimiter'>, </span><span class='String'>"null"</span><span class='Delimiter'>, 
</span>                <span class='String'>"numericlocale"</span><span class='Delimiter'>, </span><span class='String'>"pager"</span><span class='Delimiter'>, </span><span class='String'>"pager_min_lines"</span><span class='Delimiter'>, 
</span>                <span class='String'>"recordsep"</span><span class='Delimiter'>, </span><span class='String'>"recordsep_zero"</span><span class='Delimiter'>, 
</span>                <span class='String'>"tableattr"</span><span class='Delimiter'>, </span><span class='String'>"title"</span><span class='Delimiter'>, </span><span class='String'>"tuples_only"</span><span class='Delimiter'>, 
</span>                <span class='String'>"unicode_border_linestyle"</span><span class='Delimiter'>, 
</span>                <span class='String'>"unicode_column_linestyle"</span><span class='Delimiter'>, 
</span>                <span class='String'>"unicode_header_linestyle"</span><span class='Delimiter'>, 
</span>                <span class='Null_Value'>NULL 
</span>            <span class='Delimiter'>}; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2008"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="command.c.html#LN2009"><span class='Ref_To_Local'>my_list</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN2008"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="command.c.html#LN2008"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN2023"></a>                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>val</span> <span class='Operator'>= </span><a href="command.c.html#LN165"><span class='Ref_to_Proto'>pset_value_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2009"><span class='Ref_To_Local'>my_list</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN2008"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"%-24s %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2009"><span class='Ref_To_Local'>my_list</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN2008"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="command.c.html#LN2023"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2023"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="command.c.html#LN1995"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !opt0 &raquo; </span> 
        <span class='Control'>else</span> 
            <a href="command.c.html#LN1995"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1999"><span class='Ref_To_Local'>opt0</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2001"><span class='Ref_To_Local'>opt1</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1999"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2001"><span class='Ref_To_Local'>opt1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN1993"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN1995"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_pset &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \q or \quit -- exit psql 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2047"></a><span class='Declare_Function'>exec_command_quit</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2049"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2047"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN2049"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN20"><span class='Ref_to_EnumConst'>PSQL_CMD_TERMINATE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2049"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \r -- reset (clear) the query buffer 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2061"></a><span class='Declare_Function'>exec_command_reset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN2062"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2061"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2062"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/psqlscan.h.html#LN90"><span class='Ref_to_Proto'>psql_scan_reset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2061"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Query buffer reset (cleared)."</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \s -- save history in a file or show it on the screen 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2079"></a><span class='Declare_Function'>exec_command_s</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2081"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2079"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2085"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2079"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2085"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2081"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="input.h.html#LN45"><span class='Ref_to_Proto'>printHistory</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2085"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2081"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>&& !</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2085"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Wrote history to file \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN2085"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2085"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>            putchar<span class='Parentheses'>(</span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2085"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2079"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2081"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_s &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \set -- set variable 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2106"></a><span class='Declare_Function'>exec_command_set</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2108"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2106"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2112"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt0</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2106"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2112"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* list all variables */ 
</span>            <a href="variables.h.html#LN83"><span class='Ref_to_Proto'>PrintVariables</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2108"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Set variable to the concatenation of the arguments. 
             */ 
</span><a name="LN2126"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>newval</span><span class='Delimiter'>; 
</span><a name="LN2127"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2106"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                         <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a> <span class='Operator'>? </span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2106"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN28"><span class='Ref_to_Proto'>pg_realloc</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                strcat<span class='Parentheses'>(</span><a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2127"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2112"><span class='Ref_To_Local'>opt0</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>))</span> 
                <a href="command.c.html#LN2108"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2126"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2112"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2106"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2108"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_set &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \setenv -- set environment variable 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2159"></a><span class='Declare_Function'>exec_command_setenv</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN2160"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2162"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2159"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2166"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>envvar</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2159"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                    <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2168"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>envval</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2159"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                    <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2166"><span class='Ref_To_Local'>envvar</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2160"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2162"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN2166"><span class='Ref_To_Local'>envvar</span></a><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: environment variable name must not contain \"=\"\n"</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN2160"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2162"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2168"><span class='Ref_To_Local'>envval</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* No argument - unset the environment variable */ 
</span>            <a href="../../port/unsetenv.c.html#LN18"><span class='Ref_to_Func'>unsetenv</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2166"><span class='Ref_To_Local'>envvar</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2162"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Set variable to the value of the next argument */ 
</span><a name="LN2191"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>newval</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN2191"><span class='Ref_To_Local'>newval</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%s=%s"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2166"><span class='Ref_To_Local'>envvar</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2168"><span class='Ref_To_Local'>envval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/port/win32.h.html#LN410"><span class='Ref_to_Macro'>putenv</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2191"><span class='Ref_To_Local'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2162"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Do not free newval here, it will screw up the environment if 
             * you do. See putenv man page for details. That means we leak a 
             * bit of memory here, but not enough to worry about. 
             */ 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2166"><span class='Ref_To_Local'>envvar</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2168"><span class='Ref_To_Local'>envval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2159"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2162"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_setenv &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \sf -- show a function's source code 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2216"></a><span class='Declare_Function'>exec_command_sf</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2218"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2216"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2222"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>show_linenumbers</span> <span class='Operator'>= </span><span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2216"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"sf+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2223"></a>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>func_buf</span><span class='Delimiter'>; 
</span><a name="LN2224"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>func</span><span class='Delimiter'>; 
</span><a name="LN2225"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>foid</span> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2223"><span class='Ref_To_Local'>func_buf</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/pqexpbuffer.c.html#LN69"><span class='Ref_to_Func'>createPQExpBuffer</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2224"><span class='Ref_To_Local'>func</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2216"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                      <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2232"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support showing function source.\n"</span><span class='Delimiter'>, 
</span>                       <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                             <a href="command.c.html#LN2232"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN2232"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2218"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2224"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"function name is required\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2218"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN153"><span class='Ref_to_Proto'>lookup_object_oid</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2224"><span class='Ref_To_Local'>func</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN2225"><span class='Ref_To_Local'>foid</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* error already reported */ 
</span>            <a href="command.c.html#LN2218"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN155"><span class='Ref_to_Proto'>get_create_object_cmd</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2225"><span class='Ref_To_Local'>foid</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2223"><span class='Ref_To_Local'>func_buf</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* error already reported */ 
</span>            <a href="command.c.html#LN2218"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN2256"></a>            FILE       <span class='Operator'>*</span><span class='Declare_Local'>output</span><span class='Delimiter'>; 
</span><a name="LN2257"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>is_pager</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Select output stream: stdout, pager, or file */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a> <span class='Operator'>== </span>stdout<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* count lines in function to see if pager is needed */ 
</span><a name="LN2263"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= </span><a href="command.c.html#LN158"><span class='Ref_to_Proto'>count_lines_in_buf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2223"><span class='Ref_To_Local'>func_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="command.c.html#LN2256"><span class='Ref_To_Local'>output</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN186"><span class='Ref_to_Proto'>PageOutput</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2263"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN2257"><span class='Ref_To_Local'>is_pager</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* use previously set output file, without pager */ 
</span>                <a href="command.c.html#LN2256"><span class='Ref_To_Local'>output</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN2257"><span class='Ref_To_Local'>is_pager</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2222"><span class='Ref_To_Local'>show_linenumbers</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* 
                 * lineno "1" should correspond to the first line of the 
                 * function body.  We expect that pg_get_functiondef() will 
                 * emit that on a line beginning with "AS ", and that there 
                 * can be no such line before the real start of the function 
                 * body. 
                 */ 
</span>                <a href="command.c.html#LN159"><span class='Ref_to_Proto'>print_with_linenumbers</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2256"><span class='Ref_To_Local'>output</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2223"><span class='Ref_To_Local'>func_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><span class='String'>"AS "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* just send the function definition to output */ 
</span>                <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2223"><span class='Ref_To_Local'>func_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2256"><span class='Ref_To_Local'>output</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2257"><span class='Ref_To_Local'>is_pager</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN187"><span class='Ref_to_Proto'>ClosePager</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2256"><span class='Ref_To_Local'>output</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2224"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2224"><span class='Ref_To_Local'>func</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2223"><span class='Ref_To_Local'>func_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2216"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2218"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_sf &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \sv -- show a view's source code 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2310"></a><span class='Declare_Function'>exec_command_sv</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2312"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2310"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2316"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>show_linenumbers</span> <span class='Operator'>= </span><span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2310"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"sv+"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2317"></a>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>view_buf</span><span class='Delimiter'>; 
</span><a name="LN2318"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>view</span><span class='Delimiter'>; 
</span><a name="LN2319"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Local'>view_oid</span> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2317"><span class='Ref_To_Local'>view_buf</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/pqexpbuffer.c.html#LN69"><span class='Ref_to_Func'>createPQExpBuffer</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2318"><span class='Ref_To_Local'>view</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2310"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                      <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>70400</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2326"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support showing view definitions.\n"</span><span class='Delimiter'>, 
</span>                       <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                             <a href="command.c.html#LN2326"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN2326"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2312"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2318"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"view name is required\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2312"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN153"><span class='Ref_to_Proto'>lookup_object_oid</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2318"><span class='Ref_To_Local'>view</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN2319"><span class='Ref_To_Local'>view_oid</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* error already reported */ 
</span>            <a href="command.c.html#LN2312"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN155"><span class='Ref_to_Proto'>get_create_object_cmd</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2319"><span class='Ref_To_Local'>view_oid</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2317"><span class='Ref_To_Local'>view_buf</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* error already reported */ 
</span>            <a href="command.c.html#LN2312"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN2350"></a>            FILE       <span class='Operator'>*</span><span class='Declare_Local'>output</span><span class='Delimiter'>; 
</span><a name="LN2351"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>is_pager</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Select output stream: stdout, pager, or file */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a> <span class='Operator'>== </span>stdout<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* count lines in view to see if pager is needed */ 
</span><a name="LN2357"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= </span><a href="command.c.html#LN158"><span class='Ref_to_Proto'>count_lines_in_buf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2317"><span class='Ref_To_Local'>view_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="command.c.html#LN2350"><span class='Ref_To_Local'>output</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN186"><span class='Ref_to_Proto'>PageOutput</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2357"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN2351"><span class='Ref_To_Local'>is_pager</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* use previously set output file, without pager */ 
</span>                <a href="command.c.html#LN2350"><span class='Ref_To_Local'>output</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN2351"><span class='Ref_To_Local'>is_pager</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2316"><span class='Ref_To_Local'>show_linenumbers</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* add line numbers, numbering all lines */ 
</span>                <a href="command.c.html#LN159"><span class='Ref_to_Proto'>print_with_linenumbers</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2350"><span class='Ref_To_Local'>output</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2317"><span class='Ref_To_Local'>view_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* just send the view definition to output */ 
</span>                <a href="../../interfaces/ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2317"><span class='Ref_To_Local'>view_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2350"><span class='Ref_To_Local'>output</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2351"><span class='Ref_To_Local'>is_pager</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN187"><span class='Ref_to_Proto'>ClosePager</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2350"><span class='Ref_To_Local'>output</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2318"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2318"><span class='Ref_To_Local'>view</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2317"><span class='Ref_To_Local'>view_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2310"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2312"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_sv &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \t -- turn off table headers and row count 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2398"></a><span class='Declare_Function'>exec_command_t</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2400"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2398"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2404"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2398"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2400"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"tuples_only"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2404"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2404"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2398"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2400"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \T -- define html &LT;table ...&GT; attributes 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2420"></a><span class='Declare_Function'>exec_command_T</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2422"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2420"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2426"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>value</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2420"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2422"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"tableattr"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2420"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2422"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \timing -- enable/disable timing of queries 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2442"></a><span class='Declare_Function'>exec_command_timing</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2444"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2442"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2448"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2442"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2448"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN2444"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2448"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><span class='String'>"\\timing"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN111"><span class='Ref_to_Member'>timing</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN111"><span class='Ref_to_Member'>timing</span></a> <span class='Operator'>= !</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN111"><span class='Ref_to_Member'>timing</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN111"><span class='Ref_to_Member'>timing</span></a><span class='Parentheses'>) 
</span>                puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Timing is on."</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                puts<span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Timing is off."</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2448"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2442"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2444"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_timing &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \unset -- unset variable 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2474"></a><span class='Declare_Function'>exec_command_unset</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN2475"></a>                   <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2477"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2474"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2481"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2474"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2481"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2475"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2477"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2481"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>))</span> 
            <a href="command.c.html#LN2477"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2481"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2474"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2477"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_unset &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \w -- write query buffer to file 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2504"></a><span class='Declare_Function'>exec_command_write</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN2505"></a>                   <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Delimiter'>, 
</span><a name="LN2506"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2508"></a>    <a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> <span class='Declare_Local'>status</span> <span class='Operator'>= </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2504"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2512"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2504"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                   <a href="psqlscanslash.h.html#LN19"><span class='Ref_to_EnumConst'>OT_FILEPIPE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2514"></a>        FILE       <span class='Operator'>*</span><span class='Declare_Local'>fd</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2515"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>is_pipe</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"no query buffer\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2508"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\%s: missing required argument\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2505"><span class='Ref_to_Parameter'>cmd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN2508"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'|'</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="command.c.html#LN2515"><span class='Ref_To_Local'>is_pipe</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN182"><span class='Ref_to_Proto'>disable_sigpipe_trap</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN313"><span class='Ref_to_Macro'>popen</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><span class='String'>"w"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../include/port.h.html#LN42"><span class='Ref_to_Proto'>canonicalize_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN290"><span class='Ref_to_Macro'>fopen</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><span class='String'>"w"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="command.c.html#LN2508"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2553"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We want to print the same thing \g would execute, but not to 
             * change the query buffer state; so we can't use 
             * copy_previous_query().  Also, beware of possibility that buffer 
             * pointers are NULL. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>query_buf</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a><span class='Delimiter'>, </span><span class='String'>"%s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>previous_buf</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a><span class='Delimiter'>, </span><span class='String'>"%s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2506"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2515"><span class='Ref_To_Local'>is_pipe</span></a><span class='Parentheses'>) 
</span>                <a href="command.c.html#LN2553"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN314"><span class='Ref_to_Macro'>pclose</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="command.c.html#LN2553"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>fclose<span class='Parentheses'>(</span><a href="command.c.html#LN2514"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2553"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span>EOF<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN2508"><span class='Ref_To_Local'>status</span></a> <span class='Operator'>= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if fd &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2515"><span class='Ref_To_Local'>is_pipe</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN183"><span class='Ref_to_Proto'>restore_sigpipe_trap</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2512"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN139"><span class='Ref_to_Proto'>ignore_slash_filepipe</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2504"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2508"><span class='Ref_To_Local'>status</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_write &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \watch -- execute a query every N seconds 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2593"></a><span class='Declare_Function'>exec_command_watch</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Delimiter'>, 
</span><a name="LN2594"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2596"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2593"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2600"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2593"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2602"></a>        <span class='Keyword'>double</span>      <span class='Declare_Local'>sleep</span> <span class='Operator'>= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Convert optional sleep-length argument */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2600"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="command.c.html#LN2602"><span class='Ref_To_Local'>sleep</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="command.c.html#LN2600"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2602"><span class='Ref_To_Local'>sleep</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="command.c.html#LN2602"><span class='Ref_To_Local'>sleep</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2600"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* If query_buf is empty, recall and execute previous query */ 
</span>        <a href="command.c.html#LN146"><span class='Ref_to_Proto'>copy_previous_query</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2594"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2594"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2596"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.c.html#LN152"><span class='Ref_to_Proto'>do_watch</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2594"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2602"><span class='Ref_To_Local'>sleep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Reset the query buffer as though for \r */ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2594"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/psqlscan.h.html#LN90"><span class='Ref_to_Proto'>psql_scan_reset</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2593"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if active_branch &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2593"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2596"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_watch &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \x -- set or toggle expanded table representation 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2632"></a><span class='Declare_Function'>exec_command_x</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2634"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2632"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2638"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2632"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2634"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='String'>"expanded"</span><span class='Delimiter'>, </span><a href="command.c.html#LN2638"><span class='Ref_To_Local'>opt</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2638"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2632"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2634"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \z -- list table privileges (equivalent to \dp) 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2654"></a><span class='Declare_Function'>exec_command_z</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2656"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2654"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2660"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pattern</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2654"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                     <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2656"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN36"><span class='Ref_to_Proto'>permissionsList</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2660"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2660"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2660"><span class='Ref_To_Local'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2654"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2656"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \! -- execute shell command 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2677"></a><span class='Declare_Function'>exec_command_shell_escape</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2679"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2677"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2683"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2677"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                 <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2679"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="command.c.html#LN151"><span class='Ref_to_Proto'>do_shell</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2683"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2683"><span class='Ref_To_Local'>opt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN140"><span class='Ref_to_Proto'>ignore_slash_whole_line</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2677"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2679"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a> <span class='Operator'>: </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \? -- print help about backslash commands 
 */ 
</span><span class='Keyword'>static </span><a href="command.h.html#LN15"><span class='Ref_to_Typedef'>backslashResult</span></a> 
<a name="LN2699"></a><span class='Declare_Function'>exec_command_slash_command_help</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>active_branch</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2699"><span class='Ref_to_Parameter'>active_branch</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2703"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>opt0</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2699"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                  <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2703"><span class='Ref_To_Local'>opt0</span></a> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2703"><span class='Ref_To_Local'>opt0</span></a><span class='Delimiter'>, </span><span class='String'>"commands"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="help.h.html#LN12"><span class='Ref_to_Proto'>slashUsage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2703"><span class='Ref_To_Local'>opt0</span></a><span class='Delimiter'>, </span><span class='String'>"options"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="help.h.html#LN10"><span class='Ref_to_Proto'>usage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2703"><span class='Ref_To_Local'>opt0</span></a><span class='Delimiter'>, </span><span class='String'>"variables"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="help.h.html#LN14"><span class='Ref_to_Proto'>helpVariables</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="help.h.html#LN12"><span class='Ref_to_Proto'>slashUsage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2703"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2703"><span class='Ref_To_Local'>opt0</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN138"><span class='Ref_to_Proto'>ignore_slash_options</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2699"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.h.html#LN19"><span class='Ref_to_EnumConst'>PSQL_CMD_SKIP_LINE</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end exec_command_slash_command_help &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Read and interpret an argument to the \connect slash command. 
 */ 
</span><span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN2729"></a><span class='Declare_Function'>read_connect_arg</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2731"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2732"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>quote</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Ideally we should treat the arguments as SQL identifiers.  But for 
     * backwards compatibility with 7.2 and older pg_dump files, we have to 
     * take unquoted arguments verbatim (don't downcase them). For now, 
     * double-quoted arguments may be stripped of double quotes (as if SQL 
     * identifiers).  By 7.4 or so, pg_dump files can be expected to 
     * double-quote all mixed-case \connect arguments, and then we can get rid 
     * of OT_SQLIDHACK. 
     */ 
</span>    <a href="command.c.html#LN2731"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2729"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, </span><a href="psqlscanslash.h.html#LN18"><span class='Ref_to_EnumConst'>OT_SQLIDHACK</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN2732"><span class='Ref_To_Local'>quote</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2731"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2732"><span class='Ref_To_Local'>quote</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="command.c.html#LN2731"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN2731"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2731"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='String'>"-"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2731"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end read_connect_arg &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Read a boolean expression, return it as a PQExpBuffer string. 
 * 
 * Note: anything more or less than one token will certainly fail to be 
 * parsed by ParseVariableBool, so we don't worry about complaining here. 
 * This routine's return data structure will need to be rethought anyway 
 * to support likely future extensions such as "\if defined VARNAME". 
 */ 
</span><span class='Keyword'>static </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> 
<a name="LN2766"></a><span class='Declare_Function'>gather_boolean_expression</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2768"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>exp_buf</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/pqexpbuffer.c.html#LN69"><span class='Ref_to_Func'>createPQExpBuffer</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN2769"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>num_options</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2770"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>value</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* collect all arguments for the conditional command into exp_buf */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>((</span><span class='Keyword'>value </span><span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2766"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                           <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* add spaces between tokens */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2769"><span class='Ref_To_Local'>num_options</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN171"><span class='Ref_to_Proto'>appendPQExpBufferChar</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2768"><span class='Ref_To_Local'>exp_buf</span></a><span class='Delimiter'>, </span><span class='String'>' '</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2768"><span class='Ref_To_Local'>exp_buf</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2769"><span class='Ref_To_Local'>num_options</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN2768"><span class='Ref_To_Local'>exp_buf</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end gather_boolean_expression &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Read a boolean expression, return true if the expression 
 * was a valid boolean expression that evaluated to true. 
 * Otherwise return false. 
 * 
 * Note: conditional stack's top state must be active, else lexer will 
 * fail to expand variables and backticks. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN2796"></a><span class='Declare_Function'>is_true_boolean_expression</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2798"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>buf</span> <span class='Operator'>= </span><a href="command.c.html#LN135"><span class='Ref_to_Proto'>gather_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2796"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2799"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>value</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN2800"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>success</span> <span class='Operator'>= </span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2798"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2796"><span class='Ref_to_Parameter'>name</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2798"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="command.c.html#LN2800"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>&& </span><span class='Keyword'>value</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Read a boolean expression, but do nothing with it. 
 * 
 * Note: conditional stack's top state must be INACTIVE, else lexer will 
 * expand variables and backticks, which we do not want here. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2813"></a><span class='Declare_Function'>ignore_boolean_expression</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2815"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>buf</span> <span class='Operator'>= </span><a href="command.c.html#LN135"><span class='Ref_to_Proto'>gather_boolean_expression</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2813"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2815"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Read and discard "normal" slash command options. 
 * 
 * This should be used for inactive-branch processing of any slash command 
 * that eats one or more OT_NORMAL, OT_SQLID, or OT_SQLIDHACK parameters. 
 * We don't need to worry about exactly how many it would eat, since the 
 * cleanup logic in HandleSlashCmds would silently discard any extras anyway. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2829"></a><span class='Declare_Function'>ignore_slash_options</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2831"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="command.c.html#LN2831"><span class='Ref_To_Local'>arg</span></a> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2829"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                         <a href="psqlscanslash.h.html#LN16"><span class='Ref_to_EnumConst'>OT_NORMAL</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2831"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Read and discard FILEPIPE slash command argument. 
 * 
 * This *MUST* be used for inactive-branch processing of any slash command 
 * that takes an OT_FILEPIPE option.  Otherwise we might consume a different 
 * amount of option text in active and inactive cases. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2846"></a><span class='Declare_Function'>ignore_slash_filepipe</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2848"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2846"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                             <a href="psqlscanslash.h.html#LN19"><span class='Ref_to_EnumConst'>OT_FILEPIPE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2848"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2848"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Read and discard whole-line slash command argument. 
 * 
 * This *MUST* be used for inactive-branch processing of any slash command 
 * that takes an OT_WHOLE_LINE option.  Otherwise we might consume a different 
 * amount of option text in active and inactive cases. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2863"></a><span class='Declare_Function'>ignore_slash_whole_line</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2865"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>arg</span> <span class='Operator'>= </span><a href="psqlscanslash.h.html#LN26"><span class='Ref_to_Proto'>psql_scan_slash_option</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2863"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                                             <a href="psqlscanslash.h.html#LN20"><span class='Ref_to_EnumConst'>OT_WHOLE_LINE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2865"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2865"><span class='Ref_To_Local'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Return true if the command given is a branching command. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN2876"></a><span class='Declare_Function'>is_branching_command</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2876"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"if"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>            strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2876"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"elif"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>            strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2876"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"else"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>            strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2876"><span class='Ref_to_Parameter'>cmd</span></a><span class='Delimiter'>, </span><span class='String'>"endif"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Prepare to possibly restore query buffer to its current state 
 * (cf. discard_query_text). 
 * 
 * We need to remember the length of the query buffer, and the lexer's 
 * notion of the parenthesis nesting depth. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2892"></a><span class='Declare_Function'>save_query_text_state</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN2893"></a>                      <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2893"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>) 
</span>        <a href="conditional.h.html#LN74"><span class='Ref_to_Proto'>conditional_stack_set_query_len</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2892"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2893"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="conditional.h.html#LN78"><span class='Ref_to_Proto'>conditional_stack_set_paren_depth</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2892"><span class='Ref_to_Parameter'>cstack</span></a><span class='Delimiter'>, 
</span>                                      <a href="psqlscanslash.h.html#LN33"><span class='Ref_to_Proto'>psql_scan_get_paren_depth</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2892"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Discard any query text absorbed during an inactive conditional branch. 
 * 
 * We must discard data that was appended to query_buf during an inactive 
 * \if branch.  We don't have to do anything there if there's no query_buf. 
 * 
 * Also, reset the lexer state to the same paren depth there was before. 
 * (The rest of its state doesn't need attention, since we could not be 
 * inside a comment or literal or partial token.) 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2912"></a><span class='Declare_Function'>discard_query_text</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Parameter'>scan_state</span><span class='Delimiter'>, </span><a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Parameter'>cstack</span><span class='Delimiter'>, 
</span><a name="LN2913"></a>                   <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2913"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2917"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>new_len</span> <span class='Operator'>= </span><a href="conditional.h.html#LN76"><span class='Ref_to_Proto'>conditional_stack_get_query_len</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2912"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN2917"><span class='Ref_To_Local'>new_len</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="command.c.html#LN2917"><span class='Ref_To_Local'>new_len</span></a> <span class='Operator'>&LT;= </span><a href="command.c.html#LN2913"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2913"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>= </span><a href="command.c.html#LN2917"><span class='Ref_To_Local'>new_len</span></a><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2913"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN2917"><span class='Ref_To_Local'>new_len</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="psqlscanslash.h.html#LN35"><span class='Ref_to_Proto'>psql_scan_set_paren_depth</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2912"><span class='Ref_to_Parameter'>scan_state</span></a><span class='Delimiter'>, 
</span>                              <a href="conditional.h.html#LN80"><span class='Ref_to_Proto'>conditional_stack_get_paren_depth</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2912"><span class='Ref_to_Parameter'>cstack</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * If query_buf is empty, copy previous_buf into it. 
 * 
 * This is used by various slash commands for which re-execution of a 
 * previous query is a common usage.  For convenience, we allow the 
 * case of query_buf == NULL (and do nothing). 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2935"></a><span class='Declare_Function'>copy_previous_query</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>previous_buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2935"><span class='Ref_to_Parameter'>query_buf</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2935"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2935"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2935"><span class='Ref_to_Parameter'>previous_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Ask the user for a password; 'username' is the username the 
 * password is for, if one has been explicitly specified. Returns a 
 * malloc'd string. 
 */ 
</span><span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN2947"></a><span class='Declare_Function'>prompt_for_password</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>username</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2949"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>buf</span><span class='Delimiter'>[</span><span class='Number'>100</span><span class='Delimiter'>]; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2947"><span class='Ref_to_Parameter'>username</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><span class='String'>"Password: "</span><span class='Delimiter'>, </span><a href="command.c.html#LN2949"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN2949"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN2955"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>prompt_text</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2955"><span class='Ref_To_Local'>prompt_text</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Password for user %s: "</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN2947"><span class='Ref_to_Parameter'>username</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2955"><span class='Ref_To_Local'>prompt_text</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2949"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN2949"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2955"><span class='Ref_To_Local'>prompt_text</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2949"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN2965"></a><span class='Declare_Function'>param_is_newly_set</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>old_val</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>new_val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2965"><span class='Ref_to_Parameter'>new_val</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2965"><span class='Ref_to_Parameter'>old_val</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2965"><span class='Ref_to_Parameter'>old_val</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN2965"><span class='Ref_to_Parameter'>new_val</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * do_connect -- handler for \connect 
 * 
 * Connects to a database with given parameters. Absent an established 
 * connection, all parameters are required. Given -reuse-previous=off or a 
 * connection string without -reuse-previous=on, NULL values will pass through 
 * to PQconnectdbParams(), so the libpq defaults will be used. Otherwise, NULL 
 * values will be replaced with the ones in the current connection. 
 * 
 * In interactive mode, if connection fails with the given parameters, 
 * the old connection will be kept. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN2989"></a><span class='Declare_Function'>do_connect</span><span class='Parentheses'>(</span><span class='Control'>enum</span> <a href="../pg_dump/pg_backup.h.html#LN29"><span class='Ref_to_Enum'>trivalue</span></a> <span class='Declare_Parameter'>reuse_previous_specification</span><span class='Delimiter'>, 
</span><a name="LN2990"></a>           <span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>dbname</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>user</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>host</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>port</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2992"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN139"><span class='Ref_to_Typedef'>PGconn</span></a>     <span class='Operator'>*</span><span class='Declare_Local'>o_conn</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, 
</span><a name="LN2993"></a>               <span class='Operator'>*</span><span class='Declare_Local'>n_conn</span><span class='Delimiter'>; 
</span><a name="LN2994"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>password</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2995"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>keep_password</span><span class='Delimiter'>; 
</span><a name="LN2996"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>has_connection_string</span><span class='Delimiter'>; 
</span><a name="LN2997"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>reuse_previous</span><span class='Delimiter'>; 
</span><a name="LN2998"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>connstr</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>dbname</span></a> <span class='Operator'>|| !</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a> <span class='Operator'>|| !</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a> <span class='Operator'>|| !</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * We don't know the supplied connection parameters and don't want to 
         * connect to the wrong database by using defaults, so require all 
         * parameters to be specified. 
         */ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"All connection parameters must be supplied because no "</span> 
                   <span class='String'>"database connection exists\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="command.c.html#LN2996"><span class='Ref_To_Local'>has_connection_string</span></a> <span class='Operator'>= </span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>dbname</span></a> <span class='Operator'>? 
</span>        <a href="common.h.html#LN46"><span class='Ref_to_Proto'>recognized_connection_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>dbname</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2989"><span class='Ref_to_Parameter'>reuse_previous_specification</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../pg_dump/pg_backup.h.html#LN33"><span class='Ref_to_EnumConst'>TRI_YES</span></a><span class='Operator'>: 
</span>            <a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../pg_dump/pg_backup.h.html#LN32"><span class='Ref_to_EnumConst'>TRI_NO</span></a><span class='Operator'>: 
</span>            <a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a> <span class='Operator'>= !</span><a href="command.c.html#LN2996"><span class='Ref_To_Local'>has_connection_string</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* Silently ignore arguments subsequent to a connection string. */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2996"><span class='Ref_To_Local'>has_connection_string</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* grab missing values from the old connection */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Any change in the parameters read above makes us discard the password. 
     * We also discard it if we're to use a conninfo rather than the 
     * positional syntax. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2996"><span class='Ref_To_Local'>has_connection_string</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN2995"><span class='Ref_To_Local'>keep_password</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN2995"><span class='Ref_To_Local'>keep_password</span></a> <span class='Operator'>= 
</span>            <span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a> <span class='Operator'>&& </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>            <span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a> <span class='Operator'>&& </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>            <span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a> <span class='Operator'>&& </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Grab missing dbname from old connection.  No password discard if this 
     * changes: passwords aren't (usually) database-specific. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>dbname</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2997"><span class='Ref_To_Local'>reuse_previous</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Delimiter'>, </span><span class='String'>"dbname="</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/string_utils.h.html#LN45"><span class='Ref_to_Proto'>appendConnStrVal</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN310"><span class='Ref_to_Proto'>PQdb</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>dbname</span></a> <span class='Operator'>= </span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* has_connection_string=true would be a dead store */ 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If the user asked to be prompted for a password, ask for one now. If 
     * not, use the password from the old connection, provided the username 
     * etc have not changed. Otherwise, try to connect without a password 
     * first, and then ask for a password if needed. 
     * 
     * XXX: this behavior leads to spurious connection attempts recorded in 
     * the postmaster's log.  But libpq offers no API that would let us obtain 
     * a password and then continue with the first connection attempt. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>== </span><a href="../pg_dump/pg_backup.h.html#LN33"><span class='Ref_to_EnumConst'>TRI_YES</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>= </span><a href="command.c.html#LN2946"><span class='Ref_to_Func'>prompt_for_password</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN2995"><span class='Ref_To_Local'>keep_password</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN312"><span class='Ref_to_Proto'>PQpass</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>&& *</span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN3095"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PARAMS_ARRAY_SIZE</span>   <span class='Number'>8</span> 
<a name="LN3096"></a>        <span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Local'>keywords</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3095"><span class='Ref_to_Const'>PARAMS_ARRAY_SIZE</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN3097"></a>        <span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Local'>values</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3095"><span class='Ref_to_Const'>PARAMS_ARRAY_SIZE</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN3098"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>paramnum</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"host"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>host</span></a><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"port"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>port</span></a><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"user"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Position in the array matters when the dbname is a connection 
         * string, because settings in a connection string override earlier 
         * array entries only.  Thus, user= in the connection string always 
         * takes effect, but client_encoding= often will not. 
         * 
         * If you change this code, also change the initial-connection code in 
         * main().  For no good reason, a connection string password= takes 
         * precedence in main() but not here. 
         */ 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"dbname"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>dbname</span></a><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"password"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"fallback_application_name"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"client_encoding"</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN99"><span class='Ref_to_Member'>notty</span></a> <span class='Operator'>|| </span>getenv<span class='Parentheses'>(</span><span class='String'>"PGCLIENTENCODING"</span><span class='Parentheses'>))</span> <span class='Operator'>? </span><span class='Null_Value'>NULL </span><span class='Operator'>: </span><span class='String'>"auto"</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* add array terminator */ 
</span>        <a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Operator'>++</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3098"><span class='Ref_To_Local'>paramnum</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN261"><span class='Ref_to_Proto'>PQconnectdbParams</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/common/fe_memutils.h.html#LN29"><span class='Ref_to_Proto'>pg_free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3096"><span class='Ref_To_Local'>keywords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/common/fe_memutils.h.html#LN29"><span class='Ref_to_Proto'>pg_free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3097"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* We can immediately discard the password -- no longer needed */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/common/fe_memutils.h.html#LN29"><span class='Ref_to_Proto'>pg_free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN317"><span class='Ref_to_Proto'>PQstatus</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN48"><span class='Ref_to_EnumConst'>CONNECTION_OK</span></a><span class='Parentheses'>)</span> 
            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Connection attempt failed; either retry the connection attempt with 
         * a new password, or give up. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>&& </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN326"><span class='Ref_to_Proto'>PQconnectionNeedsPassword</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>!= </span><a href="../pg_dump/pg_backup.h.html#LN32"><span class='Ref_to_EnumConst'>TRI_NO</span></a><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN2994"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>= </span><a href="command.c.html#LN2946"><span class='Ref_to_Func'>prompt_for_password</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2990"><span class='Ref_to_Parameter'>user</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Failed to connect to the database. In interactive mode, keep the 
         * previous connection to the DB; in scripting mode, close our 
         * previous connection as well. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN104"><span class='Ref_to_Member'>cur_cmd_interactive</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN323"><span class='Ref_to_Proto'>PQerrorMessage</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* pset.db is left unmodified */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>) 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Previous connection kept\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\connect: %s"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN323"><span class='Ref_to_Proto'>PQerrorMessage</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while true &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN2998"><span class='Ref_To_Local'>connstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Replace the old connection with the new one, and update 
     * connection-dependent variables. 
     */ 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN362"><span class='Ref_to_Proto'>PQsetNoticeProcessor</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Delimiter'>, </span><a href="common.h.html#LN24"><span class='Ref_to_Proto'>NoticeProcessor</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a> <span class='Operator'>= </span><a href="command.c.html#LN2993"><span class='Ref_To_Local'>n_conn</span></a><span class='Delimiter'>; 
</span>    <a href="command.h.html#LN41"><span class='Ref_to_Proto'>SyncVariables</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="command.h.html#LN39"><span class='Ref_to_Proto'>connection_warnings</span></a><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* Must be after SyncVariables */ 
</span> 
    <span class='Comment_Multi_Line'>/* Tell the user about the new connection */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a> <span class='Operator'>|| 
</span>            <a href="command.c.html#LN2964"><span class='Ref_to_Func'>param_is_newly_set</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span> <span class='Operator'>|| 
</span>            <a href="command.c.html#LN2964"><span class='Ref_to_Func'>param_is_newly_set</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span><a name="LN3200"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>host</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* If the host is an absolute path, the connection is via socket */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/port.h.html#LN76"><span class='Ref_to_Macro'>is_absolute_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3200"><span class='Ref_To_Local'>host</span></a><span class='Parentheses'>))</span> 
                <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"You are now connected to database \"%s\" as user \"%s\" via socket in \"%s\" at port \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                       <a href="../../interfaces/libpq/libpq-fe.h.html#LN310"><span class='Ref_to_Proto'>PQdb</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN3200"><span class='Ref_To_Local'>host</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"You are now connected to database \"%s\" as user \"%s\" on host \"%s\" at port \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                       <a href="../../interfaces/libpq/libpq-fe.h.html#LN310"><span class='Ref_to_Proto'>PQdb</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN3200"><span class='Ref_To_Local'>host</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"You are now connected to database \"%s\" as user \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="../../interfaces/libpq/libpq-fe.h.html#LN310"><span class='Ref_to_Proto'>PQdb</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !pset.quiet &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN2992"><span class='Ref_To_Local'>o_conn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end do_connect &raquo; </span> 
 
 
<span class='Keyword'>void 
</span><a name="LN3222"></a><span class='Declare_Function'>connection_warnings</span><span class='Parentheses'>(</span><span class='Keyword'>bool </span><span class='Declare_Parameter'>in_startup</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a> <span class='Operator'>&& !</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN99"><span class='Ref_to_Member'>notty</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN3226"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>client_ver</span> <span class='Operator'>= </span>PG_VERSION_NUM<span class='Delimiter'>; 
</span><a name="LN3227"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>cverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span><a name="LN3228"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>!= </span><a href="command.c.html#LN3226"><span class='Ref_To_Local'>client_ver</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3232"></a>            <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>server_version</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Try to get full text form, might include "devel" etc */ 
</span>            <a href="command.c.html#LN3232"><span class='Ref_To_Local'>server_version</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN319"><span class='Ref_to_Proto'>PQparameterStatus</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='String'>"server_version"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* Otherwise fall back on pset.sversion */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3232"><span class='Ref_To_Local'>server_version</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                                      <a href="command.c.html#LN3228"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3228"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN3232"><span class='Ref_To_Local'>server_version</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3228"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"%s (%s, server %s)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, </span>PG_VERSION<span class='Delimiter'>, </span><a href="command.c.html#LN3232"><span class='Ref_To_Local'>server_version</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* For version match, only print psql banner on startup. */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3222"><span class='Ref_to_Parameter'>in_startup</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"%s (%s)\n"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, </span>PG_VERSION<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>/ </span><span class='Number'>100</span> <span class='Operator'>&GT; </span><a href="command.c.html#LN3226"><span class='Ref_To_Local'>client_ver</span></a> <span class='Operator'>/ </span><span class='Number'>100</span><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"WARNING: %s major version %s, server major version %s.\n"</span> 
                     <span class='String'>"         Some psql features might not work.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3226"><span class='Ref_To_Local'>client_ver</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="command.c.html#LN3227"><span class='Ref_To_Local'>cverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3227"><span class='Ref_To_Local'>cverbuf</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="command.c.html#LN3228"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3228"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
        <a href="command.c.html#LN168"><span class='Ref_to_Proto'>checkWin32Codepage</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
        <a href="command.c.html#LN163"><span class='Ref_to_Proto'>printSSLInfo</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !pset.quiet&&!pset.no... &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end connection_warnings &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * printSSLInfo 
 * 
 * Prints information about the current SSL connection, if SSL is in use 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN3274"></a><span class='Declare_Function'>printSSLInfo</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3276"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>protocol</span><span class='Delimiter'>; 
</span><a name="LN3277"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>cipher</span><span class='Delimiter'>; 
</span><a name="LN3278"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>bits</span><span class='Delimiter'>; 
</span><a name="LN3279"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>compression</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN332"><span class='Ref_to_Proto'>PQsslInUse</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span><span class='Delimiter'>;</span>                 <span class='Comment_Single_Line'>/* no SSL */ 
</span> 
    <a href="command.c.html#LN3276"><span class='Ref_To_Local'>protocol</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN334"><span class='Ref_to_Proto'>PQsslAttribute</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='String'>"protocol"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN3277"><span class='Ref_To_Local'>cipher</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN334"><span class='Ref_to_Proto'>PQsslAttribute</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='String'>"cipher"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN3278"><span class='Ref_To_Local'>bits</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN334"><span class='Ref_to_Proto'>PQsslAttribute</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='String'>"key_bits"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN3279"><span class='Ref_To_Local'>compression</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN334"><span class='Ref_to_Proto'>PQsslAttribute</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='String'>"compression"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"SSL connection (protocol: %s, cipher: %s, bits: %s, compression: %s)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>           <a href="command.c.html#LN3276"><span class='Ref_To_Local'>protocol</span></a> <span class='Operator'>? </span><a href="command.c.html#LN3276"><span class='Ref_To_Local'>protocol</span></a> <span class='Operator'>: </span>_<span class='Parentheses'>(</span><span class='String'>"unknown"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>           <a href="command.c.html#LN3277"><span class='Ref_To_Local'>cipher</span></a> <span class='Operator'>? </span><a href="command.c.html#LN3277"><span class='Ref_To_Local'>cipher</span></a> <span class='Operator'>: </span>_<span class='Parentheses'>(</span><span class='String'>"unknown"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>           <a href="command.c.html#LN3278"><span class='Ref_To_Local'>bits</span></a> <span class='Operator'>? </span><a href="command.c.html#LN3278"><span class='Ref_To_Local'>bits</span></a> <span class='Operator'>: </span>_<span class='Parentheses'>(</span><span class='String'>"unknown"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>      <span class='Parentheses'>(</span><a href="command.c.html#LN3279"><span class='Ref_To_Local'>compression</span></a> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3279"><span class='Ref_To_Local'>compression</span></a><span class='Delimiter'>, </span><span class='String'>"off"</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>? </span>_<span class='Parentheses'>(</span><span class='String'>"on"</span><span class='Parentheses'>)</span> <span class='Operator'>: </span>_<span class='Parentheses'>(</span><span class='String'>"off"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end printSSLInfo &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * checkWin32Codepage 
 * 
 * Prints a warning when win32 console codepage differs from Windows codepage 
 */ 
</span><span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<span class='Keyword'>static void 
</span><a name="LN3304"></a><span class='Declare_Function'>checkWin32Codepage</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3306"></a>    <span class='Keyword'>unsigned int </span><span class='Declare_Local'>wincp</span><span class='Delimiter'>, 
</span><a name="LN3307"></a>                <span class='Declare_Local'>concp</span><span class='Delimiter'>; 
</span> 
    <a href="command.c.html#LN3306"><span class='Ref_To_Local'>wincp</span></a> <span class='Operator'>= </span>GetACP<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN3307"><span class='Ref_To_Local'>concp</span></a> <span class='Operator'>= </span>GetConsoleCP<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3306"><span class='Ref_To_Local'>wincp</span></a> <span class='Operator'>!= </span><a href="command.c.html#LN3307"><span class='Ref_To_Local'>concp</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"WARNING: Console code page (%u) differs from Windows code page (%u)\n"</span> 
                 <span class='String'>"         8-bit characters might not work correctly. See psql reference\n"</span> 
                 <span class='String'>"         page \"Notes for Windows users\" for details.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>               <a href="command.c.html#LN3307"><span class='Ref_To_Local'>concp</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3306"><span class='Ref_To_Local'>wincp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
} 
</span><span class='Directive'>#endif</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * SyncVariables 
 * 
 * Make psql's internal variables agree with connection state upon 
 * establishing a new connection. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3329"></a><span class='Declare_Function'>SyncVariables</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* get stuff from connection */ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN328"><span class='Ref_to_Proto'>PQclientEncoding</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN117"><span class='Ref_to_Member'>encoding</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN322"><span class='Ref_to_Proto'>PQserverVersion</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"DBNAME"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN310"><span class='Ref_to_Proto'>PQdb</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"USER"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN311"><span class='Ref_to_Proto'>PQuser</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"HOST"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN313"><span class='Ref_to_Proto'>PQhost</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PORT"</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN314"><span class='Ref_to_Proto'>PQport</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ENCODING"</span><span class='Delimiter'>, </span><a href="../../include/mb/pg_wchar.h.html#LN502"><span class='Ref_to_Proto'>pg_encoding_to_char</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* send stuff to it, too */ 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN348"><span class='Ref_to_Proto'>PQsetErrorVerbosity</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN138"><span class='Ref_to_Member'>verbosity</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN351"><span class='Ref_to_Proto'>PQsetErrorContextVisibility</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN139"><span class='Ref_to_Member'>show_context</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * UnsyncVariables 
 * 
 * Clear variables that should be not be set when there is no connection. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN3353"></a><span class='Declare_Function'>UnsyncVariables</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"DBNAME"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"USER"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"HOST"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PORT"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ENCODING"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * do_edit -- handler for \e 
 * 
 * If you do not specify a filename, the current query buffer will be copied 
 * into a temporary one. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN3370"></a><span class='Declare_Function'>editFile</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fname</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3372"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>editorName</span><span class='Delimiter'>; 
</span><a name="LN3373"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>editor_lineno_arg</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3374"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>sys</span><span class='Delimiter'>; 
</span><a name="LN3375"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>fname</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Find an editor to use */ 
</span>    <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"PSQL_EDITOR"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"EDITOR"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"VISUAL"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN18"><span class='Ref_to_Const'>DEFAULT_EDITOR</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get line number argument, if we need it. */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>lineno</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN3373"><span class='Ref_To_Local'>editor_lineno_arg</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"PSQL_EDITOR_LINENUMBER_ARG"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> <a href="settings.h.html#LN22"><span class='Ref_to_Const'>DEFAULT_EDITOR_LINENUMBER_ARG</span></a> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3373"><span class='Ref_To_Local'>editor_lineno_arg</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3373"><span class='Ref_To_Local'>editor_lineno_arg</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN22"><span class='Ref_to_Const'>DEFAULT_EDITOR_LINENUMBER_ARG</span></a><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3373"><span class='Ref_To_Local'>editor_lineno_arg</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"environment variable PSQL_EDITOR_LINENUMBER_ARG must be set to specify a line number\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * On Unix the EDITOR value should *not* be quoted, since it might include 
     * switches, eg, EDITOR="pico -t"; it's up to the user to put quotes in it 
     * if necessary.  But this policy is not very workable on Windows, due to 
     * severe brain damage in their command shell plus the fact that standard 
     * program paths include spaces. 
     */ 
</span><span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>lineno</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3374"><span class='Ref_To_Local'>sys</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"exec %s %s%d '%s'"</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3373"><span class='Ref_To_Local'>editor_lineno_arg</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN3374"><span class='Ref_To_Local'>sys</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"exec %s '%s'"</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>lineno</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3374"><span class='Ref_To_Local'>sys</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"\"%s\" %s%d \"%s\""</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3373"><span class='Ref_To_Local'>editor_lineno_arg</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="command.c.html#LN3374"><span class='Ref_To_Local'>sys</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"\"%s\" \"%s\""</span><span class='Delimiter'>, 
</span>                       <a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3370"><span class='Ref_to_Parameter'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
    <a href="command.c.html#LN3375"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN312"><span class='Ref_to_Macro'>system</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3374"><span class='Ref_To_Local'>sys</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3375"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"could not start editor \"%s\"\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3372"><span class='Ref_To_Local'>editorName</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3375"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>127</span><span class='Parentheses'>) 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"could not start /bin/sh\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3374"><span class='Ref_To_Local'>sys</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN3375"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end editFile &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* call this one */ 
</span><span class='Keyword'>static bool 
</span><a name="LN3438"></a><span class='Declare_Function'>do_edit</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>filename_arg</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, 
</span><a name="LN3439"></a>        <span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>edited</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3441"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>fnametmp</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span><a name="LN3442"></a>    FILE       <span class='Operator'>*</span><span class='Declare_Local'>stream</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3443"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>fname</span><span class='Delimiter'>; 
</span><a name="LN3444"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>error</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN3445"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>fd</span><span class='Delimiter'>; 
</span> 
<a name="LN3447"></a>    <span class='Control'>struct</span> <a href="../../include/port.h.html#LN275"><span class='Ref_to_Macro'>stat</span></a> <span class='Declare_Local'>before</span><span class='Delimiter'>, 
</span><a name="LN3448"></a>                <span class='Declare_Local'>after</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>filename_arg</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>filename_arg</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* make a temp file to edit */ 
</span><span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<a name="LN3456"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>tmpdir</span> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"TMPDIR"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3456"><span class='Ref_To_Local'>tmpdir</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3456"><span class='Ref_To_Local'>tmpdir</span></a> <span class='Operator'>= </span><span class='String'>"/tmp"</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
<a name="LN3461"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>tmpdir</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span><a name="LN3462"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN3462"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span>GetTempPath<span class='Parentheses'>(</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3456"><span class='Ref_To_Local'>tmpdir</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3462"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="command.c.html#LN3462"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>&GT; </span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"could not locate temporary directory: %s\n"</span><span class='Delimiter'>, 
</span>                       <span class='Operator'>!</span><a href="command.c.html#LN3462"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>? </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>) </span><span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * No canonicalize_path() here. EDIT.EXE run from CMD.EXE prepends the 
         * current directory to the supplied path unless we use only 
         * backslashes, so we do that. 
         */ 
</span><span class='Directive'>#endif</span> 
<span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
        <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3441"><span class='Ref_To_Local'>fnametmp</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3441"><span class='Ref_To_Local'>fnametmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%s%spsql.edit.%d.sql"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3456"><span class='Ref_To_Local'>tmpdir</span></a><span class='Delimiter'>, 
</span>                 <span class='String'>"/"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span>getpid<span class='Parentheses'>())</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
        <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3441"><span class='Ref_To_Local'>fnametmp</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3441"><span class='Ref_To_Local'>fnametmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%s%spsql.edit.%d.sql"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3456"><span class='Ref_To_Local'>tmpdir</span></a><span class='Delimiter'>, 
</span>               <span class='String'>""</span> <span class='Comment_Multi_Line'>/* trailing separator already present */ </span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span>getpid<span class='Parentheses'>())</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
        <a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="command.c.html#LN3441"><span class='Ref_To_Local'>fnametmp</span></a><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN3445"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN289"><span class='Ref_to_Macro'>open</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span>O_WRONLY <span class='Operator'>| </span>O_CREAT <span class='Operator'>| </span>O_EXCL<span class='Delimiter'>, </span><span class='Number'>0600</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3445"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>!= -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a> <span class='Operator'>= </span>fdopen<span class='Parentheses'>(</span><a href="command.c.html#LN3445"><span class='Ref_To_Local'>fd</span></a><span class='Delimiter'>, </span><span class='String'>"w"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3445"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>== -</span><span class='Number'>1</span> <span class='Operator'>|| !</span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"could not open temporary file \"%s\": %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN3499"></a>            <span class='Keyword'>unsigned int </span><span class='Declare_Local'>ql</span> <span class='Operator'>= </span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3499"><span class='Ref_To_Local'>ql</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN3499"><span class='Ref_To_Local'>ql</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='String'>'\n'</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN171"><span class='Ref_to_Proto'>appendPQExpBufferChar</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN3499"><span class='Ref_To_Local'>ql</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>fwrite<span class='Parentheses'>(</span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="command.c.html#LN3499"><span class='Ref_To_Local'>ql</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="command.c.html#LN3499"><span class='Ref_To_Local'>ql</span></a><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span>fclose<span class='Parentheses'>(</span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../timezone/private.h.html#LN59"><span class='Ref_to_Proto'>remove</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>fclose<span class='Parentheses'>(</span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../timezone/private.h.html#LN59"><span class='Ref_to_Proto'>remove</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>&& </span><a href="../../include/port.h.html#LN275"><span class='Ref_to_Macro'>stat</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3447"><span class='Ref_To_Local'>before</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* call editor */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= !</span><a href="command.c.html#LN3369"><span class='Ref_to_Func'>editFile</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3439"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>&& </span><a href="../../include/port.h.html#LN275"><span class='Ref_to_Macro'>stat</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3448"><span class='Ref_To_Local'>after</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN3447"><span class='Ref_To_Local'>before</span></a><span class='Operator'>.</span>st_mtime <span class='Operator'>!= </span><a href="command.c.html#LN3448"><span class='Ref_To_Local'>after</span></a><span class='Operator'>.</span>st_mtime<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN290"><span class='Ref_to_Macro'>fopen</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../tools/entab/entab.c.html#LN12"><span class='Ref_to_Const'>PG_BINARY_R</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* read file back into query_buf */ 
</span><a name="LN3556"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>line</span><span class='Delimiter'>[</span><span class='Number'>1024</span><span class='Delimiter'>]; 
</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>fgets<span class='Parentheses'>(</span><a href="command.c.html#LN3556"><span class='Ref_To_Local'>line</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3556"><span class='Ref_To_Local'>line</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3556"><span class='Ref_To_Local'>line</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>ferror<span class='Parentheses'>(</span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3439"><span class='Ref_to_Parameter'>edited</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Operator'>*</span><a href="command.c.html#LN3439"><span class='Ref_to_Parameter'>edited</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            fclose<span class='Parentheses'>(</span><a href="command.c.html#LN3442"><span class='Ref_To_Local'>stream</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !error&&before.st_mti... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* remove temp file */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3438"><span class='Ref_to_Parameter'>filename_arg</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../timezone/private.h.html#LN59"><span class='Ref_to_Proto'>remove</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>) </span><span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3443"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Operator'>!</span><a href="command.c.html#LN3444"><span class='Ref_To_Local'>error</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end do_edit &raquo; </span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * process_file 
 * 
 * Reads commands from filename and passes them to the main processing loop. 
 * Handler for \i and \ir, but can be used for other things as well.  Returns 
 * MainLoop() error code. 
 * 
 * If use_relative_path is true and filename is not an absolute path, then open 
 * the file from where the currently processed file (if any) is located. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN3602"></a><span class='Declare_Function'>process_file</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>filename</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>use_relative_path</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3604"></a>    FILE       <span class='Operator'>*</span><span class='Declare_Local'>fd</span><span class='Delimiter'>; 
</span><a name="LN3605"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN3606"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>oldfilename</span><span class='Delimiter'>; 
</span><a name="LN3607"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>relpath</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>= </span>stdin<span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span><span class='String'>"-"</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN42"><span class='Ref_to_Proto'>canonicalize_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If we were asked to resolve the pathname relative to the location 
         * of the currently executing script, and there is one, and this is a 
         * relative pathname, then prepend all but the last pathname component 
         * of the current script to this pathname. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>use_relative_path</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN107"><span class='Ref_to_Member'>inputfile</span></a> <span class='Operator'>&& 
</span>            <span class='Operator'>!</span><a href="../../include/port.h.html#LN76"><span class='Ref_to_Macro'>is_absolute_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="../../include/port.h.html#LN36"><span class='Ref_to_Proto'>has_drive_prefix</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../port/strlcpy.c.html#LN43"><span class='Ref_to_Func'>strlcpy</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN107"><span class='Ref_to_Member'>inputfile</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="../../include/port.h.html#LN62"><span class='Ref_to_Proto'>get_parent_directory</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/port.h.html#LN40"><span class='Ref_to_Proto'>join_path_components</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/port.h.html#LN42"><span class='Ref_to_Proto'>canonicalize_path</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3607"><span class='Ref_To_Local'>relpath</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN290"><span class='Ref_to_Macro'>fopen</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span><a href="../../tools/entab/entab.c.html#LN12"><span class='Ref_to_Const'>PG_BINARY_R</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if strcmp(filename,"-")!... &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>= </span>stdin<span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a> <span class='Operator'>= </span><span class='String'>"&LT;stdin&GT;"</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* for future error messages */ 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="command.c.html#LN3606"><span class='Ref_To_Local'>oldfilename</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN107"><span class='Ref_to_Member'>inputfile</span></a><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN107"><span class='Ref_to_Member'>inputfile</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3602"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>; 
</span> 
    <a href="command.c.html#LN3605"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="mainloop.h.html#LN14"><span class='Ref_to_Proto'>MainLoop</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a> <span class='Operator'>!= </span>stdin<span class='Parentheses'>) 
</span>        fclose<span class='Parentheses'>(</span><a href="command.c.html#LN3604"><span class='Ref_To_Local'>fd</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN107"><span class='Ref_to_Member'>inputfile</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3606"><span class='Ref_To_Local'>oldfilename</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="command.c.html#LN3605"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end process_file &raquo; </span> 
 
 
 
<span class='Keyword'>static const char </span><span class='Operator'>* 
</span><a name="LN3664"></a><span class='Declare_Function'>_align2string</span><span class='Parentheses'>(</span><span class='Control'>enum</span> <a href="../../include/fe_utils/print.h.html#LN25"><span class='Ref_to_Enum'>printFormat</span></a> <span class='Declare_Parameter'>in</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3664"><span class='Ref_to_Parameter'>in</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN27"><span class='Ref_to_EnumConst'>PRINT_NOTHING</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"nothing"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN28"><span class='Ref_to_EnumConst'>PRINT_UNALIGNED</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"unaligned"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN29"><span class='Ref_to_EnumConst'>PRINT_ALIGNED</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"aligned"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN30"><span class='Ref_to_EnumConst'>PRINT_WRAPPED</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"wrapped"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN31"><span class='Ref_to_EnumConst'>PRINT_HTML</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"html"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN32"><span class='Ref_to_EnumConst'>PRINT_ASCIIDOC</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"asciidoc"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN33"><span class='Ref_to_EnumConst'>PRINT_LATEX</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"latex"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN34"><span class='Ref_to_EnumConst'>PRINT_LATEX_LONGTABLE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"latex-longtable"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN35"><span class='Ref_to_EnumConst'>PRINT_TROFF_MS</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"troff-ms"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch in &raquo; </span> 
    <span class='Control'>return</span> <span class='String'>"unknown"</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end _align2string &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Parse entered Unicode linestyle.  If ok, update *linestyle and return 
 * true, else return false. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN3704"></a><span class='Declare_Function'>set_unicode_line_style</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>value</span><span class='Delimiter'>, </span>size_t <span class='Declare_Parameter'>vallen</span><span class='Delimiter'>, 
</span><a name="LN3705"></a>                       <a href="../../include/fe_utils/print.h.html#LN83"><span class='Ref_to_Enum'>unicode_linestyle</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>linestyle</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"single"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3704"><span class='Ref_to_Parameter'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Operator'>*</span><a href="command.c.html#LN3705"><span class='Ref_to_Parameter'>linestyle</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN85"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_SINGLE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"double"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3704"><span class='Ref_to_Parameter'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Operator'>*</span><a href="command.c.html#LN3705"><span class='Ref_to_Parameter'>linestyle</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN86"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_DOUBLE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static const char </span><span class='Operator'>* 
</span><a name="LN3717"></a><span class='Declare_Function'>_unicode_linestyle2string</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>linestyle</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3717"><span class='Ref_to_Parameter'>linestyle</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN85"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_SINGLE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"single"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/fe_utils/print.h.html#LN86"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_DOUBLE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='String'>"double"</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='String'>"unknown"</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * do_pset 
 * 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3736"></a><span class='Declare_Function'>do_pset</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>param</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>value</span><span class='Delimiter'>, </span><a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>popt</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>quiet</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3738"></a>    size_t      <span class='Declare_Local'>vallen</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* set format */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"format"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"unaligned"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN28"><span class='Ref_to_EnumConst'>PRINT_UNALIGNED</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"aligned"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN29"><span class='Ref_to_EnumConst'>PRINT_ALIGNED</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"wrapped"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN30"><span class='Ref_to_EnumConst'>PRINT_WRAPPED</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"html"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN31"><span class='Ref_to_EnumConst'>PRINT_HTML</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"asciidoc"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN32"><span class='Ref_to_EnumConst'>PRINT_ASCIIDOC</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"latex"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN33"><span class='Ref_to_EnumConst'>PRINT_LATEX</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"latex-longtable"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN34"><span class='Ref_to_EnumConst'>PRINT_LATEX_LONGTABLE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"troff-ms"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN35"><span class='Ref_to_EnumConst'>PRINT_TROFF_MS</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: allowed formats are unaligned, aligned, wrapped, html, asciidoc, latex, latex-longtable, troff-ms\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if strcmp(param,"format"... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* set table line style */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"ascii"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN111"><span class='Ref_to_Member'>line_style</span></a> <span class='Operator'>= &</span><a href="../../fe_utils/print.c.html#LN58"><span class='Ref_to_Global_Var'>pg_asciiformat</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"old-ascii"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN111"><span class='Ref_to_Member'>line_style</span></a> <span class='Operator'>= &</span><a href="../../fe_utils/print.c.html#LN79"><span class='Ref_to_Global_Var'>pg_asciiformat_old</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><span class='String'>"unicode"</span><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN111"><span class='Ref_to_Member'>line_style</span></a> <span class='Operator'>= &</span><a href="../../fe_utils/print.c.html#LN101"><span class='Ref_to_Global_Var'>pg_utf8format</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: allowed line styles are ascii, old-ascii, unicode\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set unicode border line style */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_border_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3703"><span class='Ref_to_Func'>set_unicode_line_style</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Delimiter'>, 
</span>                                        <span class='Operator'>&</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN120"><span class='Ref_to_Member'>unicode_border_linestyle</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/fe_utils/print.h.html#LN212"><span class='Ref_to_Proto'>refresh_utf8format</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: allowed Unicode border line styles are single, double\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set unicode column line style */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_column_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3703"><span class='Ref_to_Func'>set_unicode_line_style</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Delimiter'>, 
</span>                                        <span class='Operator'>&</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN121"><span class='Ref_to_Member'>unicode_column_linestyle</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/fe_utils/print.h.html#LN212"><span class='Ref_to_Proto'>refresh_utf8format</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: allowed Unicode column line styles are single, double\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set unicode header line style */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_header_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3703"><span class='Ref_to_Func'>set_unicode_line_style</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3738"><span class='Ref_To_Local'>vallen</span></a><span class='Delimiter'>, 
</span>                                        <span class='Operator'>&</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN122"><span class='Ref_to_Member'>unicode_header_linestyle</span></a><span class='Parentheses'>))</span> 
            <a href="../../include/fe_utils/print.h.html#LN212"><span class='Ref_to_Proto'>refresh_utf8format</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: allowed Unicode header line styles are single, double\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set border style/width */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"border"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN100"><span class='Ref_to_Member'>border</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set expanded/vertical mode */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"x"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>             strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"expanded"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>             strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"vertical"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value </span><span class='Operator'>&& </span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>"auto"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3852"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>on_off</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3852"><span class='Ref_To_Local'>on_off</span></a><span class='Parentheses'>))</span> 
                <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3852"><span class='Ref_To_Local'>on_off</span></a> <span class='Operator'>? </span><span class='Number'>1</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>"on, off, auto"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>= !</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if strcmp(param,"x")==0|... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* locale-aware numeric output */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"numericlocale"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN114"><span class='Ref_to_Member'>numericLocale</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN114"><span class='Ref_to_Member'>numericLocale</span></a> <span class='Operator'>= !</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN114"><span class='Ref_to_Member'>numericLocale</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* null display */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"null"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* field separator for unaligned text */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"fieldsep"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"fieldsep_zero"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* record separator for unaligned text */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"recordsep"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"recordsep_zero"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* toggle between full and tuples-only format */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"tuples_only"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN106"><span class='Ref_to_Member'>tuples_only</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN106"><span class='Ref_to_Member'>tuples_only</span></a> <span class='Operator'>= !</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN106"><span class='Ref_to_Member'>tuples_only</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set title override */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"C"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"title"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set HTML table tag options */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"T"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"tableattr"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* toggle use of pager */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"pager"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value </span><span class='Operator'>&& </span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>"always"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3957"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>on_off</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3957"><span class='Ref_To_Local'>on_off</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>"on, off, always"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>= </span><a href="command.c.html#LN3957"><span class='Ref_To_Local'>on_off</span></a> <span class='Operator'>? </span><span class='Number'>1</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if strcmp(param,"pager")... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* set minimum lines for pager use */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"pager_min_lines"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN104"><span class='Ref_to_Member'>pager_min_lines</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* disable "(x rows)" footer */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"footer"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= !</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* set border style/width */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"columns"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN119"><span class='Ref_to_Member'>columns</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: unknown option: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>quiet</span></a><span class='Parentheses'>) 
</span>        <a href="command.c.html#LN164"><span class='Ref_to_Proto'>printPsetInfo</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3736"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end do_pset &raquo; </span> 
 
 
<span class='Keyword'>static bool 
</span><a name="LN4008"></a><span class='Declare_Function'>printPsetInfo</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>param</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>popt</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* show border style/width */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"border"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Border style is %d.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN100"><span class='Ref_to_Member'>border</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* show the target width for the wrapped format */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"columns"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN119"><span class='Ref_to_Member'>columns</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Target width is unset.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Target width is %d.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN119"><span class='Ref_to_Member'>columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show expanded/vertical mode */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"x"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"expanded"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"vertical"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Expanded display is on.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Expanded display is used automatically.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Expanded display is off.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show field separator for unaligned text */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"fieldsep"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Field separator is zero byte.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Field separator is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"fieldsep_zero"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Field separator is zero byte.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show disable "(x rows)" footer */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"footer"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Default footer is on.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Default footer is off.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show format */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"format"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Output format is %s.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN3663"><span class='Ref_to_Func'>_align2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show table line style */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Line style is %s.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>               <a href="../../include/fe_utils/print.h.html#LN211"><span class='Ref_to_Proto'>get_line_style</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN68"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show null display */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"null"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Null display is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>               <a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>? </span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show locale-aware numeric output */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"numericlocale"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN114"><span class='Ref_to_Member'>numericLocale</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Locale-adjusted numeric output is on.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Locale-adjusted numeric output is off.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show toggle use of pager */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"pager"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Pager is used for long output.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Pager is always used.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Pager usage is off.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show minimum lines for pager use */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"pager_min_lines"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><a href="../../include/c.h.html#LN126"><span class='Ref_to_Macro'>ngettext</span></a><span class='Parentheses'>(</span><span class='String'>"Pager won't be used for less than %d line.\n"</span><span class='Delimiter'>, 
</span>                        <span class='String'>"Pager won't be used for less than %d lines.\n"</span><span class='Delimiter'>, 
</span>                        <a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN104"><span class='Ref_to_Member'>pager_min_lines</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>               <a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN104"><span class='Ref_to_Member'>pager_min_lines</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show record separator for unaligned text */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"recordsep"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Record separator is zero byte.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Record separator is &LT;newline&GT;.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Record separator is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"recordsep_zero"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Record separator is zero byte.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show HTML table tag options */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"T"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"tableattr"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Table attributes are \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                   <a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Table attributes unset.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show title override */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"C"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"title"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Title is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Title is unset.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* show toggle between full and tuples-only format */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"tuples_only"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN106"><span class='Ref_to_Member'>tuples_only</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Tuples only is on.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Tuples only is off.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Unicode style formatting */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_border_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Unicode border line style is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>             <a href="command.c.html#LN3716"><span class='Ref_to_Func'>_unicode_linestyle2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN120"><span class='Ref_to_Member'>unicode_border_linestyle</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_column_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Unicode column line style is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>             <a href="command.c.html#LN3716"><span class='Ref_to_Func'>_unicode_linestyle2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN121"><span class='Ref_to_Member'>unicode_column_linestyle</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_header_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Unicode header line style is \"%s\".\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>             <a href="command.c.html#LN3716"><span class='Ref_to_Func'>_unicode_linestyle2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN122"><span class='Ref_to_Member'>unicode_header_linestyle</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\pset: unknown option: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4008"><span class='Ref_to_Parameter'>param</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end printPsetInfo &raquo; </span> 
 
 
<span class='Keyword'>static const char </span><span class='Operator'>* 
</span><a name="LN4184"></a><span class='Declare_Function'>pset_bool_string</span><span class='Parentheses'>(</span><span class='Keyword'>bool </span><span class='Declare_Parameter'>val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="command.c.html#LN4184"><span class='Ref_to_Parameter'>val</span></a> <span class='Operator'>? </span><span class='String'>"on"</span> <span class='Operator'>: </span><span class='String'>"off"</span><span class='Delimiter'>; 
} 
</span> 
 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN4191"></a><span class='Declare_Function'>pset_quoted_string</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4193"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>ret</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN4191"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4194"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>r</span> <span class='Operator'>= </span><a href="command.c.html#LN4193"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = </span><span class='String'>'\''</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="command.c.html#LN4191"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>; </span><a href="command.c.html#LN4191"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN4191"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>== </span><span class='String'>'\n'</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = </span><span class='String'>'\\'</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = </span><span class='String'>'n'</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN4191"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>== </span><span class='String'>'\''</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = </span><span class='String'>'\\'</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = </span><span class='String'>'\''</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = *</span><a href="command.c.html#LN4191"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a><span class='Operator'>++ = </span><span class='String'>'\''</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="command.c.html#LN4194"><span class='Ref_To_Local'>r</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN4193"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pset_quoted_string &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Return a malloc'ed string for the \pset value. 
 * 
 * Note that for some string parameters, print.c distinguishes between unset 
 * and empty string, but for others it doesn't.  This function should produce 
 * output that produces the correct setting when fed back into \pset. 
 */ 
</span><span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN4229"></a><span class='Declare_Function'>pset_value_string</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>param</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>popt</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"border"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN100"><span class='Ref_to_Member'>border</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"columns"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN119"><span class='Ref_to_Member'>columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"expanded"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>== </span><span class='Number'>2</span> 
                       <span class='Operator'>? </span><span class='String'>"auto"</span> 
                       <span class='Operator'>: </span><a href="command.c.html#LN4183"><span class='Ref_to_Func'>pset_bool_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"fieldsep"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="command.c.html#LN4190"><span class='Ref_to_Func'>pset_quoted_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> 
                                  <span class='Operator'>? </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> 
                                  <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"fieldsep_zero"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4183"><span class='Ref_to_Func'>pset_bool_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"footer"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4183"><span class='Ref_to_Func'>pset_bool_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"format"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="command.c.html#LN3663"><span class='Ref_to_Func'>_align2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="../../include/fe_utils/print.h.html#LN211"><span class='Ref_to_Proto'>get_line_style</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN68"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"null"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="command.c.html#LN4190"><span class='Ref_to_Func'>pset_quoted_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> 
                                  <span class='Operator'>? </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> 
                                  <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"numericlocale"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4183"><span class='Ref_to_Func'>pset_bool_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN114"><span class='Ref_to_Member'>numericLocale</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"pager"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"pager_min_lines"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN104"><span class='Ref_to_Member'>pager_min_lines</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"recordsep"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="command.c.html#LN4190"><span class='Ref_to_Func'>pset_quoted_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> 
                                  <span class='Operator'>? </span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> 
                                  <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"recordsep_zero"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4183"><span class='Ref_to_Func'>pset_bool_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"tableattr"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a> <span class='Operator'>? </span><a href="command.c.html#LN4190"><span class='Ref_to_Func'>pset_quoted_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"title"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>? </span><a href="command.c.html#LN4190"><span class='Ref_to_Func'>pset_quoted_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"tuples_only"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4183"><span class='Ref_to_Func'>pset_bool_string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN106"><span class='Ref_to_Member'>tuples_only</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_border_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3716"><span class='Ref_to_Func'>_unicode_linestyle2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN120"><span class='Ref_to_Member'>unicode_border_linestyle</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_column_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3716"><span class='Ref_to_Func'>_unicode_linestyle2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN121"><span class='Ref_to_Member'>unicode_column_linestyle</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>param</span></a><span class='Delimiter'>, </span><span class='String'>"unicode_header_linestyle"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN3716"><span class='Ref_to_Func'>_unicode_linestyle2string</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4229"><span class='Ref_to_Parameter'>popt</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN122"><span class='Ref_to_Member'>unicode_header_linestyle</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><span class='String'>"ERROR"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pset_value_string &raquo; </span> 
 
 
 
<span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<a name="LN4288"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_SHELL</span> <span class='String'>"/bin/sh"</span> 
<span class='Directive'>#else</span> 
<span class='Comment_Multi_Line'>/* 
 *  CMD.EXE is in different places in different Win32 releases so we 
 *  have to rely on the path to find it. 
 */ 
</span><a name="LN4294"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_SHELL</span> <span class='String'>"cmd.exe"</span> 
<span class='Directive'>#endif</span> 
 
<span class='Keyword'>static bool 
</span><a name="LN4298"></a><span class='Declare_Function'>do_shell</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>command</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4300"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4298"><span class='Ref_to_Parameter'>command</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4304"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>sys</span><span class='Delimiter'>; 
</span><a name="LN4305"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>shellName</span><span class='Delimiter'>; 
</span> 
        <a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"SHELL"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"COMSPEC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a> <span class='Operator'>= </span><a href="command.c.html#LN4288"><span class='Ref_to_Const'>DEFAULT_SHELL</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* See EDITOR handling comment for an explanation */ 
</span><span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
        <a href="command.c.html#LN4304"><span class='Ref_To_Local'>sys</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"exec %s"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
        <a href="command.c.html#LN4304"><span class='Ref_To_Local'>sys</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"\"%s\""</span><span class='Delimiter'>, </span><a href="command.c.html#LN4305"><span class='Ref_To_Local'>shellName</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
        <a href="command.c.html#LN4300"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN312"><span class='Ref_to_Macro'>system</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4304"><span class='Ref_To_Local'>sys</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4304"><span class='Ref_To_Local'>sys</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !command &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="command.c.html#LN4300"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN312"><span class='Ref_to_Macro'>system</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4298"><span class='Ref_to_Parameter'>command</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4300"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>127</span> <span class='Operator'>|| </span><a href="command.c.html#LN4300"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\!: failed\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end do_shell &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * do_watch -- handler for \watch 
 * 
 * We break this out of exec_command to avoid having to plaster "volatile" 
 * onto a bunch of exec_command's variables to silence stupider compilers. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN4342"></a><span class='Declare_Function'>do_watch</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>query_buf</span><span class='Delimiter'>, </span><span class='Keyword'>double </span><span class='Declare_Parameter'>sleep</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4344"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>sleep_ms</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) (</span><a href="command.c.html#LN4342"><span class='Ref_to_Parameter'>sleep</span></a> <span class='Operator'>* </span><span class='Number'>1000</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4345"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN4346"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>strftime_fmt</span><span class='Delimiter'>; 
</span><a name="LN4347"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>user_title</span><span class='Delimiter'>; 
</span><a name="LN4348"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>title</span><span class='Delimiter'>; 
</span><a name="LN4349"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>title_len</span><span class='Delimiter'>; 
</span><a name="LN4350"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>res</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4342"><span class='Ref_to_Parameter'>query_buf</span></a> <span class='Operator'>|| </span><a href="command.c.html#LN4342"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"\\watch cannot be used with an empty query\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Choose format for timestamps.  We might eventually make this a \pset 
     * option.  In the meantime, using a variable for the format suppresses 
     * overly-anal-retentive gcc warnings about %c being Y2K sensitive. 
     */ 
</span>    <a href="command.c.html#LN4346"><span class='Ref_To_Local'>strftime_fmt</span></a> <span class='Operator'>= </span><span class='String'>"%c"</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Set up rendering options, in particular, disable the pager, because 
     * nobody wants to be prompted while watching the output of 'watch'. 
     */ 
</span>    <a href="command.c.html#LN4345"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If there's a title in the user configuration, make sure we have room 
     * for it in the title buffer.  Allow 128 bytes for the timestamp plus 128 
     * bytes for the rest. 
     */ 
</span>    <a href="command.c.html#LN4347"><span class='Ref_To_Local'>user_title</span></a> <span class='Operator'>= </span><a href="command.c.html#LN4345"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN4349"><span class='Ref_To_Local'>title_len</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="command.c.html#LN4347"><span class='Ref_To_Local'>user_title</span></a> <span class='Operator'>? </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN4347"><span class='Ref_To_Local'>user_title</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Number'>256</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN4348"><span class='Ref_To_Local'>title</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4349"><span class='Ref_To_Local'>title_len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>;;</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4382"></a>        time_t      <span class='Declare_Local'>timer</span><span class='Delimiter'>; 
</span><a name="LN4383"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>timebuf</span><span class='Delimiter'>[</span><span class='Number'>128</span><span class='Delimiter'>]; 
</span><a name="LN4384"></a>        <span class='Keyword'>long</span>        <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Prepare title for output.  Note that we intentionally include a 
         * newline at the end of the title; this is somewhat historical but it 
         * makes for reasonably nicely formatted output in simple cases. 
         */ 
</span>        <a href="command.c.html#LN4382"><span class='Ref_To_Local'>timer</span></a> <span class='Operator'>= </span>time<span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../backend/utils/adt/pg_locale.c.html#LN753"><span class='Ref_to_Macro'>strftime</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4383"><span class='Ref_To_Local'>timebuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="command.c.html#LN4383"><span class='Ref_To_Local'>timebuf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN4346"><span class='Ref_To_Local'>strftime_fmt</span></a><span class='Delimiter'>, </span>localtime<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="command.c.html#LN4382"><span class='Ref_To_Local'>timer</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4347"><span class='Ref_To_Local'>user_title</span></a><span class='Parentheses'>) 
</span>            <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4348"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4349"><span class='Ref_To_Local'>title_len</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s\t%s (every %gs)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="command.c.html#LN4347"><span class='Ref_To_Local'>user_title</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4383"><span class='Ref_To_Local'>timebuf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4342"><span class='Ref_to_Parameter'>sleep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4348"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4349"><span class='Ref_To_Local'>title_len</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s (every %gs)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                     <a href="command.c.html#LN4383"><span class='Ref_To_Local'>timebuf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4342"><span class='Ref_to_Parameter'>sleep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN4345"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="command.c.html#LN4348"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Run the query and print out the results */ 
</span>        <a href="command.c.html#LN4350"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN36"><span class='Ref_to_Proto'>PSQLexecWatch</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4342"><span class='Ref_to_Parameter'>query_buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="command.c.html#LN4345"><span class='Ref_To_Local'>myopt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * PSQLexecWatch handles the case where we can no longer repeat the 
         * query, and returns 0 or -1. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4350"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Set up cancellation of 'watch' via SIGINT.  We redo this each time 
         * through the loop since it's conceivable something inside 
         * PSQLexecWatch could change sigint_interrupt_jmp. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/c.h.html#LN1088"><span class='Ref_to_Macro'>sigsetjmp</span></a><span class='Parentheses'>(</span><a href="common.c.html#LN274"><span class='Ref_to_Global_Var'>sigint_interrupt_jmp</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * Enable 'watch' cancellations and wait a while before running the 
         * query again.  Break the sleep into short intervals (at most 1s) 
         * since pg_usleep isn't interruptible on some platforms. 
         */ 
</span>        <a href="common.c.html#LN272"><span class='Ref_to_Global_Var'>sigint_interrupt_enabled</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN4384"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="command.c.html#LN4344"><span class='Ref_To_Local'>sleep_ms</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4384"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN4429"></a>            <span class='Keyword'>long</span>        <span class='Declare_Local'>s</span> <span class='Operator'>= </span><a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4384"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1000L</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../port/pgsleep.c.html#LN45"><span class='Ref_to_Func'>pg_usleep</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4429"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>* </span><span class='Number'>1000L</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../fe_utils/print.c.html#LN45"><span class='Ref_to_Global_Var'>cancel_pressed</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <a href="command.c.html#LN4384"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>-= </span><a href="command.c.html#LN4429"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="common.c.html#LN272"><span class='Ref_to_Global_Var'>sigint_interrupt_enabled</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for ;; &raquo; </span> 
 
    <a href="../../include/common/fe_memutils.h.html#LN29"><span class='Ref_to_Proto'>pg_free</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4348"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4350"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end do_watch &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * a little code borrowed from PSQLexec() to manage ECHO_HIDDEN output. 
 * returns true unless we have ECHO_HIDDEN_NOEXEC. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN4448"></a><span class='Declare_Function'>echo_hidden_command</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>query</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN131"><span class='Ref_to_Member'>echo_hidden</span></a> <span class='Operator'>!= </span><a href="settings.h.html#LN44"><span class='Ref_to_EnumConst'>PSQL_ECHO_HIDDEN_OFF</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"********* QUERY **********\n"</span> 
                 <span class='String'>"%s\n"</span> 
                 <span class='String'>"**************************\n\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN4448"><span class='Ref_to_Parameter'>query</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        fflush<span class='Parentheses'>(</span>stdout<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Delimiter'>, 
</span>                    _<span class='Parentheses'>(</span><span class='String'>"********* QUERY **********\n"</span> 
                      <span class='String'>"%s\n"</span> 
                      <span class='String'>"**************************\n\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="command.c.html#LN4448"><span class='Ref_to_Parameter'>query</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            fflush<span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN131"><span class='Ref_to_Member'>echo_hidden</span></a> <span class='Operator'>== </span><a href="settings.h.html#LN46"><span class='Ref_to_EnumConst'>PSQL_ECHO_HIDDEN_NOEXEC</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end echo_hidden_command &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Look up the object identified by obj_type and desc.  If successful, 
 * store its OID in *obj_oid and return TRUE, else return FALSE. 
 * 
 * Note that we'll fail if the object doesn't exist OR if there are multiple 
 * matching candidates OR if there's something syntactically wrong with the 
 * object description; unfortunately it can be hard to tell the difference. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN4480"></a><span class='Declare_Function'>lookup_object_oid</span><span class='Parentheses'>(</span><a href="command.c.html#LN48"><span class='Ref_to_Enum'>EditableObjectType</span></a> <span class='Declare_Parameter'>obj_type</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>desc</span><span class='Delimiter'>, 
</span><a name="LN4481"></a>                  <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>obj_oid</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4483"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span><a name="LN4484"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>query</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/pqexpbuffer.c.html#LN69"><span class='Ref_to_Func'>createPQExpBuffer</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN4485"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4480"><span class='Ref_to_Parameter'>obj_type</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * We have a function description, e.g. "x" or "x(int)".  Issue a 
             * query to retrieve the function's OID using a cast to regproc or 
             * regprocedure (as appropriate). 
             */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/fe_utils/string_utils.h.html#LN35"><span class='Ref_to_Proto'>appendStringLiteralConn</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4480"><span class='Ref_to_Parameter'>desc</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, </span><span class='String'>"::pg_catalog.%s::pg_catalog.oid"</span><span class='Delimiter'>, 
</span>                              strchr<span class='Parentheses'>(</span><a href="command.c.html#LN4480"><span class='Ref_to_Parameter'>desc</span></a><span class='Delimiter'>, </span><span class='String'>'('</span><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='String'>"regprocedure"</span> <span class='Operator'>: </span><span class='String'>"regproc"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Convert view name (possibly schema-qualified) to OID.  Note: 
             * this code doesn't check if the relation is actually a view. 
             * We'll detect that in get_create_object_cmd(). 
             */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/fe_utils/string_utils.h.html#LN35"><span class='Ref_to_Proto'>appendStringLiteralConn</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4480"><span class='Ref_to_Parameter'>desc</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, </span><span class='String'>"::pg_catalog.regclass::pg_catalog.oid"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch obj_type &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4447"><span class='Ref_to_Func'>echo_hidden_command</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="command.c.html#LN4485"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN380"><span class='Ref_to_Proto'>PQexec</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN466"><span class='Ref_to_Proto'>PQresultStatus</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4485"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN87"><span class='Ref_to_EnumConst'>PGRES_TUPLES_OK</span></a> <span class='Operator'>&& </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4485"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
        <span class='Operator'>*</span><a href="command.c.html#LN4481"><span class='Ref_to_Parameter'>obj_oid</span></a> <span class='Operator'>= </span><a href="../../include/postgres_ext.h.html#LN41"><span class='Ref_to_Macro'>atooid</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4485"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN161"><span class='Ref_to_Proto'>minimal_error_message</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4485"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN4483"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4485"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4484"><span class='Ref_To_Local'>query</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN4483"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end lookup_object_oid &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Construct a "CREATE OR REPLACE ..." command that describes the specified 
 * database object.  If successful, the result is stored in buf. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN4540"></a><span class='Declare_Function'>get_create_object_cmd</span><span class='Parentheses'>(</span><a href="command.c.html#LN48"><span class='Ref_to_Enum'>EditableObjectType</span></a> <span class='Declare_Parameter'>obj_type</span><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>oid</span><span class='Delimiter'>, 
</span><a name="LN4541"></a>                      <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4543"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span><a name="LN4544"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>query</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/pqexpbuffer.c.html#LN69"><span class='Ref_to_Func'>createPQExpBuffer</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN4545"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4540"><span class='Ref_to_Parameter'>obj_type</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Operator'>: 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT pg_catalog.pg_get_functiondef(%u)"</span><span class='Delimiter'>, 
</span>                              <a href="command.c.html#LN4540"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * pg_get_viewdef() just prints the query, so we must prepend 
             * CREATE for ourselves.  We must fully qualify the view name to 
             * ensure the right view gets replaced.  Also, check relation kind 
             * to be sure it's a view. 
             * 
             * Starting with 9.2, views may have reloptions (security_barrier) 
             * and from 9.4 onwards they may also have WITH [LOCAL|CASCADED] 
             * CHECK OPTION.  These are not part of the view definition 
             * returned by pg_get_viewdef() and so need to be retrieved 
             * separately.  Materialized views (introduced in 9.3) may have 
             * arbitrary storage parameter reloptions. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90400</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"SELECT nspname, relname, relkind, "</span> 
                                  <span class='String'>"pg_catalog.pg_get_viewdef(c.oid, true), "</span> 
                                  <span class='String'>"array_remove(array_remove(c.reloptions,'check_option=local'),'check_option=cascaded') AS reloptions, "</span> 
                                  <span class='String'>"CASE WHEN 'check_option=local' = ANY (c.reloptions) THEN 'LOCAL'::text "</span> 
                                  <span class='String'>"WHEN 'check_option=cascaded' = ANY (c.reloptions) THEN 'CASCADED'::text ELSE NULL END AS checkoption "</span> 
                                  <span class='String'>"FROM pg_catalog.pg_class c "</span> 
                                  <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n "</span> 
                                <span class='String'>"ON c.relnamespace = n.oid WHERE c.oid = %u"</span><span class='Delimiter'>, 
</span>                                  <a href="command.c.html#LN4540"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"SELECT nspname, relname, relkind, "</span> 
                                  <span class='String'>"pg_catalog.pg_get_viewdef(c.oid, true), "</span> 
                                  <span class='String'>"c.reloptions AS reloptions, "</span> 
                                  <span class='String'>"NULL AS checkoption "</span> 
                                  <span class='String'>"FROM pg_catalog.pg_class c "</span> 
                                  <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n "</span> 
                                <span class='String'>"ON c.relnamespace = n.oid WHERE c.oid = %u"</span><span class='Delimiter'>, 
</span>                                  <a href="command.c.html#LN4540"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"SELECT nspname, relname, relkind, "</span> 
                                  <span class='String'>"pg_catalog.pg_get_viewdef(c.oid, true), "</span> 
                                  <span class='String'>"NULL AS reloptions, "</span> 
                                  <span class='String'>"NULL AS checkoption "</span> 
                                  <span class='String'>"FROM pg_catalog.pg_class c "</span> 
                                  <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n "</span> 
                                <span class='String'>"ON c.relnamespace = n.oid WHERE c.oid = %u"</span><span class='Delimiter'>, 
</span>                                  <a href="command.c.html#LN4540"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch obj_type &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4447"><span class='Ref_to_Func'>echo_hidden_command</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN380"><span class='Ref_to_Proto'>PQexec</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN466"><span class='Ref_to_Proto'>PQresultStatus</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN87"><span class='Ref_to_EnumConst'>PGRES_TUPLES_OK</span></a> <span class='Operator'>&& </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4540"><span class='Ref_to_Parameter'>obj_type</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="command.c.html#LN50"><span class='Ref_to_EnumConst'>EditableFunction</span></a><span class='Operator'>: 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="command.c.html#LN51"><span class='Ref_to_EnumConst'>EditableView</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN4627"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>nspname</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4628"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>relname</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4629"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>relkind</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4630"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>viewdef</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4631"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>reloptions</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4632"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>checkoption</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * If the backend ever supports CREATE OR REPLACE 
                     * MATERIALIZED VIEW, allow that here; but as of today it 
                     * does not, so editing a matview definition in this way 
                     * is impossible. 
                     */ 
</span>                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4629"><span class='Ref_To_Local'>relkind</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> NOT_USED 
                        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Operator'>: 
</span>                            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"CREATE OR REPLACE MATERIALIZED VIEW "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
                        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a><span class='Operator'>: 
</span>                            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"CREATE OR REPLACE VIEW "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>default</span><span class='Operator'>: 
</span>                            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\"%s.%s\" is not a view\n"</span><span class='Delimiter'>, 
</span>                                       <a href="command.c.html#LN4627"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4628"><span class='Ref_To_Local'>relname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <a href="command.c.html#LN4543"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s."</span><span class='Delimiter'>, </span><a href="../../include/fe_utils/string_utils.h.html#LN26"><span class='Ref_to_Proto'>fmtId</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4627"><span class='Ref_To_Local'>nspname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/fe_utils/string_utils.h.html#LN26"><span class='Ref_to_Proto'>fmtId</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4628"><span class='Ref_To_Local'>relname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* reloptions, if not an empty array "{}" */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4631"><span class='Ref_To_Local'>reloptions</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN4631"><span class='Ref_To_Local'>reloptions</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>2</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n WITH ("</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../include/fe_utils/string_utils.h.html#LN50"><span class='Ref_to_Proto'>appendReloptionsArray</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4631"><span class='Ref_To_Local'>reloptions</span></a><span class='Delimiter'>, </span><span class='String'>""</span><span class='Delimiter'>, 
</span>                                                   <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Delimiter'>, 
</span>                                                   <a href="common.h.html#LN41"><span class='Ref_to_Proto'>standard_strings</span></a><span class='Parentheses'>()))</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"could not parse reloptions array\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <a href="command.c.html#LN4543"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>")"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Comment_Multi_Line'>/* View definition from pg_get_viewdef (a SELECT query) */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" AS\n%s"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4630"><span class='Ref_To_Local'>viewdef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* Get rid of the semicolon that pg_get_viewdef appends */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>';'</span><span class='Parentheses'>) 
</span>                        <a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>[</span><span class='Operator'>--</span><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* WITH [LOCAL|CASCADED] CHECK OPTION */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4632"><span class='Ref_To_Local'>checkoption</span></a> <span class='Operator'>&& </span><a href="command.c.html#LN4632"><span class='Ref_To_Local'>checkoption</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n WITH %s CHECK OPTION"</span><span class='Delimiter'>, 
</span>                                          <a href="command.c.html#LN4632"><span class='Ref_To_Local'>checkoption</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch obj_type &raquo; </span> 
        <span class='Comment_Multi_Line'>/* Make sure result ends with a newline */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>[</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='String'>'\n'</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN171"><span class='Ref_to_Proto'>appendPQExpBufferChar</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4541"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if PQresultStatus(res)==... &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN161"><span class='Ref_to_Proto'>minimal_error_message</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN4543"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4545"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4544"><span class='Ref_To_Local'>query</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN4543"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end get_create_object_cmd &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * If the given argument of \ef or \ev ends with a line number, delete the line 
 * number from the argument string and return it as an integer.  (We need 
 * this kluge because we're too lazy to parse \ef's function or \ev's view 
 * argument carefully --- we just slop it up in OT_WHOLE_LINE mode.) 
 * 
 * Returns -1 if no line number is present, 0 on error, or a positive value 
 * on success. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN4713"></a><span class='Declare_Function'>strip_lineno_from_objdesc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>obj</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4715"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span><a name="LN4716"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a> <span class='Operator'>|| </span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * This business of parsing backwards is dangerous as can be in a 
     * multibyte environment: there is no reason to believe that we are 
     * looking at the first byte of a character, nor are we necessarily 
     * working in a "safe" encoding.  Fortunately the bitpatterns we are 
     * looking for are unlikely to occur as non-first bytes, but beware of 
     * trying to expand the set of cases that can be recognized.  We must 
     * guard the &LT;ctype.h&GT; macros by using isascii() first, too. 
     */ 
</span> 
    <span class='Comment_Multi_Line'>/* skip trailing whitespace */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&GT; </span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a> <span class='Operator'>&& </span>isascii<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& </span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>))</span> 
        <a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* must have a digit as last non-space char */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>== </span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a> <span class='Operator'>|| !</span>isascii<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| !</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* find start of digit string */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&GT; </span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a> <span class='Operator'>&& </span>isascii<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& </span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>))</span> 
        <a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* digits must be separated from object name by space or closing paren */ 
</span>    <span class='Comment_Multi_Line'>/* notice also that we are not allowing an empty object name ... */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>== </span><a href="command.c.html#LN4713"><span class='Ref_to_Parameter'>obj</span></a> <span class='Operator'>|| !</span>isascii<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>)</span> <span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| 
</span>        <span class='Operator'>!</span><span class='Parentheses'>(</span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| *</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>== </span><span class='String'>')'</span><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* parse digit string */ 
</span>    <a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN4716"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4716"><span class='Ref_To_Local'>lineno</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"invalid line number: %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* strip digit string from object name */ 
</span>    <span class='Operator'>*</span><a href="command.c.html#LN4715"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN4716"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end strip_lineno_from_objdesc &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Count number of lines in the buffer. 
 * This is used to test if pager is needed or not. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN4771"></a><span class='Declare_Function'>count_lines_in_buf</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4773"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN4774"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>lines</span> <span class='Operator'>= </span><a href="command.c.html#LN4771"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN4774"><span class='Ref_To_Local'>lines</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="command.c.html#LN4773"><span class='Ref_To_Local'>lineno</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* find start of next line */ 
</span>        <a href="command.c.html#LN4774"><span class='Ref_To_Local'>lines</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN4774"><span class='Ref_To_Local'>lines</span></a><span class='Delimiter'>, </span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4774"><span class='Ref_To_Local'>lines</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN4774"><span class='Ref_To_Local'>lines</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="command.c.html#LN4773"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Write text at *lines to output with line numbers. 
 * 
 * If header_keyword isn't NULL, then line 1 should be the first line beginning 
 * with header_keyword; lines before that are unnumbered. 
 * 
 * Caution: this scribbles on *lines. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN4798"></a><span class='Declare_Function'>print_with_linenumbers</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>output</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>lines</span><span class='Delimiter'>, 
</span><a name="LN4799"></a>                       <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>header_keyword</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4801"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>in_header</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="command.c.html#LN4799"><span class='Ref_to_Parameter'>header_keyword</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN4802"></a>    size_t      <span class='Declare_Local'>header_sz</span> <span class='Operator'>= </span><a href="command.c.html#LN4801"><span class='Ref_To_Local'>in_header</span></a> <span class='Operator'>? </span>strlen<span class='Parentheses'>(</span><a href="command.c.html#LN4799"><span class='Ref_to_Parameter'>header_keyword</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN4803"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>lineno</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>lines</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4807"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>eol</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4801"><span class='Ref_To_Local'>in_header</span></a> <span class='Operator'>&& </span>strncmp<span class='Parentheses'>(</span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>lines</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4799"><span class='Ref_to_Parameter'>header_keyword</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4802"><span class='Ref_To_Local'>header_sz</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="command.c.html#LN4801"><span class='Ref_To_Local'>in_header</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* increment lineno only for body's lines */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="command.c.html#LN4801"><span class='Ref_To_Local'>in_header</span></a><span class='Parentheses'>) 
</span>            <a href="command.c.html#LN4803"><span class='Ref_To_Local'>lineno</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* find and mark end of current line */ 
</span>        <a href="command.c.html#LN4807"><span class='Ref_To_Local'>eol</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>lines</span></a><span class='Delimiter'>, </span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4807"><span class='Ref_To_Local'>eol</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="command.c.html#LN4807"><span class='Ref_To_Local'>eol</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* show current line as appropriate */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4801"><span class='Ref_To_Local'>in_header</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>output</span></a><span class='Delimiter'>, </span><span class='String'>"        %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>lines</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>output</span></a><span class='Delimiter'>, </span><span class='String'>"%-7d %s\n"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4803"><span class='Ref_To_Local'>lineno</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>lines</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* advance to next line, if any */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4807"><span class='Ref_To_Local'>eol</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <a href="command.c.html#LN4798"><span class='Ref_to_Parameter'>lines</span></a> <span class='Operator'>= ++</span><a href="command.c.html#LN4807"><span class='Ref_To_Local'>eol</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while *lines!='\0' &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end print_with_linenumbers &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Report just the primary error; this is to avoid cluttering the output 
 * with, for instance, a redisplay of the internally generated query 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN4839"></a><span class='Declare_Function'>minimal_error_message</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4841"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Local'>msg</span><span class='Delimiter'>; 
</span><a name="LN4842"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>fld</span><span class='Delimiter'>; 
</span> 
    <a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/pqexpbuffer.c.html#LN69"><span class='Ref_to_Func'>createPQExpBuffer</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="command.c.html#LN4842"><span class='Ref_To_Local'>fld</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN472"><span class='Ref_to_Proto'>PQresultErrorField</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4839"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN54"><span class='Ref_to_Const'>PG_DIAG_SEVERITY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4842"><span class='Ref_To_Local'>fld</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Delimiter'>, </span><span class='String'>"%s:  "</span><span class='Delimiter'>, </span><a href="command.c.html#LN4842"><span class='Ref_To_Local'>fld</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Delimiter'>, </span><span class='String'>"ERROR:  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="command.c.html#LN4842"><span class='Ref_To_Local'>fld</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN472"><span class='Ref_to_Proto'>PQresultErrorField</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4839"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="../../include/postgres_ext.h.html#LN57"><span class='Ref_to_Const'>PG_DIAG_MESSAGE_PRIMARY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="command.c.html#LN4842"><span class='Ref_To_Local'>fld</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Delimiter'>, </span><a href="command.c.html#LN4842"><span class='Ref_To_Local'>fld</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Delimiter'>, </span><span class='String'>"(not available)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN111"><span class='Ref_to_Func'>destroyPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="command.c.html#LN4841"><span class='Ref_To_Local'>msg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end minimal_error_message &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>