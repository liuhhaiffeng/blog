<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\bin\psql\describe.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\bin\psql\describe.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:02 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* 
 * psql - the PostgreSQL interactive terminal 
 * 
 * Support for the various \d ("describe") commands.  Note that the current 
 * expectation is that all functions in this file will succeed when working 
 * with servers of versions 7.4 and up.  It's okay to omit irrelevant 
 * information for an old server, but not to fail outright. 
 * 
 * Copyright (c) 2000-2017, PostgreSQL Global Development Group 
 * 
 * src/bin/psql/describe.c 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_attribute.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_class.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"catalog/pg_default_acl.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fe_utils/string_utils.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"common.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"describe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fe_utils/mbprint.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fe_utils/print.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"settings.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"variables.h"</span> 
 
 
<a name="LN29"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>describeOneTableDetails</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>schemaname</span><span class='Delimiter'>, 
</span><a name="LN30"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>relationname</span><span class='Delimiter'>, 
</span><a name="LN31"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Delimiter'>, 
</span><a name="LN32"></a>                        <span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN33"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>add_tablespace_footer</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/print.h.html#LN142"><span class='Ref_to_Struct'>printTableContent</span></a> <span class='Operator'>*</span><span class='Keyword'>const </span><span class='Declare_Parameter'>cont</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>relkind</span><span class='Delimiter'>, 
</span><a name="LN34"></a>                      <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>tablespace</span><span class='Delimiter'>, </span><span class='Keyword'>const bool </span><span class='Declare_Parameter'>newline</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN35"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>add_role_attribute</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Keyword'>const </span><span class='Declare_Parameter'>str</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN36"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>listTSParsersVerbose</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN37"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>describeOneTSParser</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>nspname</span><span class='Delimiter'>, 
</span><a name="LN38"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>prsname</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN39"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>listTSConfigsVerbose</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN40"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>describeOneTSConfig</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>nspname</span><span class='Delimiter'>, 
</span><a name="LN41"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cfgname</span><span class='Delimiter'>, 
</span><a name="LN42"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pnspname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>prsname</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN43"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>printACLColumn</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>colname</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN44"></a><span class='Keyword'>static bool </span><span class='Declare_Prototype'>listOneExtensionContents</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>extname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/*---------------- 
 * Handlers for various slash commands displaying some sort of list 
 * of things in the database. 
 * 
 * Note: try to format the queries to look nice in -E output. 
 *---------------- 
 */ 
</span> 
 
<span class='Comment_Multi_Line'>/* \da 
 * Takes an optional regexp to select particular aggregates 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN60"></a><span class='Declare_Function'>describeAggregates</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN62"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN63"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN64"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  p.proname AS \"%s\",\n"</span> 
                 <span class='String'>"  pg_catalog.format_type(p.prorettype, NULL) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Result data type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"  CASE WHEN p.pronargs = 0\n"</span> 
                          <span class='String'>"    THEN CAST('*' AS pg_catalog.text)\n"</span> 
                     <span class='String'>"    ELSE pg_catalog.pg_get_function_arguments(p.oid)\n"</span> 
                          <span class='String'>"  END AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Argument data types"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"  CASE WHEN p.pronargs = 0\n"</span> 
                          <span class='String'>"    THEN CAST('*' AS pg_catalog.text)\n"</span> 
                          <span class='String'>"    ELSE\n"</span> 
                          <span class='String'>"    pg_catalog.array_to_string(ARRAY(\n"</span> 
                          <span class='String'>"      SELECT\n"</span> 
                 <span class='String'>"        pg_catalog.format_type(p.proargtypes[s.i], NULL)\n"</span> 
                          <span class='String'>"      FROM\n"</span> 
                          <span class='String'>"        pg_catalog.generate_series(0, pg_catalog.array_upper(p.proargtypes, 1)) AS s(i)\n"</span> 
                          <span class='String'>"    ), ', ')\n"</span> 
                          <span class='String'>"  END AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Argument data types"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>             <span class='String'>"  pg_catalog.format_type(p.proargtypes[0], NULL) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Argument data types"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                 <span class='String'>"  pg_catalog.obj_description(p.oid, 'pg_proc') as \"%s\"\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_proc p\n"</span> 
       <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n"</span> 
                      <span class='String'>"WHERE p.proisagg\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN60"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN60"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN60"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"p.proname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_function_is_visible(p.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2, 4;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN63"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN62"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN63"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN64"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN64"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of aggregate functions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN64"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN63"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN64"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN63"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeAggregates &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* \dA 
 * Takes an optional regexp to select particular access methods 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN137"></a><span class='Declare_Function'>describeAccessMethods</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN139"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN140"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN141"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN142"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>90600</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN146"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support access methods.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN146"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN146"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT amname AS \"%s\",\n"</span> 
                      <span class='String'>"  CASE amtype"</span> 
                      <span class='String'>" WHEN 'i' THEN '%s'"</span> 
                      <span class='String'>" END AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Index"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN137"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n  amhandler AS \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.obj_description(oid, 'pg_am') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Handler"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_am\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN137"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"amname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN140"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN139"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN140"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN141"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN141"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of access methods"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN141"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN141"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN142"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN141"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN142"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN140"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN141"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN140"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeAccessMethods &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* \db 
 * Takes an optional regexp to select particular tablespaces 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN204"></a><span class='Declare_Function'>describeTablespaces</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN206"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN207"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN208"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN212"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support tablespaces.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN212"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN212"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT spcname AS \"%s\",\n"</span> 
                        <span class='String'>"  pg_catalog.pg_get_userbyid(spcowner) AS \"%s\",\n"</span> 
                        <span class='String'>"  pg_catalog.pg_tablespace_location(oid) AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Location"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT spcname AS \"%s\",\n"</span> 
                        <span class='String'>"  pg_catalog.pg_get_userbyid(spcowner) AS \"%s\",\n"</span> 
                          <span class='String'>"  spclocation AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Location"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN204"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"spcacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN204"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n  spcoptions AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Options"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN204"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n  pg_catalog.pg_size_pretty(pg_catalog.pg_tablespace_size(oid)) AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Size"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN204"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>         <span class='String'>",\n  pg_catalog.shobj_description(oid, 'pg_tablespace') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_tablespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN204"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"spcname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN207"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN206"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN207"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN208"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN208"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of tablespaces"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN208"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN207"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN208"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN207"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeTablespaces &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* \df 
 * Takes an optional regexp to select particular functions. 
 * 
 * As with \d, you can specify the kinds of functions you want: 
 * 
 * a for aggregates 
 * n for normal 
 * t for trigger 
 * w for window 
 * 
 * and you can mix and match these in any order. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN298"></a><span class='Declare_Function'>describeFunctions</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>functypes</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN300"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showAggregate</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>functypes</span></a><span class='Delimiter'>, </span><span class='String'>'a'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN301"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showNormal</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>functypes</span></a><span class='Delimiter'>, </span><span class='String'>'n'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN302"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showTrigger</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>functypes</span></a><span class='Delimiter'>, </span><span class='String'>'t'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN303"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showWindow</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>functypes</span></a><span class='Delimiter'>, </span><span class='String'>'w'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN304"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>have_where</span><span class='Delimiter'>; 
</span><a name="LN305"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN306"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN307"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN308"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Comment_Multi_Line'>/* No "Parallel" column before 9.6 */ 
</span><a name="LN311"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns_pre_96</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>functypes</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span>strspn<span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>functypes</span></a><span class='Delimiter'>, </span><span class='String'>"antwS+"</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\df only takes [antwS+] as options\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN303"><span class='Ref_To_Local'>showWindow</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN321"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"\\df does not take a \"w\" option with server version %s\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN321"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN321"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN300"><span class='Ref_To_Local'>showAggregate</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN301"><span class='Ref_To_Local'>showNormal</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN302"><span class='Ref_To_Local'>showTrigger</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN303"><span class='Ref_To_Local'>showWindow</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN300"><span class='Ref_To_Local'>showAggregate</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN301"><span class='Ref_To_Local'>showNormal</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN302"><span class='Ref_To_Local'>showTrigger</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>            <a href="describe.c.html#LN303"><span class='Ref_To_Local'>showWindow</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  p.proname as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                    <span class='String'>"  pg_catalog.pg_get_function_result(p.oid) as \"%s\",\n"</span> 
                 <span class='String'>"  pg_catalog.pg_get_function_arguments(p.oid) as \"%s\",\n"</span> 
                          <span class='String'>" CASE\n"</span> 
                          <span class='String'>"  WHEN p.proisagg THEN '%s'\n"</span> 
                          <span class='String'>"  WHEN p.proiswindow THEN '%s'\n"</span> 
                          <span class='String'>"  WHEN p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype THEN '%s'\n"</span> 
                          <span class='String'>"  ELSE '%s'\n"</span> 
                          <span class='String'>" END as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Result data type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Argument data types"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>        <span class='Comment_Multi_Line'>/* translator: "agg" is short for "aggregate" */ 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"agg"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"window"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"trigger"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"normal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80100</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                     <span class='String'>"  CASE WHEN p.proretset THEN 'SETOF ' ELSE '' END ||\n"</span> 
                  <span class='String'>"  pg_catalog.format_type(p.prorettype, NULL) as \"%s\",\n"</span> 
                          <span class='String'>"  CASE WHEN proallargtypes IS NOT NULL THEN\n"</span> 
                          <span class='String'>"    pg_catalog.array_to_string(ARRAY(\n"</span> 
                          <span class='String'>"      SELECT\n"</span> 
                          <span class='String'>"        CASE\n"</span> 
                          <span class='String'>"          WHEN p.proargmodes[s.i] = 'i' THEN ''\n"</span> 
                      <span class='String'>"          WHEN p.proargmodes[s.i] = 'o' THEN 'OUT '\n"</span> 
                    <span class='String'>"          WHEN p.proargmodes[s.i] = 'b' THEN 'INOUT '\n"</span> 
                 <span class='String'>"          WHEN p.proargmodes[s.i] = 'v' THEN 'VARIADIC '\n"</span> 
                          <span class='String'>"        END ||\n"</span> 
                          <span class='String'>"        CASE\n"</span> 
             <span class='String'>"          WHEN COALESCE(p.proargnames[s.i], '') = '' THEN ''\n"</span> 
                          <span class='String'>"          ELSE p.proargnames[s.i] || ' '\n"</span> 
                          <span class='String'>"        END ||\n"</span> 
              <span class='String'>"        pg_catalog.format_type(p.proallargtypes[s.i], NULL)\n"</span> 
                          <span class='String'>"      FROM\n"</span> 
                          <span class='String'>"        pg_catalog.generate_series(1, pg_catalog.array_upper(p.proallargtypes, 1)) AS s(i)\n"</span> 
                          <span class='String'>"    ), ', ')\n"</span> 
                          <span class='String'>"  ELSE\n"</span> 
                          <span class='String'>"    pg_catalog.array_to_string(ARRAY(\n"</span> 
                          <span class='String'>"      SELECT\n"</span> 
                          <span class='String'>"        CASE\n"</span> 
           <span class='String'>"          WHEN COALESCE(p.proargnames[s.i+1], '') = '' THEN ''\n"</span> 
                          <span class='String'>"          ELSE p.proargnames[s.i+1] || ' '\n"</span> 
                          <span class='String'>"          END ||\n"</span> 
                 <span class='String'>"        pg_catalog.format_type(p.proargtypes[s.i], NULL)\n"</span> 
                          <span class='String'>"      FROM\n"</span> 
                          <span class='String'>"        pg_catalog.generate_series(0, pg_catalog.array_upper(p.proargtypes, 1)) AS s(i)\n"</span> 
                          <span class='String'>"    ), ', ')\n"</span> 
                          <span class='String'>"  END AS \"%s\",\n"</span> 
                          <span class='String'>"  CASE\n"</span> 
                          <span class='String'>"    WHEN p.proisagg THEN '%s'\n"</span> 
                          <span class='String'>"    WHEN p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype THEN '%s'\n"</span> 
                          <span class='String'>"    ELSE '%s'\n"</span> 
                          <span class='String'>"  END AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Result data type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Argument data types"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>        <span class='Comment_Multi_Line'>/* translator: "agg" is short for "aggregate" */ 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"agg"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"trigger"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"normal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                     <span class='String'>"  CASE WHEN p.proretset THEN 'SETOF ' ELSE '' END ||\n"</span> 
                  <span class='String'>"  pg_catalog.format_type(p.prorettype, NULL) as \"%s\",\n"</span> 
                    <span class='String'>"  pg_catalog.oidvectortypes(p.proargtypes) as \"%s\",\n"</span> 
                          <span class='String'>"  CASE\n"</span> 
                          <span class='String'>"    WHEN p.proisagg THEN '%s'\n"</span> 
                          <span class='String'>"    WHEN p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype THEN '%s'\n"</span> 
                          <span class='String'>"    ELSE '%s'\n"</span> 
                          <span class='String'>"  END AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Result data type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Argument data types"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>        <span class='Comment_Multi_Line'>/* translator: "agg" is short for "aggregate" */ 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"agg"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"trigger"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"normal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n CASE\n"</span> 
                          <span class='String'>"  WHEN p.provolatile = 'i' THEN '%s'\n"</span> 
                          <span class='String'>"  WHEN p.provolatile = 's' THEN '%s'\n"</span> 
                          <span class='String'>"  WHEN p.provolatile = 'v' THEN '%s'\n"</span> 
                          <span class='String'>" END as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"immutable"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"stable"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"volatile"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Volatility"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90600</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>",\n CASE\n"</span> 
                              <span class='String'>"  WHEN p.proparallel = 'r' THEN '%s'\n"</span> 
                              <span class='String'>"  WHEN p.proparallel = 's' THEN '%s'\n"</span> 
                              <span class='String'>"  WHEN p.proparallel = 'u' THEN '%s'\n"</span> 
                              <span class='String'>" END as \"%s\""</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"restricted"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"safe"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"unsafe"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Parallel"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                       <span class='String'>",\n pg_catalog.pg_get_userbyid(p.proowner) as \"%s\""</span> 
                 <span class='String'>",\n CASE WHEN prosecdef THEN '%s' ELSE '%s' END AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"definer"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"invoker"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Security"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"p.proacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n l.lanname as \"%s\""</span> 
                          <span class='String'>",\n p.prosrc as \"%s\""</span> 
                <span class='String'>",\n pg_catalog.obj_description(p.oid, 'pg_proc') as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Language"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Source code"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if verbose &raquo; </span> 
 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_proc p"</span> 
    <span class='String'>"\n     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>           <span class='String'>"     LEFT JOIN pg_catalog.pg_language l ON l.oid = p.prolang\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* filter by function type, if requested */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN301"><span class='Ref_To_Local'>showNormal</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN300"><span class='Ref_To_Local'>showAggregate</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN302"><span class='Ref_To_Local'>showTrigger</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN303"><span class='Ref_To_Local'>showWindow</span></a><span class='Parentheses'>) 
</span>         <span class='Comment_Multi_Line'>/* Do nothing */ </span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN301"><span class='Ref_To_Local'>showNormal</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN300"><span class='Ref_To_Local'>showAggregate</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"NOT p.proisagg\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN302"><span class='Ref_To_Local'>showTrigger</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"p.prorettype &LT;&GT; 'pg_catalog.trigger'::pg_catalog.regtype\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN303"><span class='Ref_To_Local'>showWindow</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"NOT p.proiswindow\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if showNormal &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN517"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>needs_or</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE (\n       "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* Note: at least one of these must be true ... */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN300"><span class='Ref_To_Local'>showAggregate</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"p.proisagg\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN517"><span class='Ref_To_Local'>needs_or</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN302"><span class='Ref_To_Local'>showTrigger</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN517"><span class='Ref_To_Local'>needs_or</span></a><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"       OR "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                <span class='String'>"p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN517"><span class='Ref_To_Local'>needs_or</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN303"><span class='Ref_To_Local'>showWindow</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN517"><span class='Ref_To_Local'>needs_or</span></a><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"       OR "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"p.proiswindow\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN517"><span class='Ref_To_Local'>needs_or</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      )\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN304"><span class='Ref_To_Local'>have_where</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"p.proname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_function_is_visible(p.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN298"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2, 4;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN306"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN305"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN306"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of functions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90600</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN308"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN308"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN311"><span class='Ref_To_Local'>translate_columns_pre_96</span></a><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN311"><span class='Ref_To_Local'>translate_columns_pre_96</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN306"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN307"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN306"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeFunctions &raquo; </span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dT 
 * describe types 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN587"></a><span class='Declare_Function'>describeTypes</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN589"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN590"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN591"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.format_type(t.oid, NULL) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"  t.typname AS \"%s\",\n"</span> 
                          <span class='String'>"  CASE WHEN t.typrelid != 0\n"</span> 
                          <span class='String'>"      THEN CAST('tuple' AS pg_catalog.text)\n"</span> 
                          <span class='String'>"    WHEN t.typlen &LT; 0\n"</span> 
                          <span class='String'>"      THEN CAST('var' AS pg_catalog.text)\n"</span> 
                          <span class='String'>"    ELSE CAST(t.typlen AS pg_catalog.text)\n"</span> 
                          <span class='String'>"  END AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Internal name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Size"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"  pg_catalog.array_to_string(\n"</span> 
                             <span class='String'>"      ARRAY(\n"</span> 
                             <span class='String'>"          SELECT e.enumlabel\n"</span> 
                             <span class='String'>"          FROM pg_catalog.pg_enum e\n"</span> 
                             <span class='String'>"          WHERE e.enumtypid = t.oid\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                 <span class='String'>"          ORDER BY e.enumsortorder\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                 <span class='String'>"          ORDER BY e.oid\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"      ),\n"</span> 
                          <span class='String'>"      E'\\n'\n"</span> 
                          <span class='String'>"  ) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Elements"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if verbose&&pset.sversio... &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                     <span class='String'>"  pg_catalog.pg_get_userbyid(t.typowner) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"t.typacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                <span class='String'>"  pg_catalog.obj_description(t.oid, 'pg_type') as \"%s\"\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"FROM pg_catalog.pg_type t\n"</span> 
     <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * do not include complex types (typrelid!=0) unless they are standalone 
     * composite types 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE (t.typrelid = 0 "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"OR (SELECT c.relkind = "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN165"><span class='Ref_to_Const'>RELKIND_COMPOSITE_TYPE</span></a><span class='Parentheses'>) 
</span>                         <span class='String'>" FROM pg_catalog.pg_class c "</span> 
                         <span class='String'>"WHERE c.oid = t.typrelid))\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * do not include array types (before 8.3 we have to use the assumption 
     * that their names start with underscore) 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"  AND NOT EXISTS(SELECT 1 FROM pg_catalog.pg_type el WHERE el.oid = t.typelem AND el.typarray = t.oid)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"  AND t.typname !~ '^_'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Match name pattern against either internal or external name */ 
</span>    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN587"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"t.typname"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.format_type(t.oid, NULL)"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_type_is_visible(t.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN590"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN589"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN590"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN591"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN591"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of data types"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN591"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN590"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN591"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN590"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeTypes &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* \do 
 * Describe operators 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN702"></a><span class='Declare_Function'>describeOperators</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN704"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN705"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN706"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Note: before Postgres 9.1, we did not assign comments to any built-in 
     * operators, preferring to let the comment on the underlying function 
     * suffice.  The coalesce() on the obj_description() calls below supports 
     * this convention by providing a fallback lookup of a comment on the 
     * operator's function.  As of 9.1 there is a policy that every built-in 
     * operator should have a comment; so the coalesce() is no longer 
     * necessary so far as built-in operators are concerned.  We keep it 
     * anyway, for now, because (1) third-party modules may still be following 
     * the old convention, and (2) we'd need to do it anyway when talking to a 
     * pre-9.1 server. 
     */ 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  o.oprname AS \"%s\",\n"</span> 
                      <span class='String'>"  CASE WHEN o.oprkind='l' THEN NULL ELSE pg_catalog.format_type(o.oprleft, NULL) END AS \"%s\",\n"</span> 
                      <span class='String'>"  CASE WHEN o.oprkind='r' THEN NULL ELSE pg_catalog.format_type(o.oprright, NULL) END AS \"%s\",\n"</span> 
                  <span class='String'>"  pg_catalog.format_type(o.oprresult, NULL) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Left arg type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Right arg type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Result type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN702"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"  o.oprcode AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Function"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>             <span class='String'>"  coalesce(pg_catalog.obj_description(o.oid, 'pg_operator'),\n"</span> 
    <span class='String'>"           pg_catalog.obj_description(o.oprcode, 'pg_proc')) AS \"%s\"\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_operator o\n"</span> 
      <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = o.oprnamespace\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN702"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN702"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN702"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Operator'>!</span><a href="describe.c.html#LN702"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN702"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"o.oprname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_operator_is_visible(o.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2, 3, 4;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN705"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN704"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN705"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN706"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN706"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of operators"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN706"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN705"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN706"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN705"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeOperators &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * listAllDbs 
 * 
 * for \l, \list, and -l switch 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN779"></a><span class='Declare_Function'>listAllDbs</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN781"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN782"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN783"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT d.datname as \"%s\",\n"</span> 
                   <span class='String'>"       pg_catalog.pg_get_userbyid(d.datdba) as \"%s\",\n"</span> 
            <span class='String'>"       pg_catalog.pg_encoding_to_char(d.encoding) as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Encoding"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"       d.datcollate as \"%s\",\n"</span> 
                          <span class='String'>"       d.datctype as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Collate"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Ctype"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"       "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"d.datacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN779"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       CASE WHEN pg_catalog.has_database_privilege(d.datname, 'CONNECT')\n"</span> 
                          <span class='String'>"            THEN pg_catalog.pg_size_pretty(pg_catalog.pg_database_size(d.datname))\n"</span> 
                          <span class='String'>"            ELSE 'No Access'\n"</span> 
                          <span class='String'>"       END as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Size"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN779"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       t.spcname as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Tablespace"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN779"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       pg_catalog.shobj_description(d.oid, 'pg_database') as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_database d\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN779"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>           <span class='String'>"  JOIN pg_catalog.pg_tablespace t on d.dattablespace = t.oid\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN779"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN779"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"d.datname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN781"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN782"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN781"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN783"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN783"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of databases"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN783"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN781"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN783"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN781"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listAllDbs &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * List Tables' Grant/Revoke Permissions 
 * \z (now also \dp -- perhaps more mnemonic) 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN849"></a><span class='Declare_Function'>permissionsList</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN851"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN852"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN853"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN854"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * we ignore indexes and toast tables since they have no meaningful rights 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  c.relname as \"%s\",\n"</span> 
                      <span class='String'>"  CASE c.relkind"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                    <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" END as \"%s\",\n"</span> 
                      <span class='String'>"  "</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"table"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"view"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"materialized view"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"sequence"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"foreign table"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"table"</span><span class='Parentheses'>)</span><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* partitioned table */ 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"c.relacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n  pg_catalog.array_to_string(ARRAY(\n"</span> 
                          <span class='String'>"    SELECT attname || E':\\n  ' || pg_catalog.array_to_string(attacl, E'\\n  ')\n"</span> 
                          <span class='String'>"    FROM pg_catalog.pg_attribute a\n"</span> 
                          <span class='String'>"    WHERE attrelid = c.oid AND NOT attisdropped AND attacl IS NOT NULL\n"</span> 
                          <span class='String'>"  ), E'\\n') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Column privileges"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90500</span> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n  pg_catalog.array_to_string(ARRAY(\n"</span> 
                          <span class='String'>"    SELECT polname\n"</span> 
                          <span class='String'>"    || CASE WHEN polcmd != '*' THEN\n"</span> 
                          <span class='String'>"           E' (' || polcmd || E'):'\n"</span> 
                          <span class='String'>"       ELSE E':'\n"</span> 
                          <span class='String'>"       END\n"</span> 
                          <span class='String'>"    || CASE WHEN polqual IS NOT NULL THEN\n"</span> 
                          <span class='String'>"           E'\\n  (u): ' || pg_catalog.pg_get_expr(polqual, polrelid)\n"</span> 
                          <span class='String'>"       ELSE E''\n"</span> 
                          <span class='String'>"       END\n"</span> 
                          <span class='String'>"    || CASE WHEN polwithcheck IS NOT NULL THEN\n"</span> 
                          <span class='String'>"           E'\\n  (c): ' || pg_catalog.pg_get_expr(polwithcheck, polrelid)\n"</span> 
                          <span class='String'>"       ELSE E''\n"</span> 
                          <span class='String'>"       END"</span> 
                          <span class='String'>"    || CASE WHEN polroles &LT;&GT; '{0}' THEN\n"</span> 
                   <span class='String'>"           E'\\n  to: ' || pg_catalog.array_to_string(\n"</span> 
                          <span class='String'>"               ARRAY(\n"</span> 
                          <span class='String'>"                   SELECT rolname\n"</span> 
                          <span class='String'>"                   FROM pg_catalog.pg_roles\n"</span> 
                          <span class='String'>"                   WHERE oid = ANY (polroles)\n"</span> 
                          <span class='String'>"                   ORDER BY 1\n"</span> 
                          <span class='String'>"               ), E', ')\n"</span> 
                          <span class='String'>"       ELSE E''\n"</span> 
                          <span class='String'>"       END\n"</span> 
                          <span class='String'>"    FROM pg_catalog.pg_policy pol\n"</span> 
                          <span class='String'>"    WHERE polrelid = c.oid), E'\\n')\n"</span> 
                          <span class='String'>"    AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Policies"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n  pg_catalog.array_to_string(ARRAY(\n"</span> 
                          <span class='String'>"    SELECT polname\n"</span> 
                          <span class='String'>"    || CASE WHEN NOT polpermissive THEN\n"</span> 
                          <span class='String'>"       E' (RESTRICTIVE)'\n"</span> 
                          <span class='String'>"       ELSE '' END\n"</span> 
                          <span class='String'>"    || CASE WHEN polcmd != '*' THEN\n"</span> 
                          <span class='String'>"           E' (' || polcmd || E'):'\n"</span> 
                          <span class='String'>"       ELSE E':'\n"</span> 
                          <span class='String'>"       END\n"</span> 
                          <span class='String'>"    || CASE WHEN polqual IS NOT NULL THEN\n"</span> 
                          <span class='String'>"           E'\\n  (u): ' || pg_catalog.pg_get_expr(polqual, polrelid)\n"</span> 
                          <span class='String'>"       ELSE E''\n"</span> 
                          <span class='String'>"       END\n"</span> 
                          <span class='String'>"    || CASE WHEN polwithcheck IS NOT NULL THEN\n"</span> 
                          <span class='String'>"           E'\\n  (c): ' || pg_catalog.pg_get_expr(polwithcheck, polrelid)\n"</span> 
                          <span class='String'>"       ELSE E''\n"</span> 
                          <span class='String'>"       END"</span> 
                          <span class='String'>"    || CASE WHEN polroles &LT;&GT; '{0}' THEN\n"</span> 
                   <span class='String'>"           E'\\n  to: ' || pg_catalog.array_to_string(\n"</span> 
                          <span class='String'>"               ARRAY(\n"</span> 
                          <span class='String'>"                   SELECT rolname\n"</span> 
                          <span class='String'>"                   FROM pg_catalog.pg_roles\n"</span> 
                          <span class='String'>"                   WHERE oid = ANY (polroles)\n"</span> 
                          <span class='String'>"                   ORDER BY 1\n"</span> 
                          <span class='String'>"               ), E', ')\n"</span> 
                          <span class='String'>"       ELSE E''\n"</span> 
                          <span class='String'>"       END\n"</span> 
                          <span class='String'>"    FROM pg_catalog.pg_policy pol\n"</span> 
                          <span class='String'>"    WHERE polrelid = c.oid), E'\\n')\n"</span> 
                          <span class='String'>"    AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Policies"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nFROM pg_catalog.pg_class c\n"</span> 
       <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n"</span> 
                         <span class='String'>"WHERE c.relkind IN ("</span> 
                         <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a><span class='Parentheses'>) </span><span class='String'>","</span> 
                         <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a><span class='Parentheses'>) </span><span class='String'>","</span> 
                         <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>) </span><span class='String'>","</span> 
                         <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) </span><span class='String'>","</span> 
                         <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>","</span> 
                         <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>")\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Unless a schema pattern is specified, we suppress system and temp 
     * tables, since they normally aren't very interesting from a permissions 
     * point of view.  You can see 'em by explicit request though, eg with \z 
     * pg_catalog.* 
     */ 
</span>    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN849"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.relname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>            <span class='String'>"n.nspname !~ '^pg_' AND pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN852"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN852"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="describe.c.html#LN853"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Access privileges"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN853"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN853"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN853"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN854"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN853"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN854"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN852"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN853"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN851"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN852"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end permissionsList &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \ddp 
 * 
 * List Default ACLs.  The pattern can match either schema or role name. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN1009"></a><span class='Declare_Function'>listDefaultACLs</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1011"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN1012"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN1013"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN1014"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN1018"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support altering default privileges.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN1018"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN1018"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>               <span class='String'>"SELECT pg_catalog.pg_get_userbyid(d.defaclrole) AS \"%s\",\n"</span> 
                      <span class='String'>"  n.nspname AS \"%s\",\n"</span> 
                      <span class='String'>"  CASE d.defaclobjtype WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' END AS \"%s\",\n"</span> 
                      <span class='String'>"  "</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/catalog/pg_default_acl.h.html#LN68"><span class='Ref_to_Const'>DEFACLOBJ_RELATION</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"table"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/catalog/pg_default_acl.h.html#LN69"><span class='Ref_to_Const'>DEFACLOBJ_SEQUENCE</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"sequence"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/catalog/pg_default_acl.h.html#LN70"><span class='Ref_to_Const'>DEFACLOBJ_FUNCTION</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"function"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/catalog/pg_default_acl.h.html#LN71"><span class='Ref_to_Const'>DEFACLOBJ_TYPE</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/catalog/pg_default_acl.h.html#LN72"><span class='Ref_to_Const'>DEFACLOBJ_NAMESPACE</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"d.defaclacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nFROM pg_catalog.pg_default_acl d\n"</span> 
                         <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = d.defaclnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1009"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_get_userbyid(d.defaclrole)"</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2, 3;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1012"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1012"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="describe.c.html#LN1013"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Default access privileges"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1013"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1013"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1013"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN1014"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1013"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1014"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1012"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1013"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1011"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1012"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listDefaultACLs &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Get object comments 
 * 
 * \dd [foo] 
 * 
 * Note: This command only lists comments for object types which do not have 
 * their comments displayed by their own backslash commands. The following 
 * types of objects will be displayed: constraint, operator class, 
 * operator family, rule, and trigger. 
 * 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN1094"></a><span class='Declare_Function'>objectDescription</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1096"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN1097"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN1098"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN1099"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT DISTINCT tt.nspname AS \"%s\", tt.name AS \"%s\", tt.object AS \"%s\", d.description AS \"%s\"\n"</span> 
                      <span class='String'>"FROM (\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Object"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Table constraint descriptions */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"  SELECT pgc.oid as oid, pgc.tableoid AS tableoid,\n"</span> 
                      <span class='String'>"  n.nspname as nspname,\n"</span> 
                      <span class='String'>"  CAST(pgc.conname AS pg_catalog.text) as name,"</span> 
                      <span class='String'>"  CAST('%s' AS pg_catalog.text) as object\n"</span> 
                      <span class='String'>"  FROM pg_catalog.pg_constraint pgc\n"</span> 
                      <span class='String'>"    JOIN pg_catalog.pg_class c "</span> 
                      <span class='String'>"ON c.oid = pgc.conrelid\n"</span> 
                      <span class='String'>"    LEFT JOIN pg_catalog.pg_namespace n "</span> 
                      <span class='String'>"    ON n.oid = c.relnamespace\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"table constraint"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, 
</span>                          <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"pgc.conname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Domain constraint descriptions */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"  SELECT pgc.oid as oid, pgc.tableoid AS tableoid,\n"</span> 
                      <span class='String'>"  n.nspname as nspname,\n"</span> 
                      <span class='String'>"  CAST(pgc.conname AS pg_catalog.text) as name,"</span> 
                      <span class='String'>"  CAST('%s' AS pg_catalog.text) as object\n"</span> 
                      <span class='String'>"  FROM pg_catalog.pg_constraint pgc\n"</span> 
                      <span class='String'>"    JOIN pg_catalog.pg_type t "</span> 
                      <span class='String'>"ON t.oid = pgc.contypid\n"</span> 
                      <span class='String'>"    LEFT JOIN pg_catalog.pg_namespace n "</span> 
                      <span class='String'>"    ON n.oid = t.typnamespace\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"domain constraint"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, 
</span>                          <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"pgc.conname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_type_is_visible(t.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
 
    <span class='Comment_Multi_Line'>/* 
     * pg_opclass.opcmethod only available in 8.3+ 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Operator class descriptions */ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"UNION ALL\n"</span> 
                          <span class='String'>"  SELECT o.oid as oid, o.tableoid as tableoid,\n"</span> 
                          <span class='String'>"  n.nspname as nspname,\n"</span> 
                          <span class='String'>"  CAST(o.opcname AS pg_catalog.text) as name,\n"</span> 
                          <span class='String'>"  CAST('%s' AS pg_catalog.text) as object\n"</span> 
                          <span class='String'>"  FROM pg_catalog.pg_opclass o\n"</span> 
                          <span class='String'>"    JOIN pg_catalog.pg_am am ON "</span> 
                          <span class='String'>"o.opcmethod = am.oid\n"</span> 
                          <span class='String'>"    JOIN pg_catalog.pg_namespace n ON "</span> 
                          <span class='String'>"n.oid = o.opcnamespace\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"operator class"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                            <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"o.opcname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                              <span class='String'>"pg_catalog.pg_opclass_is_visible(o.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=80300 &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * although operator family comments have been around since 8.3, 
     * pg_opfamily_is_visible is only available in 9.2+ 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Operator family descriptions */ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"UNION ALL\n"</span> 
                       <span class='String'>"  SELECT opf.oid as oid, opf.tableoid as tableoid,\n"</span> 
                          <span class='String'>"  n.nspname as nspname,\n"</span> 
                          <span class='String'>"  CAST(opf.opfname AS pg_catalog.text) AS name,\n"</span> 
                          <span class='String'>"  CAST('%s' AS pg_catalog.text) as object\n"</span> 
                          <span class='String'>"  FROM pg_catalog.pg_opfamily opf\n"</span> 
                          <span class='String'>"    JOIN pg_catalog.pg_am am "</span> 
                          <span class='String'>"ON opf.opfmethod = am.oid\n"</span> 
                          <span class='String'>"    JOIN pg_catalog.pg_namespace n "</span> 
                          <span class='String'>"ON opf.opfnamespace = n.oid\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"operator family"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                            <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"opf.opfname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                              <span class='String'>"pg_catalog.pg_opfamily_is_visible(opf.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=90200 &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* Rule descriptions (ignore rules for views) */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"  SELECT r.oid as oid, r.tableoid as tableoid,\n"</span> 
                      <span class='String'>"  n.nspname as nspname,\n"</span> 
                      <span class='String'>"  CAST(r.rulename AS pg_catalog.text) as name,"</span> 
                      <span class='String'>"  CAST('%s' AS pg_catalog.text) as object\n"</span> 
                      <span class='String'>"  FROM pg_catalog.pg_rewrite r\n"</span> 
                  <span class='String'>"       JOIN pg_catalog.pg_class c ON c.oid = r.ev_class\n"</span> 
     <span class='String'>"       LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n"</span> 
                      <span class='String'>"  WHERE r.rulename != '_RETURN'\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"rule"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"r.rulename"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Trigger descriptions */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"  SELECT t.oid as oid, t.tableoid as tableoid,\n"</span> 
                      <span class='String'>"  n.nspname as nspname,\n"</span> 
                      <span class='String'>"  CAST(t.tgname AS pg_catalog.text) as name,"</span> 
                      <span class='String'>"  CAST('%s' AS pg_catalog.text) as object\n"</span> 
                      <span class='String'>"  FROM pg_catalog.pg_trigger t\n"</span> 
                   <span class='String'>"       JOIN pg_catalog.pg_class c ON c.oid = t.tgrelid\n"</span> 
    <span class='String'>"       LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"trigger"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Operator'>!</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1094"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"t.tgname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>") AS tt\n"</span> 
                         <span class='String'>"  JOIN pg_catalog.pg_description d ON (tt.oid = d.objoid AND tt.tableoid = d.classoid AND d.objsubid = 0)\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2, 3;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1097"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1096"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1097"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1098"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1098"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"Object descriptions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1098"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1098"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN1099"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1098"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1099"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1097"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1098"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1097"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end objectDescription &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * describeTableDetails (for \d) 
 * 
 * This routine finds the tables to be displayed, and calls 
 * describeOneTableDetails for each one. 
 * 
 * verbose: if true, this is \d+ 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN1286"></a><span class='Declare_Function'>describeTableDetails</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1288"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN1289"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN1290"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT c.oid,\n"</span> 
                      <span class='String'>"  n.nspname,\n"</span> 
                      <span class='String'>"  c.relname\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_class c\n"</span> 
     <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Operator'>!</span><a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.relname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 2, 3;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1288"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Did not find any relation named \"%s\".\n"</span><span class='Delimiter'>, 
</span>                       <a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1290"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1290"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1290"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1327"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>oid</span><span class='Delimiter'>; 
</span><a name="LN1328"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>nspname</span><span class='Delimiter'>; 
</span><a name="LN1329"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>relname</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN1327"><span class='Ref_To_Local'>oid</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1290"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1328"><span class='Ref_To_Local'>nspname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1290"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1329"><span class='Ref_To_Local'>relname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1290"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN29"><span class='Ref_to_Proto'>describeOneTableDetails</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1328"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1329"><span class='Ref_To_Local'>relname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1327"><span class='Ref_To_Local'>oid</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1286"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../fe_utils/print.c.html#LN45"><span class='Ref_to_Global_Var'>cancel_pressed</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;PQntuples(res);... &raquo; </span> 
 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1289"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeTableDetails &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * describeOneTableDetails (for \d) 
 * 
 * Unfortunately, the information presented here is so complicated that it 
 * cannot be done in a single query. So we have to assemble the printed table 
 * by hand and pass it to the underlying printTable() function. 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN1359"></a><span class='Declare_Function'>describeOneTableDetails</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>schemaname</span><span class='Delimiter'>, 
</span><a name="LN1360"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>relationname</span><span class='Delimiter'>, 
</span><a name="LN1361"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Delimiter'>, 
</span><a name="LN1362"></a>                        <span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1364"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN1365"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN1366"></a>    <a href="../../include/fe_utils/print.h.html#LN95"><span class='Ref_to_Struct'>printTableOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Delimiter'>; 
</span><a name="LN1367"></a>    <a href="../../include/fe_utils/print.h.html#LN142"><span class='Ref_to_Struct'>printTableContent</span></a> <span class='Declare_Local'>cont</span><span class='Delimiter'>; 
</span><a name="LN1368"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>printTableInitialized</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN1369"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN1370"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>view_def</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN1371"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>headers</span><span class='Delimiter'>[</span><span class='Number'>11</span><span class='Delimiter'>]; 
</span><a name="LN1372"></a>    <span class='Keyword'>char</span>      <span class='Operator'>**</span><span class='Declare_Local'>seq_values</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN1373"></a>    <span class='Keyword'>char</span>      <span class='Operator'>**</span><span class='Declare_Local'>ptr</span><span class='Delimiter'>; 
</span><a name="LN1374"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>title</span><span class='Delimiter'>; 
</span><a name="LN1375"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>tmpbuf</span><span class='Delimiter'>; 
</span><a name="LN1376"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>cols</span><span class='Delimiter'>; 
</span><a name="LN1377"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>numrows</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>struct</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1380"></a>        <a href="../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a>       <span class='Declare_Member'>checks</span><span class='Delimiter'>; 
</span><a name="LN1381"></a>        <span class='Keyword'>char</span>        <span class='Declare_Member'>relkind</span><span class='Delimiter'>; 
</span><a name="LN1382"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Member'>hasindex</span><span class='Delimiter'>; 
</span><a name="LN1383"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Member'>hasrules</span><span class='Delimiter'>; 
</span><a name="LN1384"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Member'>hastriggers</span><span class='Delimiter'>; 
</span><a name="LN1385"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Member'>rowsecurity</span><span class='Delimiter'>; 
</span><a name="LN1386"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Member'>forcerowsecurity</span><span class='Delimiter'>; 
</span><a name="LN1387"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Member'>hasoids</span><span class='Delimiter'>; 
</span><a name="LN1388"></a>        <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>tablespace</span><span class='Delimiter'>; 
</span><a name="LN1389"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>reloptions</span><span class='Delimiter'>; 
</span><a name="LN1390"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>reloftype</span><span class='Delimiter'>; 
</span><a name="LN1391"></a>        <span class='Keyword'>char</span>        <span class='Declare_Member'>relpersistence</span><span class='Delimiter'>; 
</span><a name="LN1392"></a>        <span class='Keyword'>char</span>        <span class='Declare_Member'>relreplident</span><span class='Delimiter'>; 
</span><a name="LN1393"></a>    <span class='Delimiter'>}</span>           <span class='Declare_Local'>tableinfo</span><span class='Delimiter'>; 
</span><a name="LN1394"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>show_column_details</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN1395"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>retval</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1395"><span class='Ref_To_Local'>retval</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1366"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* This output looks confusing in expanded mode. */ 
</span>    <a href="describe.c.html#LN1366"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get general table info */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90500</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, "</span> 
                <span class='String'>"c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, "</span> 
                          <span class='String'>"c.relhasoids, %s, c.reltablespace, "</span> 
                          <span class='String'>"CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, "</span> 
                          <span class='String'>"c.relpersistence, c.relreplident\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class c\n "</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\n"</span> 
                          <span class='String'>"WHERE c.oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? 
</span>                           <span class='String'>"pg_catalog.array_to_string(c.reloptions || "</span> 
                           <span class='String'>"array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')\n"</span> 
                           <span class='Operator'>: </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90400</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, "</span> 
                          <span class='String'>"c.relhastriggers, false, false, c.relhasoids, "</span> 
                          <span class='String'>"%s, c.reltablespace, "</span> 
                          <span class='String'>"CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, "</span> 
                          <span class='String'>"c.relpersistence, c.relreplident\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class c\n "</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\n"</span> 
                          <span class='String'>"WHERE c.oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? 
</span>                           <span class='String'>"pg_catalog.array_to_string(c.reloptions || "</span> 
                           <span class='String'>"array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')\n"</span> 
                           <span class='Operator'>: </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, "</span> 
                          <span class='String'>"c.relhastriggers, false, false, c.relhasoids, "</span> 
                          <span class='String'>"%s, c.reltablespace, "</span> 
                          <span class='String'>"CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, "</span> 
                          <span class='String'>"c.relpersistence\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class c\n "</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\n"</span> 
                          <span class='String'>"WHERE c.oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? 
</span>                           <span class='String'>"pg_catalog.array_to_string(c.reloptions || "</span> 
                           <span class='String'>"array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')\n"</span> 
                           <span class='Operator'>: </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, "</span> 
                          <span class='String'>"c.relhastriggers, false, false, c.relhasoids, "</span> 
                          <span class='String'>"%s, c.reltablespace, "</span> 
                          <span class='String'>"CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class c\n "</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\n"</span> 
                          <span class='String'>"WHERE c.oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? 
</span>                           <span class='String'>"pg_catalog.array_to_string(c.reloptions || "</span> 
                           <span class='String'>"array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')\n"</span> 
                           <span class='Operator'>: </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>"SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, "</span> 
                          <span class='String'>"c.relhastriggers, false, false, c.relhasoids, "</span> 
                          <span class='String'>"%s, c.reltablespace\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class c\n "</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\n"</span> 
                          <span class='String'>"WHERE c.oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? 
</span>                           <span class='String'>"pg_catalog.array_to_string(c.reloptions || "</span> 
                           <span class='String'>"array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')\n"</span> 
                           <span class='Operator'>: </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT relchecks, relkind, relhasindex, relhasrules, "</span> 
                          <span class='String'>"reltriggers &LT;&GT; 0, false, false, relhasoids, "</span> 
                          <span class='String'>"%s, reltablespace\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class WHERE oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? 
</span>                     <span class='String'>"pg_catalog.array_to_string(reloptions, E', ')"</span> <span class='Operator'>: </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT relchecks, relkind, relhasindex, relhasrules, "</span> 
                          <span class='String'>"reltriggers &LT;&GT; 0, false, false, relhasoids, "</span> 
                          <span class='String'>"'', reltablespace\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class WHERE oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT relchecks, relkind, relhasindex, relhasrules, "</span> 
                          <span class='String'>"reltriggers &LT;&GT; 0, false, false, relhasoids, "</span> 
                          <span class='String'>"'', ''\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_class WHERE oid = '%s';"</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Did we get anything? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Did not find any relation with OID %s.\n"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1380"><span class='Ref_to_Member'>checks</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1382"><span class='Ref_to_Member'>hasindex</span></a> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1383"><span class='Ref_to_Member'>hasrules</span></a> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1384"><span class='Ref_to_Member'>hastriggers</span></a> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1385"><span class='Ref_to_Member'>rowsecurity</span></a> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1386"><span class='Ref_to_Member'>forcerowsecurity</span></a> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1387"><span class='Ref_to_Member'>hasoids</span></a> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1389"><span class='Ref_to_Member'>reloptions</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>        <a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>))</span> <span class='Operator'>: </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1388"><span class='Ref_to_Member'>tablespace</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80000</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>        <a href="../../include/postgres_ext.h.html#LN41"><span class='Ref_to_Macro'>atooid</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>))</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1390"><span class='Ref_to_Member'>reloftype</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span> <span class='Operator'>&& 
</span>                           strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>""</span><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>? 
</span>        <a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>))</span> <span class='Operator'>: </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1391"><span class='Ref_to_Member'>relpersistence</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>        <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>11</span><span class='Parentheses'>))</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1392"><span class='Ref_to_Member'>relreplident</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90400</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>        <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>12</span><span class='Parentheses'>))</span> <span class='Operator'>: </span><span class='String'>'d'</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If it's a sequence, fetch its values and store into an array that will 
     * be used later. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT * FROM %s"</span><span class='Delimiter'>, </span><a href="../../include/fe_utils/string_utils.h.html#LN26"><span class='Ref_to_Proto'>fmtId</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* must be separate because fmtId isn't reentrant */ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>".%s;"</span><span class='Delimiter'>, </span><a href="../../include/fe_utils/string_utils.h.html#LN26"><span class='Ref_to_Proto'>fmtId</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>((</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Get column info 
     * 
     * You need to modify value of "firstvcol" which will be defined below if 
     * you are adding column(s) preceding to verbose-only columns. 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT a.attname,"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n  pg_catalog.format_type(a.atttypid, a.atttypmod),"</span> 
                         <span class='String'>"\n  (SELECT substring(pg_catalog.pg_get_expr(d.adbin, d.adrelid) for 128)"</span> 
                         <span class='String'>"\n   FROM pg_catalog.pg_attrdef d"</span> 
                         <span class='String'>"\n   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),"</span> 
                         <span class='String'>"\n  a.attnotnull, a.attnum,"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t\n"</span> 
                             <span class='String'>"   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation &LT;&GT; t.typcollation) AS attcollation"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n  NULL AS attcollation"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", a.attidentity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", ''::\"char\" AS attidentity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  pg_catalog.pg_get_indexdef(a.attrelid, a.attnum, TRUE) AS indexdef"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  NULL AS indexdef"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  CASE WHEN attfdwoptions IS NULL THEN '' ELSE "</span> 
                             <span class='String'>"  '(' || array_to_string(ARRAY(SELECT quote_ident(option_name) ||  ' ' || quote_literal(option_value)  FROM "</span> 
                             <span class='String'>"  pg_options_to_table(attfdwoptions)), ', ') || ')' END AS attfdwoptions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  NULL AS attfdwoptions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  a.attstorage"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  CASE WHEN a.attstattarget=-1 THEN NULL ELSE a.attstattarget END AS attstattarget"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * In 9.0+, we have column comments for: relations, views, composite 
         * types, and foreign tables (c.f. CommentObject() in comment.c). 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN165"><span class='Ref_to_Const'>RELKIND_COMPOSITE_TYPE</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", pg_catalog.col_description(a.attrelid, a.attnum)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nFROM pg_catalog.pg_attribute a"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nWHERE a.attrelid = '%s' AND a.attnum &GT; 0 AND NOT a.attisdropped"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nORDER BY a.attnum;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1377"><span class='Ref_To_Local'>numrows</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Make title */ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a><span class='Operator'>: 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1391"><span class='Ref_to_Member'>relpersistence</span></a> <span class='Operator'>== </span><span class='String'>'u'</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Unlogged table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a><span class='Operator'>: 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"View \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Operator'>: 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1391"><span class='Ref_to_Member'>relpersistence</span></a> <span class='Operator'>== </span><span class='String'>'u'</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Unlogged materialized view \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Materialized view \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Operator'>: 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Sequence \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Operator'>: 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1391"><span class='Ref_to_Member'>relpersistence</span></a> <span class='Operator'>== </span><span class='String'>'u'</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Unlogged index \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Index \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <span class='String'>'s'</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* not used as of 8.2, but keep it for backwards compatibility */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Special relation \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN162"><span class='Ref_to_Const'>RELKIND_TOASTVALUE</span></a><span class='Operator'>: 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"TOAST table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN165"><span class='Ref_to_Const'>RELKIND_COMPOSITE_TYPE</span></a><span class='Operator'>: 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Composite type \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a><span class='Operator'>: 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Foreign table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Operator'>: 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1391"><span class='Ref_to_Member'>relpersistence</span></a> <span class='Operator'>== </span><span class='String'>'u'</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Unlogged table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* untranslated unknown relkind */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span><span class='String'>"?%c? \"%s.%s\""</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1360"><span class='Ref_to_Parameter'>relationname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch tableinfo.relkind &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* Set the number of columns, and their names */ 
</span>    <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Column"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a> <span class='Operator'>= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN165"><span class='Ref_to_Const'>RELKIND_COMPOSITE_TYPE</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Collation"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Nullable"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Default"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1394"><span class='Ref_To_Local'>show_column_details</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Value"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Parentheses'>) 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Definition"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"FDW options"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Storage"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>            <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Stats target"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* Column comments, if the relkind supports this feature. */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN165"><span class='Ref_to_Const'>RELKIND_COMPOSITE_TYPE</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>            <a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Operator'>++</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN191"><span class='Ref_to_Proto'>printTableInit</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN1366"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1377"><span class='Ref_To_Local'>numrows</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN1368"><span class='Ref_To_Local'>printTableInitialized</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN1376"><span class='Ref_To_Local'>cols</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1371"><span class='Ref_To_Local'>headers</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='String'>'l'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get view_def if table is a view or materialized view */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a> <span class='Operator'>|| 
</span>         <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1758"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>             <span class='String'>"SELECT pg_catalog.pg_get_viewdef('%s'::pg_catalog.oid, true);"</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1758"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1758"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1758"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN1370"><span class='Ref_To_Local'>view_def</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1758"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1758"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Generate table cells to be printed */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN1377"><span class='Ref_To_Local'>numrows</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Column */ 
</span>        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Type */ 
</span>        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Collation, Nullable, Default */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1394"><span class='Ref_To_Local'>show_column_details</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1785"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>identity</span><span class='Delimiter'>; 
</span><a name="LN1786"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>default_str</span> <span class='Operator'>= </span><span class='String'>""</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>? </span><span class='String'>"not null"</span> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="describe.c.html#LN1785"><span class='Ref_To_Local'>identity</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1785"><span class='Ref_To_Local'>identity</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Comment_Multi_Line'>/* (note: above we cut off the 'default' string at 128) */ 
</span>                <a href="describe.c.html#LN1786"><span class='Ref_To_Local'>default_str</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1785"><span class='Ref_To_Local'>identity</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><a href="../../include/catalog/pg_attribute.h.html#LN227"><span class='Ref_to_Const'>ATTRIBUTE_IDENTITY_ALWAYS</span></a><span class='Parentheses'>) 
</span>                <a href="describe.c.html#LN1786"><span class='Ref_To_Local'>default_str</span></a> <span class='Operator'>= </span><span class='String'>"generated always as identity"</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1785"><span class='Ref_To_Local'>identity</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><a href="../../include/catalog/pg_attribute.h.html#LN228"><span class='Ref_to_Const'>ATTRIBUTE_IDENTITY_BY_DEFAULT</span></a><span class='Parentheses'>) 
</span>                <a href="describe.c.html#LN1786"><span class='Ref_To_Local'>default_str</span></a> <span class='Operator'>= </span><span class='String'>"generated by default as identity"</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1786"><span class='Ref_To_Local'>default_str</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if show_column_details &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* Value: for sequences only */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Expression for index column */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* FDW options for foreign table column, only for 9.2 or later */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Storage and Description */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1820"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>firstvcol</span> <span class='Operator'>= </span><span class='Number'>9</span><span class='Delimiter'>; 
</span><a name="LN1821"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>storage</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1820"><span class='Ref_To_Local'>firstvcol</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* these strings are literal in our syntax, so not translated. */ 
</span>            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="describe.c.html#LN1821"><span class='Ref_To_Local'>storage</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'p'</span> <span class='Operator'>? </span><span class='String'>"plain"</span> <span class='Operator'>: 
</span>                                      <span class='Parentheses'>(</span><a href="describe.c.html#LN1821"><span class='Ref_To_Local'>storage</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'m'</span> <span class='Operator'>? </span><span class='String'>"main"</span> <span class='Operator'>: 
</span>                                       <span class='Parentheses'>(</span><a href="describe.c.html#LN1821"><span class='Ref_To_Local'>storage</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'x'</span> <span class='Operator'>? </span><span class='String'>"extended"</span> <span class='Operator'>: 
</span>                                        <span class='Parentheses'>(</span><a href="describe.c.html#LN1821"><span class='Ref_To_Local'>storage</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'e'</span> <span class='Operator'>? </span><span class='String'>"external"</span> <span class='Operator'>: 
</span>                                         <span class='String'>"???"</span><span class='Parentheses'>))))</span><span class='Delimiter'>, 
</span>                              <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Statistics target, if the relkind supports this feature */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1820"><span class='Ref_To_Local'>firstvcol</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* Column comments, if the relkind supports this feature. */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN165"><span class='Ref_to_Const'>RELKIND_COMPOSITE_TYPE</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>                <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1820"><span class='Ref_To_Local'>firstvcol</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if verbose &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;numrows;i++ &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* Make footers */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Get the partition information  */ 
</span><a name="LN1857"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1858"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>parent_name</span><span class='Delimiter'>; 
</span><a name="LN1859"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>partdef</span><span class='Delimiter'>; 
</span><a name="LN1860"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>partconstraintdef</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* If verbose, also request the partition constraint definition */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT inhparent::pg_catalog.regclass,"</span> 
                            <span class='String'>"       pg_get_expr(c.relpartbound, inhrelid),"</span> 
                          <span class='String'>"     pg_get_partition_constraintdef(inhrelid)"</span> 
                              <span class='String'>" FROM pg_catalog.pg_class c"</span> 
                              <span class='String'>" JOIN pg_catalog.pg_inherits"</span> 
                              <span class='String'>" ON c.oid = inhrelid"</span> 
                           <span class='String'>" WHERE c.oid = '%s' AND c.relispartition;"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT inhparent::pg_catalog.regclass,"</span> 
                              <span class='String'>"     pg_get_expr(c.relpartbound, inhrelid)"</span> 
                              <span class='String'>" FROM pg_catalog.pg_class c"</span> 
                              <span class='String'>" JOIN pg_catalog.pg_inherits"</span> 
                              <span class='String'>" ON c.oid = inhrelid"</span> 
                           <span class='String'>" WHERE c.oid = '%s' AND c.relispartition;"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="describe.c.html#LN1858"><span class='Ref_To_Local'>parent_name</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN1859"><span class='Ref_To_Local'>partdef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>3</span><span class='Parentheses'>)</span> 
                <a href="describe.c.html#LN1860"><span class='Ref_To_Local'>partconstraintdef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Partition of: %s %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1858"><span class='Ref_To_Local'>parent_name</span></a><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1859"><span class='Ref_To_Local'>partdef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1860"><span class='Ref_To_Local'>partconstraintdef</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Partition constraint: %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1860"><span class='Ref_To_Local'>partconstraintdef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1857"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if PQntuples(result)&GT;0 &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=100000 &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Get the partition key information  */ 
</span><a name="LN1910"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN1911"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>partkeydef</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                <span class='String'>"SELECT pg_catalog.pg_get_partkeydef('%s'::pg_catalog.oid);"</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN1910"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1910"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>|| </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1910"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN1911"><span class='Ref_To_Local'>partkeydef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1910"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Partition key: %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1911"><span class='Ref_To_Local'>partkeydef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1910"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Footer information about an index */ 
</span><a name="LN1929"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                 <span class='String'>"SELECT i.indisunique, i.indisprimary, i.indisclustered, "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"i.indisvalid,\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"true AS indisvalid,\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                 <span class='String'>"  (NOT i.indimmediate) AND "</span> 
                            <span class='String'>"EXISTS (SELECT 1 FROM pg_catalog.pg_constraint "</span> 
                                 <span class='String'>"WHERE conrelid = i.indrelid AND "</span> 
                                 <span class='String'>"conindid = i.indexrelid AND "</span> 
                                 <span class='String'>"contype IN ('p','u','x') AND "</span> 
                                 <span class='String'>"condeferrable) AS condeferrable,\n"</span> 
                                 <span class='String'>"  (NOT i.indimmediate) AND "</span> 
                            <span class='String'>"EXISTS (SELECT 1 FROM pg_catalog.pg_constraint "</span> 
                                 <span class='String'>"WHERE conrelid = i.indrelid AND "</span> 
                                 <span class='String'>"conindid = i.indexrelid AND "</span> 
                                 <span class='String'>"contype IN ('p','u','x') AND "</span> 
                                 <span class='String'>"condeferred) AS condeferred,\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                        <span class='String'>"  false AS condeferrable, false AS condeferred,\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90400</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"i.indisreplident,\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"false AS indisreplident,\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"  a.amname, c2.relname, "</span> 
                      <span class='String'>"pg_catalog.pg_get_expr(i.indpred, i.indrelid, true)\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_index i, pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_am a\n"</span> 
          <span class='String'>"WHERE i.indexrelid = c.oid AND c.oid = '%s' AND c.relam = a.oid\n"</span> 
                          <span class='String'>"AND i.indrelid = c2.oid;"</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN1977"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indisunique</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1978"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indisprimary</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1979"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indisclustered</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1980"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indisvalid</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1981"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>deferrable</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1982"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>deferred</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1983"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indisreplident</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1984"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indamname</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1985"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indtable</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1986"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>indpred</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1978"><span class='Ref_To_Local'>indisprimary</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"primary key, "</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1977"><span class='Ref_To_Local'>indisunique</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"unique, "</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span><span class='String'>"%s, "</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1984"><span class='Ref_To_Local'>indamname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* we assume here that index and table are in same schema */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"for table \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1985"><span class='Ref_To_Local'>indtable</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="describe.c.html#LN1986"><span class='Ref_To_Local'>indpred</span></a><span class='Parentheses'>))</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", predicate (%s)"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1986"><span class='Ref_To_Local'>indpred</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1979"><span class='Ref_To_Local'>indisclustered</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", clustered"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1980"><span class='Ref_To_Local'>indisvalid</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", invalid"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1981"><span class='Ref_To_Local'>deferrable</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", deferrable"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1982"><span class='Ref_To_Local'>deferred</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", initially deferred"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1983"><span class='Ref_To_Local'>indisreplident</span></a><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", replica identity"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN33"><span class='Ref_to_Proto'>add_tablespace_footer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1388"><span class='Ref_to_Member'>tablespace</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1929"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.relkind==RE... &raquo; </span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Footer information about a sequence */ 
</span><a name="LN2028"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Get the column that owns this sequence */ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT pg_catalog.quote_ident(nspname) || '.' ||"</span> 
                          <span class='String'>"\n   pg_catalog.quote_ident(relname) || '.' ||"</span> 
                          <span class='String'>"\n   pg_catalog.quote_ident(attname),"</span> 
                          <span class='String'>"\n   d.deptype"</span> 
                          <span class='String'>"\nFROM pg_catalog.pg_class c"</span> 
                    <span class='String'>"\nINNER JOIN pg_catalog.pg_depend d ON c.oid=d.refobjid"</span> 
             <span class='String'>"\nINNER JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace"</span> 
                          <span class='String'>"\nINNER JOIN pg_catalog.pg_attribute a ON ("</span> 
                          <span class='String'>"\n a.attrelid=c.oid AND"</span> 
                          <span class='String'>"\n a.attnum=d.refobjsubid)"</span> 
               <span class='String'>"\nWHERE d.classid='pg_catalog.pg_class'::pg_catalog.regclass"</span> 
             <span class='String'>"\n AND d.refclassid='pg_catalog.pg_class'::pg_catalog.regclass"</span> 
                          <span class='String'>"\n AND d.objid=%s"</span> 
                          <span class='String'>"\n AND d.deptype IN ('a', 'i')"</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>case</span> <span class='String'>'a'</span><span class='Operator'>: 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Owned by: %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'i'</span><span class='Operator'>: 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Sequence for identity column: %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * If we get no rows back, don't show anything (obviously). We should 
         * never get more than one row back, but if we do, just ignore it and 
         * don't print anything. 
         */ 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2028"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.relkind==RE... &raquo; </span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>             <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>             <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>             <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Footer information about a table */ 
</span><a name="LN2080"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2081"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>tuples</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* print indexes */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1382"><span class='Ref_to_Member'>hasindex</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"i.indisvalid, "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"true as indisvalid, "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"pg_catalog.pg_get_indexdef(i.indexrelid, 0, true),\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                           <span class='String'>"pg_catalog.pg_get_constraintdef(con.oid, true), "</span> 
                                     <span class='String'>"contype, condeferrable, condeferred"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                   <span class='String'>"null AS constraintdef, null AS contype, "</span> 
                             <span class='String'>"false AS condeferrable, false AS condeferred"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90400</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", i.indisreplident"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", false AS indisreplident"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80000</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", c2.reltablespace"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                 <span class='String'>"\nFROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                     <span class='String'>"  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ('p','u','x'))\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"WHERE c.oid = '%s' AND c.oid = i.indrelid AND i.indexrelid = c2.oid\n"</span> 
             <span class='String'>"ORDER BY i.indisprimary DESC, i.indisunique DESC, c2.relname;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Indexes:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* untranslated index name */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    \"%s\""</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* If exclusion constraint, print the constraintdef */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"x"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" %s"</span><span class='Delimiter'>, 
</span>                                          <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span><a name="LN2139"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>indexdef</span><span class='Delimiter'>; 
</span><a name="LN2140"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>usingpos</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* Label as primary key or unique (but not both) */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" PRIMARY KEY,"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"u"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" UNIQUE CONSTRAINT,"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>else</span> 
                                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" UNIQUE,"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span> 
                        <span class='Comment_Multi_Line'>/* Everything after "USING" is echoed verbatim */ 
</span>                        <a href="describe.c.html#LN2139"><span class='Ref_To_Local'>indexdef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="describe.c.html#LN2140"><span class='Ref_To_Local'>usingpos</span></a> <span class='Operator'>= </span>strstr<span class='Parentheses'>(</span><a href="describe.c.html#LN2139"><span class='Ref_To_Local'>indexdef</span></a><span class='Delimiter'>, </span><span class='String'>" USING "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2140"><span class='Ref_To_Local'>usingpos</span></a><span class='Parentheses'>) 
</span>                            <a href="describe.c.html#LN2139"><span class='Ref_To_Local'>indexdef</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN2140"><span class='Ref_To_Local'>usingpos</span></a> <span class='Operator'>+ </span><span class='Number'>7</span><span class='Delimiter'>; 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" %s"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2139"><span class='Ref_To_Local'>indexdef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* Need these for deferrable PK/UNIQUE indexes */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" DEFERRABLE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" INITIALLY DEFERRED"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
                    <span class='Comment_Multi_Line'>/* Add these for all cases */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" CLUSTER"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" INVALID"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" REPLICA IDENTITY"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* Print tablespace of the index on the same line */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80000</span><span class='Parentheses'>) 
</span>                        <a href="describe.c.html#LN33"><span class='Ref_to_Proto'>add_tablespace_footer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Delimiter'>, 
</span>                                           <a href="../../include/postgres_ext.h.html#LN41"><span class='Ref_to_Macro'>atooid</span></a><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>11</span><span class='Parentheses'>))</span><span class='Delimiter'>, 
</span>                                              <span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;tuples;i++ &raquo; </span> 
            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tuples&GT;0 &raquo; </span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.hasindex &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print table (and column) check constraints */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1380"><span class='Ref_to_Member'>checks</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT r.conname, "</span> 
                              <span class='String'>"pg_catalog.pg_get_constraintdef(r.oid, true)\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_constraint r\n"</span> 
                              <span class='String'>"WHERE r.conrelid = '%s' AND r.contype = 'c'\n"</span> 
                              <span class='String'>"ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Check constraints:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* untranslated constraint name and def */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    \"%s\" %s"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.checks &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print foreign-key constraints (there are none if no triggers) */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1384"><span class='Ref_to_Member'>hastriggers</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT conname,\n"</span> 
                 <span class='String'>"  pg_catalog.pg_get_constraintdef(r.oid, true) as condef\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_constraint r\n"</span> 
                   <span class='String'>"WHERE r.conrelid = '%s' AND r.contype = 'f' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Foreign-key constraints:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* untranslated constraint name and def */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    \"%s\" %s"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.hastriggers &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print incoming foreign-key references (none if no triggers) */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1384"><span class='Ref_to_Member'>hastriggers</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                           <span class='String'>"SELECT conname, conrelid::pg_catalog.regclass,\n"</span> 
                 <span class='String'>"  pg_catalog.pg_get_constraintdef(c.oid, true) as condef\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_constraint c\n"</span> 
                  <span class='String'>"WHERE c.confrelid = '%s' AND c.contype = 'f' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Referenced by:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    TABLE \"%s\" CONSTRAINT \"%s\" %s"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.hastriggers &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print any row-level policies */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90500</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"SELECT pol.polname, pol.polpermissive,\n"</span> 
                                  <span class='String'>"CASE WHEN pol.polroles = '{0}' THEN NULL ELSE array_to_string(array(select rolname from pg_roles where oid = any (pol.polroles) order by 1),',') END,\n"</span> 
                       <span class='String'>"pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),\n"</span> 
                  <span class='String'>"pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),\n"</span> 
                                  <span class='String'>"CASE pol.polcmd\n"</span> 
                                  <span class='String'>"WHEN 'r' THEN 'SELECT'\n"</span> 
                                  <span class='String'>"WHEN 'a' THEN 'INSERT'\n"</span> 
                                  <span class='String'>"WHEN 'w' THEN 'UPDATE'\n"</span> 
                                  <span class='String'>"WHEN 'd' THEN 'DELETE'\n"</span> 
                                  <span class='String'>"END AS cmd\n"</span> 
                                  <span class='String'>"FROM pg_catalog.pg_policy pol\n"</span> 
                                  <span class='String'>"WHERE pol.polrelid = '%s' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                <span class='String'>"SELECT pol.polname, 't' as polpermissive,\n"</span> 
                                  <span class='String'>"CASE WHEN pol.polroles = '{0}' THEN NULL ELSE array_to_string(array(select rolname from pg_roles where oid = any (pol.polroles) order by 1),',') END,\n"</span> 
                       <span class='String'>"pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),\n"</span> 
                  <span class='String'>"pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),\n"</span> 
                                  <span class='String'>"CASE pol.polcmd\n"</span> 
                                  <span class='String'>"WHEN 'r' THEN 'SELECT'\n"</span> 
                                  <span class='String'>"WHEN 'a' THEN 'INSERT'\n"</span> 
                                  <span class='String'>"WHEN 'w' THEN 'UPDATE'\n"</span> 
                                  <span class='String'>"WHEN 'd' THEN 'DELETE'\n"</span> 
                                  <span class='String'>"END AS cmd\n"</span> 
                                  <span class='String'>"FROM pg_catalog.pg_policy pol\n"</span> 
                                  <span class='String'>"WHERE pol.polrelid = '%s' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Handle cases where RLS is enabled and there are policies, or 
             * there aren't policies, or RLS isn't enabled but there are 
             * policies 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1385"><span class='Ref_to_Member'>rowsecurity</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1386"><span class='Ref_to_Member'>forcerowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Policies:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1385"><span class='Ref_to_Member'>rowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1386"><span class='Ref_to_Member'>forcerowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Policies (forced row security enabled):"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1385"><span class='Ref_to_Member'>rowsecurity</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1386"><span class='Ref_to_Member'>forcerowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Policies (row security enabled): (none)"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1385"><span class='Ref_to_Member'>rowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1386"><span class='Ref_to_Member'>forcerowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Policies (forced row security enabled): (none)"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1385"><span class='Ref_to_Member'>rowsecurity</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Policies (row security disabled):"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Might be an empty set - that's ok */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    POLICY \"%s\""</span><span class='Delimiter'>, 
</span>                                  <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='String'>'f'</span><span class='Parentheses'>)</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" AS RESTRICTIVE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>))</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" FOR %s"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n      TO %s"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>))</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n      USING (%s)"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>))</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n      WITH CHECK (%s)"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;tuples;i++ &raquo; </span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=90500 &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print any extended statistics */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT oid, "</span> 
                              <span class='String'>"stxrelid::pg_catalog.regclass, "</span> 
                              <span class='String'>"stxnamespace::pg_catalog.regnamespace AS nsp, "</span> 
                              <span class='String'>"stxname,\n"</span> 
                              <span class='String'>"  (SELECT pg_catalog.string_agg(pg_catalog.quote_ident(attname),', ')\n"</span> 
                              <span class='String'>"   FROM pg_catalog.unnest(stxkeys) s(attnum)\n"</span> 
                              <span class='String'>"   JOIN pg_catalog.pg_attribute a ON (stxrelid = a.attrelid AND\n"</span> 
            <span class='String'>"        a.attnum = s.attnum AND NOT attisdropped)) AS columns,\n"</span> 
                              <span class='String'>"  (stxkind @&GT; '{d}') AS ndist_enabled,\n"</span> 
                              <span class='String'>"  (stxkind @&GT; '{f}') AS deps_enabled\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_statistic_ext stat "</span> 
                              <span class='String'>"WHERE stxrelid = '%s'\n"</span> 
                              <span class='String'>"ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Statistics objects:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN2408"></a>                    <span class='Keyword'>bool</span>        <span class='Declare_Local'>gotone</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* statistics object name (qualified with namespace) */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\"%s\".\"%s\" ("</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* options */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ndistinct"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="describe.c.html#LN2408"><span class='Ref_To_Local'>gotone</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%sdependencies"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2408"><span class='Ref_To_Local'>gotone</span></a> <span class='Operator'>? </span><span class='String'>", "</span> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>") ON %s FROM %s"</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;tuples;i++ &raquo; </span> 
            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tuples&GT;0 &raquo; </span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=100000 &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print rules */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1383"><span class='Ref_to_Member'>hasrules</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"SELECT r.rulename, trim(trailing ';' from pg_catalog.pg_get_ruledef(r.oid, true)), "</span> 
                                  <span class='String'>"ev_enabled\n"</span> 
                                  <span class='String'>"FROM pg_catalog.pg_rewrite r\n"</span> 
                                  <span class='String'>"WHERE r.ev_class = '%s' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                  <span class='String'>"SELECT r.rulename, trim(trailing ';' from pg_catalog.pg_get_ruledef(r.oid, true)), "</span> 
                                  <span class='String'>"'O'::char AS ev_enabled\n"</span> 
                                  <span class='String'>"FROM pg_catalog.pg_rewrite r\n"</span> 
                                  <span class='String'>"WHERE r.ev_class = '%s' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN2468"></a>                <span class='Keyword'>bool</span>        <span class='Declare_Local'>have_heading</span><span class='Delimiter'>; 
</span><a name="LN2469"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>category</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2469"><span class='Ref_To_Local'>category</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN2469"><span class='Ref_To_Local'>category</span></a> <span class='Operator'>&LT; </span><span class='Number'>4</span><span class='Delimiter'>; </span><a href="describe.c.html#LN2469"><span class='Ref_To_Local'>category</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="describe.c.html#LN2468"><span class='Ref_To_Local'>have_heading</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN2477"></a>                        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>ruledef</span><span class='Delimiter'>; 
</span><a name="LN2478"></a>                        <span class='Keyword'>bool</span>        <span class='Declare_Local'>list_rule</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2469"><span class='Ref_To_Local'>category</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>case</span> <span class='Number'>0</span><span class='Operator'>: 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'O'</span><span class='Parentheses'>)</span> 
                                    <a href="describe.c.html#LN2478"><span class='Ref_To_Local'>list_rule</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'D'</span><span class='Parentheses'>)</span> 
                                    <a href="describe.c.html#LN2478"><span class='Ref_To_Local'>list_rule</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'A'</span><span class='Parentheses'>)</span> 
                                    <a href="describe.c.html#LN2478"><span class='Ref_To_Local'>list_rule</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'R'</span><span class='Parentheses'>)</span> 
                                    <a href="describe.c.html#LN2478"><span class='Ref_To_Local'>list_rule</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2478"><span class='Ref_To_Local'>list_rule</span></a><span class='Parentheses'>) 
</span>                            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2468"><span class='Ref_To_Local'>have_heading</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2469"><span class='Ref_To_Local'>category</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <span class='Control'>case</span> <span class='Number'>0</span><span class='Operator'>: 
</span>                                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Rules:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Disabled rules:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Rules firing always:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Rules firing on replica only:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <a href="describe.c.html#LN2468"><span class='Ref_To_Local'>have_heading</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !have_heading &raquo; </span> 
 
                        <span class='Comment_Multi_Line'>/* Everything after "CREATE RULE" is echoed verbatim */ 
</span>                        <a href="describe.c.html#LN2477"><span class='Ref_To_Local'>ruledef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="describe.c.html#LN2477"><span class='Ref_To_Local'>ruledef</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    %s"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2477"><span class='Ref_To_Local'>ruledef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;tuples;i++ &raquo; </span> 
                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for category=0;category&LT;4... &raquo; </span> 
            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tuples&GT;0 &raquo; </span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.hasrules&&t... &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print any publications */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT pub.pubname\n"</span> 
                              <span class='String'>" FROM pg_catalog.pg_publication pub,\n"</span> 
                  <span class='String'>"      pg_catalog.pg_get_publication_tables(pub.pubname)\n"</span> 
                              <span class='String'>"WHERE relid = '%s'\n"</span> 
                              <span class='String'>"ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Publications:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Might be an empty set - that's ok */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2081"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    \"%s\""</span><span class='Delimiter'>, 
</span>                                  <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2080"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=100000 &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.relkind==RE... &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1370"><span class='Ref_To_Local'>view_def</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2568"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Footer information about a view */ 
</span>        <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"View definition:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1370"><span class='Ref_To_Local'>view_def</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* print rules */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1383"><span class='Ref_to_Member'>hasrules</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT r.rulename, trim(trailing ';' from pg_catalog.pg_get_ruledef(r.oid, true))\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_rewrite r\n"</span> 
            <span class='String'>"WHERE r.ev_class = '%s' AND r.rulename != '_RETURN' ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN2568"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2568"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2568"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Rules:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2568"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span><a name="LN2591"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>ruledef</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* Everything after "CREATE RULE" is echoed verbatim */ 
</span>                    <a href="describe.c.html#LN2591"><span class='Ref_To_Local'>ruledef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2568"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="describe.c.html#LN2591"><span class='Ref_To_Local'>ruledef</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>" %s"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2591"><span class='Ref_To_Local'>ruledef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2568"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.hasrules &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if view_def &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Print triggers next, if any (but only user-defined triggers).  This 
     * could apply to either a table or a view. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1384"><span class='Ref_to_Member'>hastriggers</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2611"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2612"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>tuples</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT t.tgname, "</span> 
                          <span class='String'>"pg_catalog.pg_get_triggerdef(t.oid%s), "</span> 
                          <span class='String'>"t.tgenabled, %s\n"</span> 
                          <span class='String'>"FROM pg_catalog.pg_trigger t\n"</span> 
                          <span class='String'>"WHERE t.tgrelid = '%s' AND "</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span> <span class='Operator'>? </span><span class='String'>", true"</span> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span> <span class='Operator'>? </span><span class='String'>"t.tgisinternal"</span> <span class='Operator'>: 
</span>                           <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span> <span class='Operator'>? 
</span>                           <span class='String'>"t.tgconstraint &LT;&GT; 0 AS tgisinternal"</span> <span class='Operator'>: 
</span>                           <span class='String'>"false AS tgisinternal"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>            <span class='Comment_Multi_Line'>/* display/warn about disabled internal triggers */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"(NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = 'D'))"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"(t.tgconstraint = 0 OR (t.tgconstraint &LT;&GT; 0 AND t.tgenabled = 'D'))"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                                 <span class='String'>"(NOT tgisconstraint "</span> 
                                 <span class='String'>" OR NOT EXISTS"</span> 
                                 <span class='String'>"  (SELECT 1 FROM pg_catalog.pg_depend d "</span> 
                                 <span class='String'>"   JOIN pg_catalog.pg_constraint c ON (d.refclassid = c.tableoid AND d.refobjid = c.oid) "</span> 
                                 <span class='String'>"   WHERE d.classid = t.tableoid AND d.objid = t.oid AND d.deptype = 'i' AND c.contype = 'f'))"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="describe.c.html#LN2612"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2612"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2647"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Local'>have_heading</span><span class='Delimiter'>; 
</span><a name="LN2648"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>category</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * split the output into 4 different categories. Enabled triggers, 
             * disabled triggers and the two special ALWAYS and REPLICA 
             * configurations. 
             */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2648"><span class='Ref_To_Local'>category</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN2648"><span class='Ref_To_Local'>category</span></a> <span class='Operator'>&LT;= </span><span class='Number'>4</span><span class='Delimiter'>; </span><a href="describe.c.html#LN2648"><span class='Ref_To_Local'>category</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="describe.c.html#LN2647"><span class='Ref_To_Local'>have_heading</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2612"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN2660"></a>                    <span class='Keyword'>bool</span>        <span class='Declare_Local'>list_trigger</span><span class='Delimiter'>; 
</span><a name="LN2661"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>tgdef</span><span class='Delimiter'>; 
</span><a name="LN2662"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>usingpos</span><span class='Delimiter'>; 
</span><a name="LN2663"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>tgenabled</span><span class='Delimiter'>; 
</span><a name="LN2664"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>tgisinternal</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * Check if this trigger falls into the current category 
                     */ 
</span>                    <a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="describe.c.html#LN2664"><span class='Ref_To_Local'>tgisinternal</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2648"><span class='Ref_To_Local'>category</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <span class='Number'>0</span><span class='Operator'>: 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'O'</span> <span class='Operator'>|| *</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'t'</span><span class='Parentheses'>) 
</span>                                <a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>((</span><span class='Operator'>*</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'D'</span> <span class='Operator'>|| *</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'f'</span><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>                                <span class='Operator'>*</span><a href="describe.c.html#LN2664"><span class='Ref_To_Local'>tgisinternal</span></a> <span class='Operator'>== </span><span class='String'>'f'</span><span class='Parentheses'>)</span> 
                                <a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>((</span><span class='Operator'>*</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'D'</span> <span class='Operator'>|| *</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'f'</span><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>                                <span class='Operator'>*</span><a href="describe.c.html#LN2664"><span class='Ref_To_Local'>tgisinternal</span></a> <span class='Operator'>== </span><span class='String'>'t'</span><span class='Parentheses'>)</span> 
                                <a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'A'</span><span class='Parentheses'>) 
</span>                                <a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="describe.c.html#LN2663"><span class='Ref_To_Local'>tgenabled</span></a> <span class='Operator'>== </span><span class='String'>'R'</span><span class='Parentheses'>) 
</span>                                <a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch category &raquo; </span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2660"><span class='Ref_To_Local'>list_trigger</span></a> <span class='Operator'>== </span><span class='Boolean'>false</span><span class='Parentheses'>) 
</span>                        <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* Print the category heading once */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2647"><span class='Ref_To_Local'>have_heading</span></a> <span class='Operator'>== </span><span class='Boolean'>false</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2648"><span class='Ref_To_Local'>category</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>case</span> <span class='Number'>0</span><span class='Operator'>: 
</span>                                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Triggers:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>                                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Disabled user triggers:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Control'>else</span> 
                                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Disabled triggers:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>2</span><span class='Operator'>: 
</span>                                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Disabled internal triggers:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>3</span><span class='Operator'>: 
</span>                                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Triggers firing always:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>case</span> <span class='Number'>4</span><span class='Operator'>: 
</span>                                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Triggers firing on replica only:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch category &raquo; </span> 
                        <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="describe.c.html#LN2647"><span class='Ref_To_Local'>have_heading</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if have_heading==false &raquo; </span> 
 
                    <span class='Comment_Multi_Line'>/* Everything after "TRIGGER" is echoed verbatim */ 
</span>                    <a href="describe.c.html#LN2661"><span class='Ref_To_Local'>tgdef</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="describe.c.html#LN2662"><span class='Ref_To_Local'>usingpos</span></a> <span class='Operator'>= </span>strstr<span class='Parentheses'>(</span><a href="describe.c.html#LN2661"><span class='Ref_To_Local'>tgdef</span></a><span class='Delimiter'>, </span><span class='String'>" TRIGGER "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2662"><span class='Ref_To_Local'>usingpos</span></a><span class='Parentheses'>) 
</span>                        <a href="describe.c.html#LN2661"><span class='Ref_To_Local'>tgdef</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN2662"><span class='Ref_To_Local'>usingpos</span></a> <span class='Operator'>+ </span><span class='Number'>9</span><span class='Delimiter'>; 
</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    %s"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2661"><span class='Ref_To_Local'>tgdef</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;tuples;i++ &raquo; </span> 
            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for category=0;category&LT;=... &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tuples&GT;0 &raquo; </span> 
        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2611"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.hastriggers &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * Finish printing the footer information about a table. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2751"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span><a name="LN2752"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>tuples</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* print foreign server name */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN2757"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>ftoptions</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Footer information about foreign table */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT s.srvname,\n"</span> 
                              <span class='String'>"       array_to_string(ARRAY(SELECT "</span> 
                              <span class='String'>"       quote_ident(option_name) ||  ' ' || "</span> 
                              <span class='String'>"       quote_literal(option_value)  FROM "</span> 
                            <span class='String'>"       pg_options_to_table(ftoptions)),  ', ') "</span> 
                              <span class='String'>"FROM pg_catalog.pg_foreign_table f,\n"</span> 
                              <span class='String'>"     pg_catalog.pg_foreign_server s\n"</span> 
                              <span class='String'>"WHERE f.ftrelid = %s AND s.oid = f.ftserver;"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>1</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* Print server name */ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Server: %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* Print per-table FDW options, if any */ 
</span>            <a href="describe.c.html#LN2757"><span class='Ref_To_Local'>ftoptions</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2757"><span class='Ref_To_Local'>ftoptions</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN2757"><span class='Ref_To_Local'>ftoptions</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"FDW options: (%s)"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2757"><span class='Ref_To_Local'>ftoptions</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.relkind==RE... &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print inherited tables (exclude, if parent is a partitioned table) */ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT c.oid::pg_catalog.regclass"</span> 
                      <span class='String'>" FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i"</span> 
                          <span class='String'>" WHERE c.oid=i.inhparent AND i.inhrelid = '%s'"</span> 
                 <span class='String'>" AND c.relkind != "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>                          <span class='String'>" ORDER BY inhseqno;"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN2807"></a>            <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"Inherits"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2808"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>sw</span> <span class='Operator'>= </span><a href="../../include/fe_utils/mbprint.h.html#LN22"><span class='Ref_to_Proto'>pg_wcswidth</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2807"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="describe.c.html#LN2807"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s: %s"</span><span class='Delimiter'>, 
</span>                                      <a href="describe.c.html#LN2807"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%*s  %s"</span><span class='Delimiter'>, 
</span>                                      <a href="describe.c.html#LN2808"><span class='Ref_To_Local'>sw</span></a><span class='Delimiter'>, </span><span class='String'>""</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN171"><span class='Ref_to_Proto'>appendPQExpBufferChar</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>','</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* print child tables (with additional info if partitions) */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT c.oid::pg_catalog.regclass, pg_get_expr(c.relpartbound, c.oid)"</span> 
                      <span class='String'>" FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i"</span> 
                              <span class='String'>" WHERE c.oid=i.inhrelid AND"</span> 
                              <span class='String'>" i.inhparent = '%s' AND"</span> 
                      <span class='String'>" EXISTS (SELECT 1 FROM pg_class c WHERE c.oid = '%s')"</span> 
                              <span class='String'>" ORDER BY c.oid::pg_catalog.regclass::pg_catalog.text;"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT c.oid::pg_catalog.regclass"</span> 
                      <span class='String'>" FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i"</span> 
                              <span class='String'>" WHERE c.oid=i.inhrelid AND"</span> 
                              <span class='String'>" i.inhparent = '%s' AND"</span> 
                      <span class='String'>" EXISTS (SELECT 1 FROM pg_class c WHERE c.oid = '%s')"</span> 
                              <span class='String'>" ORDER BY c.oid::pg_catalog.regclass::pg_catalog.text;"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT c.oid::pg_catalog.regclass FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i WHERE c.oid=i.inhrelid AND i.inhparent = '%s' ORDER BY c.relname;"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1361"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="describe.c.html#LN2955"><span class='Ref_to_Label'>error_return</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* print the number of child tables, if any */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Number of child tables: %d (Use \\d+ to list them.)"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Number of partitions: %d (Use \\d+ to list them.)"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* display the list of child tables */ 
</span><a name="LN2870"></a>            <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>ct</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>            _<span class='Parentheses'>(</span><span class='String'>"Child tables"</span><span class='Parentheses'>) </span><span class='Operator'>: </span>_<span class='Parentheses'>(</span><span class='String'>"Partitions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN2872"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>ctw</span> <span class='Operator'>= </span><a href="../../include/fe_utils/mbprint.h.html#LN22"><span class='Ref_to_Proto'>pg_wcswidth</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2870"><span class='Ref_To_Local'>ct</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="describe.c.html#LN2870"><span class='Ref_To_Local'>ct</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s: %s"</span><span class='Delimiter'>, 
</span>                                          <a href="describe.c.html#LN2870"><span class='Ref_To_Local'>ct</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%*s  %s"</span><span class='Delimiter'>, 
</span>                                          <a href="describe.c.html#LN2872"><span class='Ref_To_Local'>ctw</span></a><span class='Delimiter'>, </span><span class='String'>""</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s: %s %s"</span><span class='Delimiter'>, 
</span>                                          <a href="describe.c.html#LN2870"><span class='Ref_To_Local'>ct</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%*s  %s %s"</span><span class='Delimiter'>, 
</span>                                          <a href="describe.c.html#LN2872"><span class='Ref_To_Local'>ctw</span></a><span class='Delimiter'>, </span><span class='String'>""</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1369"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN2752"><span class='Ref_To_Local'>tuples</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN171"><span class='Ref_to_Proto'>appendPQExpBufferChar</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>','</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;tuples;i++ &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2751"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Table type */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1390"><span class='Ref_to_Member'>reloftype</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Typed table of type: %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1390"><span class='Ref_to_Member'>reloftype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& 
</span>            <span class='Parentheses'>(</span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>             <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * No need to display default values; we already display a REPLICA 
         * IDENTITY marker on indexes. 
         */ 
</span>            <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1392"><span class='Ref_to_Member'>relreplident</span></a> <span class='Operator'>!= </span><span class='String'>'i'</span> <span class='Operator'>&& 
</span>            <span class='Parentheses'>((</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><span class='String'>"pg_catalog"</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1392"><span class='Ref_to_Member'>relreplident</span></a> <span class='Operator'>!= </span><span class='String'>'d'</span><span class='Parentheses'>)</span> <span class='Operator'>|| 
</span>             <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="describe.c.html#LN1359"><span class='Ref_to_Parameter'>schemaname</span></a><span class='Delimiter'>, </span><span class='String'>"pg_catalog"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1392"><span class='Ref_to_Member'>relreplident</span></a> <span class='Operator'>!= </span><span class='String'>'n'</span><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span><a name="LN2921"></a>            <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"Replica Identity"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s: %s"</span><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN2921"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, 
</span>                              <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1392"><span class='Ref_to_Member'>relreplident</span></a> <span class='Operator'>== </span><span class='String'>'f'</span> <span class='Operator'>? </span><span class='String'>"FULL"</span> <span class='Operator'>: 
</span>                              <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1392"><span class='Ref_to_Member'>relreplident</span></a> <span class='Operator'>== </span><span class='String'>'n'</span> <span class='Operator'>? </span><span class='String'>"NOTHING"</span> <span class='Operator'>: 
</span>                              <span class='String'>"???"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if verbose&&(tableinfo.r... &raquo; </span> 
 
        <span class='Comment_Multi_Line'>/* OIDs, if verbose and not a materialized view */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a> <span class='Operator'>!= </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1387"><span class='Ref_to_Member'>hasoids</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Has OIDs: yes"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Tablespace info */ 
</span>        <a href="describe.c.html#LN33"><span class='Ref_to_Proto'>add_tablespace_footer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1381"><span class='Ref_to_Member'>relkind</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1388"><span class='Ref_to_Member'>tablespace</span></a><span class='Delimiter'>, 
</span>                              <span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tableinfo.relkind==RE... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* reloptions, if verbose */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1362"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& 
</span>        <a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1389"><span class='Ref_to_Member'>reloptions</span></a> <span class='Operator'>&& </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1389"><span class='Ref_to_Member'>reloptions</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN2945"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>t</span> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"Options"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s: %s"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2945"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1393"><span class='Ref_To_Local'>tableinfo</span></a><span class='Operator'>.</span><a href="describe.c.html#LN1389"><span class='Ref_to_Member'>reloptions</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN203"><span class='Ref_to_Proto'>printTable</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN1395"><span class='Ref_To_Local'>retval</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
<a name="LN2955"></a><span class='Label'>error_return</span><span class='Operator'>: 
</span> 
    <span class='Comment_Multi_Line'>/* clean up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1368"><span class='Ref_To_Local'>printTableInitialized</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/fe_utils/print.h.html#LN202"><span class='Ref_to_Proto'>printTableCleanup</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1367"><span class='Ref_To_Local'>cont</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1364"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1374"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN1375"><span class='Ref_To_Local'>tmpbuf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1373"><span class='Ref_To_Local'>ptr</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="describe.c.html#LN1373"><span class='Ref_To_Local'>ptr</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN1373"><span class='Ref_To_Local'>ptr</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="describe.c.html#LN1373"><span class='Ref_To_Local'>ptr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1372"><span class='Ref_To_Local'>seq_values</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1370"><span class='Ref_To_Local'>view_def</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1370"><span class='Ref_To_Local'>view_def</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN1365"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="describe.c.html#LN1395"><span class='Ref_To_Local'>retval</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeOneTableDetails &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Add a tablespace description to a footer.  If 'newline' is true, it is added 
 * in a new line; otherwise it's appended to the current value of the last 
 * footer. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN2986"></a><span class='Declare_Function'>add_tablespace_footer</span><span class='Parentheses'>(</span><a href="../../include/fe_utils/print.h.html#LN142"><span class='Ref_to_Struct'>printTableContent</span></a> <span class='Operator'>*</span><span class='Keyword'>const </span><span class='Declare_Parameter'>cont</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>relkind</span><span class='Delimiter'>, 
</span><a name="LN2987"></a>                      <a href="../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>tablespace</span><span class='Delimiter'>, </span><span class='Keyword'>const bool </span><span class='Declare_Parameter'>newline</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* relkinds for which we support tablespaces */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a> <span class='Operator'>|| 
</span>        <a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>relkind</span></a> <span class='Operator'>== </span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * We ignore the database default tablespace so that users not using 
         * tablespaces don't need to know about them.  This case also covers 
         * pre-8.0 servers, for which tablespace will always be 0. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2987"><span class='Ref_to_Parameter'>tablespace</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN3002"></a>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3003"></a>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT spcname FROM pg_catalog.pg_tablespace\n"</span> 
                              <span class='String'>"WHERE oid = '%u';"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2987"><span class='Ref_to_Parameter'>tablespace</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN3002"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3002"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>return</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* Should always be the case, but.... */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3002"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN2987"><span class='Ref_to_Parameter'>newline</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Add the tablespace as a new footer */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Tablespace: \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3002"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* Append the tablespace to the latest footer */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>cont</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN156"><span class='Ref_to_Member'>footer</span></a><span class='Operator'>-&GT;</span><a href="../../include/fe_utils/print.h.html#LN134"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/*------- 
                       translator: before this string there's an index description like 
                       '"foo_pkey" PRIMARY KEY, btree (a)' */ 
</span>                    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>", tablespace \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                      <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3002"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../include/fe_utils/print.h.html#LN200"><span class='Ref_to_Proto'>printTableSetFooter</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN2986"><span class='Ref_to_Parameter'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if PQntuples(result)&GT;0 &raquo; </span> 
            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3002"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3003"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tablespace!=0 &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if relkind==RELKIND_RELA... &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end add_tablespace_footer &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \du or \dg 
 * 
 * Describes roles.  Any schema portion of the pattern is ignored. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3047"></a><span class='Declare_Function'>describeRoles</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3049"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3050"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3051"></a>    <a href="../../include/fe_utils/print.h.html#LN142"><span class='Ref_to_Struct'>printTableContent</span></a> <span class='Declare_Local'>cont</span><span class='Delimiter'>; 
</span><a name="LN3052"></a>    <a href="../../include/fe_utils/print.h.html#LN95"><span class='Ref_to_Struct'>printTableOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Delimiter'>; 
</span><a name="LN3053"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ncols</span> <span class='Operator'>= </span><span class='Number'>3</span><span class='Delimiter'>; 
</span><a name="LN3054"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nrows</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN3055"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN3056"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>conns</span><span class='Delimiter'>; 
</span><a name="LN3057"></a>    <span class='Keyword'>const char</span>  <span class='Declare_Local'>align</span> <span class='Operator'>= </span><span class='String'>'l'</span><span class='Delimiter'>; 
</span><a name="LN3058"></a>    <span class='Keyword'>char</span>      <span class='Operator'>**</span><span class='Declare_Local'>attr</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3052"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80100</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT r.rolname, r.rolsuper, r.rolinherit,\n"</span> 
                          <span class='String'>"  r.rolcreaterole, r.rolcreatedb, r.rolcanlogin,\n"</span> 
                          <span class='String'>"  r.rolconnlimit, r.rolvaliduntil,\n"</span> 
                          <span class='String'>"  ARRAY(SELECT b.rolname\n"</span> 
                          <span class='String'>"        FROM pg_catalog.pg_auth_members m\n"</span> 
                 <span class='String'>"        JOIN pg_catalog.pg_roles b ON (m.roleid = b.oid)\n"</span> 
                          <span class='String'>"        WHERE m.member = r.oid) as memberof"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n, pg_catalog.shobj_description(r.oid, 'pg_authid') AS description"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN3053"><span class='Ref_To_Local'>ncols</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n, r.rolreplication"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90500</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n, r.rolbypassrls"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nFROM pg_catalog.pg_roles r\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE r.rolname !~ '^pg_'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"r.rolname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pset.sversion&GT;=80100 &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT u.usename AS rolname,\n"</span> 
                          <span class='String'>"  u.usesuper AS rolsuper,\n"</span> 
                          <span class='String'>"  true AS rolinherit, false AS rolcreaterole,\n"</span> 
                     <span class='String'>"  u.usecreatedb AS rolcreatedb, true AS rolcanlogin,\n"</span> 
                          <span class='String'>"  -1 AS rolconnlimit,"</span> 
                          <span class='String'>"  u.valuntil as rolvaliduntil,\n"</span> 
                          <span class='String'>"  ARRAY(SELECT g.groname FROM pg_catalog.pg_group g WHERE u.usesysid = ANY(g.grolist)) as memberof"</span> 
                          <span class='String'>"\nFROM pg_catalog.pg_user u\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"u.usename"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3054"><span class='Ref_To_Local'>nrows</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3058"><span class='Ref_To_Local'>attr</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN26"><span class='Ref_to_Proto'>pg_malloc0</span></a><span class='Parentheses'>((</span><a href="describe.c.html#LN3054"><span class='Ref_To_Local'>nrows</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="describe.c.html#LN3058"><span class='Ref_To_Local'>attr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN191"><span class='Ref_to_Proto'>printTableInit</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3052"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"List of roles"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN3053"><span class='Ref_To_Local'>ncols</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3054"><span class='Ref_To_Local'>nrows</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Role name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN3057"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Attributes"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN3057"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Member of"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN3057"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>        <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN3057"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN3054"><span class='Ref_To_Local'>nrows</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Superuser"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"No inheritance"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Create role"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Create DB"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Cannot login"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? </span><span class='Number'>10</span> <span class='Operator'>: </span><span class='Number'>9</span><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Replication"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90500</span><span class='Parentheses'>) 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>? </span><span class='Number'>11</span> <span class='Operator'>: </span><span class='Number'>10</span><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <a href="describe.c.html#LN35"><span class='Ref_to_Proto'>add_role_attribute</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Bypass RLS"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN3056"><span class='Ref_To_Local'>conns</span></a> <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3056"><span class='Ref_To_Local'>conns</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN171"><span class='Ref_to_Proto'>appendPQExpBufferChar</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>'\n'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3056"><span class='Ref_To_Local'>conns</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"No connections"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN126"><span class='Ref_to_Macro'>ngettext</span></a><span class='Parentheses'>(</span><span class='String'>"%d connection"</span><span class='Delimiter'>, 
</span>                                                 <span class='String'>"%d connections"</span><span class='Delimiter'>, 
</span>                                                 <a href="describe.c.html#LN3056"><span class='Ref_To_Local'>conns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                  <a href="describe.c.html#LN3056"><span class='Ref_To_Local'>conns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>""</span><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Password valid until "</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="describe.c.html#LN3058"><span class='Ref_To_Local'>attr</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3058"><span class='Ref_To_Local'>attr</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3047"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80200</span><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;nrows;i++ &raquo; </span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3049"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN203"><span class='Ref_to_Proto'>printTable</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/fe_utils/print.h.html#LN202"><span class='Ref_to_Proto'>printTableCleanup</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3051"><span class='Ref_To_Local'>cont</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN3054"><span class='Ref_To_Local'>nrows</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3058"><span class='Ref_To_Local'>attr</span></a><span class='Delimiter'>[</span><a href="describe.c.html#LN3055"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3058"><span class='Ref_To_Local'>attr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3050"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeRoles &raquo; </span> 
 
<span class='Keyword'>static void 
</span><a name="LN3206"></a><span class='Declare_Function'>add_role_attribute</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Keyword'>const </span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3206"><span class='Ref_to_Parameter'>buf</span></a><span class='Operator'>-&GT;</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN46"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3206"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><span class='String'>", "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3206"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3206"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * \drds 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3218"></a><span class='Declare_Function'>listDbRoleSettings</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern2</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3220"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3221"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3222"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN3228"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>havewhere</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"SELECT rolname AS \"%s\", datname AS \"%s\",\n"</span> 
                  <span class='String'>"pg_catalog.array_to_string(setconfig, E'\\n') AS \"%s\"\n"</span> 
                          <span class='String'>"FROM pg_db_role_setting AS s\n"</span> 
                   <span class='String'>"LEFT JOIN pg_database ON pg_database.oid = setdatabase\n"</span> 
                          <span class='String'>"LEFT JOIN pg_roles ON pg_roles.oid = setrole\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Role"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Database"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Settings"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3228"><span class='Ref_To_Local'>havewhere</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3218"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                       <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"pg_roles.rolname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3218"><span class='Ref_to_Parameter'>pattern2</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3228"><span class='Ref_To_Local'>havewhere</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"pg_database.datname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, 
</span>        _<span class='Parentheses'>(</span><span class='String'>"No per-database role settings support in this server version.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="describe.c.html#LN3221"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3221"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3221"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& !</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3218"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"No matching settings found.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"No settings found.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN3222"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3222"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of settings"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3222"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3221"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3222"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3221"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN129"><span class='Ref_to_Proto'>resetPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3220"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listDbRoleSettings &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * listTables() 
 * 
 * handler for \dt, \di, etc. 
 * 
 * tabtypes is an array of characters, specifying what info is desired: 
 * t - tables 
 * i - indexes 
 * v - views 
 * m - materialized views 
 * s - sequences 
 * E - foreign table (Note: different from 'f', the relkind value) 
 * (any order of the above is fine) 
 * If tabtypes is empty, we default to \dtvsE. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3293"></a><span class='Declare_Function'>listTables</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>tabtypes</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3295"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showTables</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>tabtypes</span></a><span class='Delimiter'>, </span><span class='String'>'t'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3296"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showIndexes</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>tabtypes</span></a><span class='Delimiter'>, </span><span class='String'>'i'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3297"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showViews</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>tabtypes</span></a><span class='Delimiter'>, </span><span class='String'>'v'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3298"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showMatViews</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>tabtypes</span></a><span class='Delimiter'>, </span><span class='String'>'m'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3299"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showSeq</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>tabtypes</span></a><span class='Delimiter'>, </span><span class='String'>'s'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN3300"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>showForeign</span> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>tabtypes</span></a><span class='Delimiter'>, </span><span class='String'>'E'</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
<a name="LN3302"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3303"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3304"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN3305"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="describe.c.html#LN3295"><span class='Ref_To_Local'>showTables</span></a> <span class='Operator'>|| </span><a href="describe.c.html#LN3296"><span class='Ref_To_Local'>showIndexes</span></a> <span class='Operator'>|| </span><a href="describe.c.html#LN3297"><span class='Ref_To_Local'>showViews</span></a> <span class='Operator'>|| </span><a href="describe.c.html#LN3298"><span class='Ref_To_Local'>showMatViews</span></a> <span class='Operator'>|| </span><a href="describe.c.html#LN3299"><span class='Ref_To_Local'>showSeq</span></a> <span class='Operator'>|| </span><a href="describe.c.html#LN3300"><span class='Ref_To_Local'>showForeign</span></a><span class='Parentheses'>))</span> 
        <a href="describe.c.html#LN3295"><span class='Ref_To_Local'>showTables</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3297"><span class='Ref_To_Local'>showViews</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3298"><span class='Ref_To_Local'>showMatViews</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3299"><span class='Ref_To_Local'>showSeq</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3300"><span class='Ref_To_Local'>showForeign</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Note: as of Pg 8.2, we no longer use relkind 's' (special), but we keep 
     * it here for backwards compatibility. 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  c.relname as \"%s\",\n"</span> 
                      <span class='String'>"  CASE c.relkind"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" WHEN 's' THEN '%s'"</span> 
                    <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                <span class='String'>" WHEN "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>" THEN '%s'"</span> 
                      <span class='String'>" END as \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.pg_get_userbyid(c.relowner) as \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"table"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"view"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"materialized view"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"index"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"sequence"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"special"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"foreign table"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"table"</span><span class='Parentheses'>)</span><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* partitioned table */ 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3296"><span class='Ref_To_Local'>showIndexes</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n c2.relname as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Table"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * As of PostgreSQL 9.0, use pg_table_size() to show a more accurate 
         * size of a table, including FSM, VM and TOAST tables. 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>",\n  pg_catalog.pg_size_pretty(pg_catalog.pg_table_size(c.oid)) as \"%s\""</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Size"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80100</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>",\n  pg_catalog.pg_size_pretty(pg_catalog.pg_relation_size(c.oid)) as \"%s\""</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Size"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>",\n  pg_catalog.obj_description(c.oid, 'pg_class') as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_class c"</span> 
     <span class='String'>"\n     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3296"><span class='Ref_To_Local'>showIndexes</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>             <span class='String'>"\n     LEFT JOIN pg_catalog.pg_index i ON i.indexrelid = c.oid"</span> 
           <span class='String'>"\n     LEFT JOIN pg_catalog.pg_class c2 ON i.indrelid = c2.oid"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nWHERE c.relkind IN ("</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3295"><span class='Ref_To_Local'>showTables</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a><span class='Parentheses'>) </span><span class='String'>","</span> 
                             <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN167"><span class='Ref_to_Const'>RELKIND_PARTITIONED_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>","</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3297"><span class='Ref_To_Local'>showViews</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN163"><span class='Ref_to_Const'>RELKIND_VIEW</span></a><span class='Parentheses'>) </span><span class='String'>","</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3298"><span class='Ref_To_Local'>showMatViews</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN164"><span class='Ref_to_Const'>RELKIND_MATVIEW</span></a><span class='Parentheses'>) </span><span class='String'>","</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3296"><span class='Ref_To_Local'>showIndexes</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN160"><span class='Ref_to_Const'>RELKIND_INDEX</span></a><span class='Parentheses'>) </span><span class='String'>","</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3299"><span class='Ref_To_Local'>showSeq</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN161"><span class='Ref_to_Const'>RELKIND_SEQUENCE</span></a><span class='Parentheses'>) </span><span class='String'>","</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>|| </span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"'s',"</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* was RELKIND_SPECIAL */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3300"><span class='Ref_To_Local'>showForeign</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN166"><span class='Ref_to_Const'>RELKIND_FOREIGN_TABLE</span></a><span class='Parentheses'>) </span><span class='String'>","</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"''"</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* dummy */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>")\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * TOAST objects are suppressed unconditionally.  Since we don't provide 
     * any way to select RELKIND_TOASTVALUE above, we would never show toast 
     * tables in any case; it seems a bit confusing to allow their indexes to 
     * be shown.  Use plain \d if you really need to look at a TOAST 
     * table/index. 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname !~ '^pg_toast'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.relname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1,2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3303"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3302"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3303"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3303"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& !</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3293"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"No matching relations found.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"No relations found.\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="describe.c.html#LN3304"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3304"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of relations"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3304"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3304"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3305"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN3304"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3305"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3303"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3304"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3303"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTables &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dL 
 * 
 * Describes languages. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3449"></a><span class='Declare_Function'>listLanguages</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3451"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3452"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3453"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT l.lanname AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                <span class='String'>"       pg_catalog.pg_get_userbyid(l.lanowner) as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"       l.lanpltrusted AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Trusted"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3449"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       NOT l.lanispl AS \"%s\",\n"</span> 
                          <span class='String'>"       l.lanplcallfoid::regprocedure AS \"%s\",\n"</span> 
                   <span class='String'>"       l.lanvalidator::regprocedure AS \"%s\",\n       "</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Internal language"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Call handler"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Validator"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90000</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"l.laninline::regprocedure AS \"%s\",\n       "</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Inline handler"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"l.lanacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>",\n       d.description AS \"%s\""</span> 
                      <span class='String'>"\nFROM pg_catalog.pg_language l\n"</span> 
                      <span class='String'>"LEFT JOIN pg_catalog.pg_description d\n"</span> 
                      <span class='String'>"  ON d.classoid = l.tableoid AND d.objoid = l.oid\n"</span> 
                      <span class='String'>"  AND d.objsubid = 0\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3449"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3449"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                              <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"l.lanname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3449"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3449"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE l.lanplcallfoid != 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3452"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3451"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3452"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3453"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3453"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of languages"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3453"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3452"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3453"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3452"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listLanguages &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dD 
 * 
 * Describes domains. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3524"></a><span class='Declare_Function'>listDomains</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3526"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3527"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3528"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"       t.typname as \"%s\",\n"</span> 
    <span class='String'>"       pg_catalog.format_type(t.typbasetype, t.typtypmod) as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"       (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type bt\n"</span> 
                          <span class='String'>"        WHERE c.oid = t.typcollation AND bt.oid = t.typbasetype AND t.typcollation &LT;&GT; bt.typcollation) as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Collation"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>             <span class='String'>"       CASE WHEN t.typnotnull THEN 'not null' END as \"%s\",\n"</span> 
                      <span class='String'>"       t.typdefault as \"%s\",\n"</span> 
                      <span class='String'>"       pg_catalog.array_to_string(ARRAY(\n"</span> 
                      <span class='String'>"         SELECT pg_catalog.pg_get_constraintdef(r.oid, true) FROM pg_catalog.pg_constraint r WHERE t.oid = r.contypid\n"</span> 
                      <span class='String'>"       ), ' ') as \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Nullable"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Default"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Check"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3524"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90200</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"t.typacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       d.description as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_type t\n"</span> 
     <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3524"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"     LEFT JOIN pg_catalog.pg_description d "</span> 
                           <span class='String'>"ON d.classoid = t.tableoid AND d.objoid = t.oid "</span> 
                             <span class='String'>"AND d.objsubid = 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE t.typtype = 'd'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3524"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3524"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3524"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"t.typname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_type_is_visible(t.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3527"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3526"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3527"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3528"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3528"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of domains"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3528"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3527"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3528"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3527"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listDomains &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dc 
 * 
 * Describes conversions. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3610"></a><span class='Declare_Function'>listConversions</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3612"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3613"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3614"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN3615"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= 
</span>    <span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname AS \"%s\",\n"</span> 
                      <span class='String'>"       c.conname AS \"%s\",\n"</span> 
       <span class='String'>"       pg_catalog.pg_encoding_to_char(c.conforencoding) AS \"%s\",\n"</span> 
        <span class='String'>"       pg_catalog.pg_encoding_to_char(c.contoencoding) AS \"%s\",\n"</span> 
                      <span class='String'>"       CASE WHEN c.condefault THEN '%s'\n"</span> 
                      <span class='String'>"       ELSE '%s' END AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Source"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Destination"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"yes"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"no"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Default?"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3610"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       d.description AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_conversion c\n"</span> 
                         <span class='String'>"     JOIN pg_catalog.pg_namespace n "</span> 
                         <span class='String'>"ON n.oid = c.connamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3610"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"LEFT JOIN pg_catalog.pg_description d "</span> 
                             <span class='String'>"ON d.classoid = c.tableoid\n"</span> 
                             <span class='String'>"          AND d.objoid = c.oid "</span> 
                             <span class='String'>"AND d.objsubid = 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE true\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3610"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3610"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"  AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"  AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3610"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.conname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_conversion_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3613"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3612"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3613"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3614"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3614"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of conversions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3614"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3614"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3615"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3614"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3615"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3613"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3614"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3613"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listConversions &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dy 
 * 
 * Describes Event Triggers. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3686"></a><span class='Declare_Function'>listEventTriggers</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3688"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3689"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3690"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN3691"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= 
</span>    <span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT evtname as \"%s\", "</span> 
                      <span class='String'>"evtevent as \"%s\", "</span> 
                      <span class='String'>"pg_catalog.pg_get_userbyid(e.evtowner) as \"%s\",\n"</span> 
                      <span class='String'>" case evtenabled when 'O' then '%s'"</span> 
                      <span class='String'>"  when 'R' then '%s'"</span> 
                      <span class='String'>"  when 'A' then '%s'"</span> 
                      <span class='String'>"  when 'D' then '%s' end as \"%s\",\n"</span> 
                      <span class='String'>" e.evtfoid::pg_catalog.regproc as \"%s\", "</span> 
                      <span class='String'>"pg_catalog.array_to_string(array(select x"</span> 
                <span class='String'>" from pg_catalog.unnest(evttags) as t(x)), ', ') as \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Event"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"enabled"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"replica"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"always"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"disabled"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Enabled"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Procedure"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Tags"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3686"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>        <span class='String'>",\npg_catalog.obj_description(e.oid, 'pg_event_trigger') as \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_event_trigger e "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3686"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"evtname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3689"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3688"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3689"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3690"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3690"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of event triggers"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3690"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3690"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3691"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3690"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3691"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3689"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3690"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3689"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listEventTriggers &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dC 
 * 
 * Describes casts. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3752"></a><span class='Declare_Function'>listCasts</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3754"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3755"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3756"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN3757"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We need a left join to pg_proc for binary casts; the others are just 
     * paranoia.  Also note that we don't attempt to localize '(binary 
     * coercible)', because there's too much risk of gettext translating a 
     * function name that happens to match some string in the PO database. 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>               <span class='String'>"SELECT pg_catalog.format_type(castsource, NULL) AS \"%s\",\n"</span> 
               <span class='String'>"       pg_catalog.format_type(casttarget, NULL) AS \"%s\",\n"</span> 
                  <span class='String'>"       CASE WHEN castfunc = 0 THEN '(binary coercible)'\n"</span> 
                      <span class='String'>"            ELSE p.proname\n"</span> 
                      <span class='String'>"       END as \"%s\",\n"</span> 
                      <span class='String'>"       CASE WHEN c.castcontext = 'e' THEN '%s'\n"</span> 
                      <span class='String'>"            WHEN c.castcontext = 'a' THEN '%s'\n"</span> 
                      <span class='String'>"            ELSE '%s'\n"</span> 
                      <span class='String'>"       END as \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Source type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Target type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Function"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"no"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"in assignment"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"yes"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Implicit?"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3752"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       d.description AS \"%s\"\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                 <span class='String'>"FROM pg_catalog.pg_cast c LEFT JOIN pg_catalog.pg_proc p\n"</span> 
                         <span class='String'>"     ON c.castfunc = p.oid\n"</span> 
                         <span class='String'>"     LEFT JOIN pg_catalog.pg_type ts\n"</span> 
                         <span class='String'>"     ON c.castsource = ts.oid\n"</span> 
                         <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace ns\n"</span> 
                         <span class='String'>"     ON ns.oid = ts.typnamespace\n"</span> 
                         <span class='String'>"     LEFT JOIN pg_catalog.pg_type tt\n"</span> 
                         <span class='String'>"     ON c.casttarget = tt.oid\n"</span> 
                         <span class='String'>"     LEFT JOIN pg_catalog.pg_namespace nt\n"</span> 
                         <span class='String'>"     ON nt.oid = tt.typnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3752"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"     LEFT JOIN pg_catalog.pg_description d\n"</span> 
                             <span class='String'>"     ON d.classoid = c.tableoid AND d.objoid = "</span> 
                             <span class='String'>"c.oid AND d.objsubid = 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"WHERE ( (true"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Match name pattern against either internal or external name of either 
     * castsource or casttarget 
     */ 
</span>    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3752"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"ns.nspname"</span><span class='Delimiter'>, </span><span class='String'>"ts.typname"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.format_type(ts.oid, NULL)"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_type_is_visible(ts.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>") OR (true"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3752"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"nt.nspname"</span><span class='Delimiter'>, </span><span class='String'>"tt.typname"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.format_type(tt.oid, NULL)"</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_type_is_visible(tt.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>") )\nORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3755"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3754"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3755"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3756"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3756"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of casts"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3756"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3756"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3757"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3756"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3757"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3755"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3756"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3755"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listCasts &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dO 
 * 
 * Describes collations. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3851"></a><span class='Declare_Function'>listCollations</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3853"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3854"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3855"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN3856"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN3860"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support collations.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN3860"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN3860"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname AS \"%s\",\n"</span> 
                      <span class='String'>"       c.collname AS \"%s\",\n"</span> 
                      <span class='String'>"       c.collcollate AS \"%s\",\n"</span> 
                      <span class='String'>"       c.collctype AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Collate"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Ctype"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       CASE c.collprovider WHEN 'd' THEN 'default' WHEN 'c' THEN 'libc' WHEN 'i' THEN 'icu' END AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Provider"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3851"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n       pg_catalog.obj_description(c.oid, 'pg_collation') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>              <span class='String'>"\nFROM pg_catalog.pg_collation c, pg_catalog.pg_namespace n\n"</span> 
                         <span class='String'>"WHERE n.oid = c.collnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3851"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3851"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                             <span class='String'>"      AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Hide collations that aren't usable in the current database's encoding. 
     * If you think to change this, note that pg_collation_is_visible rejects 
     * unusable collations, so you will need to hack name pattern processing 
     * somehow to avoid inconsistent behavior. 
     */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"      AND c.collencoding IN (-1, pg_catalog.pg_char_to_encoding(pg_catalog.getdatabaseencoding()))\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3851"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.collname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_collation_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3854"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3853"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3854"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3855"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3855"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of collations"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3855"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3855"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN3856"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3855"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3856"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3854"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3855"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3854"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listCollations &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dn 
 * 
 * Describes schemas (namespaces) 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3935"></a><span class='Declare_Function'>listSchemas</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>showSystem</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3937"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3938"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3939"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname AS \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.pg_get_userbyid(n.nspowner) AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3935"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"n.nspacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>          <span class='String'>",\n  pg_catalog.obj_description(n.oid, 'pg_namespace') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"\nFROM pg_catalog.pg_namespace n\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3935"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3935"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>        <span class='String'>"WHERE n.nspname !~ '^pg_' AND n.nspname &LT;&GT; 'information_schema'\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3935"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, 
</span>                          <span class='Operator'>!</span><a href="describe.c.html#LN3935"><span class='Ref_to_Parameter'>showSystem</span></a> <span class='Operator'>&& !</span><a href="describe.c.html#LN3935"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3938"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3937"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3938"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3939"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3939"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of schemas"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3939"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3938"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3939"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3938"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listSchemas &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dFp 
 * list text search parsers 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN3992"></a><span class='Declare_Function'>listTSParsers</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN3994"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN3995"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN3996"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4000"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support full text search.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4000"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4000"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN3992"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="describe.c.html#LN36"><span class='Ref_to_Proto'>listTSParsersVerbose</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3992"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3994"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3994"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT\n"</span> 
                      <span class='String'>"  n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  p.prsname as \"%s\",\n"</span> 
            <span class='String'>"  pg_catalog.obj_description(p.oid, 'pg_ts_parser') as \"%s\"\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_ts_parser p\n"</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.prsnamespace\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>) 
</span>        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3994"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN3992"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"p.prsname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_ts_parser_is_visible(p.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3994"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3995"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3994"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN3994"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN3995"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN3996"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3996"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of text search parsers"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN3996"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3995"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN3996"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN3995"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTSParsers &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * full description of parsers 
 */ 
</span><span class='Keyword'>static bool 
</span><a name="LN4050"></a><span class='Declare_Function'>listTSParsersVerbose</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4052"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4053"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4054"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4052"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4052"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT p.oid,\n"</span> 
                      <span class='String'>"  n.nspname,\n"</span> 
                      <span class='String'>"  p.prsname\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_ts_parser p\n"</span> 
            <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.prsnamespace\n"</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4052"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4050"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"p.prsname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_ts_parser_is_visible(p.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4052"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4052"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4052"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Did not find any text search parser named \"%s\".\n"</span><span class='Delimiter'>, 
</span>                       <a href="describe.c.html#LN4050"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN4088"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>oid</span><span class='Delimiter'>; 
</span><a name="LN4089"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>nspname</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN4090"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>prsname</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN4088"><span class='Ref_To_Local'>oid</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span> 
            <a href="describe.c.html#LN4089"><span class='Ref_To_Local'>nspname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN4090"><span class='Ref_To_Local'>prsname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4054"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN37"><span class='Ref_to_Proto'>describeOneTSParser</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4088"><span class='Ref_To_Local'>oid</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4089"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4090"><span class='Ref_To_Local'>prsname</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../fe_utils/print.c.html#LN45"><span class='Ref_to_Global_Var'>cancel_pressed</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;PQntuples(res);... &raquo; </span> 
 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4053"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTSParsersVerbose &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN4115"></a><span class='Declare_Function'>describeOneTSParser</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>nspname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>prsname</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4117"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4118"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4119"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>title</span><span class='Delimiter'>[</span><span class='Number'>1024</span><span class='Delimiter'>]; 
</span><a name="LN4120"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN4121"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT '%s' AS \"%s\",\n"</span> 
                      <span class='String'>"   p.prsstart::pg_catalog.regproc AS \"%s\",\n"</span> 
           <span class='String'>"   pg_catalog.obj_description(p.prsstart, 'pg_proc') as \"%s\"\n"</span> 
                      <span class='String'>" FROM pg_catalog.pg_ts_parser p\n"</span> 
                      <span class='String'>" WHERE p.oid = '%s'\n"</span> 
                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"SELECT '%s',\n"</span> 
                      <span class='String'>"   p.prstoken::pg_catalog.regproc,\n"</span> 
                      <span class='String'>"   pg_catalog.obj_description(p.prstoken, 'pg_proc')\n"</span> 
                      <span class='String'>" FROM pg_catalog.pg_ts_parser p\n"</span> 
                      <span class='String'>" WHERE p.oid = '%s'\n"</span> 
                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"SELECT '%s',\n"</span> 
                      <span class='String'>"   p.prsend::pg_catalog.regproc,\n"</span> 
                      <span class='String'>"   pg_catalog.obj_description(p.prsend, 'pg_proc')\n"</span> 
                      <span class='String'>" FROM pg_catalog.pg_ts_parser p\n"</span> 
                      <span class='String'>" WHERE p.oid = '%s'\n"</span> 
                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"SELECT '%s',\n"</span> 
                      <span class='String'>"   p.prsheadline::pg_catalog.regproc,\n"</span> 
                  <span class='String'>"   pg_catalog.obj_description(p.prsheadline, 'pg_proc')\n"</span> 
                      <span class='String'>" FROM pg_catalog.pg_ts_parser p\n"</span> 
                      <span class='String'>" WHERE p.oid = '%s'\n"</span> 
                      <span class='String'>"UNION ALL\n"</span> 
                      <span class='String'>"SELECT '%s',\n"</span> 
                      <span class='String'>"   p.prslextype::pg_catalog.regproc,\n"</span> 
                   <span class='String'>"   pg_catalog.obj_description(p.prslextype, 'pg_proc')\n"</span> 
                      <span class='String'>" FROM pg_catalog.pg_ts_parser p\n"</span> 
                      <span class='String'>" WHERE p.oid = '%s';"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Start parse"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Method"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Function"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>oid</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Get next token"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>oid</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"End parse"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>oid</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Get headline"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>oid</span></a><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Get token types"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>nspname</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4119"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Text search parser \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>nspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>prsname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4119"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Text search parser \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>prsname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN4119"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN167"><span class='Ref_to_Member'>footers</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN4121"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4121"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT t.alias as \"%s\",\n"</span> 
                      <span class='String'>"  t.description as \"%s\"\n"</span> 
               <span class='String'>"FROM pg_catalog.ts_token_type( '%s'::pg_catalog.oid ) as t\n"</span> 
                      <span class='String'>"ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Token name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4117"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>nspname</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4119"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Token types for parser \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>nspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>prsname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4119"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Token types for parser \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN4115"><span class='Ref_to_Parameter'>prsname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN4119"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN167"><span class='Ref_to_Member'>footers</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4120"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4118"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeOneTSParser &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dFd 
 * list text search dictionaries 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4230"></a><span class='Declare_Function'>listTSDictionaries</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4232"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4233"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4234"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4238"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support full text search.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4238"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4238"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT\n"</span> 
                      <span class='String'>"  n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"  d.dictname as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4230"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"  ( SELECT COALESCE(nt.nspname, '(null)')::pg_catalog.text || '.' || t.tmplname FROM\n"</span> 
                          <span class='String'>"    pg_catalog.pg_ts_template t\n"</span> 
                          <span class='String'>"    LEFT JOIN pg_catalog.pg_namespace nt ON nt.oid = t.tmplnamespace\n"</span> 
                          <span class='String'>"    WHERE d.dicttemplate = t.oid ) AS  \"%s\",\n"</span> 
                          <span class='String'>"  d.dictinitoption as \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Template"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Init options"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>             <span class='String'>"  pg_catalog.obj_description(d.oid, 'pg_ts_dict') as \"%s\"\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"FROM pg_catalog.pg_ts_dict d\n"</span> 
         <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = d.dictnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4230"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"d.dictname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_ts_dict_is_visible(d.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4233"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4232"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4233"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4234"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4234"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of text search dictionaries"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4234"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4233"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4234"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4233"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTSDictionaries &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dFt 
 * list text search templates 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4301"></a><span class='Declare_Function'>listTSTemplates</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4303"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4304"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4305"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4309"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support full text search.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4309"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4309"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4301"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT\n"</span> 
                          <span class='String'>"  n.nspname AS \"%s\",\n"</span> 
                          <span class='String'>"  t.tmplname AS \"%s\",\n"</span> 
                          <span class='String'>"  t.tmplinit::pg_catalog.regproc AS \"%s\",\n"</span> 
                          <span class='String'>"  t.tmpllexize::pg_catalog.regproc AS \"%s\",\n"</span> 
         <span class='String'>"  pg_catalog.obj_description(t.oid, 'pg_ts_template') AS \"%s\"\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Init"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Lexize"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"SELECT\n"</span> 
                          <span class='String'>"  n.nspname AS \"%s\",\n"</span> 
                          <span class='String'>"  t.tmplname AS \"%s\",\n"</span> 
         <span class='String'>"  pg_catalog.obj_description(t.oid, 'pg_ts_template') AS \"%s\"\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"FROM pg_catalog.pg_ts_template t\n"</span> 
         <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.tmplnamespace\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4301"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"t.tmplname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_ts_template_is_visible(t.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4304"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4303"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4304"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4305"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4305"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of text search templates"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4305"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4304"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4305"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4304"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTSTemplates &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dF 
 * list text search configurations 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4372"></a><span class='Declare_Function'>listTSConfigs</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4374"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4375"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4376"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80300</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4380"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support full text search.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4380"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4380"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4372"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="describe.c.html#LN39"><span class='Ref_to_Proto'>listTSConfigsVerbose</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4372"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4374"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4374"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT\n"</span> 
                      <span class='String'>"   n.nspname as \"%s\",\n"</span> 
                      <span class='String'>"   c.cfgname as \"%s\",\n"</span> 
           <span class='String'>"   pg_catalog.obj_description(c.oid, 'pg_ts_config') as \"%s\"\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_ts_config c\n"</span> 
           <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.cfgnamespace\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>) 
</span>        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4374"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4372"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.cfgname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_ts_config_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4374"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4375"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4374"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4374"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4375"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4376"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4376"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of text search configurations"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4376"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4375"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4376"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4375"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTSConfigs &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN4427"></a><span class='Declare_Function'>listTSConfigsVerbose</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4429"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4430"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4431"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4429"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4429"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT c.oid, c.cfgname,\n"</span> 
                      <span class='String'>"   n.nspname,\n"</span> 
                      <span class='String'>"   p.prsname,\n"</span> 
                      <span class='String'>"   np.nspname as pnspname\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_ts_config c\n"</span> 
        <span class='String'>"   LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.cfgnamespace,\n"</span> 
                      <span class='String'>" pg_catalog.pg_ts_parser p\n"</span> 
       <span class='String'>"   LEFT JOIN pg_catalog.pg_namespace np ON np.oid = p.prsnamespace\n"</span> 
                      <span class='String'>"WHERE  p.oid = c.cfgparser\n"</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4429"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4427"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.cfgname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_ts_config_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4429"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 3, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4429"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4429"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Did not find any text search configuration named \"%s\".\n"</span><span class='Delimiter'>, 
</span>                       <a href="describe.c.html#LN4427"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN4469"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>oid</span><span class='Delimiter'>; 
</span><a name="LN4470"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>cfgname</span><span class='Delimiter'>; 
</span><a name="LN4471"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>nspname</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN4472"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>prsname</span><span class='Delimiter'>; 
</span><a name="LN4473"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>pnspname</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN4469"><span class='Ref_To_Local'>oid</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN4470"><span class='Ref_To_Local'>cfgname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>))</span> 
            <a href="describe.c.html#LN4471"><span class='Ref_To_Local'>nspname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN4472"><span class='Ref_To_Local'>prsname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>))</span> 
            <a href="describe.c.html#LN4473"><span class='Ref_To_Local'>pnspname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4431"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN40"><span class='Ref_to_Proto'>describeOneTSConfig</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4469"><span class='Ref_To_Local'>oid</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4471"><span class='Ref_To_Local'>nspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4470"><span class='Ref_To_Local'>cfgname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4473"><span class='Ref_To_Local'>pnspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4472"><span class='Ref_To_Local'>prsname</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../fe_utils/print.c.html#LN45"><span class='Ref_to_Global_Var'>cancel_pressed</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;PQntuples(res);... &raquo; </span> 
 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4430"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listTSConfigsVerbose &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN4501"></a><span class='Declare_Function'>describeOneTSConfig</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>nspname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cfgname</span><span class='Delimiter'>, 
</span><a name="LN4502"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pnspname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>prsname</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4504"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>, 
</span><a name="LN4505"></a>                <span class='Declare_Local'>title</span><span class='Delimiter'>; 
</span><a name="LN4506"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4507"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4504"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4504"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT\n"</span> 
                      <span class='String'>"  ( SELECT t.alias FROM\n"</span> 
                      <span class='String'>"    pg_catalog.ts_token_type(c.cfgparser) AS t\n"</span> 
                      <span class='String'>"    WHERE t.tokid = m.maptokentype ) AS \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.btrim(\n"</span> 
                   <span class='String'>"    ARRAY( SELECT mm.mapdict::pg_catalog.regdictionary\n"</span> 
                      <span class='String'>"           FROM pg_catalog.pg_ts_config_map AS mm\n"</span> 
                      <span class='String'>"           WHERE mm.mapcfg = m.mapcfg AND mm.maptokentype = m.maptokentype\n"</span> 
                      <span class='String'>"           ORDER BY mapcfg, maptokentype, mapseqno\n"</span> 
                      <span class='String'>"    ) :: pg_catalog.text,\n"</span> 
                      <span class='String'>"  '{}') AS \"%s\"\n"</span> 
      <span class='String'>"FROM pg_catalog.pg_ts_config AS c, pg_catalog.pg_ts_config_map AS m\n"</span> 
                      <span class='String'>"WHERE c.oid = '%s' AND m.mapcfg = c.oid\n"</span> 
                      <span class='String'>"GROUP BY m.mapcfg, m.maptokentype, c.cfgparser\n"</span> 
                      <span class='String'>"ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Token"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Dictionaries"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN4501"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4506"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4504"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4504"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4506"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4501"><span class='Ref_to_Parameter'>nspname</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Text search configuration \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN4501"><span class='Ref_to_Parameter'>nspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4501"><span class='Ref_to_Parameter'>cfgname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Text search configuration \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN4501"><span class='Ref_to_Parameter'>cfgname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4502"><span class='Ref_to_Parameter'>pnspname</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"\nParser: \"%s.%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN4502"><span class='Ref_to_Parameter'>pnspname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4502"><span class='Ref_to_Parameter'>prsname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"\nParser: \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN4502"><span class='Ref_to_Parameter'>prsname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4507"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4507"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4507"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN167"><span class='Ref_to_Member'>footers</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4507"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4507"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4506"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4507"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4505"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4506"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeOneTSConfig &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * \dew 
 * 
 * Describes foreign-data wrappers 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4573"></a><span class='Declare_Function'>listForeignDataWrappers</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4575"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4576"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4577"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4581"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support foreign-data wrappers.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4581"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4581"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT fdw.fdwname AS \"%s\",\n"</span> 
                   <span class='String'>"  pg_catalog.pg_get_userbyid(fdw.fdwowner) AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"  fdw.fdwhandler::pg_catalog.regproc AS \"%s\",\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Handler"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"  fdw.fdwvalidator::pg_catalog.regproc AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Validator"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4573"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"fdwacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n CASE WHEN fdwoptions IS NULL THEN '' ELSE "</span> 
                          <span class='String'>"  '(' || array_to_string(ARRAY(SELECT "</span> 
                          <span class='String'>"  quote_ident(option_name) ||  ' ' || "</span> 
                          <span class='String'>"  quote_literal(option_value)  FROM "</span> 
                          <span class='String'>"  pg_options_to_table(fdwoptions)),  ', ') || ')' "</span> 
                          <span class='String'>"  END AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"FDW options"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>",\n  d.description AS \"%s\" "</span><span class='Delimiter'>, 
</span>                              <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nFROM pg_catalog.pg_foreign_data_wrapper fdw\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4573"><span class='Ref_to_Parameter'>verbose</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"LEFT JOIN pg_catalog.pg_description d\n"</span> 
                             <span class='String'>"       ON d.classoid = fdw.tableoid "</span> 
                             <span class='String'>"AND d.objoid = fdw.oid AND d.objsubid = 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4573"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"fdwname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4576"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4575"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4576"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4577"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4577"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of foreign-data wrappers"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4577"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4576"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4577"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4576"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listForeignDataWrappers &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \des 
 * 
 * Describes foreign servers. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4656"></a><span class='Declare_Function'>listForeignServers</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4658"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4659"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4660"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4664"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support foreign servers.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4664"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4664"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT s.srvname AS \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.pg_get_userbyid(s.srvowner) AS \"%s\",\n"</span> 
                      <span class='String'>"  f.fdwname AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Foreign-data wrapper"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4656"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>",\n  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN43"><span class='Ref_to_Proto'>printACLColumn</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"s.srvacl"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n"</span> 
                          <span class='String'>"  s.srvtype AS \"%s\",\n"</span> 
                          <span class='String'>"  s.srvversion AS \"%s\",\n"</span> 
                          <span class='String'>"  CASE WHEN srvoptions IS NULL THEN '' ELSE "</span> 
                          <span class='String'>"  '(' || array_to_string(ARRAY(SELECT "</span> 
                          <span class='String'>"  quote_ident(option_name) ||  ' ' || "</span> 
                          <span class='String'>"  quote_literal(option_value)  FROM "</span> 
                          <span class='String'>"  pg_options_to_table(srvoptions)),  ', ') || ')' "</span> 
                          <span class='String'>"  END AS \"%s\",\n"</span> 
                          <span class='String'>"  d.description AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Type"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Version"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"FDW options"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if verbose &raquo; </span> 
 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_foreign_server s\n"</span> 
       <span class='String'>"     JOIN pg_catalog.pg_foreign_data_wrapper f ON f.oid=s.srvfdw\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4656"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"LEFT JOIN pg_description d\n       "</span> 
                           <span class='String'>"ON d.classoid = s.tableoid AND d.objoid = s.oid "</span> 
                             <span class='String'>"AND d.objsubid = 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4656"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"s.srvname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4659"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4658"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4659"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4660"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4660"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of foreign servers"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4660"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4659"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4660"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4659"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listForeignServers &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \deu 
 * 
 * Describes user mappings. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4738"></a><span class='Declare_Function'>listUserMappings</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4740"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4741"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4742"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>80400</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4746"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support user mappings.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4746"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4746"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT um.srvname AS \"%s\",\n"</span> 
                      <span class='String'>"  um.usename AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Server"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"User name"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4738"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n CASE WHEN umoptions IS NULL THEN '' ELSE "</span> 
                          <span class='String'>"  '(' || array_to_string(ARRAY(SELECT "</span> 
                          <span class='String'>"  quote_ident(option_name) ||  ' ' || "</span> 
                          <span class='String'>"  quote_literal(option_value)  FROM "</span> 
                          <span class='String'>"  pg_options_to_table(umoptions)),  ', ') || ')' "</span> 
                          <span class='String'>"  END AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"FDW options"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"\nFROM pg_catalog.pg_user_mappings um\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4738"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"um.srvname"</span><span class='Delimiter'>, </span><span class='String'>"um.usename"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4741"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4740"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4741"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4742"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4742"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of user mappings"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4742"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4741"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4742"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4741"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listUserMappings &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \det 
 * 
 * Describes foreign tables. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4799"></a><span class='Declare_Function'>listForeignTables</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4801"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4802"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4803"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4807"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support foreign tables.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4807"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4807"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT n.nspname AS \"%s\",\n"</span> 
                      <span class='String'>"  c.relname AS \"%s\",\n"</span> 
                      <span class='String'>"  s.srvname AS \"%s\""</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Table"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Server"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4799"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",\n CASE WHEN ftoptions IS NULL THEN '' ELSE "</span> 
                          <span class='String'>"  '(' || array_to_string(ARRAY(SELECT "</span> 
                          <span class='String'>"  quote_ident(option_name) ||  ' ' || "</span> 
                          <span class='String'>"  quote_literal(option_value)  FROM "</span> 
                          <span class='String'>"  pg_options_to_table(ftoptions)),  ', ') || ')' "</span> 
                          <span class='String'>"  END AS \"%s\",\n"</span> 
                          <span class='String'>"  d.description AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"FDW options"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_foreign_table ft\n"</span> 
                         <span class='String'>"  INNER JOIN pg_catalog.pg_class c"</span> 
                         <span class='String'>" ON c.oid = ft.ftrelid\n"</span> 
                         <span class='String'>"  INNER JOIN pg_catalog.pg_namespace n"</span> 
                         <span class='String'>" ON n.oid = c.relnamespace\n"</span> 
                         <span class='String'>"  INNER JOIN pg_catalog.pg_foreign_server s"</span> 
                         <span class='String'>" ON s.oid = ft.ftserver\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4799"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                             <span class='String'>"   LEFT JOIN pg_catalog.pg_description d\n"</span> 
                             <span class='String'>"          ON d.classoid = c.tableoid AND "</span> 
                             <span class='String'>"d.objoid = c.oid AND d.objsubid = 0\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4799"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='String'>"n.nspname"</span><span class='Delimiter'>, </span><span class='String'>"c.relname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.pg_table_is_visible(c.oid)"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1, 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4802"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4801"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4802"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4803"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4803"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of foreign tables"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4803"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4802"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4803"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4802"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listForeignTables &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dx 
 * 
 * Briefly describes installed extensions. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4877"></a><span class='Declare_Function'>listExtensions</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4879"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4880"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4881"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4885"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support extensions.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4885"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4885"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4879"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4879"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT e.extname AS \"%s\", "</span> 
     <span class='String'>"e.extversion AS \"%s\", n.nspname AS \"%s\", c.description AS \"%s\"\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_extension e "</span> 
             <span class='String'>"LEFT JOIN pg_catalog.pg_namespace n ON n.oid = e.extnamespace "</span> 
                 <span class='String'>"LEFT JOIN pg_catalog.pg_description c ON c.objoid = e.oid "</span> 
         <span class='String'>"AND c.classoid = 'pg_catalog.pg_extension'::pg_catalog.regclass\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Version"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Schema"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Description"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4879"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4877"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, 
</span>                          <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"e.extname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4879"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4880"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4879"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4879"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4880"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4881"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4881"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of installed extensions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN4881"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4880"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4881"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4880"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listExtensions &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * \dx+ 
 * 
 * List contents of installed extensions. 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN4934"></a><span class='Declare_Function'>listExtensionContents</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN4936"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN4937"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN4938"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>90100</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN4942"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support extensions.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN4942"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN4942"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4936"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4936"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT e.extname, e.oid\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_extension e\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN4936"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4934"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, 
</span>                          <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"e.extname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4936"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4936"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN4936"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4934"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>) 
</span>                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Did not find any extension named \"%s\".\n"</span><span class='Delimiter'>, 
</span>                           <a href="describe.c.html#LN4934"><span class='Ref_to_Parameter'>pattern</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"Did not find any extensions.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN4938"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN4938"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN4938"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN4983"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>extname</span><span class='Delimiter'>; 
</span><a name="LN4984"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>oid</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN4983"><span class='Ref_To_Local'>extname</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4938"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="describe.c.html#LN4984"><span class='Ref_To_Local'>oid</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4938"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN44"><span class='Ref_to_Proto'>listOneExtensionContents</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4983"><span class='Ref_To_Local'>extname</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN4984"><span class='Ref_To_Local'>oid</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../fe_utils/print.c.html#LN45"><span class='Ref_to_Global_Var'>cancel_pressed</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN4937"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listExtensionContents &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN5006"></a><span class='Declare_Function'>listOneExtensionContents</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>extname</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>oid</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN5008"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN5009"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN5010"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>title</span><span class='Delimiter'>[</span><span class='Number'>1024</span><span class='Delimiter'>]; 
</span><a name="LN5011"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5008"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5008"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>        <span class='String'>"SELECT pg_catalog.pg_describe_object(classid, objid, 0) AS \"%s\"\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_depend\n"</span> 
                      <span class='String'>"WHERE refclassid = 'pg_catalog.pg_extension'::pg_catalog.regclass AND refobjid = '%s' AND deptype = 'e'\n"</span> 
                      <span class='String'>"ORDER BY 1;"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Object description"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="describe.c.html#LN5006"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5009"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5008"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5008"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN5009"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5011"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5010"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN5010"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Objects in extension \"%s\""</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN5006"><span class='Ref_to_Parameter'>extname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5011"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN5010"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5011"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5009"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5011"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5009"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listOneExtensionContents &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* \dRp 
 * Lists publications. 
 * 
 * Takes an optional regexp to select particular publications 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN5044"></a><span class='Declare_Function'>listPublications</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN5046"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN5047"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN5048"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN5049"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN5053"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support publications.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN5053"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN5053"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT pubname AS \"%s\",\n"</span> 
                      <span class='String'>"  pg_catalog.pg_get_userbyid(pubowner) AS \"%s\",\n"</span> 
                      <span class='String'>"  pubinsert AS \"%s\",\n"</span> 
                      <span class='String'>"  pubupdate AS \"%s\",\n"</span> 
                      <span class='String'>"  pubdelete AS \"%s\"\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Inserts"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Updates"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Deletes"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"\nFROM pg_catalog.pg_publication\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5044"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"pubname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5047"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5046"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN5047"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5048"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5048"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of publications"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5048"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5048"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN5049"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5048"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5049"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5047"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5048"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5047"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end listPublications &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* \dRp+ 
 * Describes publications including the contents. 
 * 
 * Takes an optional regexp to select particular publications 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN5108"></a><span class='Declare_Function'>describePublications</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN5110"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN5111"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN5112"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN5116"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support publications.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN5116"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN5116"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT oid, pubname, puballtables, pubinsert,\n"</span> 
                      <span class='String'>"  pubupdate, pubdelete\n"</span> 
                      <span class='String'>"FROM pg_catalog.pg_publication\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5108"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"pubname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 2;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN5146"></a>        <span class='Keyword'>const char</span>  <span class='Declare_Local'>align</span> <span class='Operator'>= </span><span class='String'>'l'</span><span class='Delimiter'>; 
</span><a name="LN5147"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>ncols</span> <span class='Operator'>= </span><span class='Number'>3</span><span class='Delimiter'>; 
</span><a name="LN5148"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>nrows</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN5149"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>tables</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN5150"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>tabres</span><span class='Delimiter'>; 
</span><a name="LN5151"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pubid</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN5152"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pubname</span> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN5153"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>puballtables</span> <span class='Operator'>= </span>strcmp<span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"t"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN5154"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span><a name="LN5155"></a>        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>title</span><span class='Delimiter'>; 
</span><a name="LN5156"></a>        <a href="../../include/fe_utils/print.h.html#LN95"><span class='Ref_to_Struct'>printTableOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Delimiter'>; 
</span><a name="LN5157"></a>        <a href="../../include/fe_utils/print.h.html#LN142"><span class='Ref_to_Struct'>printTableContent</span></a> <span class='Declare_Local'>cont</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5155"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5155"><span class='Ref_To_Local'>title</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Publication %s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="describe.c.html#LN5152"><span class='Ref_To_Local'>pubname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN191"><span class='Ref_to_Proto'>printTableInit</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5156"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5155"><span class='Ref_To_Local'>title</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5147"><span class='Ref_To_Local'>ncols</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5148"><span class='Ref_To_Local'>nrows</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Inserts"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN5146"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Updates"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN5146"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN194"><span class='Ref_to_Proto'>printTableAddHeader</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Deletes"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="describe.c.html#LN5146"><span class='Ref_To_Local'>align</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN196"><span class='Ref_to_Proto'>printTableAddCell</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5111"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN5153"><span class='Ref_To_Local'>puballtables</span></a><span class='Parentheses'>) 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT n.nspname, c.relname\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_class c,\n"</span> 
                              <span class='String'>"     pg_catalog.pg_namespace n\n"</span> 
                              <span class='String'>"WHERE c.relnamespace = n.oid\n"</span> 
                     <span class='String'>"  AND c.relkind = "</span> <a href="../../include/c.h.html#LN161"><span class='Ref_to_Macro'>CppAsString2</span></a><span class='Parentheses'>(</span><a href="../../include/catalog/pg_class.h.html#LN159"><span class='Ref_to_Const'>RELKIND_RELATION</span></a><span class='Parentheses'>) </span><span class='String'>"\n"</span> 
                              <span class='String'>"  AND n.nspname &LT;&GT; 'pg_catalog'\n"</span> 
                              <span class='String'>"  AND n.nspname &LT;&GT; 'information_schema'\n"</span> 
                              <span class='String'>"ORDER BY 1,2"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                              <span class='String'>"SELECT n.nspname, c.relname\n"</span> 
                              <span class='String'>"FROM pg_catalog.pg_class c,\n"</span> 
                              <span class='String'>"     pg_catalog.pg_namespace n,\n"</span> 
                              <span class='String'>"     pg_catalog.pg_publication_rel pr\n"</span> 
                              <span class='String'>"WHERE c.relnamespace = n.oid\n"</span> 
                              <span class='String'>"  AND c.oid = pr.prrelid\n"</span> 
                              <span class='String'>"  AND pr.prpubid = '%s'\n"</span> 
                              <span class='String'>"ORDER BY 1,2"</span><span class='Delimiter'>, </span><a href="describe.c.html#LN5151"><span class='Ref_To_Local'>pubid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="describe.c.html#LN5150"><span class='Ref_To_Local'>tabres</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN5150"><span class='Ref_To_Local'>tabres</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../include/fe_utils/print.h.html#LN202"><span class='Ref_to_Proto'>printTableCleanup</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5155"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="describe.c.html#LN5149"><span class='Ref_To_Local'>tables</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5150"><span class='Ref_To_Local'>tabres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN5149"><span class='Ref_To_Local'>tables</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Tables:"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN5154"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="describe.c.html#LN5154"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="describe.c.html#LN5149"><span class='Ref_To_Local'>tables</span></a><span class='Delimiter'>; </span><a href="describe.c.html#LN5154"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"    \"%s.%s\""</span><span class='Delimiter'>, 
</span>                              <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5150"><span class='Ref_To_Local'>tabres</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5154"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                              <a href="../../interfaces/libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5150"><span class='Ref_To_Local'>tabres</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5154"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
            <a href="../../include/fe_utils/print.h.html#LN198"><span class='Ref_to_Proto'>printTableAddFooter</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5150"><span class='Ref_To_Local'>tabres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../include/fe_utils/print.h.html#LN203"><span class='Ref_to_Proto'>printTable</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/fe_utils/print.h.html#LN202"><span class='Ref_to_Proto'>printTableCleanup</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5157"><span class='Ref_To_Local'>cont</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5155"><span class='Ref_To_Local'>title</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;PQntuples(res);... &raquo; </span> 
 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5110"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5112"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describePublications &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* \dRs 
 * Describes subscriptions. 
 * 
 * Takes an optional regexp to select particular subscriptions 
 */ 
</span><span class='Keyword'>bool 
</span><a name="LN5235"></a><span class='Declare_Function'>describeSubscriptions</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pattern</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>verbose</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN5237"></a>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN43"><span class='Ref_to_Struct'>PQExpBufferData</span></a> <span class='Declare_Local'>buf</span><span class='Delimiter'>; 
</span><a name="LN5238"></a>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN5239"></a>    <a href="../../include/fe_utils/print.h.html#LN162"><span class='Ref_to_Struct'>printQueryOpt</span></a> <span class='Declare_Local'>myopt</span> <span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>; 
</span><a name="LN5240"></a>    <span class='Keyword'>static const bool </span><span class='Declare_Local'>translate_columns</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>    <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>}; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&LT; </span><span class='Number'>100000</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN5245"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>sverbuf</span><span class='Delimiter'>[</span><span class='Number'>32</span><span class='Delimiter'>]; 
</span> 
        <a href="common.c.html#LN218"><span class='Ref_to_Func'>psql_error</span></a><span class='Parentheses'>(</span><span class='String'>"The server (version %s) does not support subscriptions.\n"</span><span class='Delimiter'>, 
</span>                   <a href="../../include/fe_utils/string_utils.h.html#LN30"><span class='Ref_to_Proto'>formatPGVersionNumber</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                                         <a href="describe.c.html#LN5245"><span class='Ref_To_Local'>sverbuf</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="describe.c.html#LN5245"><span class='Ref_To_Local'>sverbuf</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN87"><span class='Ref_to_Func'>initPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN232"><span class='Ref_to_Func'>printfPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                      <span class='String'>"SELECT subname AS \"%s\"\n"</span> 
                      <span class='String'>",  pg_catalog.pg_get_userbyid(subowner) AS \"%s\"\n"</span> 
                      <span class='String'>",  subenabled AS \"%s\"\n"</span> 
                      <span class='String'>",  subpublications AS \"%s\"\n"</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Name"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Owner"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Enabled"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                      <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Publication"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="describe.c.html#LN5235"><span class='Ref_to_Parameter'>verbose</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>",  subsynccommit AS \"%s\"\n"</span> 
                          <span class='String'>",  subconninfo AS \"%s\"\n"</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Synchronous commit"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                          <a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Conninfo"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* Only display subscriptions in current database. */ 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"FROM pg_catalog.pg_subscription\n"</span> 
                         <span class='String'>"WHERE subdbid = (SELECT oid\n"</span> 
                         <span class='String'>"                 FROM pg_catalog.pg_database\n"</span> 
                     <span class='String'>"                 WHERE datname = current_database())"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/string_utils.h.html#LN53"><span class='Ref_to_Proto'>processSQLNamePattern</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="describe.c.html#LN5235"><span class='Ref_to_Parameter'>pattern</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>"subname"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                          <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN164"><span class='Ref_to_Proto'>appendPQExpBufferStr</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><span class='String'>"ORDER BY 1;"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5238"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Operator'>.</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN45"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/pqexpbuffer.h.html#LN121"><span class='Ref_to_Proto'>termPQExpBuffer</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="describe.c.html#LN5237"><span class='Ref_To_Local'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="describe.c.html#LN5238"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="describe.c.html#LN5239"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN165"><span class='Ref_to_Member'>nullPrint</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5239"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN166"><span class='Ref_to_Member'>title</span></a> <span class='Operator'>= </span>_<span class='Parentheses'>(</span><span class='String'>"List of subscriptions"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5239"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN168"><span class='Ref_to_Member'>translate_header</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5239"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN169"><span class='Ref_to_Member'>translate_columns</span></a> <span class='Operator'>= </span><a href="describe.c.html#LN5240"><span class='Ref_To_Local'>translate_columns</span></a><span class='Delimiter'>; 
</span>    <a href="describe.c.html#LN5239"><span class='Ref_To_Local'>myopt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN171"><span class='Ref_to_Member'>n_translate_columns</span></a> <span class='Operator'>= </span><a href="../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5240"><span class='Ref_To_Local'>translate_columns</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN205"><span class='Ref_to_Proto'>printQuery</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5238"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="describe.c.html#LN5239"><span class='Ref_To_Local'>myopt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5238"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end describeSubscriptions &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * printACLColumn 
 * 
 * Helper function for consistently formatting ACL (privilege) columns. 
 * The proper targetlist entry is appended to buf.  Note lack of any 
 * whitespace or comma decoration. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN5312"></a><span class='Declare_Function'>printACLColumn</span><span class='Parentheses'>(</span><a href="../../interfaces/libpq/pqexpbuffer.h.html#LN50"><span class='Ref_to_Typedef'>PQExpBuffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>colname</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN105"><span class='Ref_to_Member'>sversion</span></a> <span class='Operator'>&GT;= </span><span class='Number'>80100</span><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5312"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.array_to_string(%s, E'\\n') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN5312"><span class='Ref_to_Parameter'>colname</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Access privileges"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../interfaces/libpq/pqexpbuffer.c.html#LN260"><span class='Ref_to_Func'>appendPQExpBuffer</span></a><span class='Parentheses'>(</span><a href="describe.c.html#LN5312"><span class='Ref_to_Parameter'>buf</span></a><span class='Delimiter'>, 
</span>                          <span class='String'>"pg_catalog.array_to_string(%s, '\\n') AS \"%s\""</span><span class='Delimiter'>, 
</span>                          <a href="describe.c.html#LN5312"><span class='Ref_to_Parameter'>colname</span></a><span class='Delimiter'>, </span><a href="../../include/c.h.html#LN138"><span class='Ref_to_Macro'>gettext_noop</span></a><span class='Parentheses'>(</span><span class='String'>"Access privileges"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>