<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\bin\psql\startup.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\bin\psql\startup.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:02 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* 
 * psql - the PostgreSQL interactive terminal 
 * 
 * Copyright (c) 2000-2017, PostgreSQL Global Development Group 
 * 
 * src/bin/psql/startup.c 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
 
<span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<span class='Keyword'>#include </span><span class='String'>&LT;unistd.h&GT;</span> 
<span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* WIN32 */ 
</span><span class='Keyword'>#include </span><span class='String'>&LT;io.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;win32.h&GT;</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WIN32 */ 
</span> 
<span class='Keyword'>#include </span><span class='String'>"getopt_long.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"command.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"common.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"describe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"help.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"input.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"mainloop.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fe_utils/print.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"settings.h"</span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * Global psql options 
 */ 
</span><a name="LN32"></a><a href="settings.h.html#LN79"><span class='Ref_to_Typedef'>PsqlSettings</span></a> <span class='Declare_Var'>pset</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<a name="LN35"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SYSPSQLRC</span>   <span class='String'>"psqlrc"</span> 
<a name="LN36"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PSQLRC</span>      <span class='String'>".psqlrc"</span> 
<span class='Directive'>#else</span> 
<a name="LN38"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SYSPSQLRC</span>   <span class='String'>"psqlrc"</span> 
<a name="LN39"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PSQLRC</span>      <span class='String'>"psqlrc.conf"</span> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Structures to pass information between the option parsing routine 
 * and the main function 
 */ 
</span><a name="LN46"></a><span class='Control'>enum</span> <span class='Declare_Enum'>_actions</span> 
<span class='Delimiter'>{ 
</span><a name="LN48"></a>    <span class='Declare_Enum_Const'>ACT_SINGLE_QUERY</span><span class='Delimiter'>, 
</span><a name="LN49"></a>    <span class='Declare_Enum_Const'>ACT_SINGLE_SLASH</span><span class='Delimiter'>, 
</span><a name="LN50"></a>    <span class='Declare_Enum_Const'>ACT_FILE</span> 
<span class='Delimiter'>}; 
</span> 
<a name="LN53"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>SimpleActionListCell</span> 
<span class='Delimiter'>{ 
</span><a name="LN55"></a>    <span class='Control'>struct</span> <a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a> <span class='Operator'>*</span><span class='Declare_Member'>next</span><span class='Delimiter'>; 
</span><a name="LN56"></a>    <span class='Control'>enum</span> <a href="startup.c.html#LN46"><span class='Ref_to_Enum'>_actions</span></a> <span class='Declare_Member'>action</span><span class='Delimiter'>; 
</span><a name="LN57"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>val</span><span class='Delimiter'>; 
</span><a name="LN58"></a>} <span class='Declare_Typedef'>SimpleActionListCell</span><span class='Delimiter'>; 
</span> 
<a name="LN60"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>SimpleActionList</span> 
<span class='Delimiter'>{ 
</span><a name="LN62"></a>    <a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a> <span class='Operator'>*</span><span class='Declare_Member'>head</span><span class='Delimiter'>; 
</span><a name="LN63"></a>    <a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a> <span class='Operator'>*</span><span class='Declare_Member'>tail</span><span class='Delimiter'>; 
</span><a name="LN64"></a>} <span class='Declare_Typedef'>SimpleActionList</span><span class='Delimiter'>; 
</span> 
<a name="LN66"></a><span class='Control'>struct</span> <span class='Declare_Struct'>adhoc_opts</span> 
<span class='Delimiter'>{ 
</span><a name="LN68"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>dbname</span><span class='Delimiter'>; 
</span><a name="LN69"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>host</span><span class='Delimiter'>; 
</span><a name="LN70"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>port</span><span class='Delimiter'>; 
</span><a name="LN71"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>username</span><span class='Delimiter'>; 
</span><a name="LN72"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>logfilename</span><span class='Delimiter'>; 
</span><a name="LN73"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>no_readline</span><span class='Delimiter'>; 
</span><a name="LN74"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>no_psqlrc</span><span class='Delimiter'>; 
</span><a name="LN75"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>single_txn</span><span class='Delimiter'>; 
</span><a name="LN76"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>list_dbs</span><span class='Delimiter'>; 
</span><a name="LN77"></a>    <a href="startup.c.html#LN60"><span class='Ref_to_Struct'>SimpleActionList</span></a> <span class='Declare_Member'>actions</span><span class='Delimiter'>; 
}; 
</span> 
<a name="LN80"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>parse_psql_options</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>argc</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>argv</span><span class='Delimiter'>[], 
</span><a name="LN81"></a>                   <span class='Control'>struct</span> <a href="startup.c.html#LN66"><span class='Ref_to_Struct'>adhoc_opts</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>options</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN82"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>simple_action_list_append</span><span class='Parentheses'>(</span><a href="startup.c.html#LN60"><span class='Ref_to_Struct'>SimpleActionList</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>list</span><span class='Delimiter'>, 
</span><a name="LN83"></a>                          <span class='Control'>enum</span> <a href="startup.c.html#LN46"><span class='Ref_to_Enum'>_actions</span></a> <span class='Declare_Parameter'>action</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>val</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN84"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>process_psqlrc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>argv0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN85"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>process_psqlrc_file</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>filename</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN86"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>showVersion</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN87"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>EstablishVariableSpace</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN89"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>NOPAGER</span>     <span class='Number'>0</span> 
 
<span class='Comment_Multi_Line'>/* 
 * 
 * main 
 * 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN97"></a><span class='Declare_Function'>main</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>argc</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>argv</span><span class='Delimiter'>[]</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN99"></a>    <span class='Control'>struct</span> <a href="startup.c.html#LN66"><span class='Ref_to_Struct'>adhoc_opts</span></a> <span class='Declare_Local'>options</span><span class='Delimiter'>; 
</span><a name="LN100"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>successResult</span><span class='Delimiter'>; 
</span><a name="LN101"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>have_password</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN102"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>password</span><span class='Delimiter'>[</span><span class='Number'>100</span><span class='Delimiter'>]; 
</span><a name="LN103"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>password_prompt</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN104"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>new_pass</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN93"><span class='Ref_to_Proto'>set_pglocale_pgservice</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>], </span><a href="../../include/c.h.html#LN1009"><span class='Ref_to_Macro'>PG_TEXTDOMAIN</span></a><span class='Parentheses'>(</span><span class='String'>"psql"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argc</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span>strcmp<span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><span class='String'>"-?"</span><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argc</span></a> <span class='Operator'>== </span><span class='Number'>2</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><span class='String'>"--help"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="help.h.html#LN10"><span class='Ref_to_Proto'>usage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN89"><span class='Ref_to_Const'>NOPAGER</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><span class='String'>"--version"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>], </span><span class='String'>"-V"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="startup.c.html#LN86"><span class='Ref_to_Proto'>showVersion</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
<span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
    setvbuf<span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span>_IONBF<span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN49"><span class='Ref_to_Proto'>get_progname</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="../../include/fe_utils/print.h.html#LN210"><span class='Ref_to_Proto'>setDecimalLocale</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN594"><span class='Ref_to_Proto'>PQenv2encoding</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN83"><span class='Ref_to_Member'>queryFout</span></a> <span class='Operator'>= </span>stdout<span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN84"><span class='Ref_to_Member'>queryFoutPipe</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN86"><span class='Ref_to_Member'>copyStream</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN88"><span class='Ref_to_Member'>last_error_result</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN102"><span class='Ref_to_Member'>cur_cmd_source</span></a> <span class='Operator'>= </span>stdin<span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN104"><span class='Ref_to_Member'>cur_cmd_interactive</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* We rely on unmentioned fields of pset.popt to start out 0/false/NULL */ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN29"><span class='Ref_to_EnumConst'>PRINT_ALIGNED</span></a><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN100"><span class='Ref_to_Member'>border</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN102"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN104"><span class='Ref_to_Member'>pager_min_lines</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN107"><span class='Ref_to_Member'>start_table</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN108"><span class='Ref_to_Member'>stop_table</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN109"><span class='Ref_to_Member'>default_footer</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN120"><span class='Ref_to_Member'>unicode_border_linestyle</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN85"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_SINGLE</span></a><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN121"><span class='Ref_to_Member'>unicode_column_linestyle</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN85"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_SINGLE</span></a><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN122"><span class='Ref_to_Member'>unicode_header_linestyle</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN85"><span class='Ref_to_EnumConst'>UNICODE_LINESTYLE_SINGLE</span></a><span class='Delimiter'>; 
</span> 
    <a href="../../include/fe_utils/print.h.html#LN212"><span class='Ref_to_Proto'>refresh_utf8format</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* We must get COLUMNS here before readline() sets it */ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN118"><span class='Ref_to_Member'>env_columns</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"COLUMNS"</span><span class='Parentheses'>) </span><span class='Operator'>? </span>atoi<span class='Parentheses'>(</span>getenv<span class='Parentheses'>(</span><span class='String'>"COLUMNS"</span><span class='Parentheses'>))</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN99"><span class='Ref_to_Member'>notty</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>!</span>isatty<span class='Parentheses'>(</span>fileno<span class='Parentheses'>(</span>stdin<span class='Parentheses'>))</span> <span class='Operator'>|| !</span>isatty<span class='Parentheses'>(</span>fileno<span class='Parentheses'>(</span>stdout<span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>= </span><a href="../pg_dump/pg_backup.h.html#LN31"><span class='Ref_to_EnumConst'>TRI_DEFAULT</span></a><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN87"><span class='Ref_to_Proto'>EstablishVariableSpace</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"VERSION"</span><span class='Delimiter'>, </span>PG_VERSION_STR<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Default values for variables (that don't match the result of \unset) */ 
</span>    <a href="variables.h.html#LN86"><span class='Ref_to_Proto'>SetVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"AUTOCOMMIT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PROMPT1"</span><span class='Delimiter'>, </span><a href="settings.h.html#LN25"><span class='Ref_to_Const'>DEFAULT_PROMPT1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PROMPT2"</span><span class='Delimiter'>, </span><a href="settings.h.html#LN26"><span class='Ref_to_Const'>DEFAULT_PROMPT2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PROMPT3"</span><span class='Delimiter'>, </span><a href="settings.h.html#LN27"><span class='Ref_to_Const'>DEFAULT_PROMPT3</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN80"><span class='Ref_to_Proto'>parse_psql_options</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argc</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If no action was specified and we're in non-interactive mode, treat it 
     * as if the user had specified "-f -".  This lets single-transaction mode 
     * work in this case. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Operator'>.</span><a href="startup.c.html#LN62"><span class='Ref_to_Member'>head</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN99"><span class='Ref_to_Member'>notty</span></a><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN82"><span class='Ref_to_Proto'>simple_action_list_append</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN50"><span class='Ref_to_EnumConst'>ACT_FILE</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Bail out if -1 was specified but will be ignored. */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN75"><span class='Ref_to_Member'>single_txn</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Operator'>.</span><a href="startup.c.html#LN62"><span class='Ref_to_Member'>head</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s: -1 can only be used in non-interactive mode\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>&& 
</span>        <span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN14"><span class='Ref_to_Const'>DEFAULT_FIELD_SEP</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>&& 
</span>        <span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN15"><span class='Ref_to_Const'>DEFAULT_RECORD_SEP</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN71"><span class='Ref_to_Member'>username</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN103"><span class='Ref_To_Local'>password_prompt</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Password: "</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="startup.c.html#LN103"><span class='Ref_To_Local'>password_prompt</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Password for user %s: "</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                   <a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN71"><span class='Ref_to_Member'>username</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>== </span><a href="../pg_dump/pg_backup.h.html#LN33"><span class='Ref_to_EnumConst'>TRI_YES</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN103"><span class='Ref_To_Local'>password_prompt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN102"><span class='Ref_To_Local'>password</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="startup.c.html#LN102"><span class='Ref_To_Local'>password</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN101"><span class='Ref_To_Local'>have_password</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* loop until we have a password if requested by backend */ 
</span>    <span class='Control'>do</span> 
    <span class='Delimiter'>{ 
</span><a name="LN215"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PARAMS_ARRAY_SIZE</span>   <span class='Number'>8</span> 
<a name="LN216"></a>        <span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Local'>keywords</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN215"><span class='Ref_to_Const'>PARAMS_ARRAY_SIZE</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN217"></a>        <span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Local'>values</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN215"><span class='Ref_to_Const'>PARAMS_ARRAY_SIZE</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"host"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN69"><span class='Ref_to_Member'>host</span></a><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"port"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN70"><span class='Ref_to_Member'>port</span></a><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"user"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN71"><span class='Ref_to_Member'>username</span></a><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"password"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="startup.c.html#LN101"><span class='Ref_To_Local'>have_password</span></a> <span class='Operator'>? </span><a href="startup.c.html#LN102"><span class='Ref_To_Local'>password</span></a> <span class='Operator'>: </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"dbname"</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* see do_connect() */ 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>4</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN76"><span class='Ref_to_Member'>list_dbs</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN68"><span class='Ref_to_Member'>dbname</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>            <span class='String'>"postgres"</span> <span class='Operator'>: </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN68"><span class='Ref_to_Member'>dbname</span></a><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"fallback_application_name"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>5</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>"client_encoding"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>6</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN99"><span class='Ref_to_Member'>notty</span></a> <span class='Operator'>|| </span>getenv<span class='Parentheses'>(</span><span class='String'>"PGCLIENTENCODING"</span><span class='Parentheses'>))</span> <span class='Operator'>? </span><span class='Null_Value'>NULL </span><span class='Operator'>: </span><span class='String'>"auto"</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <a href="startup.c.html#LN104"><span class='Ref_To_Local'>new_pass</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN261"><span class='Ref_to_Proto'>PQconnectdbParams</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN216"><span class='Ref_To_Local'>keywords</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN217"><span class='Ref_To_Local'>values</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN317"><span class='Ref_to_Proto'>PQstatus</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN49"><span class='Ref_to_EnumConst'>CONNECTION_BAD</span></a> <span class='Operator'>&& 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN326"><span class='Ref_to_Proto'>PQconnectionNeedsPassword</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>            <span class='Operator'>!</span><a href="startup.c.html#LN101"><span class='Ref_To_Local'>have_password</span></a> <span class='Operator'>&& 
</span>            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>!= </span><a href="../pg_dump/pg_backup.h.html#LN32"><span class='Ref_to_EnumConst'>TRI_NO</span></a><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../port/sprompt.c.html#LN35"><span class='Ref_to_Func'>simple_prompt</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN103"><span class='Ref_To_Local'>password_prompt</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN102"><span class='Ref_To_Local'>password</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="startup.c.html#LN102"><span class='Ref_To_Local'>password</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="startup.c.html#LN101"><span class='Ref_To_Local'>have_password</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>            <a href="startup.c.html#LN104"><span class='Ref_To_Local'>new_pass</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end do &raquo; </span> <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN104"><span class='Ref_To_Local'>new_pass</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN103"><span class='Ref_To_Local'>password_prompt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../interfaces/libpq/libpq-fe.h.html#LN317"><span class='Ref_to_Proto'>PQstatus</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN49"><span class='Ref_to_EnumConst'>CONNECTION_BAD</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><span class='String'>"%s: %s"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN323"><span class='Ref_to_Proto'>PQerrorMessage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN153"><span class='Ref_to_Const'>EXIT_BADCONN</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="common.h.html#LN30"><span class='Ref_to_Proto'>setup_cancel_handler</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="../../interfaces/libpq/libpq-fe.h.html#LN362"><span class='Ref_to_Proto'>PQsetNoticeProcessor</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="common.h.html#LN24"><span class='Ref_to_Proto'>NoticeProcessor</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="command.h.html#LN41"><span class='Ref_to_Proto'>SyncVariables</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN76"><span class='Ref_to_Member'>list_dbs</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN271"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>success</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN74"><span class='Ref_to_Member'>no_psqlrc</span></a><span class='Parentheses'>) 
</span>            <a href="startup.c.html#LN84"><span class='Ref_to_Proto'>process_psqlrc</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="startup.c.html#LN271"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>= </span><a href="describe.h.html#LN60"><span class='Ref_to_Proto'>listAllDbs</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN271"><span class='Ref_To_Local'>success</span></a> <span class='Operator'>? </span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a> <span class='Operator'>: </span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN72"><span class='Ref_to_Member'>logfilename</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN290"><span class='Ref_to_Macro'>fopen</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN72"><span class='Ref_to_Member'>logfilename</span></a><span class='Delimiter'>, </span><span class='String'>"a"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s: could not open log file \"%s\": %s\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN72"><span class='Ref_to_Member'>logfilename</span></a><span class='Delimiter'>, </span><a href="../../port/strerror.c.html#LN17"><span class='Ref_to_Func'>strerror</span></a><span class='Parentheses'>(</span>errno<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN74"><span class='Ref_to_Member'>no_psqlrc</span></a><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN84"><span class='Ref_to_Proto'>process_psqlrc</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN97"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If any actions were given by user, process them in the order in which 
     * they were specified.  Note single_txn is only effective in this mode. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Operator'>.</span><a href="startup.c.html#LN62"><span class='Ref_to_Member'>head</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN301"></a>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN302"></a>        <a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cell</span><span class='Delimiter'>; 
</span> 
        <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* silence compiler */ 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN75"><span class='Ref_to_Member'>single_txn</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="startup.c.html#LN301"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><span class='String'>"BEGIN"</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN123"><span class='Ref_to_Member'>on_error_stop</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN155"><span class='Ref_to_Const'>EXIT_USER</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="startup.c.html#LN382"><span class='Ref_to_Label'>error</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN301"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Operator'>.</span><a href="startup.c.html#LN62"><span class='Ref_to_Member'>head</span></a><span class='Delimiter'>; </span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Delimiter'>; </span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN55"><span class='Ref_to_Member'>next</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN56"><span class='Ref_to_Member'>action</span></a> <span class='Operator'>== </span><a href="startup.c.html#LN48"><span class='Ref_to_EnumConst'>ACT_SINGLE_QUERY</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN130"><span class='Ref_to_Member'>echo</span></a> <span class='Operator'>== </span><a href="settings.h.html#LN39"><span class='Ref_to_EnumConst'>PSQL_ECHO_ALL</span></a><span class='Parentheses'>) 
</span>                    puts<span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="common.h.html#LN38"><span class='Ref_to_Proto'>SendQuery</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a><span class='Parentheses'>) 
</span>                    <span class='Operator'>? </span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a> <span class='Operator'>: </span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN56"><span class='Ref_to_Member'>action</span></a> <span class='Operator'>== </span><a href="startup.c.html#LN49"><span class='Ref_to_EnumConst'>ACT_SINGLE_SLASH</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN332"></a>                <a href="../../include/fe_utils/psqlscan.h.html#LN26"><span class='Ref_to_Typedef'>PsqlScanState</span></a> <span class='Declare_Local'>scan_state</span><span class='Delimiter'>; 
</span><a name="LN333"></a>                <a href="conditional.h.html#LN55"><span class='Ref_to_Typedef'>ConditionalStack</span></a> <span class='Declare_Local'>cond_stack</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN130"><span class='Ref_to_Member'>echo</span></a> <span class='Operator'>== </span><a href="settings.h.html#LN39"><span class='Ref_to_EnumConst'>PSQL_ECHO_ALL</span></a><span class='Parentheses'>) 
</span>                    puts<span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="startup.c.html#LN332"><span class='Ref_To_Local'>scan_state</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/psqlscan.h.html#LN76"><span class='Ref_to_Proto'>psql_scan_create</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="mainloop.c.html#LN20"><span class='Ref_to_Global_Var'>psqlscan_callbacks</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../include/fe_utils/psqlscan.h.html#LN81"><span class='Ref_to_Proto'>psql_scan_setup</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN332"><span class='Ref_To_Local'>scan_state</span></a><span class='Delimiter'>, 
</span>                                <a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN82"><span class='Ref_to_Member'>encoding</span></a><span class='Delimiter'>, </span><a href="common.h.html#LN41"><span class='Ref_to_Proto'>standard_strings</span></a><span class='Parentheses'>())</span><span class='Delimiter'>; 
</span>                <a href="startup.c.html#LN333"><span class='Ref_To_Local'>cond_stack</span></a> <span class='Operator'>= </span><a href="conditional.c.html#LN14"><span class='Ref_to_Func'>conditional_stack_create</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <a href="../../include/fe_utils/psqlscan.h.html#LN79"><span class='Ref_to_Proto'>psql_scan_set_passthrough</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN332"><span class='Ref_To_Local'>scan_state</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="startup.c.html#LN333"><span class='Ref_To_Local'>cond_stack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="command.h.html#LN27"><span class='Ref_to_Proto'>HandleSlashCmds</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN332"><span class='Ref_To_Local'>scan_state</span></a><span class='Delimiter'>, 
</span>                                                <a href="startup.c.html#LN333"><span class='Ref_To_Local'>cond_stack</span></a><span class='Delimiter'>, 
</span>                                                <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                                                <span class='Null_Value'>NULL</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="command.h.html#LN22"><span class='Ref_to_EnumConst'>PSQL_CMD_ERROR</span></a> 
                    <span class='Operator'>? </span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a> <span class='Operator'>: </span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Delimiter'>; 
</span> 
                <a href="../../include/fe_utils/psqlscan.h.html#LN77"><span class='Ref_to_Proto'>psql_scan_destroy</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN332"><span class='Ref_To_Local'>scan_state</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="conditional.c.html#LN26"><span class='Ref_to_Func'>conditional_stack_destroy</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN333"><span class='Ref_To_Local'>cond_stack</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if cell-&GT;action==ACT_SIN... &raquo; </span> 
            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN56"><span class='Ref_to_Member'>action</span></a> <span class='Operator'>== </span><a href="startup.c.html#LN50"><span class='Ref_to_EnumConst'>ACT_FILE</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="command.h.html#LN32"><span class='Ref_to_Proto'>process_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN302"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* should never come here */ 
</span>                <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>!= </span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a> <span class='Operator'>&& </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN123"><span class='Ref_to_Member'>on_error_stop</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for cell=options.actions.... &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN75"><span class='Ref_to_Member'>single_txn</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="startup.c.html#LN301"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="common.h.html#LN35"><span class='Ref_to_Proto'>PSQLexec</span></a><span class='Parentheses'>(</span><span class='String'>"COMMIT"</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN123"><span class='Ref_to_Member'>on_error_stop</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN155"><span class='Ref_to_Const'>EXIT_USER</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="startup.c.html#LN382"><span class='Ref_to_Label'>error</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="../../interfaces/libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN301"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
<a name="LN382"></a><span class='Label'>error</span><span class='Operator'>: 
</span>        <span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if options.actions.head!... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * or otherwise enter interactive main loop 
     */ 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="command.h.html#LN39"><span class='Ref_to_Proto'>connection_warnings</span></a><span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span>_<span class='Parentheses'>(</span><span class='String'>"Type \"help\" for help.\n\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="input.h.html#LN43"><span class='Ref_to_Proto'>initializeInput</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN99"><span class='Ref_To_Local'>options</span></a><span class='Operator'>.</span><a href="startup.c.html#LN73"><span class='Ref_to_Member'>no_readline</span></a> <span class='Operator'>? </span><span class='Number'>0</span> <span class='Operator'>: </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a> <span class='Operator'>= </span><a href="mainloop.h.html#LN14"><span class='Ref_to_Proto'>MainLoop</span></a><span class='Parentheses'>(</span>stdin<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* clean up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>) 
</span>        fclose<span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN113"><span class='Ref_to_Member'>logfile</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../interfaces/libpq/libpq-fe.h.html#LN272"><span class='Ref_to_Proto'>PQfinish</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="common.h.html#LN17"><span class='Ref_to_Proto'>setQFout</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="startup.c.html#LN100"><span class='Ref_To_Local'>successResult</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end main &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Parse command line options 
 */ 
</span> 
<span class='Keyword'>static void 
</span><a name="LN413"></a><span class='Declare_Function'>parse_psql_options</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>argc</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>argv</span><span class='Delimiter'>[], </span><span class='Control'>struct</span> <a href="startup.c.html#LN66"><span class='Ref_to_Struct'>adhoc_opts</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>options</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN415"></a>    <span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../../include/getopt_long.h.html#LN15"><span class='Ref_to_Struct'>option</span></a> <span class='Declare_Local'>long_options</span><span class='Delimiter'>[] </span><span class='Operator'>= 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Delimiter'>{</span><span class='String'>"echo-all"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'a'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"no-align"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'A'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"command"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'c'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"dbname"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'d'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"echo-queries"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'e'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"echo-errors"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'b'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"echo-hidden"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'E'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"file"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'f'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"field-separator"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'F'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"field-separator-zero"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'z'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"host"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'h'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"html"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'H'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"list"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'l'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"log-file"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'L'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"no-readline"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'n'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"single-transaction"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'1'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"output"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'o'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"port"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'p'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"pset"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'P'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"quiet"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'q'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"record-separator"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'R'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"record-separator-zero"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'0'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"single-step"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'s'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"single-line"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'S'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"tuples-only"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'t'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"table-attr"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'T'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"username"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'U'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"set"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'v'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"variable"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN24"><span class='Ref_to_Const'>required_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'v'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"version"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'V'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"no-password"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'w'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"password"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'W'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"expanded"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'x'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"no-psqlrc"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN23"><span class='Ref_to_Const'>no_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='String'>'X'</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='String'>"help"</span><span class='Delimiter'>, </span><a href="../../include/getopt_long.h.html#LN25"><span class='Ref_to_Const'>optional_argument</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>}, 
</span>        <span class='Delimiter'>{</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>} 
</span>    <span class='Delimiter'>}; 
</span> 
<a name="LN455"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>optindex</span><span class='Delimiter'>; 
</span><a name="LN456"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span> 
    memset<span class='Parentheses'>(</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof </span><span class='Operator'>*</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="startup.c.html#LN456"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><a href="../../include/getopt_long.h.html#LN30"><span class='Ref_to_Proto'>getopt_long</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argc</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>, </span><span class='String'>"aAbc:d:eEf:F:h:HlL:no:p:P:qR:sStT:U:v:VwWxXz?01"</span><span class='Delimiter'>, 
</span>                            <a href="startup.c.html#LN415"><span class='Ref_To_Local'>long_options</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN455"><span class='Ref_To_Local'>optindex</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= -</span><span class='Number'>1</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN456"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='String'>'a'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ECHO"</span><span class='Delimiter'>, </span><span class='String'>"all"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'A'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN28"><span class='Ref_to_EnumConst'>PRINT_UNALIGNED</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'b'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ECHO"</span><span class='Delimiter'>, </span><span class='String'>"errors"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'c'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\\'</span><span class='Parentheses'>) 
</span>                    <a href="startup.c.html#LN82"><span class='Ref_to_Proto'>simple_action_list_append</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Delimiter'>, 
</span>                                              <a href="startup.c.html#LN49"><span class='Ref_to_EnumConst'>ACT_SINGLE_SLASH</span></a><span class='Delimiter'>, 
</span>                                              <a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="startup.c.html#LN82"><span class='Ref_to_Proto'>simple_action_list_append</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Delimiter'>, 
</span>                                              <a href="startup.c.html#LN48"><span class='Ref_to_EnumConst'>ACT_SINGLE_QUERY</span></a><span class='Delimiter'>, 
</span>                                              <a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'d'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN68"><span class='Ref_to_Member'>dbname</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'e'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ECHO"</span><span class='Delimiter'>, </span><span class='String'>"queries"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'E'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN86"><span class='Ref_to_Proto'>SetVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ECHO_HIDDEN"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'f'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN82"><span class='Ref_to_Proto'>simple_action_list_append</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN77"><span class='Ref_to_Member'>actions</span></a><span class='Delimiter'>, 
</span>                                          <a href="startup.c.html#LN50"><span class='Ref_to_EnumConst'>ACT_FILE</span></a><span class='Delimiter'>, 
</span>                                          <a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'F'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'h'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN69"><span class='Ref_to_Member'>host</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'H'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN97"><span class='Ref_to_Member'>format</span></a> <span class='Operator'>= </span><a href="../../include/fe_utils/print.h.html#LN31"><span class='Ref_to_EnumConst'>PRINT_HTML</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'l'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN76"><span class='Ref_to_Member'>list_dbs</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'L'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN72"><span class='Ref_to_Member'>logfilename</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'n'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN73"><span class='Ref_to_Member'>no_readline</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'o'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="common.h.html#LN17"><span class='Ref_to_Proto'>setQFout</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>))</span> 
                    <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'p'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN70"><span class='Ref_to_Member'>port</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'P'</span><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN526"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>value</span><span class='Delimiter'>; 
</span><a name="LN527"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>equal_loc</span><span class='Delimiter'>; 
</span><a name="LN528"></a>                    <span class='Keyword'>bool</span>        <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
                    <span class='Keyword'>value </span><span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="startup.c.html#LN527"><span class='Ref_To_Local'>equal_loc</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN527"><span class='Ref_To_Local'>equal_loc</span></a><span class='Parentheses'>) 
</span>                        <a href="startup.c.html#LN528"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><a href="startup.c.html#LN527"><span class='Ref_To_Local'>equal_loc</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                        <a href="startup.c.html#LN528"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="command.h.html#LN34"><span class='Ref_to_Proto'>do_pset</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="startup.c.html#LN527"><span class='Ref_To_Local'>equal_loc</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN528"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s: could not set printing parameter \"%s\"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Control'>case</span> <span class='String'>'q'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN86"><span class='Ref_to_Proto'>SetVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"QUIET"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'R'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN91"><span class='Ref_to_Member'>separator</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'s'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN86"><span class='Ref_to_Proto'>SetVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"SINGLESTEP"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'S'</span><span class='Operator'>: 
</span>                <a href="variables.h.html#LN86"><span class='Ref_to_Proto'>SetVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"SINGLELINE"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN106"><span class='Ref_to_Member'>tuples_only</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'T'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN116"><span class='Ref_to_Member'>tableAttr</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'U'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN71"><span class='Ref_to_Member'>username</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'v'</span><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN573"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>value</span><span class='Delimiter'>; 
</span><a name="LN574"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>equal_loc</span><span class='Delimiter'>; 
</span> 
                    <span class='Keyword'>value </span><span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="startup.c.html#LN574"><span class='Ref_To_Local'>equal_loc</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Delimiter'>, </span><span class='String'>'='</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN574"><span class='Ref_To_Local'>equal_loc</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="variables.h.html#LN87"><span class='Ref_to_Proto'>DeleteVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Parentheses'>))</span> 
                            <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* error already printed */ 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><a href="startup.c.html#LN574"><span class='Ref_To_Local'>equal_loc</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="variables.h.html#LN85"><span class='Ref_to_Proto'>SetVariable</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="startup.c.html#LN574"><span class='Ref_To_Local'>equal_loc</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>))</span> 
                            <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* error already printed */ 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Control'>case</span> <span class='String'>'V'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN86"><span class='Ref_to_Proto'>showVersion</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'w'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>= </span><a href="../pg_dump/pg_backup.h.html#LN32"><span class='Ref_to_EnumConst'>TRI_NO</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'W'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN101"><span class='Ref_to_Member'>getPassword</span></a> <span class='Operator'>= </span><a href="../pg_dump/pg_backup.h.html#LN33"><span class='Ref_to_EnumConst'>TRI_YES</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'x'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN98"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'X'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN74"><span class='Ref_to_Member'>no_psqlrc</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'z'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN112"><span class='Ref_to_Member'>fieldSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'0'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN90"><span class='Ref_to_Member'>popt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN164"><span class='Ref_to_Member'>topt</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN113"><span class='Ref_to_Member'>recordSep</span></a><span class='Operator'>.</span><a href="../../include/fe_utils/print.h.html#LN92"><span class='Ref_to_Member'>separator_zero</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'1'</span><span class='Operator'>: 
</span>                <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN75"><span class='Ref_to_Member'>single_txn</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'?'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* Actual help option given */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><a href="../../port/getopt.c.html#LN50"><span class='Ref_to_Global_Var'>optind</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>], </span><span class='String'>"-?"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="help.h.html#LN10"><span class='Ref_to_Proto'>usage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN89"><span class='Ref_to_Const'>NOPAGER</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Comment_Multi_Line'>/* unknown option reported by getopt */ 
</span>                <span class='Control'>else</span> 
                    <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="startup.c.html#LN643"><span class='Ref_to_Label'>unknown_option</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='Number'>1</span><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a> <span class='Operator'>|| </span>strcmp<span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Delimiter'>, </span><span class='String'>"options"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="help.h.html#LN10"><span class='Ref_to_Proto'>usage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN89"><span class='Ref_to_Const'>NOPAGER</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Delimiter'>, </span><span class='String'>"commands"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="help.h.html#LN12"><span class='Ref_to_Proto'>slashUsage</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN89"><span class='Ref_to_Const'>NOPAGER</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a> <span class='Operator'>&& </span>strcmp<span class='Parentheses'>(</span><a href="../../port/getopt.c.html#LN52"><span class='Ref_to_Global_Var'>optarg</span></a><span class='Delimiter'>, </span><span class='String'>"variables"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="help.h.html#LN14"><span class='Ref_to_Proto'>helpVariables</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN89"><span class='Ref_to_Const'>NOPAGER</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="startup.c.html#LN643"><span class='Ref_to_Label'>unknown_option</span></a><span class='Delimiter'>; 
</span> 
                    <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN146"><span class='Ref_to_Const'>EXIT_SUCCESS</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span><a name="LN643"></a>        <span class='Label'>unknown_option</span><span class='Operator'>: 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"Try \"%s --help\" for more information.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch c &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while (c=getopt_long(argc,a... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* 
     * if we still have arguments, use it as the database name and username 
     */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argc</span></a> <span class='Operator'>- </span><a href="../../port/getopt.c.html#LN50"><span class='Ref_to_Global_Var'>optind</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN68"><span class='Ref_to_Member'>dbname</span></a><span class='Parentheses'>) 
</span>            <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN68"><span class='Ref_to_Member'>dbname</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><a href="../../port/getopt.c.html#LN50"><span class='Ref_to_Global_Var'>optind</span></a><span class='Delimiter'>]; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN71"><span class='Ref_to_Member'>username</span></a><span class='Parentheses'>) 
</span>            <a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>options</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN71"><span class='Ref_to_Member'>username</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><a href="../../port/getopt.c.html#LN50"><span class='Ref_to_Global_Var'>optind</span></a><span class='Delimiter'>]; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s: warning: extra command-line argument \"%s\" ignored\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN106"><span class='Ref_to_Member'>progname</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN413"><span class='Ref_to_Parameter'>argv</span></a><span class='Delimiter'>[</span><a href="../../port/getopt.c.html#LN50"><span class='Ref_to_Global_Var'>optind</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../port/getopt.c.html#LN50"><span class='Ref_to_Global_Var'>optind</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end parse_psql_options &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Append a new item to the end of the SimpleActionList. 
 * Note that "val" is copied if it's not NULL. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN674"></a><span class='Declare_Function'>simple_action_list_append</span><span class='Parentheses'>(</span><a href="startup.c.html#LN60"><span class='Ref_to_Struct'>SimpleActionList</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>list</span><span class='Delimiter'>, 
</span><a name="LN675"></a>                          <span class='Control'>enum</span> <a href="startup.c.html#LN46"><span class='Ref_to_Enum'>_actions</span></a> <span class='Declare_Parameter'>action</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN677"></a>    <a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a> <span class='Operator'>*</span><span class='Declare_Local'>cell</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/common/fe_memutils.h.html#LN25"><span class='Ref_to_Proto'>pg_malloc</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="startup.c.html#LN53"><span class='Ref_to_Struct'>SimpleActionListCell</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN55"><span class='Ref_to_Member'>next</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN56"><span class='Ref_to_Member'>action</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN675"><span class='Ref_to_Parameter'>action</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN675"><span class='Ref_to_Parameter'>val</span></a><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN675"><span class='Ref_to_Parameter'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN57"><span class='Ref_to_Member'>val</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN674"><span class='Ref_to_Parameter'>list</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN63"><span class='Ref_to_Member'>tail</span></a><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN674"><span class='Ref_to_Parameter'>list</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN63"><span class='Ref_to_Member'>tail</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN55"><span class='Ref_to_Member'>next</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="startup.c.html#LN674"><span class='Ref_to_Parameter'>list</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN62"><span class='Ref_to_Member'>head</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN674"><span class='Ref_to_Parameter'>list</span></a><span class='Operator'>-&GT;</span><a href="startup.c.html#LN63"><span class='Ref_to_Member'>tail</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN677"><span class='Ref_To_Local'>cell</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end simple_action_list_append &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Load .psqlrc file, if found. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN700"></a><span class='Declare_Function'>process_psqlrc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>argv0</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN702"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>home</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span><a name="LN703"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>rc_file</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span><a name="LN704"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>my_exec_path</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span><a name="LN705"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>etc_path</span><span class='Delimiter'>[</span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>]; 
</span><a name="LN706"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>envrc</span> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"PSQLRC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/port.h.html#LN96"><span class='Ref_to_Proto'>find_my_exec</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN700"><span class='Ref_to_Parameter'>argv0</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN704"><span class='Ref_To_Local'>my_exec_path</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span>_<span class='Parentheses'>(</span><span class='String'>"%s: could not find own program executable\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="startup.c.html#LN700"><span class='Ref_to_Parameter'>argv0</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../test/isolation/specscanner.l.html#LN91"><span class='Ref_to_Proto'>exit</span></a><span class='Parentheses'>(</span><a href="settings.h.html#LN150"><span class='Ref_to_Const'>EXIT_FAILURE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/port.h.html#LN51"><span class='Ref_to_Proto'>get_etc_path</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN704"><span class='Ref_To_Local'>my_exec_path</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN705"><span class='Ref_To_Local'>etc_path</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN703"><span class='Ref_To_Local'>rc_file</span></a><span class='Delimiter'>, </span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>, </span><span class='String'>"%s/%s"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN705"><span class='Ref_To_Local'>etc_path</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN35"><span class='Ref_to_Const'>SYSPSQLRC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN85"><span class='Ref_to_Proto'>process_psqlrc_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN703"><span class='Ref_To_Local'>rc_file</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN706"><span class='Ref_To_Local'>envrc</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span>strlen<span class='Parentheses'>(</span><a href="startup.c.html#LN706"><span class='Ref_To_Local'>envrc</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* might need to free() this */ 
</span><a name="LN722"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>envrc_alloc</span> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN32"><span class='Ref_to_Proto'>pstrdup</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN706"><span class='Ref_To_Local'>envrc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="common.h.html#LN44"><span class='Ref_to_Proto'>expand_tilde</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="startup.c.html#LN722"><span class='Ref_To_Local'>envrc_alloc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN85"><span class='Ref_to_Proto'>process_psqlrc_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN722"><span class='Ref_To_Local'>envrc_alloc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../include/port.h.html#LN61"><span class='Ref_to_Proto'>get_home_path</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN702"><span class='Ref_To_Local'>home</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN703"><span class='Ref_To_Local'>rc_file</span></a><span class='Delimiter'>, </span><a href="../../include/pg_config_manual.h.html#LN88"><span class='Ref_to_Const'>MAXPGPATH</span></a><span class='Delimiter'>, </span><span class='String'>"%s/%s"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN702"><span class='Ref_To_Local'>home</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN36"><span class='Ref_to_Const'>PSQLRC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN85"><span class='Ref_to_Proto'>process_psqlrc_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN703"><span class='Ref_To_Local'>rc_file</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end process_psqlrc &raquo; </span> 
 
 
 
<span class='Keyword'>static void 
</span><a name="LN737"></a><span class='Declare_Function'>process_psqlrc_file</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>filename</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN739"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>psqlrc_minor</span><span class='Delimiter'>, 
</span><a name="LN740"></a>               <span class='Operator'>*</span><span class='Declare_Local'>psqlrc_major</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a><span class='Parentheses'>) </span><span class='Operator'>&& </span><span class='Parentheses'>(</span><span class='Operator'>!</span>defined<span class='Parentheses'>(</span>__MINGW32__<span class='Parentheses'>))</span> 
<a name="LN743"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>R_OK</span> <span class='Number'>4</span> 
<span class='Directive'>#endif</span> 
 
    <a href="startup.c.html#LN739"><span class='Ref_To_Local'>psqlrc_minor</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%s-%s"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN737"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span>PG_VERSION<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="startup.c.html#LN740"><span class='Ref_To_Local'>psqlrc_major</span></a> <span class='Operator'>= </span><a href="../../common/psprintf.c.html#LN44"><span class='Ref_to_Func'>psprintf</span></a><span class='Parentheses'>(</span><span class='String'>"%s-%s"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN737"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span>PG_MAJORVERSION<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* check for minor version first, then major, then no version */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>access<span class='Parentheses'>(</span><a href="startup.c.html#LN739"><span class='Ref_To_Local'>psqlrc_minor</span></a><span class='Delimiter'>, </span><a href="../../include/port/win32.h.html#LN434"><span class='Ref_to_Const'>R_OK</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="command.h.html#LN32"><span class='Ref_to_Proto'>process_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN739"><span class='Ref_To_Local'>psqlrc_minor</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>access<span class='Parentheses'>(</span><a href="startup.c.html#LN740"><span class='Ref_To_Local'>psqlrc_major</span></a><span class='Delimiter'>, </span><a href="../../include/port/win32.h.html#LN434"><span class='Ref_to_Const'>R_OK</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="command.h.html#LN32"><span class='Ref_to_Proto'>process_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN740"><span class='Ref_To_Local'>psqlrc_major</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>access<span class='Parentheses'>(</span><a href="startup.c.html#LN737"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span><a href="../../include/port/win32.h.html#LN434"><span class='Ref_to_Const'>R_OK</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="command.h.html#LN32"><span class='Ref_to_Proto'>process_file</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN737"><span class='Ref_to_Parameter'>filename</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN739"><span class='Ref_To_Local'>psqlrc_minor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN740"><span class='Ref_To_Local'>psqlrc_major</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end process_psqlrc_file &raquo; </span> 
 
 
 
<span class='Comment_Multi_Line'>/* showVersion 
 * 
 * This output format is intended to match GNU standards. 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN768"></a><span class='Declare_Function'>showVersion</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    puts<span class='Parentheses'>(</span><span class='String'>"psql (PostgreSQL) "</span> PG_VERSION<span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Substitute hooks and assign hooks for psql variables. 
 * 
 * This isn't an amazingly good place for them, but neither is anywhere else. 
 * 
 * By policy, every special variable that controls any psql behavior should 
 * have one or both hooks, even if they're just no-ops.  This ensures that 
 * the variable will remain present in variables.c's list even when unset, 
 * which ensures that it's known to tab completion. 
 */ 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN787"></a><span class='Declare_Function'>bool_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN787"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* "\unset FOO" becomes "\set FOO off" */ 
</span>        <a href="startup.c.html#LN787"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"off"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN787"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* "\set FOO" becomes "\set FOO on" */ 
</span>        <a href="../../include/common/fe_memutils.h.html#LN29"><span class='Ref_to_Proto'>pg_free</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN787"><span class='Ref_to_Parameter'>newval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="startup.c.html#LN787"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"on"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN787"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN804"></a><span class='Declare_Function'>autocommit_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN804"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"AUTOCOMMIT"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN122"><span class='Ref_to_Member'>autocommit</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN810"></a><span class='Declare_Function'>on_error_stop_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN810"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"ON_ERROR_STOP"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN123"><span class='Ref_to_Member'>on_error_stop</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN816"></a><span class='Declare_Function'>quiet_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN816"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"QUIET"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN124"><span class='Ref_to_Member'>quiet</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN822"></a><span class='Declare_Function'>singleline_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN822"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"SINGLELINE"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN125"><span class='Ref_to_Member'>singleline</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN828"></a><span class='Declare_Function'>singlestep_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN828"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"SINGLESTEP"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN126"><span class='Ref_to_Member'>singlestep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN834"></a><span class='Declare_Function'>fetch_count_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN834"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN834"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"0"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN834"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN842"></a><span class='Declare_Function'>fetch_count_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN80"><span class='Ref_to_Proto'>ParseVariableNum</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN842"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"FETCH_COUNT"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN127"><span class='Ref_to_Member'>fetch_count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN848"></a><span class='Declare_Function'>histfile_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Someday we might try to validate the filename, but for now, this is 
     * just a placeholder to ensure HISTFILE is known to tab completion. 
     */ 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN858"></a><span class='Declare_Function'>histsize_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN858"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN858"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"500"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN858"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN866"></a><span class='Declare_Function'>histsize_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN80"><span class='Ref_to_Proto'>ParseVariableNum</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN866"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"HISTSIZE"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN128"><span class='Ref_to_Member'>histsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN872"></a><span class='Declare_Function'>ignoreeof_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN874"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>dummy</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * This tries to mimic the behavior of bash, to wit "If set, the value is 
     * the number of consecutive EOF characters which must be typed as the 
     * first characters on an input line before bash exits.  If the variable 
     * exists but does not have a numeric value, or has no value, the default 
     * value is 10.  If it does not exist, EOF signifies the end of input to 
     * the shell."  Unlike bash, however, we insist on the stored value 
     * actually being a valid integer. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN872"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN872"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"0"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="variables.h.html#LN80"><span class='Ref_to_Proto'>ParseVariableNum</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN872"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN874"><span class='Ref_To_Local'>dummy</span></a><span class='Parentheses'>))</span> 
        <a href="startup.c.html#LN872"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"10"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN872"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ignoreeof_substitute_hook &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN893"></a><span class='Declare_Function'>ignoreeof_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="variables.h.html#LN80"><span class='Ref_to_Proto'>ParseVariableNum</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN893"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"IGNOREEOF"</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN129"><span class='Ref_to_Member'>ignoreeof</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN899"></a><span class='Declare_Function'>echo_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN899"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN899"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"none"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN899"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN907"></a><span class='Declare_Function'>echo_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN907"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN907"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"queries"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN130"><span class='Ref_to_Member'>echo</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN37"><span class='Ref_to_EnumConst'>PSQL_ECHO_QUERIES</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN907"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"errors"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN130"><span class='Ref_to_Member'>echo</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN38"><span class='Ref_to_EnumConst'>PSQL_ECHO_ERRORS</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN907"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"all"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN130"><span class='Ref_to_Member'>echo</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN39"><span class='Ref_to_EnumConst'>PSQL_ECHO_ALL</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN907"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"none"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN130"><span class='Ref_to_Member'>echo</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN36"><span class='Ref_to_EnumConst'>PSQL_ECHO_NONE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"ECHO"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN907"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"none, errors, queries, all"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN927"></a><span class='Declare_Function'>echo_hidden_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN927"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN927"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"noexec"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN131"><span class='Ref_to_Member'>echo_hidden</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN46"><span class='Ref_to_EnumConst'>PSQL_ECHO_HIDDEN_NOEXEC</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN934"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>on_off</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN927"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN934"><span class='Ref_To_Local'>on_off</span></a><span class='Parentheses'>))</span> 
            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN131"><span class='Ref_to_Member'>echo_hidden</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN934"><span class='Ref_To_Local'>on_off</span></a> <span class='Operator'>? </span><a href="settings.h.html#LN45"><span class='Ref_to_EnumConst'>PSQL_ECHO_HIDDEN_ON</span></a> <span class='Operator'>: </span><a href="settings.h.html#LN44"><span class='Ref_to_EnumConst'>PSQL_ECHO_HIDDEN_OFF</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"ECHO_HIDDEN"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN927"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"on, off, noexec"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end echo_hidden_hook &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN948"></a><span class='Declare_Function'>on_error_rollback_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN948"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN948"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"interactive"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN132"><span class='Ref_to_Member'>on_error_rollback</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN52"><span class='Ref_to_EnumConst'>PSQL_ERROR_ROLLBACK_INTERACTIVE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN955"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>on_off</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="variables.h.html#LN77"><span class='Ref_to_Proto'>ParseVariableBool</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN948"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="startup.c.html#LN955"><span class='Ref_To_Local'>on_off</span></a><span class='Parentheses'>))</span> 
            <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN132"><span class='Ref_to_Member'>on_error_rollback</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN955"><span class='Ref_To_Local'>on_off</span></a> <span class='Operator'>? </span><a href="settings.h.html#LN53"><span class='Ref_to_EnumConst'>PSQL_ERROR_ROLLBACK_ON</span></a> <span class='Operator'>: </span><a href="settings.h.html#LN51"><span class='Ref_to_EnumConst'>PSQL_ERROR_ROLLBACK_OFF</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"ON_ERROR_ROLLBACK"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN948"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"on, off, interactive"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end on_error_rollback_hook &raquo; </span> 
 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN969"></a><span class='Declare_Function'>comp_keyword_case_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN969"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN969"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"preserve-upper"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN969"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN977"></a><span class='Declare_Function'>comp_keyword_case_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN977"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN977"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"preserve-upper"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN133"><span class='Ref_to_Member'>comp_case</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN58"><span class='Ref_to_EnumConst'>PSQL_COMP_CASE_PRESERVE_UPPER</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN977"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"preserve-lower"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN133"><span class='Ref_to_Member'>comp_case</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN59"><span class='Ref_to_EnumConst'>PSQL_COMP_CASE_PRESERVE_LOWER</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN977"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"upper"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN133"><span class='Ref_to_Member'>comp_case</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN60"><span class='Ref_to_EnumConst'>PSQL_COMP_CASE_UPPER</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN977"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"lower"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN133"><span class='Ref_to_Member'>comp_case</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN61"><span class='Ref_to_EnumConst'>PSQL_COMP_CASE_LOWER</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"COMP_KEYWORD_CASE"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN977"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"lower, upper, preserve-lower, preserve-upper"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end comp_keyword_case_hook &raquo; </span> 
 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN998"></a><span class='Declare_Function'>histcontrol_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN998"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN998"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"none"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN998"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1006"></a><span class='Declare_Function'>histcontrol_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN1006"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1006"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"ignorespace"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN134"><span class='Ref_to_Member'>histcontrol</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN67"><span class='Ref_to_EnumConst'>hctl_ignorespace</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1006"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"ignoredups"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN134"><span class='Ref_to_Member'>histcontrol</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN68"><span class='Ref_to_EnumConst'>hctl_ignoredups</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1006"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"ignoreboth"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN134"><span class='Ref_to_Member'>histcontrol</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN69"><span class='Ref_to_EnumConst'>hctl_ignoreboth</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1006"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"none"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN134"><span class='Ref_to_Member'>histcontrol</span></a> <span class='Operator'>= </span><a href="settings.h.html#LN66"><span class='Ref_to_EnumConst'>hctl_none</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"HISTCONTROL"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN1006"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, 
</span>                         <span class='String'>"none, ignorespace, ignoredups, ignoreboth"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end histcontrol_hook &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN1027"></a><span class='Declare_Function'>prompt1_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN135"><span class='Ref_to_Member'>prompt1</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN1027"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>? </span><a href="startup.c.html#LN1027"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1034"></a><span class='Declare_Function'>prompt2_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN136"><span class='Ref_to_Member'>prompt2</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN1034"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>? </span><a href="startup.c.html#LN1034"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1041"></a><span class='Declare_Function'>prompt3_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN137"><span class='Ref_to_Member'>prompt3</span></a> <span class='Operator'>= </span><a href="startup.c.html#LN1041"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>? </span><a href="startup.c.html#LN1041"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN1048"></a><span class='Declare_Function'>verbosity_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN1048"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN1048"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"default"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN1048"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1056"></a><span class='Declare_Function'>verbosity_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN1056"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1056"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"default"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN138"><span class='Ref_to_Member'>verbosity</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN112"><span class='Ref_to_EnumConst'>PQERRORS_DEFAULT</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1056"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"terse"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN138"><span class='Ref_to_Member'>verbosity</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN111"><span class='Ref_to_EnumConst'>PQERRORS_TERSE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1056"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"verbose"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN138"><span class='Ref_to_Member'>verbosity</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN113"><span class='Ref_to_EnumConst'>PQERRORS_VERBOSE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"VERBOSITY"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN1056"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"default, terse, verbose"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN348"><span class='Ref_to_Proto'>PQsetErrorVerbosity</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN138"><span class='Ref_to_Member'>verbosity</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end verbosity_hook &raquo; </span> 
 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN1077"></a><span class='Declare_Function'>show_context_substitute_hook</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN1077"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="startup.c.html#LN1077"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>= </span><a href="../../include/common/fe_memutils.h.html#LN24"><span class='Ref_to_Proto'>pg_strdup</span></a><span class='Parentheses'>(</span><span class='String'>"errors"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="startup.c.html#LN1077"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN1085"></a><span class='Declare_Function'>show_context_hook</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>newval</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="startup.c.html#LN1085"><span class='Ref_to_Parameter'>newval</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* else substitute hook messed up */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1085"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"never"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN139"><span class='Ref_to_Member'>show_context</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN118"><span class='Ref_to_EnumConst'>PQSHOW_CONTEXT_NEVER</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1085"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"errors"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN139"><span class='Ref_to_Member'>show_context</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN119"><span class='Ref_to_EnumConst'>PQSHOW_CONTEXT_ERRORS</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN1085"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"always"</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN139"><span class='Ref_to_Member'>show_context</span></a> <span class='Operator'>= </span><a href="../../interfaces/libpq/libpq-fe.h.html#LN120"><span class='Ref_to_EnumConst'>PQSHOW_CONTEXT_ALWAYS</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="variables.h.html#LN93"><span class='Ref_to_Proto'>PsqlVarEnumError</span></a><span class='Parentheses'>(</span><span class='String'>"SHOW_CONTEXT"</span><span class='Delimiter'>, </span><a href="startup.c.html#LN1085"><span class='Ref_to_Parameter'>newval</span></a><span class='Delimiter'>, </span><span class='String'>"never, errors, always"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Parentheses'>) 
</span>        <a href="../../interfaces/libpq/libpq-fe.h.html#LN351"><span class='Ref_to_Proto'>PQsetErrorContextVisibility</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN81"><span class='Ref_to_Member'>db</span></a><span class='Delimiter'>, </span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN139"><span class='Ref_to_Member'>show_context</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end show_context_hook &raquo; </span> 
 
 
<span class='Keyword'>static void 
</span><a name="LN1107"></a><span class='Declare_Function'>EstablishVariableSpace</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a> <span class='Operator'>= </span><a href="variables.c.html#LN49"><span class='Ref_to_Func'>CreateVariableSpace</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"AUTOCOMMIT"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN803"><span class='Ref_to_Func'>autocommit_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ON_ERROR_STOP"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN809"><span class='Ref_to_Func'>on_error_stop_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"QUIET"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN815"><span class='Ref_to_Func'>quiet_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"SINGLELINE"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN821"><span class='Ref_to_Func'>singleline_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"SINGLESTEP"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN827"><span class='Ref_to_Func'>singlestep_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"FETCH_COUNT"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN833"><span class='Ref_to_Func'>fetch_count_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN841"><span class='Ref_to_Func'>fetch_count_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"HISTFILE"</span><span class='Delimiter'>, 
</span>                     <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN847"><span class='Ref_to_Func'>histfile_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"HISTSIZE"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN857"><span class='Ref_to_Func'>histsize_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN865"><span class='Ref_to_Func'>histsize_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"IGNOREEOF"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN871"><span class='Ref_to_Func'>ignoreeof_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN892"><span class='Ref_to_Func'>ignoreeof_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ECHO"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN898"><span class='Ref_to_Func'>echo_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN906"><span class='Ref_to_Func'>echo_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ECHO_HIDDEN"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN926"><span class='Ref_to_Func'>echo_hidden_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"ON_ERROR_ROLLBACK"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN786"><span class='Ref_to_Func'>bool_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN947"><span class='Ref_to_Func'>on_error_rollback_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"COMP_KEYWORD_CASE"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN968"><span class='Ref_to_Func'>comp_keyword_case_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN976"><span class='Ref_to_Func'>comp_keyword_case_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"HISTCONTROL"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN997"><span class='Ref_to_Func'>histcontrol_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1005"><span class='Ref_to_Func'>histcontrol_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PROMPT1"</span><span class='Delimiter'>, 
</span>                     <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1026"><span class='Ref_to_Func'>prompt1_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PROMPT2"</span><span class='Delimiter'>, 
</span>                     <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1033"><span class='Ref_to_Func'>prompt2_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"PROMPT3"</span><span class='Delimiter'>, 
</span>                     <span class='Null_Value'>NULL</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1040"><span class='Ref_to_Func'>prompt3_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"VERBOSITY"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1047"><span class='Ref_to_Func'>verbosity_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1055"><span class='Ref_to_Func'>verbosity_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="variables.h.html#LN89"><span class='Ref_to_Proto'>SetVariableHooks</span></a><span class='Parentheses'>(</span><a href="startup.c.html#LN32"><span class='Ref_to_Global_Var'>pset</span></a><span class='Operator'>.</span><a href="settings.h.html#LN115"><span class='Ref_to_Member'>vars</span></a><span class='Delimiter'>, </span><span class='String'>"SHOW_CONTEXT"</span><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1076"><span class='Ref_to_Func'>show_context_substitute_hook</span></a><span class='Delimiter'>, 
</span>                     <a href="startup.c.html#LN1084"><span class='Ref_to_Func'>show_context_hook</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end EstablishVariableSpace &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>