<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\access\gin_private.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\access\gin_private.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:03 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*-------------------------------------------------------------------------- 
 * gin_private.h 
 *    header file for postgres inverted index access method implementation. 
 * 
 *  Copyright (c) 2006-2017, PostgreSQL Global Development Group 
 * 
 *  src/include/access/gin_private.h 
 *-------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="gin_private.h.html#LN10"><span class='Ref_to_Const'>GIN_PRIVATE_H</span></a> 
<a name="LN10"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_PRIVATE_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/amapi.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/gin.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/ginblock.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/itup.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/bufmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"lib/rbtree.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Storage type for GIN's reloptions 
 */ 
</span><a name="LN23"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinOptions</span> 
<span class='Delimiter'>{ 
</span><a name="LN25"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>vl_len_</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* varlena header (do not touch directly!) */ 
</span><a name="LN26"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>useFastUpdate</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* use fast updates? */ 
</span><a name="LN27"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>pendingListCleanupSize</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* maximum size of pending list */ 
</span><a name="LN28"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinOptions</span><span class='Delimiter'>; 
</span> 
<a name="LN30"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_DEFAULT_USE_FASTUPDATE</span>  <span class='Boolean'>true 
</span><a name="LN31"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetUseFastUpdate</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>relation</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="gin_private.h.html#LN31"><span class='Ref_to_Parameter'>relation</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rd_options <span class='Operator'>? \ 
</span>     <span class='Parentheses'>((</span><a href="gin_private.h.html#LN23"><span class='Ref_to_Struct'>GinOptions</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN31"><span class='Ref_to_Parameter'>relation</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rd_options<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>useFastUpdate <span class='Operator'>: </span><a href="gin_private.h.html#LN30"><span class='Ref_to_Const'>GIN_DEFAULT_USE_FASTUPDATE</span></a><span class='Parentheses'>)</span> 
<a name="LN34"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetPendingListCleanupSize</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>relation</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="gin_private.h.html#LN34"><span class='Ref_to_Parameter'>relation</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rd_options <span class='Operator'>&& \ 
</span>     <span class='Parentheses'>((</span><a href="gin_private.h.html#LN23"><span class='Ref_to_Struct'>GinOptions</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN34"><span class='Ref_to_Parameter'>relation</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rd_options<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pendingListCleanupSize <span class='Operator'>!= -</span><span class='Number'>1</span> <span class='Operator'>? \ 
</span>     <span class='Parentheses'>((</span><a href="gin_private.h.html#LN23"><span class='Ref_to_Struct'>GinOptions</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN34"><span class='Ref_to_Parameter'>relation</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rd_options<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pendingListCleanupSize <span class='Operator'>: \ 
</span>     <a href="../../backend/access/gin/ginfast.c.html#LN36"><span class='Ref_to_Global_Var'>gin_pending_list_limit</span></a><span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* Macros for buffer lock/unlock operations */ 
</span><a name="LN42"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_UNLOCK</span>  <a href="../storage/bufmgr.h.html#LN86"><span class='Ref_to_Const'>BUFFER_LOCK_UNLOCK</span></a> 
<a name="LN43"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_SHARE</span>   <a href="../storage/bufmgr.h.html#LN87"><span class='Ref_to_Const'>BUFFER_LOCK_SHARE</span></a> 
<a name="LN44"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_EXCLUSIVE</span>  <a href="../storage/bufmgr.h.html#LN88"><span class='Ref_to_Const'>BUFFER_LOCK_EXCLUSIVE</span></a> 
 
 
<span class='Comment_Multi_Line'>/* 
 * GinState: working data structure describing the index being worked on 
 */ 
</span><a name="LN50"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinState</span> 
<span class='Delimiter'>{ 
</span><a name="LN52"></a>    <a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a>    <span class='Declare_Member'>index</span><span class='Delimiter'>; 
</span><a name="LN53"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>oneCol</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* true if single-column index */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * origTupDesc is the nominal tuple descriptor of the index, ie, the i'th 
     * attribute shows the key type (not the input data type!) of the i'th 
     * index column.  In a single-column index this describes the actual leaf 
     * index tuples.  In a multi-column index, the actual leaf tuples contain 
     * a smallint column number followed by a key datum of the appropriate 
     * type for that column.  We set up tupdesc[i] to describe the actual 
     * rowtype of the index tuples for the i'th column, ie, (int2, keytype). 
     * Note that in any case, leaf tuples contain more data than is known to 
     * the TupleDesc; see access/gin/README for details. 
     */ 
</span><a name="LN66"></a>    <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Member'>origTupdesc</span><span class='Delimiter'>; 
</span><a name="LN67"></a>    <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Member'>tupdesc</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Per-index-column opclass support functions 
     */ 
</span><a name="LN72"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>compareFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN73"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>extractValueFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN74"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>extractQueryFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN75"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>consistentFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN76"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>triConsistentFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN77"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>comparePartialFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>];</span>       <span class='Comment_Single_Line'>/* optional method */ 
</span>    <span class='Comment_Multi_Line'>/* canPartialMatch[i] is true if comparePartialFn[i] is valid */ 
</span><a name="LN79"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>canPartialMatch</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span>    <span class='Comment_Multi_Line'>/* Collations to pass to the support functions */ 
</span><a name="LN81"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>supportCollation</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN82"></a>}<span class='Auto_Annotations'> &laquo; end GinState &raquo; </span> <span class='Declare_Typedef'>GinState</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ginutil.c */ 
</span><a name="LN86"></a><span class='Keyword'>extern </span><a href="../c.h.html#LN451"><span class='Ref_to_Typedef'>bytea</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginoptions</span><span class='Parentheses'>(</span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>reloptions</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>validate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN87"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>initGinState</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN88"></a><span class='Keyword'>extern </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Prototype'>GinNewBuffer</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN89"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>GinInitBuffer</span><span class='Parentheses'>(</span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>b</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>f</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN90"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>GinInitPage</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>f</span><span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>pageSize</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN91"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>GinInitMetabuffer</span><span class='Parentheses'>(</span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>b</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN92"></a><span class='Keyword'>extern int </span><span class='Declare_Prototype'>ginCompareEntries</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, 
</span><a name="LN93"></a>                  <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>categorya</span><span class='Delimiter'>, 
</span><a name="LN94"></a>                  <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>b</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>categoryb</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN95"></a><span class='Keyword'>extern int </span><span class='Declare_Prototype'>ginCompareAttEntries</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, 
</span><a name="LN96"></a>                     <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnuma</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>categorya</span><span class='Delimiter'>, 
</span><a name="LN97"></a>                   <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnumb</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>b</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>categoryb</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN98"></a><span class='Keyword'>extern </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginExtractEntries</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, 
</span><a name="LN99"></a>                  <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>value</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isNull</span><span class='Delimiter'>, 
</span><a name="LN100"></a>                  <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>nentries</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>**</span><span class='Declare_Parameter'>categories</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN102"></a><span class='Keyword'>extern </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Prototype'>gintuple_get_attrnum</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN103"></a><span class='Keyword'>extern </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>gintuple_get_key</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, 
</span><a name="LN104"></a>                 <a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>category</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gininsert.c */ 
</span><a name="LN107"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN29"><span class='Ref_to_Struct'>IndexBuildResult</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginbuild</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>heap</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, 
</span><a name="LN108"></a>         <span class='Control'>struct</span> <a href="../nodes/execnodes.h.html#LN130"><span class='Ref_to_Struct'>IndexInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>indexInfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN109"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginbuildempty</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN110"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gininsert</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Delimiter'>, 
</span><a name="LN111"></a>          <a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>ht_ctid</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>heapRel</span><span class='Delimiter'>, 
</span><a name="LN112"></a>          <a href="genam.h.html#LN110"><span class='Ref_to_Enum'>IndexUniqueCheck</span></a> <span class='Declare_Parameter'>checkUnique</span><span class='Delimiter'>, 
</span><a name="LN113"></a>          <span class='Control'>struct</span> <a href="../nodes/execnodes.h.html#LN130"><span class='Ref_to_Struct'>IndexInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>indexInfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN114"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginEntryInsert</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, 
</span><a name="LN115"></a>               <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>category</span><span class='Delimiter'>, 
</span><a name="LN116"></a>               <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>items</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>nitem</span><span class='Delimiter'>, 
</span><a name="LN117"></a>               <a href="gin.h.html#LN40"><span class='Ref_to_Struct'>GinStatsData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>buildStats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginbtree.c */ 
</span> 
<a name="LN121"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinBtreeStack</span> 
<span class='Delimiter'>{ 
</span><a name="LN123"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>blkno</span><span class='Delimiter'>; 
</span><a name="LN124"></a>    <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a>      <span class='Declare_Member'>buffer</span><span class='Delimiter'>; 
</span><a name="LN125"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>off</span><span class='Delimiter'>; 
</span><a name="LN126"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>iptr</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* predictNumber contains predicted number of pages on current level */ 
</span><a name="LN128"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>predictNumber</span><span class='Delimiter'>; 
</span><a name="LN129"></a>    <span class='Control'>struct</span> <a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Declare_Member'>parent</span><span class='Delimiter'>; 
</span><a name="LN130"></a>} <span class='Declare_Typedef'>GinBtreeStack</span><span class='Delimiter'>; 
</span> 
<a name="LN132"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="gin_private.h.html#LN142"><span class='Ref_to_Struct'>GinBtreeData</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>GinBtree</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Return codes for GinBtreeData.beginPlaceToPage method */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN137"></a>    <span class='Declare_Enum_Const'>GPTP_NO_WORK</span><span class='Delimiter'>, 
</span><a name="LN138"></a>    <span class='Declare_Enum_Const'>GPTP_INSERT</span><span class='Delimiter'>, 
</span><a name="LN139"></a>    <span class='Declare_Enum_Const'>GPTP_SPLIT</span> 
<a name="LN140"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinPlaceToPageRC</span><span class='Delimiter'>; 
</span> 
<a name="LN142"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinBtreeData</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* search methods */ 
</span><a name="LN145"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>findChildPage</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN146"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>getLeftMostChild</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN147"></a>    <span class='Keyword'>bool</span>        <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>isMoveRight</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN148"></a>    <span class='Keyword'>bool</span>        <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>findItem</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* insert methods */ 
</span><a name="LN151"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>findChildPtr</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN152"></a>    <a href="gin_private.h.html#LN135"><span class='Ref_to_Typedef'>GinPlaceToPageRC</span></a> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>beginPlaceToPage</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a><span class='Delimiter'>, </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>**</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN153"></a>    <span class='Keyword'>void</span>        <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>execPlaceToPage</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a><span class='Delimiter'>, </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span>prepareDownlink<span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN155"></a>    <span class='Keyword'>void</span>        <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>fillRoot</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN157"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isData</span><span class='Delimiter'>; 
</span> 
<a name="LN159"></a>    <a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a>    <span class='Declare_Member'>index</span><span class='Delimiter'>; 
</span><a name="LN160"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>rootBlkno</span><span class='Delimiter'>; 
</span><a name="LN161"></a>    <a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a>   <span class='Operator'>*</span><span class='Declare_Member'>ginstate</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* not valid in a data scan */ 
</span><a name="LN162"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>fullScan</span><span class='Delimiter'>; 
</span><a name="LN163"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isBuild</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Search key for Entry tree */ 
</span><a name="LN166"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>entryAttnum</span><span class='Delimiter'>; 
</span><a name="LN167"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>entryKey</span><span class='Delimiter'>; 
</span><a name="LN168"></a>    <a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Member'>entryCategory</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Search key for data tree (posting tree) */ 
</span><a name="LN171"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>itemptr</span><span class='Delimiter'>; 
</span><a name="LN172"></a>}<span class='Auto_Annotations'> &laquo; end GinBtreeData &raquo; </span> <span class='Declare_Typedef'>GinBtreeData</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* This represents a tuple to be inserted to entry tree. */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN177"></a>    <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a>  <span class='Declare_Member'>entry</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* tuple to insert */ 
</span><a name="LN178"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isDelete</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* delete old tuple at same offset? */ 
</span><a name="LN179"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinBtreeEntryInsertData</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * This represents an itempointer, or many itempointers, to be inserted to 
 * a data (posting tree) leaf page 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN187"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Member'>items</span><span class='Delimiter'>; 
</span><a name="LN188"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>nitem</span><span class='Delimiter'>; 
</span><a name="LN189"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>curitem</span><span class='Delimiter'>; 
</span><a name="LN190"></a>} <span class='Declare_Typedef'>GinBtreeDataLeafInsertData</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * For internal data (posting tree) pages, the insertion payload is a 
 * PostingItem 
 */ 
</span> 
<a name="LN197"></a><span class='Keyword'>extern </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginFindLeafPage</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>searchMode</span><span class='Delimiter'>, </span><a href="../utils/snapshot.h.html#LN22"><span class='Ref_to_Typedef'>Snapshot</span></a> <span class='Declare_Parameter'>snapshot</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN198"></a><span class='Keyword'>extern </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Prototype'>ginStepRight</span><span class='Parentheses'>(</span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buffer</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>lockmode</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN199"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>freeGinBtreeStack</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stack</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN200"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginInsertValue</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stack</span><span class='Delimiter'>, 
</span><a name="LN201"></a>               <span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>insertdata</span><span class='Delimiter'>, </span><a href="gin.h.html#LN40"><span class='Ref_to_Struct'>GinStatsData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>buildStats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginentrypage.c */ 
</span><a name="LN204"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Prototype'>GinFormTuple</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, 
</span><a name="LN205"></a>             <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>category</span><span class='Delimiter'>, 
</span><a name="LN206"></a>             <a href="../c.h.html#LN244"><span class='Ref_to_Typedef'>Pointer</span></a> <span class='Declare_Parameter'>data</span><span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>dataSize</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nipd</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>errorTooBig</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN207"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginPrepareEntryScan</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, 
</span><a name="LN208"></a>                    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Parameter'>category</span><span class='Delimiter'>, 
</span><a name="LN209"></a>                    <a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN210"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginEntryFillRoot</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>lblkno</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>lpage</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>rblkno</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>rpage</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN211"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Prototype'>ginReadTuple</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, 
</span><a name="LN212"></a>             <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>itup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>nitems</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gindatapage.c */ 
</span><a name="LN215"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Prototype'>GinDataLeafPageGetItems</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>nitems</span><span class='Delimiter'>, </span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Parameter'>advancePast</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN216"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>GinDataLeafPageGetItemsToTbm</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="../../backend/nodes/tidbitmap.c.html#LN146"><span class='Ref_to_Struct'>TIDBitmap</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tbm</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN217"></a><span class='Keyword'>extern </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Prototype'>createPostingTree</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, 
</span><a name="LN218"></a>                  <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>items</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>nitems</span><span class='Delimiter'>, 
</span><a name="LN219"></a>                  <a href="gin.h.html#LN40"><span class='Ref_to_Struct'>GinStatsData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>buildStats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN220"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>GinDataPageAddPostingItem</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN175"><span class='Ref_to_Typedef'>PostingItem</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>data</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>offset</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN221"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>GinPageDeletePostingItem</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>offset</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN222"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginInsertItemPointers</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>rootBlkno</span><span class='Delimiter'>, 
</span><a name="LN223"></a>                      <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>items</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>nitem</span><span class='Delimiter'>, 
</span><a name="LN224"></a>                      <a href="gin.h.html#LN40"><span class='Ref_to_Struct'>GinStatsData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>buildStats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN225"></a><span class='Keyword'>extern </span><a href="gin_private.h.html#LN121"><span class='Ref_to_Struct'>GinBtreeStack</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginScanBeginPostingTree</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>rootBlkno</span><span class='Delimiter'>, </span><a href="../utils/snapshot.h.html#LN22"><span class='Ref_to_Typedef'>Snapshot</span></a> <span class='Declare_Parameter'>snapshot</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN226"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginDataFillRoot</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>lblkno</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>lpage</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>rblkno</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>rpage</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN227"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginPrepareDataScan</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN132"><span class='Ref_to_Typedef'>GinBtree</span></a> <span class='Declare_Parameter'>btree</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>rootBlkno</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * This is declared in ginvacuum.c, but is passed between ginVacuumItemPointers 
 * and ginVacuumPostingTreeLeaf and as an opaque struct, so we need a forward 
 * declaration for it. 
 */ 
</span><a name="LN234"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="../../backend/access/gin/ginvacuum.c.html#LN26"><span class='Ref_to_Struct'>GinVacuumState</span></a> <span class='Declare_Typedef'>GinVacuumState</span><span class='Delimiter'>; 
</span> 
<a name="LN236"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginVacuumPostingTreeLeaf</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Delimiter'>, </span><a href="../../backend/access/gin/ginvacuum.c.html#LN26"><span class='Ref_to_Struct'>GinVacuumState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gvs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginscan.c */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * GinScanKeyData describes a single GIN index qualifier expression. 
 * 
 * From each qual expression, we extract one or more specific index search 
 * conditions, which are represented by GinScanEntryData.  It's quite 
 * possible for identical search conditions to be requested by more than 
 * one qual expression, in which case we merge such conditions to have just 
 * one unique GinScanEntry --- this is particularly important for efficiency 
 * when dealing with full-index-scan entries.  So there can be multiple 
 * GinScanKeyData.scanEntry pointers to the same GinScanEntryData. 
 * 
 * In each GinScanKeyData, nentries is the true number of entries, while 
 * nuserentries is the number that extractQueryFn returned (which is what 
 * we report to consistentFn).  The "user" entries must come first. 
 */ 
</span><a name="LN255"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="gin_private.h.html#LN259"><span class='Ref_to_Struct'>GinScanKeyData</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>GinScanKey</span><span class='Delimiter'>; 
</span> 
<a name="LN257"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="gin_private.h.html#LN313"><span class='Ref_to_Struct'>GinScanEntryData</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>GinScanEntry</span><span class='Delimiter'>; 
</span> 
<a name="LN259"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinScanKeyData</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* Real number of entries in scanEntry[] (always &GT; 0) */ 
</span><a name="LN262"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>nentries</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Number of entries that extractQueryFn and consistentFn know about */ 
</span><a name="LN264"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>nuserentries</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* array of GinScanEntry pointers, one per extracted search condition */ 
</span><a name="LN267"></a>    <a href="gin_private.h.html#LN257"><span class='Ref_to_Typedef'>GinScanEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>scanEntry</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * At least one of the entries in requiredEntries must be present for a 
     * tuple to match the overall qual. 
     * 
     * additionalEntries contains entries that are needed by the consistent 
     * function to decide if an item matches, but are not sufficient to 
     * satisfy the qual without entries from requiredEntries. 
     */ 
</span><a name="LN277"></a>    <a href="gin_private.h.html#LN257"><span class='Ref_to_Typedef'>GinScanEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>requiredEntries</span><span class='Delimiter'>; 
</span><a name="LN278"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nrequired</span><span class='Delimiter'>; 
</span><a name="LN279"></a>    <a href="gin_private.h.html#LN257"><span class='Ref_to_Typedef'>GinScanEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>additionalEntries</span><span class='Delimiter'>; 
</span><a name="LN280"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nadditional</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* array of check flags, reported to consistentFn */ 
</span><a name="LN283"></a>    <a href="gin.h.html#LN56"><span class='Ref_to_Typedef'>GinTernaryValue</span></a> <span class='Operator'>*</span><span class='Declare_Member'>entryRes</span><span class='Delimiter'>; 
</span><a name="LN284"></a>    <span class='Keyword'>bool</span>        <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>boolConsistentFn</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN255"><span class='Ref_to_Typedef'>GinScanKey</span></a> key<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN285"></a>    <a href="gin.h.html#LN56"><span class='Ref_to_Typedef'>GinTernaryValue</span></a> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>triConsistentFn</span><span class='Parentheses'>) (</span><a href="gin_private.h.html#LN255"><span class='Ref_to_Typedef'>GinScanKey</span></a> key<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN286"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>   <span class='Operator'>*</span><span class='Declare_Member'>consistentFmgrInfo</span><span class='Delimiter'>; 
</span><a name="LN287"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>   <span class='Operator'>*</span><span class='Declare_Member'>triConsistentFmgrInfo</span><span class='Delimiter'>; 
</span><a name="LN288"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>collation</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* other data needed for calling consistentFn */ 
</span><a name="LN291"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>query</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* NB: these three arrays have only nuserentries elements! */ 
</span><a name="LN293"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>      <span class='Operator'>*</span><span class='Declare_Member'>queryValues</span><span class='Delimiter'>; 
</span><a name="LN294"></a>    <a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>*</span><span class='Declare_Member'>queryCategories</span><span class='Delimiter'>; 
</span><a name="LN295"></a>    <a href="../c.h.html#LN244"><span class='Ref_to_Typedef'>Pointer</span></a>    <span class='Operator'>*</span><span class='Declare_Member'>extra_data</span><span class='Delimiter'>; 
</span><a name="LN296"></a>    <a href="stratnum.h.html#LN21"><span class='Ref_to_Typedef'>StrategyNumber</span></a> <span class='Declare_Member'>strategy</span><span class='Delimiter'>; 
</span><a name="LN297"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>searchMode</span><span class='Delimiter'>; 
</span><a name="LN298"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>attnum</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Match status data.  curItem is the TID most recently tested (could be a 
     * lossy-page pointer).  curItemMatches is TRUE if it passes the 
     * consistentFn test; if so, recheckCurItem is the recheck flag. 
     * isFinished means that all the input entry streams are finished, so this 
     * key cannot succeed for any later TIDs. 
     */ 
</span><a name="LN307"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>curItem</span><span class='Delimiter'>; 
</span><a name="LN308"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>curItemMatches</span><span class='Delimiter'>; 
</span><a name="LN309"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>recheckCurItem</span><span class='Delimiter'>; 
</span><a name="LN310"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isFinished</span><span class='Delimiter'>; 
</span><a name="LN311"></a>}<span class='Auto_Annotations'> &laquo; end GinScanKeyData &raquo; </span>   <span class='Declare_Typedef'>GinScanKeyData</span><span class='Delimiter'>; 
</span> 
<a name="LN313"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinScanEntryData</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* query key and other information from extractQueryFn */ 
</span><a name="LN316"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>queryKey</span><span class='Delimiter'>; 
</span><a name="LN317"></a>    <a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Member'>queryCategory</span><span class='Delimiter'>; 
</span><a name="LN318"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isPartialMatch</span><span class='Delimiter'>; 
</span><a name="LN319"></a>    <a href="../c.h.html#LN244"><span class='Ref_to_Typedef'>Pointer</span></a>     <span class='Declare_Member'>extra_data</span><span class='Delimiter'>; 
</span><a name="LN320"></a>    <a href="stratnum.h.html#LN21"><span class='Ref_to_Typedef'>StrategyNumber</span></a> <span class='Declare_Member'>strategy</span><span class='Delimiter'>; 
</span><a name="LN321"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>searchMode</span><span class='Delimiter'>; 
</span><a name="LN322"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>attnum</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Current page in posting tree */ 
</span><a name="LN325"></a>    <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a>      <span class='Declare_Member'>buffer</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* current ItemPointer to heap */ 
</span><a name="LN328"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>curItem</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* for a partial-match or full-scan query, we accumulate all TIDs here */ 
</span><a name="LN331"></a>    <a href="../../backend/nodes/tidbitmap.c.html#LN146"><span class='Ref_to_Struct'>TIDBitmap</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>matchBitmap</span><span class='Delimiter'>; 
</span><a name="LN332"></a>    <a href="../../backend/nodes/tidbitmap.c.html#LN175"><span class='Ref_to_Struct'>TBMIterator</span></a> <span class='Operator'>*</span><span class='Declare_Member'>matchIterator</span><span class='Delimiter'>; 
</span><a name="LN333"></a>    <a href="../nodes/tidbitmap.h.html#LN39"><span class='Ref_to_Typedef'>TBMIterateResult</span></a> <span class='Operator'>*</span><span class='Declare_Member'>matchResult</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* used for Posting list and one page in Posting tree */ 
</span><a name="LN336"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Member'>list</span><span class='Delimiter'>; 
</span><a name="LN337"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nlist</span><span class='Delimiter'>; 
</span><a name="LN338"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>offset</span><span class='Delimiter'>; 
</span> 
<a name="LN340"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isFinished</span><span class='Delimiter'>; 
</span><a name="LN341"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>reduceResult</span><span class='Delimiter'>; 
</span><a name="LN342"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>predictNumberResult</span><span class='Delimiter'>; 
</span><a name="LN343"></a>    <a href="gin_private.h.html#LN142"><span class='Ref_to_Struct'>GinBtreeData</span></a> <span class='Declare_Member'>btree</span><span class='Delimiter'>; 
</span><a name="LN344"></a>}<span class='Auto_Annotations'> &laquo; end GinScanEntryData &raquo; </span>   <span class='Declare_Typedef'>GinScanEntryData</span><span class='Delimiter'>; 
</span> 
<a name="LN346"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinScanOpaqueData</span> 
<span class='Delimiter'>{ 
</span><a name="LN348"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>tempCtx</span><span class='Delimiter'>; 
</span><a name="LN349"></a>    <a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a>    <span class='Declare_Member'>ginstate</span><span class='Delimiter'>; 
</span> 
<a name="LN351"></a>    <a href="gin_private.h.html#LN255"><span class='Ref_to_Typedef'>GinScanKey</span></a>  <span class='Declare_Member'>keys</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* one per scan qualifier expr */ 
</span><a name="LN352"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>nkeys</span><span class='Delimiter'>; 
</span> 
<a name="LN354"></a>    <a href="gin_private.h.html#LN257"><span class='Ref_to_Typedef'>GinScanEntry</span></a> <span class='Operator'>*</span><span class='Declare_Member'>entries</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* one per index search condition */ 
</span><a name="LN355"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>totalentries</span><span class='Delimiter'>; 
</span><a name="LN356"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>allocentries</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* allocated length of entries[] */ 
</span> 
<a name="LN358"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>keyCtx</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* used to hold key and entry data */ 
</span> 
<a name="LN360"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isVoidRes</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* true if query is unsatisfiable */ 
</span><a name="LN361"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinScanOpaqueData</span><span class='Delimiter'>; 
</span> 
<a name="LN363"></a><span class='Control'>typedef</span> <a href="gin_private.h.html#LN346"><span class='Ref_to_Struct'>GinScanOpaqueData</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>GinScanOpaque</span><span class='Delimiter'>; 
</span> 
<a name="LN365"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Prototype'>ginbeginscan</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nkeys</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>norderbys</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN366"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginendscan</span><span class='Parentheses'>(</span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Parameter'>scan</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN367"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginrescan</span><span class='Parentheses'>(</span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Parameter'>scan</span><span class='Delimiter'>, </span><a href="skey.h.html#LN74"><span class='Ref_to_Typedef'>ScanKey</span></a> <span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nscankeys</span><span class='Delimiter'>, 
</span><a name="LN368"></a>          <a href="skey.h.html#LN74"><span class='Ref_to_Typedef'>ScanKey</span></a> <span class='Declare_Parameter'>orderbys</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>norderbys</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN369"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginNewScanKey</span><span class='Parentheses'>(</span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Parameter'>scan</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN370"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginFreeScanKeys</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN363"><span class='Ref_to_Typedef'>GinScanOpaque</span></a> <span class='Declare_Parameter'>so</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginget.c */ 
</span><a name="LN373"></a><span class='Keyword'>extern </span><a href="../c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a> <span class='Declare_Prototype'>gingetbitmap</span><span class='Parentheses'>(</span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Parameter'>scan</span><span class='Delimiter'>, </span><a href="../../backend/nodes/tidbitmap.c.html#LN146"><span class='Ref_to_Struct'>TIDBitmap</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tbm</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginlogic.c */ 
</span><a name="LN376"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginInitConsistentFunction</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><a href="gin_private.h.html#LN255"><span class='Ref_to_Typedef'>GinScanKey</span></a> <span class='Declare_Parameter'>key</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginvacuum.c */ 
</span><a name="LN379"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginbulkdelete</span><span class='Parentheses'>(</span><a href="genam.h.html#LN43"><span class='Ref_to_Struct'>IndexVacuumInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>info</span><span class='Delimiter'>, 
</span><a name="LN380"></a>              <a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stats</span><span class='Delimiter'>, 
</span><a name="LN381"></a>              <a href="genam.h.html#LN82"><span class='Ref_to_Typedef'>IndexBulkDeleteCallback</span></a> <span class='Declare_Parameter'>callback</span><span class='Delimiter'>, 
</span><a name="LN382"></a>              <span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>callback_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN383"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginvacuumcleanup</span><span class='Parentheses'>(</span><a href="genam.h.html#LN43"><span class='Ref_to_Struct'>IndexVacuumInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>info</span><span class='Delimiter'>, 
</span><a name="LN384"></a>                 <a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN385"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Prototype'>ginVacuumItemPointers</span><span class='Parentheses'>(</span><a href="../../backend/access/gin/ginvacuum.c.html#LN26"><span class='Ref_to_Struct'>GinVacuumState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gvs</span><span class='Delimiter'>, 
</span><a name="LN386"></a>                      <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>items</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nitem</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>nremaining</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginvalidate.c */ 
</span><a name="LN389"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>ginvalidate</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>opclassoid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginbulk.c */ 
</span><a name="LN392"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinEntryAccumulator</span> 
<span class='Delimiter'>{ 
</span><a name="LN394"></a>    <a href="../lib/rbtree.h.html#LN22"><span class='Ref_to_Struct'>RBNode</span></a>      <span class='Declare_Member'>rbnode</span><span class='Delimiter'>; 
</span><a name="LN395"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>key</span><span class='Delimiter'>; 
</span><a name="LN396"></a>    <a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Declare_Member'>category</span><span class='Delimiter'>; 
</span><a name="LN397"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>attnum</span><span class='Delimiter'>; 
</span><a name="LN398"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>shouldSort</span><span class='Delimiter'>; 
</span><a name="LN399"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Member'>list</span><span class='Delimiter'>; 
</span><a name="LN400"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>maxcount</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* allocated size of list[] */ 
</span><a name="LN401"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>count</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* current number of list[] entries */ 
</span><a name="LN402"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinEntryAccumulator</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN406"></a>    <a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a>   <span class='Operator'>*</span><span class='Declare_Member'>ginstate</span><span class='Delimiter'>; 
</span><a name="LN407"></a>    <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Member'>allocatedMemory</span><span class='Delimiter'>; 
</span><a name="LN408"></a>    <a href="gin_private.h.html#LN392"><span class='Ref_to_Struct'>GinEntryAccumulator</span></a> <span class='Operator'>*</span><span class='Declare_Member'>entryallocator</span><span class='Delimiter'>; 
</span><a name="LN409"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>eas_used</span><span class='Delimiter'>; 
</span><a name="LN410"></a>    <a href="../../backend/lib/rbtree.c.html#LN40"><span class='Ref_to_Struct'>RBTree</span></a>     <span class='Operator'>*</span><span class='Declare_Member'>tree</span><span class='Delimiter'>; 
</span><a name="LN411"></a>    <a href="../lib/rbtree.h.html#LN49"><span class='Ref_to_Struct'>RBTreeIterator</span></a> <span class='Declare_Member'>tree_walk</span><span class='Delimiter'>; 
</span><a name="LN412"></a>} <span class='Declare_Typedef'>BuildAccumulator</span><span class='Delimiter'>; 
</span> 
<a name="LN414"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginInitBA</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN404"><span class='Ref_to_Typedef'>BuildAccumulator</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>accum</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN415"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginInsertBAEntries</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN404"><span class='Ref_to_Typedef'>BuildAccumulator</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>accum</span><span class='Delimiter'>, 
</span><a name="LN416"></a>                   <a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>heapptr</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, 
</span><a name="LN417"></a>                   <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>entries</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>categories</span><span class='Delimiter'>, 
</span><a name="LN418"></a>                   <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>nentries</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN419"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginBeginBAScan</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN404"><span class='Ref_to_Typedef'>BuildAccumulator</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>accum</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN420"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginGetBAEntry</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN404"><span class='Ref_to_Typedef'>BuildAccumulator</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>accum</span><span class='Delimiter'>, 
</span><a name="LN421"></a>              <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>category</span><span class='Delimiter'>, 
</span><a name="LN422"></a>              <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginfast.c */ 
</span> 
<a name="LN426"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinTupleCollector</span> 
<span class='Delimiter'>{ 
</span><a name="LN428"></a>    <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Member'>tuples</span><span class='Delimiter'>; 
</span><a name="LN429"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>ntuples</span><span class='Delimiter'>; 
</span><a name="LN430"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>lentuples</span><span class='Delimiter'>; 
</span><a name="LN431"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>sumsize</span><span class='Delimiter'>; 
</span><a name="LN432"></a>} <span class='Declare_Typedef'>GinTupleCollector</span><span class='Delimiter'>; 
</span> 
<a name="LN434"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginHeapTupleFastInsert</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, 
</span><a name="LN435"></a>                       <a href="gin_private.h.html#LN426"><span class='Ref_to_Struct'>GinTupleCollector</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>collector</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN436"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginHeapTupleFastCollect</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, 
</span><a name="LN437"></a>                        <a href="gin_private.h.html#LN426"><span class='Ref_to_Struct'>GinTupleCollector</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>collector</span><span class='Delimiter'>, 
</span><a name="LN438"></a>                        <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>value</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isNull</span><span class='Delimiter'>, 
</span><a name="LN439"></a>                        <a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>ht_ctid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN440"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>ginInsertCleanup</span><span class='Parentheses'>(</span><a href="gin_private.h.html#LN50"><span class='Ref_to_Struct'>GinState</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>full_clean</span><span class='Delimiter'>, 
</span><a name="LN441"></a>                 <span class='Keyword'>bool </span><span class='Declare_Parameter'>fill_fsm</span><span class='Delimiter'>, </span><a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ginpostinglist.c */ 
</span> 
<a name="LN445"></a><span class='Keyword'>extern </span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ginCompressPostingList</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>ptrs</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nptrs</span><span class='Delimiter'>, 
</span><a name="LN446"></a>                       <span class='Keyword'>int </span><span class='Declare_Parameter'>maxsize</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>nwritten</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN447"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>ginPostingListDecodeAllSegmentsToTbm</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>totalsize</span><span class='Delimiter'>, </span><a href="../../backend/nodes/tidbitmap.c.html#LN146"><span class='Ref_to_Struct'>TIDBitmap</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tbm</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN449"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Prototype'>ginPostingListDecodeAllSegments</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>ndecoded</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN450"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Prototype'>ginPostingListDecode</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>ndecoded</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN451"></a><span class='Keyword'>extern </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Prototype'>ginMergeItemPointers</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>na</span><span class='Delimiter'>, 
</span><a name="LN452"></a>                     <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>b</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>nb</span><span class='Delimiter'>, 
</span><a name="LN453"></a>                     <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>nmerged</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Merging the results of several gin scans compares item pointers a lot, 
 * so we want this to be inlined. 
 */ 
</span><span class='Keyword'>static inline int 
</span><a name="LN460"></a><span class='Declare_Function'>ginCompareItemPointers</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN462"></a>    <a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a>      <span class='Declare_Local'>ia</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a><span class='Parentheses'>) </span><a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><a href="gin_private.h.html#LN460"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>32</span> <span class='Operator'>| </span><a href="ginblock.h.html#LN136"><span class='Ref_to_Macro'>GinItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span><a href="gin_private.h.html#LN460"><span class='Ref_to_Parameter'>a</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN463"></a>    <a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a>      <span class='Declare_Local'>ib</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a><span class='Parentheses'>) </span><a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><a href="gin_private.h.html#LN460"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;&LT; </span><span class='Number'>32</span> <span class='Operator'>| </span><a href="ginblock.h.html#LN136"><span class='Ref_to_Macro'>GinItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span><a href="gin_private.h.html#LN460"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="gin_private.h.html#LN462"><span class='Ref_To_Local'>ia</span></a> <span class='Operator'>== </span><a href="gin_private.h.html#LN463"><span class='Ref_To_Local'>ib</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="gin_private.h.html#LN462"><span class='Ref_To_Local'>ia</span></a> <span class='Operator'>&GT; </span><a href="gin_private.h.html#LN463"><span class='Ref_To_Local'>ib</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
} 
</span> 
<a name="LN473"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>ginTraverseLock</span><span class='Parentheses'>(</span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buffer</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>searchMode</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* GIN_PRIVATE_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>