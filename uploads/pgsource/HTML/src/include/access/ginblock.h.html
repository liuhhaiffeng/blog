<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\access\ginblock.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\access\ginblock.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:03 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*-------------------------------------------------------------------------- 
 * ginblock.h 
 *    details of structures stored in GIN index blocks 
 * 
 *  Copyright (c) 2006-2017, PostgreSQL Global Development Group 
 * 
 *  src/include/access/ginblock.h 
 *-------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="ginblock.h.html#LN10"><span class='Ref_to_Const'>GINBLOCK_H</span></a> 
<a name="LN10"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GINBLOCK_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"storage/block.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/itemptr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/off.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Page opaque data in an inverted index page. 
 * 
 * Note: GIN does not include a page ID word as do the other index types. 
 * This is OK because the opaque data is only 8 bytes and so can be reliably 
 * distinguished by size.  Revisit this if the size ever increases. 
 * Further note: as of 9.2, SP-GiST also uses 8-byte special space, as does 
 * BRIN as of 9.5.  This is still OK, as long as GIN isn't using all of the 
 * high-order bits in its flags word, because that way the flags word cannot 
 * match the page IDs used by SP-GiST and BRIN. 
 */ 
</span><a name="LN27"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinPageOpaqueData</span> 
<span class='Delimiter'>{ 
</span><a name="LN29"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>rightlink</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* next page if any */ 
</span><a name="LN30"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>maxoff</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* number of PostingItems on GIN_DATA & 
                                 * ~GIN_LEAF page. On GIN_LIST page, number of 
                                 * heap tuples. */ 
</span><a name="LN33"></a>    <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a>      <span class='Declare_Member'>flags</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* see bit definitions below */ 
</span><a name="LN34"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinPageOpaqueData</span><span class='Delimiter'>; 
</span> 
<a name="LN36"></a><span class='Control'>typedef</span> <a href="ginblock.h.html#LN27"><span class='Ref_to_Struct'>GinPageOpaqueData</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>GinPageOpaque</span><span class='Delimiter'>; 
</span> 
<a name="LN38"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_DATA</span>          <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN39"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_LEAF</span>          <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span><a name="LN40"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_DELETED</span>       <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>2</span><span class='Parentheses'>) 
</span><a name="LN41"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_META</span>          <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>3</span><span class='Parentheses'>) 
</span><a name="LN42"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_LIST</span>          <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>4</span><span class='Parentheses'>) 
</span><a name="LN43"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_LIST_FULLROW</span>  <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>5</span><span class='Parentheses'>)</span>      <span class='Comment_Single_Line'>/* makes sense only on GIN_LIST page */ 
</span><a name="LN44"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_INCOMPLETE_SPLIT</span> <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>6</span><span class='Parentheses'>)</span>   <span class='Comment_Multi_Line'>/* page was split, but parent not 
                                         * updated */ 
</span><a name="LN46"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_COMPRESSED</span>    <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>7</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* Page numbers of fixed-location pages */ 
</span><a name="LN49"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_METAPAGE_BLKNO</span>  <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN50"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_ROOT_BLKNO</span>      <span class='Parentheses'>(</span><span class='Number'>1</span><span class='Parentheses'>) 
</span> 
<a name="LN52"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GinMetaPageData</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Pointers to head and tail of pending list, which consists of GIN_LIST 
     * pages.  These store fast-inserted entries that haven't yet been moved 
     * into the regular GIN structure. 
     */ 
</span><a name="LN59"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>head</span><span class='Delimiter'>; 
</span><a name="LN60"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>tail</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Free space in bytes in the pending list's tail page. 
     */ 
</span><a name="LN65"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>tailFreeSize</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * We store both number of pages and number of heap tuples that are in the 
     * pending list. 
     */ 
</span><a name="LN71"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>nPendingPages</span><span class='Delimiter'>; 
</span><a name="LN72"></a>    <a href="../c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Member'>nPendingHeapTuples</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Statistics for planner use (accurate as of last VACUUM) 
     */ 
</span><a name="LN77"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>nTotalPages</span><span class='Delimiter'>; 
</span><a name="LN78"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>nEntryPages</span><span class='Delimiter'>; 
</span><a name="LN79"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>nDataPages</span><span class='Delimiter'>; 
</span><a name="LN80"></a>    <a href="../c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Member'>nEntries</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * GIN version number (ideally this should have been at the front, but too 
     * late now.  Don't move it!) 
     * 
     * Currently 2 (for indexes initialized in 9.4 or later) 
     * 
     * Version 1 (indexes initialized in version 9.1, 9.2 or 9.3), is 
     * compatible, but may contain uncompressed posting tree (leaf) pages and 
     * posting lists. They will be converted to compressed format when 
     * modified. 
     * 
     * Version 0 (indexes initialized in 9.0 or before) is compatible but may 
     * be missing null entries, including both null keys and placeholders. 
     * Reject full-index-scan attempts on such indexes. 
     */ 
</span><a name="LN97"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>ginVersion</span><span class='Delimiter'>; 
</span><a name="LN98"></a>}<span class='Auto_Annotations'> &laquo; end GinMetaPageData &raquo; </span> <span class='Declare_Typedef'>GinMetaPageData</span><span class='Delimiter'>; 
</span> 
<a name="LN100"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_CURRENT_VERSION</span>     <span class='Number'>2</span> 
 
<a name="LN102"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageGetMeta</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="ginblock.h.html#LN52"><span class='Ref_to_Struct'>GinMetaPageData</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../storage/bufpage.h.html#LN242"><span class='Ref_to_Macro'>PageGetContents</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN102"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Macros for accessing a GIN index page's opaque data 
 */ 
</span><a name="LN108"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageGetOpaque</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) (</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN36"><span class='Ref_to_Typedef'>GinPageOpaque</span></a><span class='Parentheses'>) </span><a href="../storage/bufpage.h.html#LN322"><span class='Ref_to_Macro'>PageGetSpecialPointer</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>) )</span> 
 
<a name="LN110"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageIsLeaf</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN110"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN39"><span class='Ref_to_Const'>GIN_LEAF</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
<a name="LN111"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetLeaf</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN111"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>|= </span><a href="ginblock.h.html#LN39"><span class='Ref_to_Const'>GIN_LEAF</span></a> <span class='Parentheses'>)</span> 
<a name="LN112"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetNonLeaf</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN112"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>&= ~</span><a href="ginblock.h.html#LN39"><span class='Ref_to_Const'>GIN_LEAF</span></a> <span class='Parentheses'>)</span> 
<a name="LN113"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageIsData</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN113"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN38"><span class='Ref_to_Const'>GIN_DATA</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
<a name="LN114"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetData</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN114"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>|= </span><a href="ginblock.h.html#LN38"><span class='Ref_to_Const'>GIN_DATA</span></a> <span class='Parentheses'>)</span> 
<a name="LN115"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageIsList</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN115"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN42"><span class='Ref_to_Const'>GIN_LIST</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
<a name="LN116"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetList</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN116"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>|= </span><a href="ginblock.h.html#LN42"><span class='Ref_to_Const'>GIN_LIST</span></a> <span class='Parentheses'>)</span> 
<a name="LN117"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageHasFullRow</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN117"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN43"><span class='Ref_to_Const'>GIN_LIST_FULLROW</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
<a name="LN118"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetFullRow</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN118"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>|= </span><a href="ginblock.h.html#LN43"><span class='Ref_to_Const'>GIN_LIST_FULLROW</span></a> <span class='Parentheses'>)</span> 
<a name="LN119"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageIsCompressed</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN119"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN46"><span class='Ref_to_Const'>GIN_COMPRESSED</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
<a name="LN120"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetCompressed</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN120"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>|= </span><a href="ginblock.h.html#LN46"><span class='Ref_to_Const'>GIN_COMPRESSED</span></a> <span class='Parentheses'>)</span> 
 
<a name="LN122"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageIsDeleted</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) (</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN122"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN40"><span class='Ref_to_Const'>GIN_DELETED</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
<a name="LN123"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetDeleted</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN123"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>|= </span><a href="ginblock.h.html#LN40"><span class='Ref_to_Const'>GIN_DELETED</span></a><span class='Parentheses'>)</span> 
<a name="LN124"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageSetNonDeleted</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) (</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN124"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>&= ~</span><a href="ginblock.h.html#LN40"><span class='Ref_to_Const'>GIN_DELETED</span></a><span class='Parentheses'>)</span> 
<a name="LN125"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageIsIncompleteSplit</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) (</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN125"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="ginblock.h.html#LN44"><span class='Ref_to_Const'>GIN_INCOMPLETE_SPLIT</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Parentheses'>)</span> 
 
<a name="LN127"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinPageRightMost</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) (</span> <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN127"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rightlink <span class='Operator'>== </span><a href="../storage/block.h.html#LN32"><span class='Ref_to_Const'>InvalidBlockNumber</span></a><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * We use our own ItemPointerGet(BlockNumber|OffsetNumber) 
 * to avoid Asserts, since sometimes the ip_posid isn't "valid" 
 */ 
</span><a name="LN133"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinItemPointerGetBlockNumber</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>pointer</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN65"><span class='Ref_to_Macro'>ItemPointerGetBlockNumberNoCheck</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN133"><span class='Ref_to_Parameter'>pointer</span></a><span class='Parentheses'>))</span> 
 
<a name="LN136"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinItemPointerGetOffsetNumber</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>pointer</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN84"><span class='Ref_to_Macro'>ItemPointerGetOffsetNumberNoCheck</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN136"><span class='Ref_to_Parameter'>pointer</span></a><span class='Parentheses'>))</span> 
 
<a name="LN139"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinItemPointerSetBlockNumber</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>pointer</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>blkno</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN114"><span class='Ref_to_Macro'>ItemPointerSetBlockNumber</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN139"><span class='Ref_to_Parameter'>pointer</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN139"><span class='Ref_to_Parameter'>blkno</span></a><span class='Parentheses'>)))</span> 
 
<a name="LN142"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinItemPointerSetOffsetNumber</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>pointer</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>offnum</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN124"><span class='Ref_to_Macro'>ItemPointerSetOffsetNumber</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN142"><span class='Ref_to_Parameter'>pointer</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN142"><span class='Ref_to_Parameter'>offnum</span></a><span class='Parentheses'>)))</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Special-case item pointer values needed by the GIN search logic. 
 *  MIN: sorts less than any valid item pointer 
 *  MAX: sorts greater than any valid item pointer 
 *  LOSSY PAGE: indicates a whole heap page, sorts after normal item 
 *              pointers for that page 
 * Note that these are all distinguishable from an "invalid" item pointer 
 * (which is InvalidBlockNumber/0) as well as from all normal item 
 * pointers (which have item numbers in the range 1..MaxHeapTuplesPerPage). 
 */ 
</span><a name="LN156"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ItemPointerSetMin</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <a href="../storage/itemptr.h.html#LN103"><span class='Ref_to_Macro'>ItemPointerSet</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN156"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0</span><span class='Parentheses'>)</span> 
<a name="LN158"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ItemPointerIsMin</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="ginblock.h.html#LN136"><span class='Ref_to_Macro'>GinItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN158"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Parentheses'>(</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0</span> <span class='Operator'>&& \ 
</span>     <a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN158"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Parentheses'>(</span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0</span><span class='Parentheses'>)</span> 
<a name="LN161"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ItemPointerSetMax</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <a href="../storage/itemptr.h.html#LN103"><span class='Ref_to_Macro'>ItemPointerSet</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN161"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN32"><span class='Ref_to_Const'>InvalidBlockNumber</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0xffff</span><span class='Parentheses'>)</span> 
<a name="LN163"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ItemPointerIsMax</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="ginblock.h.html#LN136"><span class='Ref_to_Macro'>GinItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN163"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Parentheses'>(</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0xffff</span> <span class='Operator'>&& \ 
</span>     <a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN163"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="../storage/block.h.html#LN32"><span class='Ref_to_Const'>InvalidBlockNumber</span></a><span class='Parentheses'>)</span> 
<a name="LN166"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ItemPointerSetLossyPage</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>b</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <a href="../storage/itemptr.h.html#LN103"><span class='Ref_to_Macro'>ItemPointerSet</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN166"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN166"><span class='Ref_to_Parameter'>b</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0xffff</span><span class='Parentheses'>)</span> 
<a name="LN168"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ItemPointerIsLossyPage</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="ginblock.h.html#LN136"><span class='Ref_to_Macro'>GinItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN168"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Parentheses'>(</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0xffff</span> <span class='Operator'>&& \ 
</span>     <a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN168"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="../storage/block.h.html#LN32"><span class='Ref_to_Const'>InvalidBlockNumber</span></a><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Posting item in a non-leaf posting-tree page 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* We use BlockIdData not BlockNumber to avoid padding space wastage */ 
</span><a name="LN178"></a>    <a href="../storage/block.h.html#LN52"><span class='Ref_to_Struct'>BlockIdData</span></a> <span class='Declare_Member'>child_blkno</span><span class='Delimiter'>; 
</span><a name="LN179"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>key</span><span class='Delimiter'>; 
</span><a name="LN180"></a>} <span class='Declare_Typedef'>PostingItem</span><span class='Delimiter'>; 
</span> 
<a name="LN182"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>PostingItemGetBlockNumber</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>pointer</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../storage/block.h.html#LN114"><span class='Ref_to_Macro'>BlockIdGetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN182"><span class='Ref_to_Parameter'>pointer</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>child_blkno<span class='Parentheses'>)</span> 
 
<a name="LN185"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>PostingItemSetBlockNumber</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>pointer</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>blockNumber</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../storage/block.h.html#LN83"><span class='Ref_to_Macro'>BlockIdSet</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>((</span><a href="ginblock.h.html#LN185"><span class='Ref_to_Parameter'>pointer</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>child_blkno<span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN185"><span class='Ref_to_Parameter'>blockNumber</span></a><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Category codes to distinguish placeholder nulls from ordinary NULL keys. 
 * Note that the datatype size and the first two code values are chosen to be 
 * compatible with the usual usage of bool isNull flags. 
 * 
 * GIN_CAT_EMPTY_QUERY is never stored in the index; and notice that it is 
 * chosen to sort before not after regular key values. 
 */ 
</span><a name="LN196"></a><span class='Control'>typedef</span> <span class='Keyword'>signed char </span><span class='Declare_Typedef'>GinNullCategory</span><span class='Delimiter'>; 
</span> 
<a name="LN198"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_CAT_NORM_KEY</span>        <span class='Number'>0</span>       <span class='Comment_Single_Line'>/* normal, non-null key value */ 
</span><a name="LN199"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_CAT_NULL_KEY</span>        <span class='Number'>1</span>       <span class='Comment_Single_Line'>/* null key value */ 
</span><a name="LN200"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_CAT_EMPTY_ITEM</span>      <span class='Number'>2</span>       <span class='Comment_Single_Line'>/* placeholder for zero-key item */ 
</span><a name="LN201"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_CAT_NULL_ITEM</span>       <span class='Number'>3</span>       <span class='Comment_Single_Line'>/* placeholder for null item */ 
</span><a name="LN202"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_CAT_EMPTY_QUERY</span>     <span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span>    <span class='Comment_Single_Line'>/* placeholder for full-scan query */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Access macros for null category byte in entry tuples 
 */ 
</span><a name="LN207"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinCategoryOffset</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>ginstate</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="itup.h.html#LN79"><span class='Ref_to_Macro'>IndexInfoFindDataOffset</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN207"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_info<span class='Parentheses'>)</span> <span class='Operator'>+ \ 
</span>     <span class='Parentheses'>((</span><a href="ginblock.h.html#LN207"><span class='Ref_to_Parameter'>ginstate</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>oneCol <span class='Operator'>? </span><span class='Number'>0</span> <span class='Operator'>: </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a><span class='Parentheses'>)))</span> 
<a name="LN210"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetNullCategory</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>ginstate</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>((</span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><span class='Keyword'>char</span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="ginblock.h.html#LN210"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="ginblock.h.html#LN207"><span class='Ref_to_Macro'>GinCategoryOffset</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN210"><span class='Ref_to_Parameter'>itup</span></a><span class='Delimiter'>,</span><a href="ginblock.h.html#LN210"><span class='Ref_to_Parameter'>ginstate</span></a><span class='Parentheses'>))))</span> 
<a name="LN212"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinSetNullCategory</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>ginstate</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>((</span><a href="ginblock.h.html#LN196"><span class='Ref_to_Typedef'>GinNullCategory</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><span class='Keyword'>char</span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="ginblock.h.html#LN212"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="ginblock.h.html#LN207"><span class='Ref_to_Macro'>GinCategoryOffset</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN212"><span class='Ref_to_Parameter'>itup</span></a><span class='Delimiter'>,</span><a href="ginblock.h.html#LN212"><span class='Ref_to_Parameter'>ginstate</span></a><span class='Parentheses'>)))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN212"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Access macros for leaf-page entry tuples (see discussion in README) 
 */ 
</span><a name="LN218"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetNPosting</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>    <a href="ginblock.h.html#LN136"><span class='Ref_to_Macro'>GinItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN218"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span> 
<a name="LN219"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinSetNPosting</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span>  <a href="../storage/itemptr.h.html#LN124"><span class='Ref_to_Macro'>ItemPointerSetOffsetNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN219"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Delimiter'>,</span><a href="ginblock.h.html#LN219"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span> 
<a name="LN220"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_TREE_POSTING</span>        <span class='Parentheses'>((</span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a><span class='Parentheses'>)</span><span class='Number'>0xffff</span><span class='Parentheses'>)</span> 
<a name="LN221"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinIsPostingTree</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>  <span class='Parentheses'>(</span><a href="ginblock.h.html#LN218"><span class='Ref_to_Macro'>GinGetNPosting</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN221"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="ginblock.h.html#LN220"><span class='Ref_to_Const'>GIN_TREE_POSTING</span></a><span class='Parentheses'>)</span> 
<a name="LN222"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinSetPostingTree</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>blkno</span><span class='Parentheses'>)</span>  <span class='Parentheses'>(</span> <a href="ginblock.h.html#LN219"><span class='Ref_to_Macro'>GinSetNPosting</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN222"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>,</span><a href="ginblock.h.html#LN220"><span class='Ref_to_Const'>GIN_TREE_POSTING</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="../storage/itemptr.h.html#LN114"><span class='Ref_to_Macro'>ItemPointerSetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN222"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Delimiter'>, </span><a href="ginblock.h.html#LN222"><span class='Ref_to_Parameter'>blkno</span></a><span class='Parentheses'>)</span> <span class='Parentheses'>)</span> 
<a name="LN223"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetPostingTree</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>) </span><a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN223"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span> 
 
<a name="LN225"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIN_ITUP_COMPRESSED</span>     <span class='Parentheses'>(</span><span class='Number'>1U</span> <span class='Operator'>&LT;&LT; </span><span class='Number'>31</span><span class='Parentheses'>) 
</span><a name="LN226"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetPostingOffset</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span><a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN226"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span> <span class='Operator'>& </span><span class='Parentheses'>(</span><span class='Operator'>~</span><a href="ginblock.h.html#LN225"><span class='Ref_to_Const'>GIN_ITUP_COMPRESSED</span></a><span class='Parentheses'>))</span> 
<a name="LN227"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinSetPostingOffset</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>n</span><span class='Parentheses'>) </span><a href="../storage/itemptr.h.html#LN114"><span class='Ref_to_Macro'>ItemPointerSetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN227"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Delimiter'>,</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN227"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Operator'>|</span><a href="ginblock.h.html#LN225"><span class='Ref_to_Const'>GIN_ITUP_COMPRESSED</span></a><span class='Parentheses'>)</span> 
<a name="LN228"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetPosting</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>         <span class='Parentheses'>((</span><a href="../c.h.html#LN244"><span class='Ref_to_Typedef'>Pointer</span></a><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><span class='Keyword'>char</span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="ginblock.h.html#LN228"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="ginblock.h.html#LN226"><span class='Ref_to_Macro'>GinGetPostingOffset</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN228"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)))</span> 
<a name="LN229"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinItupIsCompressed</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>   <span class='Parentheses'>((</span><a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN229"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span> <span class='Operator'>& </span><a href="ginblock.h.html#LN225"><span class='Ref_to_Const'>GIN_ITUP_COMPRESSED</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Maximum size of an item on entry tree page. Make sure that we fit at least 
 * three items on each page. (On regular B-tree indexes, we must fit at least 
 * three items: two data items and the "high key". In GIN entry tree, we don't 
 * currently store the high key explicitly, we just use the rightmost item on 
 * the page, so it would actually be enough to fit two items.) 
 */ 
</span><a name="LN238"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GinMaxItemSize</span> <span class='Operator'>\ 
</span>    <a href="../../interfaces/ecpg/pgtypeslib/numeric.c.html#LN11"><span class='Ref_to_Macro'>Min</span></a><span class='Parentheses'>(</span><a href="itup.h.html#LN64"><span class='Ref_to_Const'>INDEX_SIZE_MASK</span></a><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>        <a href="../c.h.html#LN599"><span class='Ref_to_Macro'>MAXALIGN_DOWN</span></a><span class='Parentheses'>(((</span>BLCKSZ <span class='Operator'>- \ 
</span>                        <a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a> <span class='Operator'>+ </span><span class='Number'>3</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemid.h.html#LN23"><span class='Ref_to_Struct'>ItemIdData</span></a><span class='Parentheses'>))</span> <span class='Operator'>- \ 
</span>                        <a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN27"><span class='Ref_to_Struct'>GinPageOpaqueData</span></a><span class='Parentheses'>)))</span> <span class='Operator'>/ </span><span class='Number'>3</span><span class='Parentheses'>)))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Access macros for non-leaf entry tuples 
 */ 
</span><a name="LN247"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinGetDownlink</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>    <a href="ginblock.h.html#LN133"><span class='Ref_to_Macro'>GinItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN247"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span> 
<a name="LN248"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinSetDownlink</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>,</span><span class='Declare_Parameter'>blkno</span><span class='Parentheses'>)</span>  <a href="../storage/itemptr.h.html#LN103"><span class='Ref_to_Macro'>ItemPointerSet</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN248"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Delimiter'>, </span><a href="ginblock.h.html#LN248"><span class='Ref_to_Parameter'>blkno</span></a><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN25"><span class='Ref_to_Const'>InvalidOffsetNumber</span></a><span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Data (posting tree) pages 
 * 
 * Posting tree pages don't store regular tuples. Non-leaf pages contain 
 * PostingItems, which are pairs of ItemPointers and child block numbers. 
 * Leaf pages contain GinPostingLists and an uncompressed array of item 
 * pointers. 
 * 
 * In a leaf page, the compressed posting lists are stored after the regular 
 * page header, one after each other. Although we don't store regular tuples, 
 * pd_lower is used to indicate the end of the posting lists. After that, free 
 * space follows.  This layout is compatible with the "standard" heap and 
 * index page layout described in bufpage.h, so that we can e.g set buffer_std 
 * when writing WAL records. 
 * 
 * In the special space is the GinPageOpaque struct. 
 */ 
</span><a name="LN268"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataLeafPageGetPostingList</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a> <span class='Operator'>*</span><span class='Parentheses'>) ((</span><a href="../storage/bufpage.h.html#LN242"><span class='Ref_to_Macro'>PageGetContents</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN268"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a><span class='Parentheses'>))))</span> 
<a name="LN270"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataLeafPageGetPostingListSize</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(((</span><a href="../storage/bufpage.h.html#LN161"><span class='Ref_to_Typedef'>PageHeader</span></a><span class='Parentheses'>) </span><a href="ginblock.h.html#LN270"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pd_lower <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a><span class='Parentheses'>)</span> <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a><span class='Parentheses'>)))</span> 
 
<a name="LN273"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataLeafPageIsEmpty</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="ginblock.h.html#LN119"><span class='Ref_to_Macro'>GinPageIsCompressed</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN273"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span> <span class='Operator'>? </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN270"><span class='Ref_to_Macro'>GinDataLeafPageGetPostingListSize</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN273"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>: </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN273"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>maxoff <span class='Operator'>&LT; </span><a href="../storage/off.h.html#LN26"><span class='Ref_to_Const'>FirstOffsetNumber</span></a><span class='Parentheses'>))</span> 
 
<a name="LN276"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataLeafPageGetFreeSpace</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>) </span><a href="../storage/bufpage.h.html#LN428"><span class='Ref_to_Proto'>PageGetExactFreeSpace</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN276"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>) 
</span> 
<a name="LN278"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataPageGetRightBound</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a><span class='Parentheses'>) </span><a href="../storage/bufpage.h.html#LN242"><span class='Ref_to_Macro'>PageGetContents</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN278"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>))</span> 
<span class='Comment_Multi_Line'>/* 
 * Pointer to the data portion of a posting tree page. For internal pages, 
 * that's the beginning of the array of PostingItems. For compressed leaf 
 * pages, the first compressed posting list. For uncompressed (pre-9.4) leaf 
 * pages, it's the beginning of the ItemPointer array. 
 */ 
</span><a name="LN285"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataPageGetData</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN242"><span class='Ref_to_Macro'>PageGetContents</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN285"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a><span class='Parentheses'>)))</span> 
<span class='Comment_Multi_Line'>/* non-leaf pages contain PostingItems */ 
</span><a name="LN288"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataPageGetPostingItem</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>i</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="ginblock.h.html#LN175"><span class='Ref_to_Typedef'>PostingItem</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>(</span><a href="ginblock.h.html#LN285"><span class='Ref_to_Macro'>GinDataPageGetData</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN288"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="ginblock.h.html#LN288"><span class='Ref_to_Parameter'>i</span></a><span class='Parentheses'>)</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN175"><span class='Ref_to_Typedef'>PostingItem</span></a><span class='Parentheses'>)))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Note: there is no GinDataPageGetDataSize macro, because before version 
 * 9.4, we didn't set pd_lower on data pages. There can be pages in the index 
 * that were binary-upgraded from earlier versions and still have an invalid 
 * pd_lower, so we cannot trust it in general. Compressed posting tree leaf 
 * pages are new in 9.4, however, so we can trust them; see 
 * GinDataLeafPageGetPostingListSize. 
 */ 
</span><a name="LN299"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinDataPageSetDataSize</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>size</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN299"><span class='Ref_to_Parameter'>size</span></a> <span class='Operator'>&LT;= </span><a href="ginblock.h.html#LN309"><span class='Ref_to_Const'>GinDataPageMaxDataSize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>((</span><a href="../storage/bufpage.h.html#LN161"><span class='Ref_to_Typedef'>PageHeader</span></a><span class='Parentheses'>) </span><a href="ginblock.h.html#LN299"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pd_lower <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN299"><span class='Ref_to_Parameter'>size</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} 
</span> 
<a name="LN305"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinNonLeafDataPageGetFreeSpace</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>page</span><span class='Parentheses'>)</span>    <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="ginblock.h.html#LN309"><span class='Ref_to_Const'>GinDataPageMaxDataSize</span></a> <span class='Operator'>- \ 
</span>     <a href="ginblock.h.html#LN108"><span class='Ref_to_Macro'>GinPageGetOpaque</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN305"><span class='Ref_to_Parameter'>page</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>maxoff <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN175"><span class='Ref_to_Typedef'>PostingItem</span></a><span class='Parentheses'>))</span> 
 
<a name="LN309"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GinDataPageMaxDataSize</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span>BLCKSZ <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span>     <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a><span class='Parentheses'>))</span> <span class='Operator'>\ 
</span>     <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN27"><span class='Ref_to_Struct'>GinPageOpaqueData</span></a><span class='Parentheses'>)))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * List pages 
 */ 
</span><a name="LN317"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GinListPageSize</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span> BLCKSZ <span class='Operator'>- </span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a> <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="ginblock.h.html#LN27"><span class='Ref_to_Struct'>GinPageOpaqueData</span></a><span class='Parentheses'>))</span> <span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * A compressed posting list. 
 * 
 * Note: This requires 2-byte alignment. 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN327"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>first</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* first item in this posting list (unpacked) */ 
</span><a name="LN328"></a>    <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a>      <span class='Declare_Member'>nbytes</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* number of bytes that follow */ 
</span><a name="LN329"></a>    <span class='Keyword'>unsigned char </span><span class='Declare_Member'>bytes</span><span class='Delimiter'>[</span>FLEXIBLE_ARRAY_MEMBER<span class='Delimiter'>]; </span><span class='Comment_Single_Line'>/* varbyte encoded items */ 
</span><a name="LN330"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GinPostingList</span><span class='Delimiter'>; 
</span> 
<a name="LN332"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>SizeOfGinPostingList</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>plist</span><span class='Parentheses'>) (</span><a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a><span class='Delimiter'>, </span>bytes<span class='Parentheses'>)</span> <span class='Operator'>+ </span><a href="../c.h.html#LN583"><span class='Ref_to_Macro'>SHORTALIGN</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN332"><span class='Ref_to_Parameter'>plist</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>nbytes<span class='Parentheses'>)</span> <span class='Parentheses'>)</span> 
<a name="LN333"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GinNextPostingListSegment</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>cur</span><span class='Parentheses'>) ((</span><a href="ginblock.h.html#LN325"><span class='Ref_to_Typedef'>GinPostingList</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>(((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="ginblock.h.html#LN333"><span class='Ref_to_Parameter'>cur</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><a href="ginblock.h.html#LN332"><span class='Ref_to_Macro'>SizeOfGinPostingList</span></a><span class='Parentheses'>((</span><a href="ginblock.h.html#LN333"><span class='Ref_to_Parameter'>cur</span></a><span class='Parentheses'>))))</span> 
 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* GINBLOCK_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>