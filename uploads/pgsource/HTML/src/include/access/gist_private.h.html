<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\access\gist_private.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\access\gist_private.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:03 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * gist_private.h 
 *    private declarations for GiST -- declarations related to the 
 *    internal implementation of GiST, not the public API 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * src/include/access/gist_private.h 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="gist_private.h.html#LN14"><span class='Ref_to_Const'>GIST_PRIVATE_H</span></a> 
<a name="LN14"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_PRIVATE_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/amapi.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/gist.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/itup.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"lib/pairingheap.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/bufmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/buffile.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/hsearch.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/genam.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Maximum number of "halves" a page can be split into in one operation. 
 * Typically a split produces 2 halves, but can be more if keys have very 
 * different lengths, or when inserting multiple keys in one operation (as 
 * when inserting downlinks to an internal node).  There is no theoretical 
 * limit on this, but in practice if you get more than a handful page halves 
 * in one split, there's something wrong with the opclass implementation. 
 * GIST_MAX_SPLIT_PAGES is an arbitrary limit on that, used to size some 
 * local arrays used during split.  Note that there is also a limit on the 
 * number of buffers that can be held locked at a time, MAX_SIMUL_LWLOCKS, 
 * so if you raise this higher than that limit, you'll just get a different 
 * error. 
 */ 
</span><a name="LN39"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_MAX_SPLIT_PAGES</span>        <span class='Number'>75</span> 
 
<span class='Comment_Multi_Line'>/* Buffer lock modes */ 
</span><a name="LN42"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_SHARE</span>  <a href="../storage/bufmgr.h.html#LN87"><span class='Ref_to_Const'>BUFFER_LOCK_SHARE</span></a> 
<a name="LN43"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_EXCLUSIVE</span>  <a href="../storage/bufmgr.h.html#LN88"><span class='Ref_to_Const'>BUFFER_LOCK_EXCLUSIVE</span></a> 
<a name="LN44"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_UNLOCK</span> <a href="../storage/bufmgr.h.html#LN86"><span class='Ref_to_Const'>BUFFER_LOCK_UNLOCK</span></a> 
 
<span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN48"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>prev</span><span class='Delimiter'>; 
</span><a name="LN49"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>freespace</span><span class='Delimiter'>; 
</span><a name="LN50"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>tupledata</span><span class='Delimiter'>[</span>FLEXIBLE_ARRAY_MEMBER<span class='Delimiter'>]; 
</span><a name="LN51"></a>} <span class='Declare_Typedef'>GISTNodeBufferPage</span><span class='Delimiter'>; 
</span> 
<a name="LN53"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>BUFFER_PAGE_DATA_OFFSET</span> <a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="gist_private.h.html#LN46"><span class='Ref_to_Typedef'>GISTNodeBufferPage</span></a><span class='Delimiter'>, </span>tupledata<span class='Parentheses'>))</span> 
<span class='Comment_Multi_Line'>/* Returns free space in node buffer page */ 
</span><a name="LN55"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>PAGE_FREE_SPACE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nbp</span><span class='Parentheses'>) (</span><a href="gist_private.h.html#LN55"><span class='Ref_to_Parameter'>nbp</span></a><span class='Operator'>-&GT;</span>freespace<span class='Parentheses'>) 
</span><span class='Comment_Multi_Line'>/* Checks if node buffer page is empty */ 
</span><a name="LN57"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>PAGE_IS_EMPTY</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nbp</span><span class='Parentheses'>) (</span><a href="gist_private.h.html#LN57"><span class='Ref_to_Parameter'>nbp</span></a><span class='Operator'>-&GT;</span>freespace <span class='Operator'>== </span>BLCKSZ <span class='Operator'>- </span><a href="gist_private.h.html#LN53"><span class='Ref_to_Const'>BUFFER_PAGE_DATA_OFFSET</span></a><span class='Parentheses'>) 
</span><span class='Comment_Multi_Line'>/* Checks if node buffers page don't contain sufficient space for index tuple */ 
</span><a name="LN59"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>PAGE_NO_SPACE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nbp</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>) (</span><a href="gist_private.h.html#LN55"><span class='Ref_to_Macro'>PAGE_FREE_SPACE</span></a><span class='Parentheses'>(</span><a href="gist_private.h.html#LN59"><span class='Ref_to_Parameter'>nbp</span></a><span class='Parentheses'>)</span> <span class='Operator'>&LT; \ 
</span>                                        <a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="itup.h.html#LN69"><span class='Ref_to_Macro'>IndexTupleSize</span></a><span class='Parentheses'>(</span><a href="gist_private.h.html#LN59"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * GISTSTATE: information needed for any GiST index operation 
 * 
 * This struct retains call info for the index's opclass-specific support 
 * functions (per index column), plus the index's tuple descriptor. 
 * 
 * scanCxt holds the GISTSTATE itself as well as any data that lives for the 
 * lifetime of the index operation.  We pass this to the support functions 
 * via fn_mcxt, so that they can store scan-lifespan data in it.  The 
 * functions are invoked in tempCxt, which is typically short-lifespan 
 * (that is, it's reset after each tuple).  However, tempCxt can be the same 
 * as scanCxt if we're not bothering with per-tuple context resets. 
 */ 
</span><a name="LN75"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GISTSTATE</span> 
<span class='Delimiter'>{ 
</span><a name="LN77"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>scanCxt</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* context for scan-lifespan data */ 
</span><a name="LN78"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>tempCxt</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* short-term context for calling functions */ 
</span> 
<a name="LN80"></a>    <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Member'>tupdesc</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* index's tuple descriptor */ 
</span><a name="LN81"></a>    <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a>   <span class='Declare_Member'>fetchTupdesc</span><span class='Delimiter'>;</span>   <span class='Comment_Multi_Line'>/* tuple descriptor for tuples returned in an 
                                 * index-only scan */ 
</span> 
<a name="LN84"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>consistentFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN85"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>unionFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN86"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>compressFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN87"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>decompressFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN88"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>penaltyFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN89"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>picksplitFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN90"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>equalFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN91"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>distanceFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN92"></a>    <a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a>    <span class='Declare_Member'>fetchFn</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Collations to pass to the support functions */ 
</span><a name="LN95"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>supportCollation</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span><a name="LN96"></a>}<span class='Auto_Annotations'> &laquo; end GISTSTATE &raquo; </span> <span class='Declare_Typedef'>GISTSTATE</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * During a GiST index search, we must maintain a queue of unvisited items, 
 * which can be either individual heap tuples or whole index pages.  If it 
 * is an ordered search, the unvisited items should be visited in distance 
 * order.  Unvisited items at the same distance should be visited in 
 * depth-first order, that is heap items first, then lower index pages, then 
 * upper index pages; this rule avoids doing extra work during a search that 
 * ends early due to LIMIT. 
 * 
 * To perform an ordered search, we use a pairing heap to manage the 
 * distance-order queue.  In a non-ordered search (no order-by operators), 
 * we use it to return heap tuples before unvisited index pages, to 
 * ensure depth-first order, but all entries are otherwise considered 
 * equal. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* Individual heap tuple to be visited */ 
</span><a name="LN116"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GISTSearchHeapItem</span> 
<span class='Delimiter'>{ 
</span><a name="LN118"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>heapPtr</span><span class='Delimiter'>; 
</span><a name="LN119"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>recheck</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* T if quals must be rechecked */ 
</span><a name="LN120"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>recheckDistances</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* T if distances must be rechecked */ 
</span><a name="LN121"></a>    <a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a>   <span class='Declare_Member'>recontup</span><span class='Delimiter'>;</span>       <span class='Comment_Multi_Line'>/* data reconstructed from the index, used in 
                                 * index-only scans */ 
</span><a name="LN123"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>offnum</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* track offset in page to mark tuple as 
                                 * LP_DEAD */ 
</span><a name="LN125"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GISTSearchHeapItem</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Unvisited item, either index page or heap tuple */ 
</span><a name="LN128"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GISTSearchItem</span> 
<span class='Delimiter'>{ 
</span><a name="LN130"></a>    <a href="../lib/pairingheap.h.html#LN29"><span class='Ref_to_Struct'>pairingheap_node</span></a> <span class='Declare_Member'>phNode</span><span class='Delimiter'>; 
</span><a name="LN131"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>blkno</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* index page number, or InvalidBlockNumber */ 
</span>    <span class='Control'>union</span> 
    <span class='Delimiter'>{ 
</span><a name="LN134"></a>        <a href="gist.h.html#LN49"><span class='Ref_to_Typedef'>GistNSN</span></a>     <span class='Declare_Member'>parentlsn</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* parent page's LSN, if index page */ 
</span>        <span class='Comment_Multi_Line'>/* we must store parentlsn to detect whether a split occurred */ 
</span><a name="LN136"></a>        <a href="gist_private.h.html#LN116"><span class='Ref_to_Struct'>GISTSearchHeapItem</span></a> <span class='Declare_Member'>heap</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* heap info, if heap tuple */ 
</span><a name="LN137"></a>    <span class='Delimiter'>}</span>           <span class='Declare_Member'>data</span><span class='Delimiter'>; 
</span><a name="LN138"></a>    <span class='Keyword'>double</span>      <span class='Declare_Member'>distances</span><span class='Delimiter'>[</span>FLEXIBLE_ARRAY_MEMBER<span class='Delimiter'>];</span>       <span class='Comment_Multi_Line'>/* numberOfOrderBys 
                                                         * entries */ 
</span><a name="LN140"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GISTSearchItem</span><span class='Delimiter'>; 
</span> 
<a name="LN142"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GISTSearchItemIsHeap</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>item</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="gist_private.h.html#LN142"><span class='Ref_to_Parameter'>item</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>blkno <span class='Operator'>== </span><a href="../storage/block.h.html#LN32"><span class='Ref_to_Const'>InvalidBlockNumber</span></a><span class='Parentheses'>)</span> 
 
<a name="LN144"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>SizeOfGISTSearchItem</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>n_distances</span><span class='Parentheses'>) (</span><a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="gist_private.h.html#LN128"><span class='Ref_to_Struct'>GISTSearchItem</span></a><span class='Delimiter'>, </span>distances<span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN144"><span class='Ref_to_Parameter'>n_distances</span></a><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * GISTScanOpaqueData: private state for a scan of a GiST index 
 */ 
</span><a name="LN149"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GISTScanOpaqueData</span> 
<span class='Delimiter'>{ 
</span><a name="LN151"></a>    <a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a>  <span class='Operator'>*</span><span class='Declare_Member'>giststate</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* index information, see above */ 
</span><a name="LN152"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>        <span class='Operator'>*</span><span class='Declare_Member'>orderByTypes</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* datatypes of ORDER BY expressions */ 
</span> 
<a name="LN154"></a>    <a href="../lib/pairingheap.h.html#LN70"><span class='Ref_to_Struct'>pairingheap</span></a> <span class='Operator'>*</span><span class='Declare_Member'>queue</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* queue of unvisited items */ 
</span><a name="LN155"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>queueCxt</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* context holding the queue */ 
</span><a name="LN156"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>qual_ok</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* false if qual can never be satisfied */ 
</span><a name="LN157"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>firstCall</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* true until first gistgettuple call */ 
</span> 
    <span class='Comment_Multi_Line'>/* pre-allocated workspace arrays */ 
</span><a name="LN160"></a>    <span class='Keyword'>double</span>     <span class='Operator'>*</span><span class='Declare_Member'>distances</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* output area for gistindex_keytest */ 
</span> 
    <span class='Comment_Multi_Line'>/* info about killed items if any (killedItems is NULL if never used) */ 
</span><a name="LN163"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Operator'>*</span><span class='Declare_Member'>killedItems</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* offset numbers of killed items */ 
</span><a name="LN164"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>numKilled</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* number of currently stored items */ 
</span><a name="LN165"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>curBlkno</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* current number of block */ 
</span><a name="LN166"></a>    <a href="gist.h.html#LN49"><span class='Ref_to_Typedef'>GistNSN</span></a>     <span class='Declare_Member'>curPageLSN</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* pos in the WAL stream when page was read */ 
</span> 
    <span class='Comment_Multi_Line'>/* In a non-ordered search, returnable heap items are stored here: */ 
</span><a name="LN169"></a>    <a href="gist_private.h.html#LN116"><span class='Ref_to_Struct'>GISTSearchHeapItem</span></a> <span class='Declare_Member'>pageData</span><span class='Delimiter'>[</span>BLCKSZ <span class='Operator'>/ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="itup.h.html#LN34"><span class='Ref_to_Struct'>IndexTupleData</span></a><span class='Parentheses'>)</span><span class='Delimiter'>]; 
</span><a name="LN170"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>nPageData</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* number of valid items in array */ 
</span><a name="LN171"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>curPageData</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* next item to return */ 
</span><a name="LN172"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>pageDataCxt</span><span class='Delimiter'>;</span>  <span class='Comment_Multi_Line'>/* context holding the fetched tuples, for 
                                 * index-only scans */ 
</span><a name="LN174"></a><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end GISTScanOpaqueData &raquo; </span> <span class='Declare_Typedef'>GISTScanOpaqueData</span><span class='Delimiter'>; 
</span> 
<a name="LN176"></a><span class='Control'>typedef</span> <a href="gist_private.h.html#LN149"><span class='Ref_to_Struct'>GISTScanOpaqueData</span></a> <span class='Operator'>*</span><span class='Declare_Typedef'>GISTScanOpaque</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* despite the name, gistxlogPage is not part of any xlog record */ 
</span><a name="LN179"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>gistxlogPage</span> 
<span class='Delimiter'>{ 
</span><a name="LN181"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>blkno</span><span class='Delimiter'>; 
</span><a name="LN182"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>num</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* number of index tuples following */ 
</span><a name="LN183"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>gistxlogPage</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* SplitedPageLayout - gistSplit function result */ 
</span><a name="LN186"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>SplitedPageLayout</span> 
<span class='Delimiter'>{ 
</span><a name="LN188"></a>    <a href="gist_private.h.html#LN179"><span class='Ref_to_Struct'>gistxlogPage</span></a> <span class='Declare_Member'>block</span><span class='Delimiter'>; 
</span><a name="LN189"></a>    <a href="itup.h.html#LN34"><span class='Ref_to_Struct'>IndexTupleData</span></a> <span class='Operator'>*</span><span class='Declare_Member'>list</span><span class='Delimiter'>; 
</span><a name="LN190"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>lenlist</span><span class='Delimiter'>; 
</span><a name="LN191"></a>    <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a>  <span class='Declare_Member'>itup</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* union key for page */ 
</span><a name="LN192"></a>    <a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a>        <span class='Declare_Member'>page</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* to operate */ 
</span><a name="LN193"></a>    <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a>      <span class='Declare_Member'>buffer</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* to write after all proceed */ 
</span> 
<a name="LN195"></a>    <span class='Control'>struct</span> <a href="gist_private.h.html#LN186"><span class='Ref_to_Struct'>SplitedPageLayout</span></a> <span class='Operator'>*</span><span class='Declare_Member'>next</span><span class='Delimiter'>; 
</span><a name="LN196"></a>} <span class='Declare_Typedef'>SplitedPageLayout</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * GISTInsertStack used for locking buffers and transfer arguments during 
 * insertion 
 */ 
</span><a name="LN202"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GISTInsertStack</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* current page */ 
</span><a name="LN205"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>blkno</span><span class='Delimiter'>; 
</span><a name="LN206"></a>    <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a>      <span class='Declare_Member'>buffer</span><span class='Delimiter'>; 
</span><a name="LN207"></a>    <a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a>        <span class='Declare_Member'>page</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * log sequence number from page-&GT;lsn to recognize page update and compare 
     * it with page's nsn to recognize page split 
     */ 
</span><a name="LN213"></a>    <a href="gist.h.html#LN49"><span class='Ref_to_Typedef'>GistNSN</span></a>     <span class='Declare_Member'>lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* offset of the downlink in the parent page, that points to this page */ 
</span><a name="LN216"></a>    <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Member'>downlinkoffnum</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* pointer to parent */ 
</span><a name="LN219"></a>    <span class='Control'>struct</span> <a href="gist_private.h.html#LN202"><span class='Ref_to_Struct'>GISTInsertStack</span></a> <span class='Operator'>*</span><span class='Declare_Member'>parent</span><span class='Delimiter'>; 
</span><a name="LN220"></a>} <span class='Declare_Typedef'>GISTInsertStack</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Working state and results for multi-column split logic in gistsplit.c */ 
</span><a name="LN223"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GistSplitVector</span> 
<span class='Delimiter'>{ 
</span><a name="LN225"></a>    <a href="gist.h.html#LN102"><span class='Ref_to_Struct'>GIST_SPLITVEC</span></a> <span class='Declare_Member'>splitVector</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* passed to/from user PickSplit method */ 
</span> 
<a name="LN227"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>spl_lattr</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>];</span>      <span class='Comment_Multi_Line'>/* Union of subkeys in 
                                                 * splitVector.spl_left */ 
</span><a name="LN229"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>spl_lisnull</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span> 
<a name="LN231"></a>    <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a>       <span class='Declare_Member'>spl_rattr</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>];</span>      <span class='Comment_Multi_Line'>/* Union of subkeys in 
                                                 * splitVector.spl_right */ 
</span><a name="LN233"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>spl_risnull</span><span class='Delimiter'>[</span><a href="../pg_config_manual.h.html#LN45"><span class='Ref_to_Const'>INDEX_MAX_KEYS</span></a><span class='Delimiter'>]; 
</span> 
<a name="LN235"></a>    <span class='Keyword'>bool</span>       <span class='Operator'>*</span><span class='Declare_Member'>spl_dontcare</span><span class='Delimiter'>;</span>   <span class='Comment_Multi_Line'>/* flags tuples which could go to either side 
                                 * of the split for zero penalty */ 
</span><a name="LN237"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GistSplitVector</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN241"></a>    <a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a>    <span class='Declare_Member'>r</span><span class='Delimiter'>; 
</span><a name="LN242"></a>    <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Member'>freespace</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* free space to be left */ 
</span> 
<a name="LN244"></a>    <a href="gist_private.h.html#LN202"><span class='Ref_to_Struct'>GISTInsertStack</span></a> <span class='Operator'>*</span><span class='Declare_Member'>stack</span><span class='Delimiter'>; 
</span><a name="LN245"></a>} <span class='Declare_Typedef'>GISTInsertState</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* root page of a gist index */ 
</span><a name="LN248"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_ROOT_BLKNO</span>             <span class='Number'>0</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Before PostgreSQL 9.1, we used to rely on so-called "invalid tuples" on 
 * inner pages to finish crash recovery of incomplete page splits. If a crash 
 * happened in the middle of a page split, so that the downlink pointers were 
 * not yet inserted, crash recovery inserted a special downlink pointer. The 
 * semantics of an invalid tuple was that it if you encounter one in a scan, 
 * it must always be followed, because we don't know if the tuples on the 
 * child page match or not. 
 * 
 * We no longer create such invalid tuples, we now mark the left-half of such 
 * an incomplete split with the F_FOLLOW_RIGHT flag instead, and finish the 
 * split properly the next time we need to insert on that page. To retain 
 * on-disk compatibility for the sake of pg_upgrade, we still store 0xffff as 
 * the offset number of all inner tuples. If we encounter any invalid tuples 
 * with 0xfffe during insertion, we throw an error, though scans still handle 
 * them. You should only encounter invalid tuples if you pg_upgrade a pre-9.1 
 * gist index which already has invalid tuples in it because of a crash. That 
 * should be rare, and you are recommended to REINDEX anyway if you have any 
 * invalid tuples in an index, so throwing an error is as far as we go with 
 * supporting that. 
 */ 
</span><a name="LN271"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>TUPLE_IS_VALID</span>      <span class='Number'>0xffff</span> 
<a name="LN272"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>TUPLE_IS_INVALID</span>    <span class='Number'>0xfffe</span> 
 
<a name="LN274"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>GistTupleIsInvalid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span> <a href="../storage/itemptr.h.html#LN93"><span class='Ref_to_Macro'>ItemPointerGetOffsetNumber</span></a><span class='Parentheses'>(</span> <span class='Operator'>&</span><span class='Parentheses'>((</span><a href="gist_private.h.html#LN274"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span> <span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="gist_private.h.html#LN272"><span class='Ref_to_Const'>TUPLE_IS_INVALID</span></a> <span class='Parentheses'>)</span> 
<a name="LN275"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>GistTupleSetValid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>itup</span><span class='Parentheses'>)</span>    <a href="../storage/itemptr.h.html#LN124"><span class='Ref_to_Macro'>ItemPointerSetOffsetNumber</span></a><span class='Parentheses'>(</span> <span class='Operator'>&</span><span class='Parentheses'>((</span><a href="gist_private.h.html#LN275"><span class='Ref_to_Parameter'>itup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_tid<span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="gist_private.h.html#LN271"><span class='Ref_to_Const'>TUPLE_IS_VALID</span></a> <span class='Parentheses'>)</span> 
 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * A buffer attached to an internal node, used when building an index in 
 * buffering mode. 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN286"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>nodeBlocknum</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* index block # this buffer is for */ 
</span><a name="LN287"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>blocksCount</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* current # of blocks occupied by buffer */ 
</span> 
<a name="LN289"></a>    <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Member'>pageBlocknum</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* temporary file block # */ 
</span><a name="LN290"></a>    <a href="gist_private.h.html#LN46"><span class='Ref_to_Typedef'>GISTNodeBufferPage</span></a> <span class='Operator'>*</span><span class='Declare_Member'>pageBuffer</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* in-memory buffer page */ 
</span> 
    <span class='Comment_Multi_Line'>/* is this buffer queued for emptying? */ 
</span><a name="LN293"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>queuedForEmptying</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* is this a temporary copy, not in the hash table? */ 
</span><a name="LN296"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isTemp</span><span class='Delimiter'>; 
</span> 
<a name="LN298"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>level</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* 0 == leaf */ 
</span><a name="LN299"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GISTNodeBuffer</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Does specified level have buffers? (Beware of multiple evaluation of 
 * arguments.) 
 */ 
</span><a name="LN305"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>LEVEL_HAS_BUFFERS</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nlevel</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>gfbb</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="gist_private.h.html#LN305"><span class='Ref_to_Parameter'>nlevel</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN305"><span class='Ref_to_Parameter'>nlevel</span></a><span class='Parentheses'>) </span><span class='Operator'>% </span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN305"><span class='Ref_to_Parameter'>gfbb</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>levelStep <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& \ 
</span>     <span class='Parentheses'>(</span><a href="gist_private.h.html#LN305"><span class='Ref_to_Parameter'>nlevel</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN305"><span class='Ref_to_Parameter'>gfbb</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>rootlevel<span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* Is specified buffer at least half-filled (should be queued for emptying)? */ 
</span><a name="LN310"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>BUFFER_HALF_FILLED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nodeBuffer</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>gfbb</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="gist_private.h.html#LN310"><span class='Ref_to_Parameter'>nodeBuffer</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>blocksCount <span class='Operator'>&GT; </span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN310"><span class='Ref_to_Parameter'>gfbb</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pagesPerBuffer <span class='Operator'>/ </span><span class='Number'>2</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Is specified buffer full? Our buffers can actually grow indefinitely, 
 * beyond the "maximum" size, so this just means whether the buffer has grown 
 * beyond the nominal maximum size. 
 */ 
</span><a name="LN318"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>BUFFER_OVERFLOWED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>nodeBuffer</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>gfbb</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="gist_private.h.html#LN318"><span class='Ref_to_Parameter'>nodeBuffer</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>blocksCount <span class='Operator'>&GT; </span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN318"><span class='Ref_to_Parameter'>gfbb</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pagesPerBuffer<span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Data structure with general information about build buffers. 
 */ 
</span><a name="LN324"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GISTBuildBuffers</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* Persistent memory context for the buffers and metadata. */ 
</span><a name="LN327"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>context</span><span class='Delimiter'>; 
</span> 
<a name="LN329"></a>    <a href="../../backend/storage/file/buffile.c.html#LN58"><span class='Ref_to_Struct'>BufFile</span></a>    <span class='Operator'>*</span><span class='Declare_Member'>pfile</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* Temporary file to store buffers in */ 
</span><a name="LN330"></a>    <span class='Keyword'>long</span>        <span class='Declare_Member'>nFileBlocks</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* Current size of the temporary file */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * resizable array of free blocks. 
     */ 
</span><a name="LN335"></a>    <span class='Keyword'>long</span>       <span class='Operator'>*</span><span class='Declare_Member'>freeBlocks</span><span class='Delimiter'>; 
</span><a name="LN336"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nFreeBlocks</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* # of currently free blocks in the array */ 
</span><a name="LN337"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>freeBlocksLen</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* current allocated length of the array */ 
</span> 
    <span class='Comment_Multi_Line'>/* Hash for buffers by block number */ 
</span><a name="LN340"></a>    <a href="../../backend/utils/hash/dynahash.c.html#LN192"><span class='Ref_to_Struct'>HTAB</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>nodeBuffersTab</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* List of buffers scheduled for emptying */ 
</span><a name="LN343"></a>    <a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>bufferEmptyingQueue</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Parameters to the buffering build algorithm. levelStep determines which 
     * levels in the tree have buffers, and pagesPerBuffer determines how 
     * large each buffer is. 
     */ 
</span><a name="LN350"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>levelStep</span><span class='Delimiter'>; 
</span><a name="LN351"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>pagesPerBuffer</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Array of lists of buffers on each level, for final emptying */ 
</span><a name="LN354"></a>    <a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a>      <span class='Operator'>**</span><span class='Declare_Member'>buffersOnLevels</span><span class='Delimiter'>; 
</span><a name="LN355"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>buffersOnLevelsLen</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Dynamically-sized array of buffers that currently have their last page 
     * loaded in main memory. 
     */ 
</span><a name="LN361"></a>    <a href="gist_private.h.html#LN284"><span class='Ref_to_Typedef'>GISTNodeBuffer</span></a> <span class='Operator'>**</span><span class='Declare_Member'>loadedBuffers</span><span class='Delimiter'>; 
</span><a name="LN362"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>loadedBuffersCount</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* # of entries in loadedBuffers */ 
</span><a name="LN363"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>loadedBuffersLen</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* allocated size of loadedBuffers */ 
</span> 
    <span class='Comment_Multi_Line'>/* Level of the current root node (= height of the index tree - 1) */ 
</span><a name="LN366"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>rootlevel</span><span class='Delimiter'>; 
</span><a name="LN367"></a>}<span class='Auto_Annotations'> &laquo; end GISTBuildBuffers &raquo; </span> <span class='Declare_Typedef'>GISTBuildBuffers</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Storage type for GiST's reloptions 
 */ 
</span><a name="LN372"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>GiSTOptions</span> 
<span class='Delimiter'>{ 
</span><a name="LN374"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>vl_len_</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* varlena header (do not touch directly!) */ 
</span><a name="LN375"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>fillfactor</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* page fill factor in percent (0..100) */ 
</span><a name="LN376"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>bufferingModeOffset</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* use buffering build? */ 
</span><a name="LN377"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GiSTOptions</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gist.c */ 
</span><a name="LN380"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistbuildempty</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN381"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistinsert</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Delimiter'>, 
</span><a name="LN382"></a>           <a href="../storage/itemptr.h.html#LN47"><span class='Ref_to_Typedef'>ItemPointer</span></a> <span class='Declare_Parameter'>ht_ctid</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>heapRel</span><span class='Delimiter'>, 
</span><a name="LN383"></a>           <a href="genam.h.html#LN110"><span class='Ref_to_Enum'>IndexUniqueCheck</span></a> <span class='Declare_Parameter'>checkUnique</span><span class='Delimiter'>, 
</span><a name="LN384"></a>           <span class='Control'>struct</span> <a href="../nodes/execnodes.h.html#LN130"><span class='Ref_to_Struct'>IndexInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>indexInfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN385"></a><span class='Keyword'>extern </span><a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Prototype'>createTempGistContext</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN386"></a><span class='Keyword'>extern </span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>initGISTstate</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN387"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>freeGISTstate</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN388"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistdoinsert</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, 
</span><a name="LN389"></a>             <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>itup</span><span class='Delimiter'>, 
</span><a name="LN390"></a>             <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>freespace</span><span class='Delimiter'>, 
</span><a name="LN391"></a>             <a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>GISTstate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* A List of these is returned from gistplacetopage() in *splitinfo */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN396"></a>    <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a>      <span class='Declare_Member'>buf</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* the split page "half" */ 
</span><a name="LN397"></a>    <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a>  <span class='Declare_Member'>downlink</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* downlink for this half. */ 
</span><a name="LN398"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GISTPageSplitInfo</span><span class='Delimiter'>; 
</span> 
<a name="LN400"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistplacetopage</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>freespace</span><span class='Delimiter'>, </span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, 
</span><a name="LN401"></a>                <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buffer</span><span class='Delimiter'>, 
</span><a name="LN402"></a>                <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>ntup</span><span class='Delimiter'>, 
</span><a name="LN403"></a>                <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>oldoffnum</span><span class='Delimiter'>, </span><a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>newblkno</span><span class='Delimiter'>, 
</span><a name="LN404"></a>                <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>leftchildbuf</span><span class='Delimiter'>, 
</span><a name="LN405"></a>                <a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>**</span><span class='Declare_Parameter'>splitinfo</span><span class='Delimiter'>, 
</span><a name="LN406"></a>                <span class='Keyword'>bool </span><span class='Declare_Parameter'>markleftchild</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN408"></a><span class='Keyword'>extern </span><a href="gist_private.h.html#LN186"><span class='Ref_to_Struct'>SplitedPageLayout</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistSplit</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>, 
</span><a name="LN409"></a>          <span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN411"></a><span class='Keyword'>extern </span><a href="xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Prototype'>gistXLogUpdate</span><span class='Parentheses'>(</span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buffer</span><span class='Delimiter'>, 
</span><a name="LN412"></a>               <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>todelete</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>ntodelete</span><span class='Delimiter'>, 
</span><a name="LN413"></a>               <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>ntup</span><span class='Delimiter'>, 
</span><a name="LN414"></a>               <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>leftchild</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN416"></a><span class='Keyword'>extern </span><a href="xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Prototype'>gistXLogSplit</span><span class='Parentheses'>(</span><span class='Keyword'>bool </span><span class='Declare_Parameter'>page_is_leaf</span><span class='Delimiter'>, 
</span><a name="LN417"></a>              <a href="gist_private.h.html#LN186"><span class='Ref_to_Struct'>SplitedPageLayout</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>dist</span><span class='Delimiter'>, 
</span><a name="LN418"></a>              <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>origrlink</span><span class='Delimiter'>, </span><a href="gist.h.html#LN49"><span class='Ref_to_Typedef'>GistNSN</span></a> <span class='Declare_Parameter'>oldnsn</span><span class='Delimiter'>, 
</span><a name="LN419"></a>              <a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>leftchild</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>markfollowright</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistget.c */ 
</span><a name="LN422"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistgettuple</span><span class='Parentheses'>(</span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Parameter'>scan</span><span class='Delimiter'>, </span><a href="sdir.h.html#LN21"><span class='Ref_to_Enum'>ScanDirection</span></a> <span class='Declare_Parameter'>dir</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN423"></a><span class='Keyword'>extern </span><a href="../c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a> <span class='Declare_Prototype'>gistgetbitmap</span><span class='Parentheses'>(</span><a href="genam.h.html#LN85"><span class='Ref_to_Typedef'>IndexScanDesc</span></a> <span class='Declare_Parameter'>scan</span><span class='Delimiter'>, </span><a href="../../backend/nodes/tidbitmap.c.html#LN146"><span class='Ref_to_Struct'>TIDBitmap</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tbm</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN424"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistcanreturn</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attno</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistvalidate.c */ 
</span><a name="LN427"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistvalidate</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>opclassoid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistutil.c */ 
</span> 
<a name="LN431"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GiSTPageSize</span>   <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span> BLCKSZ <span class='Operator'>- </span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a> <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="gist.h.html#LN57"><span class='Ref_to_Struct'>GISTPageOpaqueData</span></a><span class='Parentheses'>))</span> <span class='Parentheses'>)</span> 
 
<a name="LN434"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_MIN_FILLFACTOR</span>         <span class='Number'>10</span> 
<a name="LN435"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>GIST_DEFAULT_FILLFACTOR</span>     <span class='Number'>90</span> 
 
<a name="LN437"></a><span class='Keyword'>extern </span><a href="../c.h.html#LN451"><span class='Ref_to_Typedef'>bytea</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistoptions</span><span class='Parentheses'>(</span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>reloptions</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>validate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN438"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistproperty</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>index_oid</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attno</span><span class='Delimiter'>, 
</span><a name="LN439"></a>             <a href="amapi.h.html#LN33"><span class='Ref_to_Enum'>IndexAMProperty</span></a> <span class='Declare_Parameter'>prop</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>propname</span><span class='Delimiter'>, 
</span><a name="LN440"></a>             <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN441"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistfitpage</span><span class='Parentheses'>(</span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itvec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN442"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistnospace</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itvec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>todelete</span><span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>freespace</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN443"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistcheckpage</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN444"></a><span class='Keyword'>extern </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Prototype'>gistNewBuffer</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN445"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistfillbuffer</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, 
</span><a name="LN446"></a>               <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>off</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN447"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistextractpage</span><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>len</span> <span class='Comment_Multi_Line'>/* out */ </span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN448"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistjoinvector</span><span class='Parentheses'>( 
</span><a name="LN449"></a>               <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itvec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, 
</span><a name="LN450"></a>               <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>additvec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>addlen</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN451"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN34"><span class='Ref_to_Struct'>IndexTupleData</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistfillitupvec</span><span class='Parentheses'>(</span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>veclen</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>memlen</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN453"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Prototype'>gistunion</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itvec</span><span class='Delimiter'>, 
</span><a name="LN454"></a>          <span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN455"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Prototype'>gistgetadjusted</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, 
</span><a name="LN456"></a>                <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>oldtup</span><span class='Delimiter'>, 
</span><a name="LN457"></a>                <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>addtup</span><span class='Delimiter'>, 
</span><a name="LN458"></a>                <a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN459"></a><span class='Keyword'>extern </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Prototype'>gistFormTuple</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, 
</span><a name="LN460"></a>              <a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>attdata</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isleaf</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN462"></a><span class='Keyword'>extern </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Prototype'>gistchoose</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>p</span><span class='Delimiter'>, 
</span><a name="LN463"></a>           <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>it</span><span class='Delimiter'>, 
</span><a name="LN464"></a>           <a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN466"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>GISTInitBuffer</span><span class='Parentheses'>(</span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>b</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>f</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN467"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistdentryinit</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nkey</span><span class='Delimiter'>, </span><a href="gist.h.html#LN120"><span class='Ref_to_Struct'>GISTENTRY</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>e</span><span class='Delimiter'>, 
</span><a name="LN468"></a>               <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>k</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>pg</span><span class='Delimiter'>, </span><a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>o</span><span class='Delimiter'>, 
</span><a name="LN469"></a>               <span class='Keyword'>bool </span><span class='Declare_Parameter'>l</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isNull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN471"></a><span class='Keyword'>extern float </span><span class='Declare_Prototype'>gistpenalty</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attno</span><span class='Delimiter'>, 
</span><a name="LN472"></a>            <a href="gist.h.html#LN120"><span class='Ref_to_Struct'>GISTENTRY</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>key1</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isNull1</span><span class='Delimiter'>, 
</span><a name="LN473"></a>            <a href="gist.h.html#LN120"><span class='Ref_to_Struct'>GISTENTRY</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>key2</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isNull2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN474"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistMakeUnionItVec</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itvec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, 
</span><a name="LN475"></a>                   <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>attr</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN476"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistKeyIsEQ</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attno</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>b</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN477"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistDeCompressAtt</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>p</span><span class='Delimiter'>, 
</span><a name="LN478"></a>                  <a href="../storage/off.h.html#LN23"><span class='Ref_to_Typedef'>OffsetNumber</span></a> <span class='Declare_Parameter'>o</span><span class='Delimiter'>, </span><a href="gist.h.html#LN120"><span class='Ref_to_Struct'>GISTENTRY</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>attdata</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN479"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Prototype'>gistFetchTuple</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, 
</span><a name="LN480"></a>               <a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN481"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistMakeUnionKey</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attno</span><span class='Delimiter'>, 
</span><a name="LN482"></a>                 <a href="gist.h.html#LN120"><span class='Ref_to_Struct'>GISTENTRY</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>entry1</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isnull1</span><span class='Delimiter'>, 
</span><a name="LN483"></a>                 <a href="gist.h.html#LN120"><span class='Ref_to_Struct'>GISTENTRY</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>entry2</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isnull2</span><span class='Delimiter'>, 
</span><a name="LN484"></a>                 <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>dst</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>dstisnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN486"></a><span class='Keyword'>extern </span><a href="xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Prototype'>gistGetFakeLSN</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistvacuum.c */ 
</span><a name="LN489"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistbulkdelete</span><span class='Parentheses'>(</span><a href="genam.h.html#LN43"><span class='Ref_to_Struct'>IndexVacuumInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>info</span><span class='Delimiter'>, 
</span><a name="LN490"></a>               <a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stats</span><span class='Delimiter'>, 
</span><a name="LN491"></a>               <a href="genam.h.html#LN82"><span class='Ref_to_Typedef'>IndexBulkDeleteCallback</span></a> <span class='Declare_Parameter'>callback</span><span class='Delimiter'>, 
</span><a name="LN492"></a>               <span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>callback_state</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN493"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistvacuumcleanup</span><span class='Parentheses'>(</span><a href="genam.h.html#LN43"><span class='Ref_to_Struct'>IndexVacuumInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>info</span><span class='Delimiter'>, 
</span><a name="LN494"></a>                  <a href="genam.h.html#LN70"><span class='Ref_to_Struct'>IndexBulkDeleteResult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>stats</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistsplit.c */ 
</span><a name="LN497"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistSplitByKey</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, </span><a href="../storage/bufpage.h.html#LN73"><span class='Ref_to_Typedef'>Page</span></a> <span class='Declare_Parameter'>page</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>itup</span><span class='Delimiter'>, 
</span><a name="LN498"></a>               <span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, 
</span><a name="LN499"></a>               <a href="gist_private.h.html#LN223"><span class='Ref_to_Struct'>GistSplitVector</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>v</span><span class='Delimiter'>, 
</span><a name="LN500"></a>               <span class='Keyword'>int </span><span class='Declare_Parameter'>attno</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistbuild.c */ 
</span><a name="LN503"></a><span class='Keyword'>extern </span><a href="genam.h.html#LN29"><span class='Ref_to_Struct'>IndexBuildResult</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistbuild</span><span class='Parentheses'>(</span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>heap</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>index</span><span class='Delimiter'>, 
</span><a name="LN504"></a>          <span class='Control'>struct</span> <a href="../nodes/execnodes.h.html#LN130"><span class='Ref_to_Struct'>IndexInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>indexInfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN505"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistValidateBufferingOption</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* gistbuildbuffers.c */ 
</span><a name="LN508"></a><span class='Keyword'>extern </span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistInitBuildBuffers</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>pagesPerBuffer</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>levelStep</span><span class='Delimiter'>, 
</span><a name="LN509"></a>                     <span class='Keyword'>int </span><span class='Declare_Parameter'>maxLevel</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN510"></a><span class='Keyword'>extern </span><a href="gist_private.h.html#LN284"><span class='Ref_to_Typedef'>GISTNodeBuffer</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>gistGetNodeBuffer</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gfbb</span><span class='Delimiter'>, 
</span><a name="LN511"></a>                  <a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, 
</span><a name="LN512"></a>                  <a href="../storage/block.h.html#LN30"><span class='Ref_to_Typedef'>BlockNumber</span></a> <span class='Declare_Parameter'>blkno</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>level</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN513"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistPushItupToNodeBuffer</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gfbb</span><span class='Delimiter'>, 
</span><a name="LN514"></a>                         <a href="gist_private.h.html#LN284"><span class='Ref_to_Typedef'>GISTNodeBuffer</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>nodeBuffer</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Declare_Parameter'>item</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN515"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>gistPopItupFromNodeBuffer</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gfbb</span><span class='Delimiter'>, 
</span><a name="LN516"></a>                          <a href="gist_private.h.html#LN284"><span class='Ref_to_Typedef'>GISTNodeBuffer</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>nodeBuffer</span><span class='Delimiter'>, </span><a href="itup.h.html#LN52"><span class='Ref_to_Typedef'>IndexTuple</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>item</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN517"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistFreeBuildBuffers</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gfbb</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN518"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistRelocateBuildBuffersOnSplit</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gfbb</span><span class='Delimiter'>, 
</span><a name="LN519"></a>                                <a href="gist_private.h.html#LN75"><span class='Ref_to_Struct'>GISTSTATE</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>giststate</span><span class='Delimiter'>, </span><a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>r</span><span class='Delimiter'>, 
</span><a name="LN520"></a>                                <span class='Keyword'>int </span><span class='Declare_Parameter'>level</span><span class='Delimiter'>, </span><a href="../storage/buf.h.html#LN22"><span class='Ref_to_Typedef'>Buffer</span></a> <span class='Declare_Parameter'>buffer</span><span class='Delimiter'>, 
</span><a name="LN521"></a>                                <a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>splitinfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN522"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>gistUnloadNodeBuffers</span><span class='Parentheses'>(</span><a href="gist_private.h.html#LN324"><span class='Ref_to_Struct'>GISTBuildBuffers</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>gfbb</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* GIST_PRIVATE_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>