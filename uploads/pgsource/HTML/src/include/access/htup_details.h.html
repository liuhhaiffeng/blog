<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\access\htup_details.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\access\htup_details.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:03 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * htup_details.h 
 *    POSTGRES heap tuple header definitions. 
 * 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * src/include/access/htup_details.h 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="htup_details.h.html#LN14"><span class='Ref_to_Const'>HTUP_DETAILS_H</span></a> 
<a name="LN14"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HTUP_DETAILS_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/htup.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/tupdesc.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/tupmacs.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/transam.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/bufpage.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * MaxTupleAttributeNumber limits the number of (user) columns in a tuple. 
 * The key limit on this value is that the size of the fixed overhead for 
 * a tuple, plus the size of the null-values bitmap (at 1 bit per column), 
 * plus MAXALIGN alignment, must fit into t_hoff which is uint8.  On most 
 * machines the upper limit without making t_hoff wider would be a little 
 * over 1700.  We use round numbers here and for MaxHeapAttributeNumber 
 * so that alterations in HeapTupleHeaderData layout won't change the 
 * supported max number of columns. 
 */ 
</span><a name="LN32"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MaxTupleAttributeNumber</span> <span class='Number'>1664</span>    <span class='Comment_Single_Line'>/* 8 * 208 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * MaxHeapAttributeNumber limits the number of (user) columns in a table. 
 * This should be somewhat less than MaxTupleAttributeNumber.  It must be 
 * at least one less, else we will fail to do UPDATEs on a maximal-width 
 * table (because UPDATE has to form working tuples that include CTID). 
 * In practice we want some additional daylight so that we can gracefully 
 * support operations that add hidden "resjunk" columns, for example 
 * SELECT * FROM wide_table ORDER BY foo, bar, baz. 
 * In any case, depending on column data types you will likely be running 
 * into the disk-block-based limit on overall tuple size if you have more 
 * than a thousand or so columns.  TOAST won't help. 
 */ 
</span><a name="LN46"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MaxHeapAttributeNumber</span>  <span class='Number'>1600</span>    <span class='Comment_Single_Line'>/* 8 * 200 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Heap tuple header.  To avoid wasting space, the fields should be 
 * laid out in such a way as to avoid structure padding. 
 * 
 * Datums of composite types (row types) share the same general structure 
 * as on-disk tuples, so that the same routines can be used to build and 
 * examine them.  However the requirements are slightly different: a Datum 
 * does not need any transaction visibility information, and it does need 
 * a length word and some embedded type information.  We can achieve this 
 * by overlaying the xmin/cmin/xmax/cmax/xvac fields of a heap tuple 
 * with the fields needed in the Datum case.  Typically, all tuples built 
 * in-memory will be initialized with the Datum fields; but when a tuple is 
 * about to be inserted in a table, the transaction fields will be filled, 
 * overwriting the datum fields. 
 * 
 * The overall structure of a heap tuple looks like: 
 *          fixed fields (HeapTupleHeaderData struct) 
 *          nulls bitmap (if HEAP_HASNULL is set in t_infomask) 
 *          alignment padding (as needed to make user data MAXALIGN'd) 
 *          object ID (if HEAP_HASOID is set in t_infomask) 
 *          user data fields 
 * 
 * We store five "virtual" fields Xmin, Cmin, Xmax, Cmax, and Xvac in three 
 * physical fields.  Xmin and Xmax are always really stored, but Cmin, Cmax 
 * and Xvac share a field.  This works because we know that Cmin and Cmax 
 * are only interesting for the lifetime of the inserting and deleting 
 * transaction respectively.  If a tuple is inserted and deleted in the same 
 * transaction, we store a "combo" command id that can be mapped to the real 
 * cmin and cmax, but only by use of local state within the originating 
 * backend.  See combocid.c for more details.  Meanwhile, Xvac is only set by 
 * old-style VACUUM FULL, which does not have any command sub-structure and so 
 * does not need either Cmin or Cmax.  (This requires that old-style VACUUM 
 * FULL never try to move a tuple whose Cmin or Cmax is still interesting, 
 * ie, an insert-in-progress or delete-in-progress tuple.) 
 * 
 * A word about t_ctid: whenever a new tuple is stored on disk, its t_ctid 
 * is initialized with its own TID (location).  If the tuple is ever updated, 
 * its t_ctid is changed to point to the replacement version of the tuple. 
 * Thus, a tuple is the latest version of its row iff XMAX is invalid or 
 * t_ctid points to itself (in which case, if XMAX is valid, the tuple is 
 * either locked or deleted).  One can follow the chain of t_ctid links 
 * to find the newest version of the row.  Beware however that VACUUM might 
 * erase the pointed-to (newer) tuple before erasing the pointing (older) 
 * tuple.  Hence, when following a t_ctid link, it is necessary to check 
 * to see if the referenced slot is empty or contains an unrelated tuple. 
 * Check that the referenced tuple has XMIN equal to the referencing tuple's 
 * XMAX to verify that it is actually the descendant version and not an 
 * unrelated tuple stored into a slot recently freed by VACUUM.  If either 
 * check fails, one may assume that there is no live descendant version. 
 * 
 * t_ctid is sometimes used to store a speculative insertion token, instead 
 * of a real TID.  A speculative token is set on a tuple that's being 
 * inserted, until the inserter is sure that it wants to go ahead with the 
 * insertion.  Hence a token should only be seen on a tuple with an XMAX 
 * that's still in-progress, or invalid/aborted.  The token is replaced with 
 * the tuple's real TID when the insertion is confirmed.  One should never 
 * see a speculative insertion token while following a chain of t_ctid links, 
 * because they are not used on updates, only insertions. 
 * 
 * Following the fixed header fields, the nulls bitmap is stored (beginning 
 * at t_bits).  The bitmap is *not* stored if t_infomask shows that there 
 * are no nulls in the tuple.  If an OID field is present (as indicated by 
 * t_infomask), then it is stored just before the user data, which begins at 
 * the offset shown by t_hoff.  Note that t_hoff must be a multiple of 
 * MAXALIGN. 
 */ 
</span> 
<a name="LN115"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>HeapTupleFields</span> 
<span class='Delimiter'>{ 
</span><a name="LN117"></a>    <a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>t_xmin</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* inserting xact ID */ 
</span><a name="LN118"></a>    <a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>t_xmax</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* deleting or locking xact ID */ 
</span> 
    <span class='Control'>union</span> 
    <span class='Delimiter'>{ 
</span><a name="LN122"></a>        <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a>   <span class='Declare_Member'>t_cid</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* inserting or deleting command ID, or both */ 
</span><a name="LN123"></a>        <a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>t_xvac</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* old-style VACUUM FULL xact ID */ 
</span><a name="LN124"></a>    <span class='Delimiter'>}</span>           <span class='Declare_Member'>t_field3</span><span class='Delimiter'>; 
</span><a name="LN125"></a>} <span class='Declare_Typedef'>HeapTupleFields</span><span class='Delimiter'>; 
</span> 
<a name="LN127"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>DatumTupleFields</span> 
<span class='Delimiter'>{ 
</span><a name="LN129"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>datum_len_</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* varlena header (do not touch directly!) */ 
</span> 
<a name="LN131"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>datum_typmod</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* -1, or identifier of a record type */ 
</span> 
<a name="LN133"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>datum_typeid</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* composite type OID, or RECORDOID */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Note: field ordering is chosen with thought that Oid might someday 
     * widen to 64 bits. 
     */ 
</span><a name="LN139"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>DatumTupleFields</span><span class='Delimiter'>; 
</span> 
<a name="LN141"></a><span class='Control'>struct</span> <span class='Declare_Struct'>HeapTupleHeaderData</span> 
<span class='Delimiter'>{ 
</span>    <span class='Control'>union</span> 
    <span class='Delimiter'>{ 
</span><a name="LN145"></a>        <a href="htup_details.h.html#LN115"><span class='Ref_to_Struct'>HeapTupleFields</span></a> <span class='Declare_Member'>t_heap</span><span class='Delimiter'>; 
</span><a name="LN146"></a>        <a href="htup_details.h.html#LN127"><span class='Ref_to_Struct'>DatumTupleFields</span></a> <span class='Declare_Member'>t_datum</span><span class='Delimiter'>; 
</span><a name="LN147"></a>    <span class='Delimiter'>}</span>           <span class='Declare_Member'>t_choice</span><span class='Delimiter'>; 
</span> 
<a name="LN149"></a>    <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>t_ctid</span><span class='Delimiter'>;</span>     <span class='Comment_Multi_Line'>/* current TID of this or newer tuple (or a 
                                 * speculative insertion token) */ 
</span> 
    <span class='Comment_Multi_Line'>/* Fields below here must match MinimalTupleData! */ 
</span> 
<a name="LN154"></a>    <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a>      <span class='Declare_Member'>t_infomask2</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* number of attributes + various flags */ 
</span> 
<a name="LN156"></a>    <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a>      <span class='Declare_Member'>t_infomask</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* various flag bits, see below */ 
</span> 
<a name="LN158"></a>    <a href="../c.h.html#LN265"><span class='Ref_to_Typedef'>uint8</span></a>       <span class='Declare_Member'>t_hoff</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* sizeof header incl. bitmap, padding */ 
</span> 
    <span class='Comment_Multi_Line'>/* ^ - 23 bytes - ^ */ 
</span> 
<a name="LN162"></a>    <a href="../c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a>       <span class='Declare_Member'>t_bits</span><span class='Delimiter'>[</span>FLEXIBLE_ARRAY_MEMBER<span class='Delimiter'>];</span>  <span class='Comment_Single_Line'>/* bitmap of NULLs */ 
</span> 
    <span class='Comment_Multi_Line'>/* MORE DATA FOLLOWS AT END OF STRUCT */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end HeapTupleHeaderData &raquo; </span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* typedef appears in htup.h */ 
</span> 
<a name="LN169"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SizeofHeapTupleHeader</span> <a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN141"><span class='Ref_to_Struct'>HeapTupleHeaderData</span></a><span class='Delimiter'>, </span>t_bits<span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * information stored in t_infomask: 
 */ 
</span><a name="LN174"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_HASNULL</span>            <span class='Number'>0x0001</span>  <span class='Comment_Single_Line'>/* has null attribute(s) */ 
</span><a name="LN175"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_HASVARWIDTH</span>        <span class='Number'>0x0002</span>  <span class='Comment_Single_Line'>/* has variable-width attribute(s) */ 
</span><a name="LN176"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_HASEXTERNAL</span>        <span class='Number'>0x0004</span>  <span class='Comment_Single_Line'>/* has external stored attribute(s) */ 
</span><a name="LN177"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_HASOID</span>             <span class='Number'>0x0008</span>  <span class='Comment_Single_Line'>/* has an object-id field */ 
</span><a name="LN178"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_KEYSHR_LOCK</span>   <span class='Number'>0x0010</span>  <span class='Comment_Single_Line'>/* xmax is a key-shared locker */ 
</span><a name="LN179"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_COMBOCID</span>           <span class='Number'>0x0020</span>  <span class='Comment_Single_Line'>/* t_cid is a combo cid */ 
</span><a name="LN180"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_EXCL_LOCK</span>     <span class='Number'>0x0040</span>  <span class='Comment_Single_Line'>/* xmax is exclusive locker */ 
</span><a name="LN181"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_LOCK_ONLY</span>     <span class='Number'>0x0080</span>  <span class='Comment_Single_Line'>/* xmax, if valid, is only a locker */ 
</span> 
 <span class='Comment_Multi_Line'>/* xmax is a shared locker */ 
</span><a name="LN184"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_SHR_LOCK</span>  <span class='Parentheses'>(</span><a href="htup_details.h.html#LN180"><span class='Ref_to_Const'>HEAP_XMAX_EXCL_LOCK</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN178"><span class='Ref_to_Const'>HEAP_XMAX_KEYSHR_LOCK</span></a><span class='Parentheses'>) 
</span> 
<a name="LN186"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_LOCK_MASK</span>  <span class='Parentheses'>(</span><a href="htup_details.h.html#LN184"><span class='Ref_to_Const'>HEAP_XMAX_SHR_LOCK</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN180"><span class='Ref_to_Const'>HEAP_XMAX_EXCL_LOCK</span></a> <span class='Operator'>| \ 
</span>                         <a href="htup_details.h.html#LN178"><span class='Ref_to_Const'>HEAP_XMAX_KEYSHR_LOCK</span></a><span class='Parentheses'>) 
</span><a name="LN188"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMIN_COMMITTED</span>     <span class='Number'>0x0100</span>  <span class='Comment_Single_Line'>/* t_xmin committed */ 
</span><a name="LN189"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMIN_INVALID</span>       <span class='Number'>0x0200</span>  <span class='Comment_Single_Line'>/* t_xmin invalid/aborted */ 
</span><a name="LN190"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMIN_FROZEN</span>        <span class='Parentheses'>(</span><a href="htup_details.h.html#LN188"><span class='Ref_to_Const'>HEAP_XMIN_COMMITTED</span></a><span class='Operator'>|</span><a href="htup_details.h.html#LN189"><span class='Ref_to_Const'>HEAP_XMIN_INVALID</span></a><span class='Parentheses'>) 
</span><a name="LN191"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_COMMITTED</span>     <span class='Number'>0x0400</span>  <span class='Comment_Single_Line'>/* t_xmax committed */ 
</span><a name="LN192"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_INVALID</span>       <span class='Number'>0x0800</span>  <span class='Comment_Single_Line'>/* t_xmax invalid/aborted */ 
</span><a name="LN193"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_IS_MULTI</span>      <span class='Number'>0x1000</span>  <span class='Comment_Single_Line'>/* t_xmax is a MultiXactId */ 
</span><a name="LN194"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_UPDATED</span>            <span class='Number'>0x2000</span>  <span class='Comment_Single_Line'>/* this is UPDATEd version of row */ 
</span><a name="LN195"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_MOVED_OFF</span>          <span class='Number'>0x4000</span>  <span class='Comment_Multi_Line'>/* moved to another place by pre-9.0 
                                         * VACUUM FULL; kept for binary 
                                         * upgrade support */ 
</span><a name="LN198"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_MOVED_IN</span>           <span class='Number'>0x8000</span>  <span class='Comment_Multi_Line'>/* moved from another place by pre-9.0 
                                         * VACUUM FULL; kept for binary 
                                         * upgrade support */ 
</span><a name="LN201"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_MOVED</span> <span class='Parentheses'>(</span><a href="htup_details.h.html#LN195"><span class='Ref_to_Const'>HEAP_MOVED_OFF</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN198"><span class='Ref_to_Const'>HEAP_MOVED_IN</span></a><span class='Parentheses'>) 
</span> 
<a name="LN203"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XACT_MASK</span>          <span class='Number'>0xFFF0</span>  <span class='Comment_Single_Line'>/* visibility-related bits */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * A tuple is only locked (i.e. not updated by its Xmax) if the 
 * HEAP_XMAX_LOCK_ONLY bit is set; or, for pg_upgrade's sake, if the Xmax is 
 * not a multi and the EXCL_LOCK bit is set. 
 * 
 * See also HeapTupleHeaderIsOnlyLocked, which also checks for a possible 
 * aborted updater transaction. 
 * 
 * Beware of multiple evaluations of the argument. 
 */ 
</span><a name="LN215"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HEAP_XMAX_IS_LOCKED_ONLY</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>infomask</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN215"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>)</span> <span class='Operator'>& </span><a href="htup_details.h.html#LN181"><span class='Ref_to_Const'>HEAP_XMAX_LOCK_ONLY</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| \ 
</span>     <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN215"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN193"><span class='Ref_to_Const'>HEAP_XMAX_IS_MULTI</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN186"><span class='Ref_to_Const'>HEAP_LOCK_MASK</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><a href="htup_details.h.html#LN180"><span class='Ref_to_Const'>HEAP_XMAX_EXCL_LOCK</span></a><span class='Parentheses'>))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * A tuple that has HEAP_XMAX_IS_MULTI and HEAP_XMAX_LOCK_ONLY but neither of 
 * XMAX_EXCL_LOCK and XMAX_KEYSHR_LOCK must come from a tuple that was 
 * share-locked in 9.2 or earlier and then pg_upgrade'd. 
 * 
 * In 9.2 and prior, HEAP_XMAX_IS_MULTI was only set when there were multiple 
 * FOR SHARE lockers of that tuple.  That set HEAP_XMAX_LOCK_ONLY (with a 
 * different name back then) but neither of HEAP_XMAX_EXCL_LOCK and 
 * HEAP_XMAX_KEYSHR_LOCK.  That combination is no longer possible in 9.3 and 
 * up, so if we see that combination we know for certain that the tuple was 
 * locked in an earlier release; since all such lockers are gone (they cannot 
 * survive through pg_upgrade), such tuples can safely be considered not 
 * locked. 
 * 
 * We must not resolve such multixacts locally, because the result would be 
 * bogus, regardless of where they stand with respect to the current valid 
 * multixact range. 
 */ 
</span><a name="LN237"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HEAP_LOCKED_UPGRADED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>infomask</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>     <span class='Parentheses'>((</span><a href="htup_details.h.html#LN237"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>)</span> <span class='Operator'>& </span><a href="htup_details.h.html#LN193"><span class='Ref_to_Const'>HEAP_XMAX_IS_MULTI</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& \ 
</span>     <span class='Parentheses'>((</span><a href="htup_details.h.html#LN237"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>)</span> <span class='Operator'>& </span><a href="htup_details.h.html#LN181"><span class='Ref_to_Const'>HEAP_XMAX_LOCK_ONLY</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& \ 
</span>     <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN237"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN180"><span class='Ref_to_Const'>HEAP_XMAX_EXCL_LOCK</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN178"><span class='Ref_to_Const'>HEAP_XMAX_KEYSHR_LOCK</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Use these to test whether a particular lock is applied to a tuple 
 */ 
</span><a name="LN247"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HEAP_XMAX_IS_SHR_LOCKED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>infomask</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN247"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><a href="htup_details.h.html#LN186"><span class='Ref_to_Const'>HEAP_LOCK_MASK</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="htup_details.h.html#LN184"><span class='Ref_to_Const'>HEAP_XMAX_SHR_LOCK</span></a><span class='Parentheses'>)</span> 
<a name="LN249"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HEAP_XMAX_IS_EXCL_LOCKED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>infomask</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN249"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><a href="htup_details.h.html#LN186"><span class='Ref_to_Const'>HEAP_LOCK_MASK</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="htup_details.h.html#LN180"><span class='Ref_to_Const'>HEAP_XMAX_EXCL_LOCK</span></a><span class='Parentheses'>)</span> 
<a name="LN251"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HEAP_XMAX_IS_KEYSHR_LOCKED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>infomask</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN251"><span class='Ref_to_Parameter'>infomask</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><a href="htup_details.h.html#LN186"><span class='Ref_to_Const'>HEAP_LOCK_MASK</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="htup_details.h.html#LN178"><span class='Ref_to_Const'>HEAP_XMAX_KEYSHR_LOCK</span></a><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* turn these all off when Xmax is to change */ 
</span><a name="LN255"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_XMAX_BITS</span> <span class='Parentheses'>(</span><a href="htup_details.h.html#LN191"><span class='Ref_to_Const'>HEAP_XMAX_COMMITTED</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN192"><span class='Ref_to_Const'>HEAP_XMAX_INVALID</span></a> <span class='Operator'>| \ 
</span>                        <a href="htup_details.h.html#LN193"><span class='Ref_to_Const'>HEAP_XMAX_IS_MULTI</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN186"><span class='Ref_to_Const'>HEAP_LOCK_MASK</span></a> <span class='Operator'>| </span><a href="htup_details.h.html#LN181"><span class='Ref_to_Const'>HEAP_XMAX_LOCK_ONLY</span></a><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * information stored in t_infomask2: 
 */ 
</span><a name="LN261"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_NATTS_MASK</span>         <span class='Number'>0x07FF</span>  <span class='Comment_Single_Line'>/* 11 bits for number of attributes */ 
</span><span class='Comment_Multi_Line'>/* bits 0x1800 are available */ 
</span><a name="LN263"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_KEYS_UPDATED</span>       <span class='Number'>0x2000</span>  <span class='Comment_Multi_Line'>/* tuple was updated and key cols 
                                         * modified, or tuple deleted */ 
</span><a name="LN265"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_HOT_UPDATED</span>        <span class='Number'>0x4000</span>  <span class='Comment_Single_Line'>/* tuple was HOT-updated */ 
</span><a name="LN266"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_ONLY_TUPLE</span>         <span class='Number'>0x8000</span>  <span class='Comment_Single_Line'>/* this is heap-only tuple */ 
</span> 
<a name="LN268"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP2_XACT_MASK</span>         <span class='Number'>0xE000</span>  <span class='Comment_Single_Line'>/* visibility-related bits */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * HEAP_TUPLE_HAS_MATCH is a temporary flag used during hash joins.  It is 
 * only used in tuples that are in the hash table, and those don't need 
 * any visibility information, so we can overlay it on a visibility flag 
 * instead of using up a dedicated bit. 
 */ 
</span><a name="LN276"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>HEAP_TUPLE_HAS_MATCH</span>    <a href="htup_details.h.html#LN266"><span class='Ref_to_Const'>HEAP_ONLY_TUPLE</span></a> <span class='Comment_Single_Line'>/* tuple has a join match */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Special value used in t_ctid.ip_posid, to indicate that it holds a 
 * speculative insertion token rather than a real TID.  This must be higher 
 * than MaxOffsetNumber, so that it can be distinguished from a valid 
 * offset number in a regular item pointer. 
 */ 
</span><a name="LN284"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SpecTokenOffsetNumber</span>       <span class='Number'>0xfffe</span> 
 
<span class='Comment_Multi_Line'>/* 
 * HeapTupleHeader accessor macros 
 * 
 * Note: beware of multiple evaluations of "tup" argument.  But the Set 
 * macros evaluate their other argument only once. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * HeapTupleHeaderGetRawXmin returns the "raw" xmin field, which is the xid 
 * originally used to insert the tuple.  However, the tuple might actually 
 * be frozen (via HeapTupleHeaderSetXminFrozen) in which case the tuple's xmin 
 * is visible to every snapshot.  Prior to PostgreSQL 9.4, we actually changed 
 * the xmin to FrozenTransactionId, and that value may still be encountered 
 * on disk. 
 */ 
</span><a name="LN301"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetRawXmin</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN301"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_xmin <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN306"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetXmin</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <a href="htup_details.h.html#LN328"><span class='Ref_to_Macro'>HeapTupleHeaderXminFrozen</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN306"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>) </span><span class='Operator'>? \ 
</span>        <a href="transam.h.html#LN32"><span class='Ref_to_Const'>FrozenTransactionId</span></a> <span class='Operator'>: </span><a href="htup_details.h.html#LN301"><span class='Ref_to_Macro'>HeapTupleHeaderGetRawXmin</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN306"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN312"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetXmin</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>xid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN312"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_xmin <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN312"><span class='Ref_to_Parameter'>xid</span></a><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN317"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderXminCommitted</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN317"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN188"><span class='Ref_to_Const'>HEAP_XMIN_COMMITTED</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN322"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderXminInvalid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN322"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN188"><span class='Ref_to_Const'>HEAP_XMIN_COMMITTED</span></a><span class='Operator'>|</span><a href="htup_details.h.html#LN189"><span class='Ref_to_Const'>HEAP_XMIN_INVALID</span></a><span class='Parentheses'>))</span> <span class='Operator'>== \ 
</span>        <a href="htup_details.h.html#LN189"><span class='Ref_to_Const'>HEAP_XMIN_INVALID</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN328"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderXminFrozen</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN328"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN190"><span class='Ref_to_Const'>HEAP_XMIN_FROZEN</span></a><span class='Parentheses'>))</span> <span class='Operator'>== </span><a href="htup_details.h.html#LN190"><span class='Ref_to_Const'>HEAP_XMIN_FROZEN</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN333"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetXminCommitted</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <a href="../c.h.html#LN675"><span class='Ref_to_Macro'>AssertMacro</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="htup_details.h.html#LN322"><span class='Ref_to_Macro'>HeapTupleHeaderXminInvalid</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN333"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN333"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>|= </span><a href="htup_details.h.html#LN188"><span class='Ref_to_Const'>HEAP_XMIN_COMMITTED</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN339"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetXminInvalid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <a href="../c.h.html#LN675"><span class='Ref_to_Macro'>AssertMacro</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="htup_details.h.html#LN317"><span class='Ref_to_Macro'>HeapTupleHeaderXminCommitted</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN339"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN339"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>|= </span><a href="htup_details.h.html#LN189"><span class='Ref_to_Const'>HEAP_XMIN_INVALID</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN345"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetXminFrozen</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <a href="../c.h.html#LN675"><span class='Ref_to_Macro'>AssertMacro</span></a><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="htup_details.h.html#LN322"><span class='Ref_to_Macro'>HeapTupleHeaderXminInvalid</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN345"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN345"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>|= </span><a href="htup_details.h.html#LN190"><span class='Ref_to_Const'>HEAP_XMIN_FROZEN</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * HeapTupleHeaderGetRawXmax gets you the raw Xmax field.  To find out the Xid 
 * that updated a tuple, you might need to resolve the MultiXactId if certain 
 * bits are set.  HeapTupleHeaderGetUpdateXid checks those bits and takes care 
 * to resolve the MultiXactId if necessary.  This might involve multixact I/O, 
 * so it should only be used if absolutely necessary. 
 */ 
</span><a name="LN358"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetUpdateXid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN358"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN192"><span class='Ref_to_Const'>HEAP_XMAX_INVALID</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& \ 
</span>     <span class='Parentheses'>((</span><a href="htup_details.h.html#LN358"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN193"><span class='Ref_to_Const'>HEAP_XMAX_IS_MULTI</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& \ 
</span>     <span class='Operator'>!</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN358"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN181"><span class='Ref_to_Const'>HEAP_XMAX_LOCK_ONLY</span></a><span class='Parentheses'>))</span> <span class='Operator'>? \ 
</span>        <a href="htup.h.html#LN85"><span class='Ref_to_Proto'>HeapTupleGetUpdateXid</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN358"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span>    <span class='Operator'>: \ 
</span>        <a href="htup_details.h.html#LN368"><span class='Ref_to_Macro'>HeapTupleHeaderGetRawXmax</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN358"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN368"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetRawXmax</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN368"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_xmax <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN373"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetXmax</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>xid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN373"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_xmax <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN373"><span class='Ref_to_Parameter'>xid</span></a><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * HeapTupleHeaderGetRawCommandId will give you what's in the header whether 
 * it is useful or not.  Most code should use HeapTupleHeaderGetCmin or 
 * HeapTupleHeaderGetCmax instead, but note that those Assert that you can 
 * get a legitimate result, ie you are in the originating transaction! 
 */ 
</span><a name="LN384"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetRawCommandId</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN384"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_field3<span class='Operator'>.</span>t_cid <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* SetCmin is reasonably simple since we never need a combo CID */ 
</span><a name="LN390"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetCmin</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>cid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN390"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN201"><span class='Ref_to_Const'>HEAP_MOVED</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN390"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_field3<span class='Operator'>.</span>t_cid <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN390"><span class='Ref_to_Parameter'>cid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN390"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>&= ~</span><a href="htup_details.h.html#LN179"><span class='Ref_to_Const'>HEAP_COMBOCID</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* SetCmax must be used after HeapTupleHeaderAdjustCmax; see combocid.c */ 
</span><a name="LN398"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetCmax</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>cid</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>iscombo</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN398"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN201"><span class='Ref_to_Const'>HEAP_MOVED</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN398"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_field3<span class='Operator'>.</span>t_cid <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN398"><span class='Ref_to_Parameter'>cid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="htup_details.h.html#LN398"><span class='Ref_to_Parameter'>iscombo</span></a><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="htup_details.h.html#LN398"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>|= </span><a href="htup_details.h.html#LN179"><span class='Ref_to_Const'>HEAP_COMBOCID</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Control'>else</span> <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="htup_details.h.html#LN398"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>&= ~</span><a href="htup_details.h.html#LN179"><span class='Ref_to_Const'>HEAP_COMBOCID</span></a><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN408"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetXvac</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN408"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN201"><span class='Ref_to_Const'>HEAP_MOVED</span></a><span class='Parentheses'>)</span> <span class='Operator'>? \ 
</span>        <span class='Parentheses'>(</span><a href="htup_details.h.html#LN408"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_field3<span class='Operator'>.</span>t_xvac <span class='Operator'>\ 
</span>    <span class='Operator'>: \ 
</span>        <a href="transam.h.html#LN30"><span class='Ref_to_Const'>InvalidTransactionId</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN416"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetXvac</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>xid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN416"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN201"><span class='Ref_to_Const'>HEAP_MOVED</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN416"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_heap<span class='Operator'>.</span>t_field3<span class='Operator'>.</span>t_xvac <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN416"><span class='Ref_to_Parameter'>xid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN422"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderIsSpeculative</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../storage/itemptr.h.html#LN84"><span class='Ref_to_Macro'>ItemPointerGetOffsetNumberNoCheck</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN422"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_ctid<span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="htup_details.h.html#LN284"><span class='Ref_to_Const'>SpecTokenOffsetNumber</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN427"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetSpeculativeToken</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <a href="../c.h.html#LN675"><span class='Ref_to_Macro'>AssertMacro</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN422"><span class='Ref_to_Macro'>HeapTupleHeaderIsSpeculative</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN427"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>    <a href="../storage/itemptr.h.html#LN74"><span class='Ref_to_Macro'>ItemPointerGetBlockNumber</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN427"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_ctid<span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN433"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetSpeculativeToken</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>token</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <a href="../storage/itemptr.h.html#LN103"><span class='Ref_to_Macro'>ItemPointerSet</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN433"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_ctid<span class='Delimiter'>, </span><a href="htup_details.h.html#LN433"><span class='Ref_to_Parameter'>token</span></a><span class='Delimiter'>, </span><a href="htup_details.h.html#LN284"><span class='Ref_to_Const'>SpecTokenOffsetNumber</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN438"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetDatumLength</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../postgres.h.html#LN303"><span class='Ref_to_Macro'>VARSIZE</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN438"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>) 
</span> 
<a name="LN441"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetDatumLength</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>len</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <a href="../postgres.h.html#LN327"><span class='Ref_to_Macro'>SET_VARSIZE</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN441"><span class='Ref_to_Parameter'>tup</span></a><span class='Delimiter'>, </span><a href="htup_details.h.html#LN441"><span class='Ref_to_Parameter'>len</span></a><span class='Parentheses'>) 
</span> 
<a name="LN444"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetTypeId</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN444"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_datum<span class='Operator'>.</span>datum_typeid <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN449"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetTypeId</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>typeid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN449"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_datum<span class='Operator'>.</span>datum_typeid <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>typeid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN454"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetTypMod</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN454"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_datum<span class='Operator'>.</span>datum_typmod <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN459"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetTypMod</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>typmod</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN459"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_choice<span class='Operator'>.</span>t_datum<span class='Operator'>.</span>datum_typmod <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN459"><span class='Ref_to_Parameter'>typmod</span></a><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN464"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetOid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN464"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN177"><span class='Ref_to_Const'>HEAP_HASOID</span></a><span class='Parentheses'>)</span> <span class='Operator'>? \ 
</span>        <span class='Operator'>*</span><span class='Parentheses'>((</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="htup_details.h.html#LN464"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN464"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_hoff <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>)))</span> <span class='Operator'>\ 
</span>    <span class='Operator'>: \ 
</span>        <a href="../postgres_ext.h.html#LN33"><span class='Ref_to_Const'>InvalidOid</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN472"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetOid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>oid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>    <span class='Debug'>Assert</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN472"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN177"><span class='Ref_to_Const'>HEAP_HASOID</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Operator'>*</span><span class='Parentheses'>((</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="htup_details.h.html#LN472"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN472"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_hoff <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>)))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN472"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span><span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Note that we stop considering a tuple HOT-updated as soon as it is known 
 * aborted or the would-be updating transaction is known aborted.  For best 
 * efficiency, check tuple visibility before using this macro, so that the 
 * INVALID bits will be as up to date as possible. 
 */ 
</span><a name="LN484"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderIsHotUpdated</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN484"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>& </span><a href="htup_details.h.html#LN265"><span class='Ref_to_Const'>HEAP_HOT_UPDATED</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& \ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN484"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN192"><span class='Ref_to_Const'>HEAP_XMAX_INVALID</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& \ 
</span>    <span class='Operator'>!</span><a href="htup_details.h.html#LN322"><span class='Ref_to_Macro'>HeapTupleHeaderXminInvalid</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN484"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN491"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetHotUpdated</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN491"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>|= </span><a href="htup_details.h.html#LN265"><span class='Ref_to_Const'>HEAP_HOT_UPDATED</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN496"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderClearHotUpdated</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN496"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>&= ~</span><a href="htup_details.h.html#LN265"><span class='Ref_to_Const'>HEAP_HOT_UPDATED</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN501"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderIsHeapOnly</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>  <span class='Parentheses'>((</span><a href="htup_details.h.html#LN501"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>& </span><a href="htup_details.h.html#LN266"><span class='Ref_to_Const'>HEAP_ONLY_TUPLE</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN506"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetHeapOnly</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>  <span class='Parentheses'>(</span><a href="htup_details.h.html#LN506"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>|= </span><a href="htup_details.h.html#LN266"><span class='Ref_to_Const'>HEAP_ONLY_TUPLE</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN511"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderClearHeapOnly</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>  <span class='Parentheses'>(</span><a href="htup_details.h.html#LN511"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>&= ~</span><a href="htup_details.h.html#LN266"><span class='Ref_to_Const'>HEAP_ONLY_TUPLE</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN516"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderHasMatch</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>  <span class='Parentheses'>((</span><a href="htup_details.h.html#LN516"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>& </span><a href="htup_details.h.html#LN276"><span class='Ref_to_Const'>HEAP_TUPLE_HAS_MATCH</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN521"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetMatch</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>  <span class='Parentheses'>(</span><a href="htup_details.h.html#LN521"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>|= </span><a href="htup_details.h.html#LN276"><span class='Ref_to_Const'>HEAP_TUPLE_HAS_MATCH</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN526"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderClearMatch</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>  <span class='Parentheses'>(</span><a href="htup_details.h.html#LN526"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>&= ~</span><a href="htup_details.h.html#LN276"><span class='Ref_to_Const'>HEAP_TUPLE_HAS_MATCH</span></a> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN531"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderGetNatts</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="htup_details.h.html#LN531"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>& </span><a href="htup_details.h.html#LN261"><span class='Ref_to_Const'>HEAP_NATTS_MASK</span></a><span class='Parentheses'>)</span> 
 
<a name="LN534"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderSetNatts</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>natts</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span><span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN534"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN534"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask2 <span class='Operator'>& ~</span><a href="htup_details.h.html#LN261"><span class='Ref_to_Const'>HEAP_NATTS_MASK</span></a><span class='Parentheses'>)</span> <span class='Operator'>| </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN534"><span class='Ref_to_Parameter'>natts</span></a><span class='Parentheses'>)</span> <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
 
<a name="LN539"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHeaderHasExternal</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN539"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN176"><span class='Ref_to_Const'>HEAP_HASEXTERNAL</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * BITMAPLEN(NATTS) - 
 *      Computes size of null bitmap given number of data columns. 
 */ 
</span><a name="LN547"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>BITMAPLEN</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>NATTS</span><span class='Parentheses'>)</span>    <span class='Parentheses'>(((</span><span class='Keyword'>int</span><span class='Parentheses'>)(</span><a href="htup_details.h.html#LN547"><span class='Ref_to_Parameter'>NATTS</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>7</span><span class='Parentheses'>)</span> <span class='Operator'>/ </span><span class='Number'>8</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * MaxHeapTupleSize is the maximum allowed size of a heap tuple, including 
 * header and MAXALIGN alignment padding.  Basically it's BLCKSZ minus the 
 * other stuff that has to be on a disk page.  Since heap pages use no 
 * "special space", there's no deduction for that. 
 * 
 * NOTE: we allow for the ItemId that must point to the tuple, ensuring that 
 * an otherwise-empty page can indeed hold a tuple of this size.  Because 
 * ItemIds and tuples have different alignment requirements, don't assume that 
 * you can, say, fit 2 tuples of size MaxHeapTupleSize/2 on the same page. 
 */ 
</span><a name="LN560"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MaxHeapTupleSize</span>  <span class='Parentheses'>(</span>BLCKSZ <span class='Operator'>- </span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a> <span class='Operator'>+ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemid.h.html#LN23"><span class='Ref_to_Struct'>ItemIdData</span></a><span class='Parentheses'>)))</span> 
<a name="LN561"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MinHeapTupleSize</span>  <a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN169"><span class='Ref_to_Const'>SizeofHeapTupleHeader</span></a><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* 
 * MaxHeapTuplesPerPage is an upper bound on the number of tuples that can 
 * fit on one heap page.  (Note that indexes could have more, because they 
 * use a smaller tuple header.)  We arrive at the divisor because each tuple 
 * must be maxaligned, and it must have an associated item pointer. 
 * 
 * Note: with HOT, there could theoretically be more line pointers (not actual 
 * tuples) than this on a heap page.  However we constrain the number of line 
 * pointers to this anyway, to avoid excessive line-pointer bloat and not 
 * require increases in the size of work arrays. 
 */ 
</span><a name="LN574"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MaxHeapTuplesPerPage</span>    <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><span class='Keyword'>int</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span>BLCKSZ <span class='Operator'>- </span><a href="../storage/bufpage.h.html#LN212"><span class='Ref_to_Const'>SizeOfPageHeaderData</span></a><span class='Parentheses'>)</span> <span class='Operator'>/ \ 
</span>            <span class='Parentheses'>(</span><a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN169"><span class='Ref_to_Const'>SizeofHeapTupleHeader</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../storage/itemid.h.html#LN23"><span class='Ref_to_Struct'>ItemIdData</span></a><span class='Parentheses'>))))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * MaxAttrSize is a somewhat arbitrary upper limit on the declared size of 
 * data fields of char(n) and similar types.  It need not have anything 
 * directly to do with the *actual* upper limit of varlena values, which 
 * is currently 1Gb (see TOAST structures in postgres.h).  I've set it 
 * at 10Mb which seems like a reasonable number --- tgl 8/6/00. 
 */ 
</span><a name="LN585"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MaxAttrSize</span>     <span class='Parentheses'>(</span><span class='Number'>10</span> <span class='Operator'>* </span><span class='Number'>1024</span> <span class='Operator'>* </span><span class='Number'>1024</span><span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * MinimalTuple is an alternative representation that is used for transient 
 * tuples inside the executor, in places where transaction status information 
 * is not required, the tuple rowtype is known, and shaving off a few bytes 
 * is worthwhile because we need to store many tuples.  The representation 
 * is chosen so that tuple access routines can work with either full or 
 * minimal tuples via a HeapTupleData pointer structure.  The access routines 
 * see no difference, except that they must not access the transaction status 
 * or t_ctid fields because those aren't there. 
 * 
 * For the most part, MinimalTuples should be accessed via TupleTableSlot 
 * routines.  These routines will prevent access to the "system columns" 
 * and thereby prevent accidental use of the nonexistent fields. 
 * 
 * MinimalTupleData contains a length word, some padding, and fields matching 
 * HeapTupleHeaderData beginning with t_infomask2. The padding is chosen so 
 * that offsetof(t_infomask2) is the same modulo MAXIMUM_ALIGNOF in both 
 * structs.   This makes data alignment rules equivalent in both cases. 
 * 
 * When a minimal tuple is accessed via a HeapTupleData pointer, t_data is 
 * set to point MINIMAL_TUPLE_OFFSET bytes before the actual start of the 
 * minimal tuple --- that is, where a full tuple matching the minimal tuple's 
 * data would start.  This trick is what makes the structs seem equivalent. 
 * 
 * Note that t_hoff is computed the same as in a full tuple, hence it includes 
 * the MINIMAL_TUPLE_OFFSET distance.  t_len does not include that, however. 
 * 
 * MINIMAL_TUPLE_DATA_OFFSET is the offset to the first useful (non-pad) data 
 * other than the length word.  tuplesort.c and tuplestore.c use this to avoid 
 * writing the padding to disk. 
 */ 
</span><a name="LN619"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MINIMAL_TUPLE_OFFSET</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN141"><span class='Ref_to_Struct'>HeapTupleHeaderData</span></a><span class='Delimiter'>, </span>t_infomask2<span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>))</span> <span class='Operator'>/ </span>MAXIMUM_ALIGNOF <span class='Operator'>* </span>MAXIMUM_ALIGNOF<span class='Parentheses'>)</span> 
<a name="LN621"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MINIMAL_TUPLE_PADDING</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN141"><span class='Ref_to_Struct'>HeapTupleHeaderData</span></a><span class='Delimiter'>, </span>t_infomask2<span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a><span class='Parentheses'>))</span> <span class='Operator'>% </span>MAXIMUM_ALIGNOF<span class='Parentheses'>)</span> 
<a name="LN623"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MINIMAL_TUPLE_DATA_OFFSET</span> <span class='Operator'>\ 
</span>    <a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN626"><span class='Ref_to_Struct'>MinimalTupleData</span></a><span class='Delimiter'>, </span>t_infomask2<span class='Parentheses'>) 
</span> 
<a name="LN626"></a><span class='Control'>struct</span> <span class='Declare_Struct'>MinimalTupleData</span> 
<span class='Delimiter'>{ 
</span><a name="LN628"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>t_len</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* actual length of minimal tuple */ 
</span> 
<a name="LN630"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>mt_padding</span><span class='Delimiter'>[</span><a href="htup_details.h.html#LN621"><span class='Ref_to_Const'>MINIMAL_TUPLE_PADDING</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* Fields below here must match HeapTupleHeaderData! */ 
</span> 
<a name="LN634"></a>    <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a>      <span class='Declare_Member'>t_infomask2</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* number of attributes + various flags */ 
</span> 
<a name="LN636"></a>    <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a>      <span class='Declare_Member'>t_infomask</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* various flag bits, see below */ 
</span> 
<a name="LN638"></a>    <a href="../c.h.html#LN265"><span class='Ref_to_Typedef'>uint8</span></a>       <span class='Declare_Member'>t_hoff</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* sizeof header incl. bitmap, padding */ 
</span> 
    <span class='Comment_Multi_Line'>/* ^ - 23 bytes - ^ */ 
</span> 
<a name="LN642"></a>    <a href="../c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a>       <span class='Declare_Member'>t_bits</span><span class='Delimiter'>[</span>FLEXIBLE_ARRAY_MEMBER<span class='Delimiter'>];</span>  <span class='Comment_Single_Line'>/* bitmap of NULLs */ 
</span> 
    <span class='Comment_Multi_Line'>/* MORE DATA FOLLOWS AT END OF STRUCT */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end MinimalTupleData &raquo; </span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* typedef appears in htup.h */ 
</span> 
<a name="LN649"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SizeofMinimalTupleHeader</span> <a href="../c.h.html#LN554"><span class='Ref_to_Macro'>offsetof</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN626"><span class='Ref_to_Struct'>MinimalTupleData</span></a><span class='Delimiter'>, </span>t_bits<span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * GETSTRUCT - given a HeapTuple pointer, return address of the user data 
 */ 
</span><a name="LN655"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GETSTRUCT</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>TUP</span><span class='Parentheses'>) ((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>)</span> <span class='Parentheses'>((</span><a href="htup_details.h.html#LN655"><span class='Ref_to_Parameter'>TUP</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN655"><span class='Ref_to_Parameter'>TUP</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_hoff<span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Accessor macros to be used with HeapTuple pointers. 
 */ 
</span> 
<a name="LN661"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHasNulls</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN661"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN174"><span class='Ref_to_Const'>HEAP_HASNULL</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
 
<a name="LN664"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleNoNulls</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN664"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN174"><span class='Ref_to_Const'>HEAP_HASNULL</span></a><span class='Parentheses'>))</span> 
 
<a name="LN667"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHasVarWidth</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN667"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN175"><span class='Ref_to_Const'>HEAP_HASVARWIDTH</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
 
<a name="LN670"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleAllFixed</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>((</span><a href="htup_details.h.html#LN670"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN175"><span class='Ref_to_Const'>HEAP_HASVARWIDTH</span></a><span class='Parentheses'>))</span> 
 
<a name="LN673"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleHasExternal</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <span class='Parentheses'>(((</span><a href="htup_details.h.html#LN673"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_infomask <span class='Operator'>& </span><a href="htup_details.h.html#LN176"><span class='Ref_to_Const'>HEAP_HASEXTERNAL</span></a><span class='Parentheses'>)</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
 
<a name="LN676"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleIsHotUpdated</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN484"><span class='Ref_to_Macro'>HeapTupleHeaderIsHotUpdated</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN676"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN679"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleSetHotUpdated</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN491"><span class='Ref_to_Macro'>HeapTupleHeaderSetHotUpdated</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN679"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN682"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleClearHotUpdated</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN496"><span class='Ref_to_Macro'>HeapTupleHeaderClearHotUpdated</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN682"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN685"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleIsHeapOnly</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN501"><span class='Ref_to_Macro'>HeapTupleHeaderIsHeapOnly</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN685"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN688"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleSetHeapOnly</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN506"><span class='Ref_to_Macro'>HeapTupleHeaderSetHeapOnly</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN688"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN691"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleClearHeapOnly</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN511"><span class='Ref_to_Macro'>HeapTupleHeaderClearHeapOnly</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN691"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN694"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleGetOid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN464"><span class='Ref_to_Macro'>HeapTupleHeaderGetOid</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN694"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>)</span> 
 
<a name="LN697"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>HeapTupleSetOid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>oid</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>        <a href="htup_details.h.html#LN472"><span class='Ref_to_Macro'>HeapTupleHeaderSetOid</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN697"><span class='Ref_to_Parameter'>tuple</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN697"><span class='Ref_to_Parameter'>oid</span></a><span class='Parentheses'>))</span> 
 
 
<span class='Comment_Multi_Line'>/* ---------------- 
 *      fastgetattr 
 * 
 *      Fetch a user attribute's value as a Datum (might be either a 
 *      value, or a pointer into the data area of the tuple). 
 * 
 *      This must not be used when a system attribute might be requested. 
 *      Furthermore, the passed attnum MUST be valid.  Use heap_getattr() 
 *      instead, if in doubt. 
 * 
 *      This gets called many times, so we macro the cacheable and NULL 
 *      lookups, and call nocachegetattr() for the rest. 
 * ---------------- 
 */ 
</span> 
<span class='Directive'>#if</span> <span class='Operator'>!</span>defined<span class='Parentheses'>(</span>DISABLE_COMPLEX_MACRO<span class='Parentheses'>) 
</span> 
<a name="LN718"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>fastgetattr</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span>                 <span class='Operator'>\ 
</span><span class='Parentheses'>(</span>                                                                   <span class='Operator'>\ 
</span>    <a href="../c.h.html#LN675"><span class='Ref_to_Macro'>AssertMacro</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>,</span>                                      <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>)</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>,</span>                                            <span class='Operator'>\ 
</span>    <a href="htup_details.h.html#LN664"><span class='Ref_to_Macro'>HeapTupleNoNulls</span></a><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span> <span class='Operator'>?</span>                                         <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span>                                                               <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>attrs<span class='Delimiter'>[</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span>attcacheoff <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>?</span>          <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span>                                                           <span class='Operator'>\ 
</span>            <a href="tupmacs.h.html#LN36"><span class='Ref_to_Macro'>fetchatt</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>attrs<span class='Delimiter'>[</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>],</span>                <span class='Operator'>\ 
</span>                <span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_hoff <span class='Operator'>+</span>    <span class='Operator'>\ 
</span>                    <span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>attrs<span class='Delimiter'>[</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span>attcacheoff<span class='Parentheses'>)</span>    <span class='Operator'>\ 
</span>        <span class='Parentheses'>)</span>                                                           <span class='Operator'>\ 
</span>        <span class='Operator'>:</span>                                                           <span class='Operator'>\ 
</span>            <a href="../../backend/access/common/heaptuple.c.html#LN350"><span class='Ref_to_Func'>nocachegetattr</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>))</span>            <span class='Operator'>\ 
</span>    <span class='Parentheses'>)</span>                                                               <span class='Operator'>\ 
</span>    <span class='Operator'>:</span>                                                               <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span>                                                               <span class='Operator'>\ 
</span>        <a href="tupmacs.h.html#LN20"><span class='Ref_to_Macro'>att_isnull</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Operator'>-&GT;</span>t_bits<span class='Parentheses'>)</span> <span class='Operator'>?</span>             <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span>                                                           <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>,</span>                                     <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>)</span><span class='Null_Value'>NULL</span>                                             <span class='Operator'>\ 
</span>        <span class='Parentheses'>)</span>                                                           <span class='Operator'>\ 
</span>        <span class='Operator'>:</span>                                                           <span class='Operator'>\ 
</span>        <span class='Parentheses'>(</span>                                                           <span class='Operator'>\ 
</span>            <a href="../../backend/access/common/heaptuple.c.html#LN350"><span class='Ref_to_Func'>nocachegetattr</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN718"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>))</span>            <span class='Operator'>\ 
</span>        <span class='Parentheses'>)</span>                                                           <span class='Operator'>\ 
</span>    <span class='Parentheses'>)</span>                                                               <span class='Operator'>\ 
</span><span class='Parentheses'>)</span> 
<span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* defined(DISABLE_COMPLEX_MACRO) */ 
</span> 
<a name="LN748"></a><span class='Keyword'>extern </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>fastgetattr</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN749"></a>            <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* defined(DISABLE_COMPLEX_MACRO) */ 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------------- 
 *      heap_getattr 
 * 
 *      Extract an attribute of a heap tuple and return it as a Datum. 
 *      This works for either system or user attributes.  The given attnum 
 *      is properly range-checked. 
 * 
 *      If the field in question has a NULL value, we return a zero Datum 
 *      and set *isnull == true.  Otherwise, we set *isnull == false. 
 * 
 *      &LT;tup&GT; is the pointer to the heap tuple.  &LT;attnum&GT; is the attribute 
 *      number of the column (field) caller wants.  &LT;tupleDesc&GT; is a 
 *      pointer to the structure describing the row and all its fields. 
 * ---------------- 
 */ 
</span><a name="LN768"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>heap_getattr</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>        <span class='Parentheses'>((</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>? \ 
</span>        <span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>            <span class='Parentheses'>((</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span> <span class='Operator'>&GT; </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span> <a href="htup_details.h.html#LN531"><span class='Ref_to_Macro'>HeapTupleHeaderGetNatts</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>t_data<span class='Parentheses'>))</span> <span class='Operator'>? \ 
</span>            <span class='Parentheses'>(</span> <span class='Operator'>\ 
</span>                <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>\ 
</span>                <span class='Parentheses'>(</span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a><span class='Parentheses'>)</span><span class='Null_Value'>NULL </span><span class='Operator'>\ 
</span>            <span class='Parentheses'>)</span> <span class='Operator'>\ 
</span>            <span class='Operator'>: \ 
</span>                <a href="htup_details.h.html#LN718"><span class='Ref_to_Macro'>fastgetattr</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>))</span> <span class='Operator'>\ 
</span>        <span class='Parentheses'>)</span> <span class='Operator'>\ 
</span>        <span class='Operator'>: \ 
</span>            <a href="../../backend/access/common/heaptuple.c.html#LN550"><span class='Ref_to_Func'>heap_getsysattr</span></a><span class='Parentheses'>((</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>tup</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>attnum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>tupleDesc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="htup_details.h.html#LN768"><span class='Ref_to_Parameter'>isnull</span></a><span class='Parentheses'>))</span> <span class='Operator'>\ 
</span>    <span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* prototypes for functions in common/heaptuple.c */ 
</span><a name="LN786"></a><span class='Keyword'>extern </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Prototype'>heap_compute_data_size</span><span class='Parentheses'>(</span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN787"></a>                       <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN788"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>heap_fill_tuple</span><span class='Parentheses'>(</span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN789"></a>                <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Delimiter'>, 
</span><a name="LN790"></a>                <span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>data</span><span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>data_size</span><span class='Delimiter'>, 
</span><a name="LN791"></a>                <a href="../c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>infomask</span><span class='Delimiter'>, </span><a href="../c.h.html#LN274"><span class='Ref_to_Typedef'>bits8</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>bit</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN792"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>heap_attisnull</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attnum</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN793"></a><span class='Keyword'>extern </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>nocachegetattr</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, 
</span><a name="LN794"></a>               <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>att</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN795"></a><span class='Keyword'>extern </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>heap_getsysattr</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tup</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>attnum</span><span class='Delimiter'>, </span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN796"></a>                <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN797"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Prototype'>heap_copytuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN798"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>heap_copytuple_with_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>src</span><span class='Delimiter'>, </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>dest</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN799"></a><span class='Keyword'>extern </span><a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Prototype'>heap_copy_tuple_as_datum</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, </span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN800"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Prototype'>heap_form_tuple</span><span class='Parentheses'>(</span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDescriptor</span><span class='Delimiter'>, 
</span><a name="LN801"></a>                <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN802"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Prototype'>heap_modify_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, 
</span><a name="LN803"></a>                  <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN804"></a>                  <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>replValues</span><span class='Delimiter'>, 
</span><a name="LN805"></a>                  <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>replIsnull</span><span class='Delimiter'>, 
</span><a name="LN806"></a>                  <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>doReplace</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN807"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Prototype'>heap_modify_tuple_by_cols</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, 
</span><a name="LN808"></a>                          <a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN809"></a>                          <span class='Keyword'>int </span><span class='Declare_Parameter'>nCols</span><span class='Delimiter'>, 
</span><a name="LN810"></a>                          <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>replCols</span><span class='Delimiter'>, 
</span><a name="LN811"></a>                          <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>replValues</span><span class='Delimiter'>, 
</span><a name="LN812"></a>                          <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>replIsnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN813"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>heap_deform_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>tuple</span><span class='Delimiter'>, </span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDesc</span><span class='Delimiter'>, 
</span><a name="LN814"></a>                  <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN815"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>heap_freetuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>htup</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN816"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN26"><span class='Ref_to_Typedef'>MinimalTuple</span></a> <span class='Declare_Prototype'>heap_form_minimal_tuple</span><span class='Parentheses'>(</span><a href="tupdesc.h.html#LN70"><span class='Ref_to_Typedef'>TupleDesc</span></a> <span class='Declare_Parameter'>tupleDescriptor</span><span class='Delimiter'>, 
</span><a name="LN817"></a>                        <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>values</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isnull</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN818"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>heap_free_minimal_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN26"><span class='Ref_to_Typedef'>MinimalTuple</span></a> <span class='Declare_Parameter'>mtup</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN819"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN26"><span class='Ref_to_Typedef'>MinimalTuple</span></a> <span class='Declare_Prototype'>heap_copy_minimal_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN26"><span class='Ref_to_Typedef'>MinimalTuple</span></a> <span class='Declare_Parameter'>mtup</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN820"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Prototype'>heap_tuple_from_minimal_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN26"><span class='Ref_to_Typedef'>MinimalTuple</span></a> <span class='Declare_Parameter'>mtup</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN821"></a><span class='Keyword'>extern </span><a href="htup.h.html#LN26"><span class='Ref_to_Typedef'>MinimalTuple</span></a> <span class='Declare_Prototype'>minimal_tuple_from_heap_tuple</span><span class='Parentheses'>(</span><a href="htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> <span class='Declare_Parameter'>htup</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HTUP_DETAILS_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>