<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\catalog\dependency.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\catalog\dependency.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:03 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * dependency.h 
 *    Routines to support inter-object dependencies. 
 * 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * src/include/catalog/dependency.h 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="dependency.h.html#LN14"><span class='Ref_to_Const'>DEPENDENCY_H</span></a> 
<a name="LN14"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEPENDENCY_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"catalog/objectaddress.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Precise semantics of a dependency relationship are specified by the 
 * DependencyType code (which is stored in a "char" field in pg_depend, 
 * so we assign ASCII-code values to the enumeration members). 
 * 
 * In all cases, a dependency relationship indicates that the referenced 
 * object may not be dropped without also dropping the dependent object. 
 * However, there are several subflavors: 
 * 
 * DEPENDENCY_NORMAL ('n'): normal relationship between separately-created 
 * objects.  The dependent object may be dropped without affecting the 
 * referenced object.  The referenced object may only be dropped by 
 * specifying CASCADE, in which case the dependent object is dropped too. 
 * Example: a table column has a normal dependency on its datatype. 
 * 
 * DEPENDENCY_AUTO ('a'): the dependent object can be dropped separately 
 * from the referenced object, and should be automatically dropped 
 * (regardless of RESTRICT or CASCADE mode) if the referenced object 
 * is dropped. 
 * Example: a named constraint on a table is made auto-dependent on 
 * the table, so that it will go away if the table is dropped. 
 * 
 * DEPENDENCY_INTERNAL ('i'): the dependent object was created as part 
 * of creation of the referenced object, and is really just a part of 
 * its internal implementation.  A DROP of the dependent object will be 
 * disallowed outright (we'll tell the user to issue a DROP against the 
 * referenced object, instead).  A DROP of the referenced object will be 
 * propagated through to drop the dependent object whether CASCADE is 
 * specified or not. 
 * Example: a trigger that's created to enforce a foreign-key constraint 
 * is made internally dependent on the constraint's pg_constraint entry. 
 * 
 * DEPENDENCY_EXTENSION ('e'): the dependent object is a member of the 
 * extension that is the referenced object.  The dependent object can be 
 * dropped only via DROP EXTENSION on the referenced object.  Functionally 
 * this dependency type acts the same as an internal dependency, but it's 
 * kept separate for clarity and to simplify pg_dump. 
 * 
 * DEPENDENCY_AUTO_EXTENSION ('x'): the dependent object is not a member 
 * of the extension that is the referenced object (and so should not be 
 * ignored by pg_dump), but cannot function without the extension and 
 * should be dropped when the extension itself is.  The dependent object 
 * may be dropped on its own as well. 
 * 
 * DEPENDENCY_PIN ('p'): there is no dependent object; this type of entry 
 * is a signal that the system itself depends on the referenced object, 
 * and so that object must never be deleted.  Entries of this type are 
 * created only during initdb.  The fields for the dependent object 
 * contain zeroes. 
 * 
 * Other dependency flavors may be needed in future. 
 */ 
</span> 
<a name="LN72"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>DependencyType</span> 
<span class='Delimiter'>{ 
</span><a name="LN74"></a>    <span class='Declare_Enum_Const'>DEPENDENCY_NORMAL</span> <span class='Operator'>= </span><span class='String'>'n'</span><span class='Delimiter'>, 
</span><a name="LN75"></a>    <span class='Declare_Enum_Const'>DEPENDENCY_AUTO</span> <span class='Operator'>= </span><span class='String'>'a'</span><span class='Delimiter'>, 
</span><a name="LN76"></a>    <span class='Declare_Enum_Const'>DEPENDENCY_INTERNAL</span> <span class='Operator'>= </span><span class='String'>'i'</span><span class='Delimiter'>, 
</span><a name="LN77"></a>    <span class='Declare_Enum_Const'>DEPENDENCY_EXTENSION</span> <span class='Operator'>= </span><span class='String'>'e'</span><span class='Delimiter'>, 
</span><a name="LN78"></a>    <span class='Declare_Enum_Const'>DEPENDENCY_AUTO_EXTENSION</span> <span class='Operator'>= </span><span class='String'>'x'</span><span class='Delimiter'>, 
</span><a name="LN79"></a>    <span class='Declare_Enum_Const'>DEPENDENCY_PIN</span> <span class='Operator'>= </span><span class='String'>'p'</span> 
<a name="LN80"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>DependencyType</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * There is also a SharedDependencyType enum type that determines the exact 
 * semantics of an entry in pg_shdepend.  Just like regular dependency entries, 
 * any pg_shdepend entry means that the referenced object cannot be dropped 
 * unless the dependent object is dropped at the same time.  There are some 
 * additional rules however: 
 * 
 * (a) For a SHARED_DEPENDENCY_PIN entry, there is no dependent object -- 
 * rather, the referenced object is an essential part of the system.  This 
 * applies to the initdb-created superuser.  Entries of this type are only 
 * created by initdb; objects in this category don't need further pg_shdepend 
 * entries if more objects come to depend on them. 
 * 
 * (b) a SHARED_DEPENDENCY_OWNER entry means that the referenced object is 
 * the role owning the dependent object.  The referenced object must be 
 * a pg_authid entry. 
 * 
 * (c) a SHARED_DEPENDENCY_ACL entry means that the referenced object is 
 * a role mentioned in the ACL field of the dependent object.  The referenced 
 * object must be a pg_authid entry.  (SHARED_DEPENDENCY_ACL entries are not 
 * created for the owner of an object; hence two objects may be linked by 
 * one or the other, but not both, of these dependency types.) 
 * 
 * (d) a SHARED_DEPENDENCY_POLICY entry means that the referenced object is 
 * a role mentioned in a policy object.  The referenced object must be a 
 * pg_authid entry. 
 * 
 * SHARED_DEPENDENCY_INVALID is a value used as a parameter in internal 
 * routines, and is not valid in the catalog itself. 
 */ 
</span><a name="LN112"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>SharedDependencyType</span> 
<span class='Delimiter'>{ 
</span><a name="LN114"></a>    <span class='Declare_Enum_Const'>SHARED_DEPENDENCY_PIN</span> <span class='Operator'>= </span><span class='String'>'p'</span><span class='Delimiter'>, 
</span><a name="LN115"></a>    <span class='Declare_Enum_Const'>SHARED_DEPENDENCY_OWNER</span> <span class='Operator'>= </span><span class='String'>'o'</span><span class='Delimiter'>, 
</span><a name="LN116"></a>    <span class='Declare_Enum_Const'>SHARED_DEPENDENCY_ACL</span> <span class='Operator'>= </span><span class='String'>'a'</span><span class='Delimiter'>, 
</span><a name="LN117"></a>    <span class='Declare_Enum_Const'>SHARED_DEPENDENCY_POLICY</span> <span class='Operator'>= </span><span class='String'>'r'</span><span class='Delimiter'>, 
</span><a name="LN118"></a>    <span class='Declare_Enum_Const'>SHARED_DEPENDENCY_INVALID</span> <span class='Operator'>= </span><span class='Number'>0</span> 
<a name="LN119"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>SharedDependencyType</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* expansible list of ObjectAddresses (private in dependency.c) */ 
</span><a name="LN122"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Declare_Typedef'>ObjectAddresses</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * This enum covers all system catalogs whose OIDs can appear in 
 * pg_depend.classId or pg_shdepend.classId.  Keep object_classes[] in sync. 
 */ 
</span><a name="LN128"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>ObjectClass</span> 
<span class='Delimiter'>{ 
</span><a name="LN130"></a>    <span class='Declare_Enum_Const'>OCLASS_CLASS</span><span class='Delimiter'>,</span>               <span class='Comment_Single_Line'>/* pg_class */ 
</span><a name="LN131"></a>    <span class='Declare_Enum_Const'>OCLASS_PROC</span><span class='Delimiter'>,</span>                <span class='Comment_Single_Line'>/* pg_proc */ 
</span><a name="LN132"></a>    <span class='Declare_Enum_Const'>OCLASS_TYPE</span><span class='Delimiter'>,</span>                <span class='Comment_Single_Line'>/* pg_type */ 
</span><a name="LN133"></a>    <span class='Declare_Enum_Const'>OCLASS_CAST</span><span class='Delimiter'>,</span>                <span class='Comment_Single_Line'>/* pg_cast */ 
</span><a name="LN134"></a>    <span class='Declare_Enum_Const'>OCLASS_COLLATION</span><span class='Delimiter'>,</span>           <span class='Comment_Single_Line'>/* pg_collation */ 
</span><a name="LN135"></a>    <span class='Declare_Enum_Const'>OCLASS_CONSTRAINT</span><span class='Delimiter'>,</span>          <span class='Comment_Single_Line'>/* pg_constraint */ 
</span><a name="LN136"></a>    <span class='Declare_Enum_Const'>OCLASS_CONVERSION</span><span class='Delimiter'>,</span>          <span class='Comment_Single_Line'>/* pg_conversion */ 
</span><a name="LN137"></a>    <span class='Declare_Enum_Const'>OCLASS_DEFAULT</span><span class='Delimiter'>,</span>             <span class='Comment_Single_Line'>/* pg_attrdef */ 
</span><a name="LN138"></a>    <span class='Declare_Enum_Const'>OCLASS_LANGUAGE</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_language */ 
</span><a name="LN139"></a>    <span class='Declare_Enum_Const'>OCLASS_LARGEOBJECT</span><span class='Delimiter'>,</span>         <span class='Comment_Single_Line'>/* pg_largeobject */ 
</span><a name="LN140"></a>    <span class='Declare_Enum_Const'>OCLASS_OPERATOR</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_operator */ 
</span><a name="LN141"></a>    <span class='Declare_Enum_Const'>OCLASS_OPCLASS</span><span class='Delimiter'>,</span>             <span class='Comment_Single_Line'>/* pg_opclass */ 
</span><a name="LN142"></a>    <span class='Declare_Enum_Const'>OCLASS_OPFAMILY</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_opfamily */ 
</span><a name="LN143"></a>    <span class='Declare_Enum_Const'>OCLASS_AM</span><span class='Delimiter'>,</span>                  <span class='Comment_Single_Line'>/* pg_am */ 
</span><a name="LN144"></a>    <span class='Declare_Enum_Const'>OCLASS_AMOP</span><span class='Delimiter'>,</span>                <span class='Comment_Single_Line'>/* pg_amop */ 
</span><a name="LN145"></a>    <span class='Declare_Enum_Const'>OCLASS_AMPROC</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* pg_amproc */ 
</span><a name="LN146"></a>    <span class='Declare_Enum_Const'>OCLASS_REWRITE</span><span class='Delimiter'>,</span>             <span class='Comment_Single_Line'>/* pg_rewrite */ 
</span><a name="LN147"></a>    <span class='Declare_Enum_Const'>OCLASS_TRIGGER</span><span class='Delimiter'>,</span>             <span class='Comment_Single_Line'>/* pg_trigger */ 
</span><a name="LN148"></a>    <span class='Declare_Enum_Const'>OCLASS_SCHEMA</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* pg_namespace */ 
</span><a name="LN149"></a>    <span class='Declare_Enum_Const'>OCLASS_STATISTIC_EXT</span><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* pg_statistic_ext */ 
</span><a name="LN150"></a>    <span class='Declare_Enum_Const'>OCLASS_TSPARSER</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_ts_parser */ 
</span><a name="LN151"></a>    <span class='Declare_Enum_Const'>OCLASS_TSDICT</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* pg_ts_dict */ 
</span><a name="LN152"></a>    <span class='Declare_Enum_Const'>OCLASS_TSTEMPLATE</span><span class='Delimiter'>,</span>          <span class='Comment_Single_Line'>/* pg_ts_template */ 
</span><a name="LN153"></a>    <span class='Declare_Enum_Const'>OCLASS_TSCONFIG</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_ts_config */ 
</span><a name="LN154"></a>    <span class='Declare_Enum_Const'>OCLASS_ROLE</span><span class='Delimiter'>,</span>                <span class='Comment_Single_Line'>/* pg_authid */ 
</span><a name="LN155"></a>    <span class='Declare_Enum_Const'>OCLASS_DATABASE</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_database */ 
</span><a name="LN156"></a>    <span class='Declare_Enum_Const'>OCLASS_TBLSPACE</span><span class='Delimiter'>,</span>            <span class='Comment_Single_Line'>/* pg_tablespace */ 
</span><a name="LN157"></a>    <span class='Declare_Enum_Const'>OCLASS_FDW</span><span class='Delimiter'>,</span>                 <span class='Comment_Single_Line'>/* pg_foreign_data_wrapper */ 
</span><a name="LN158"></a>    <span class='Declare_Enum_Const'>OCLASS_FOREIGN_SERVER</span><span class='Delimiter'>,</span>      <span class='Comment_Single_Line'>/* pg_foreign_server */ 
</span><a name="LN159"></a>    <span class='Declare_Enum_Const'>OCLASS_USER_MAPPING</span><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* pg_user_mapping */ 
</span><a name="LN160"></a>    <span class='Declare_Enum_Const'>OCLASS_DEFACL</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* pg_default_acl */ 
</span><a name="LN161"></a>    <span class='Declare_Enum_Const'>OCLASS_EXTENSION</span><span class='Delimiter'>,</span>           <span class='Comment_Single_Line'>/* pg_extension */ 
</span><a name="LN162"></a>    <span class='Declare_Enum_Const'>OCLASS_EVENT_TRIGGER</span><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* pg_event_trigger */ 
</span><a name="LN163"></a>    <span class='Declare_Enum_Const'>OCLASS_POLICY</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* pg_policy */ 
</span><a name="LN164"></a>    <span class='Declare_Enum_Const'>OCLASS_PUBLICATION</span><span class='Delimiter'>,</span>         <span class='Comment_Single_Line'>/* pg_publication */ 
</span><a name="LN165"></a>    <span class='Declare_Enum_Const'>OCLASS_PUBLICATION_REL</span><span class='Delimiter'>,</span>     <span class='Comment_Single_Line'>/* pg_publication_rel */ 
</span><a name="LN166"></a>    <span class='Declare_Enum_Const'>OCLASS_SUBSCRIPTION</span><span class='Delimiter'>,</span>        <span class='Comment_Single_Line'>/* pg_subscription */ 
</span><a name="LN167"></a>    <span class='Declare_Enum_Const'>OCLASS_TRANSFORM</span>            <span class='Comment_Single_Line'>/* pg_transform */ 
</span><a name="LN168"></a><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ObjectClass &raquo; </span> <span class='Declare_Typedef'>ObjectClass</span><span class='Delimiter'>; 
</span> 
<a name="LN170"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LAST_OCLASS</span>     <a href="dependency.h.html#LN167"><span class='Ref_to_EnumConst'>OCLASS_TRANSFORM</span></a> 
 
<span class='Comment_Multi_Line'>/* flag bits for performDeletion/performMultipleDeletions: */ 
</span><a name="LN173"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PERFORM_DELETION_INTERNAL</span>           <span class='Number'>0x0001</span>      <span class='Comment_Single_Line'>/* internal action */ 
</span><a name="LN174"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PERFORM_DELETION_CONCURRENTLY</span>       <span class='Number'>0x0002</span>      <span class='Comment_Single_Line'>/* concurrent drop */ 
</span><a name="LN175"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PERFORM_DELETION_QUIETLY</span>            <span class='Number'>0x0004</span>      <span class='Comment_Single_Line'>/* suppress notices */ 
</span><a name="LN176"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PERFORM_DELETION_SKIP_ORIGINAL</span>      <span class='Number'>0x0008</span>      <span class='Comment_Single_Line'>/* keep original obj */ 
</span><a name="LN177"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PERFORM_DELETION_SKIP_EXTENSIONS</span>    <span class='Number'>0x0010</span>      <span class='Comment_Single_Line'>/* keep extensions */ 
</span> 
 
<span class='Comment_Multi_Line'>/* in dependency.c */ 
</span> 
<a name="LN182"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>performDeletion</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>object</span><span class='Delimiter'>, 
</span><a name="LN183"></a>                <a href="../nodes/parsenodes.h.html#LN1652"><span class='Ref_to_Enum'>DropBehavior</span></a> <span class='Declare_Parameter'>behavior</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>flags</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN185"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>performMultipleDeletions</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>objects</span><span class='Delimiter'>, 
</span><a name="LN186"></a>                         <a href="../nodes/parsenodes.h.html#LN1652"><span class='Ref_to_Enum'>DropBehavior</span></a> <span class='Declare_Parameter'>behavior</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>flags</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN188"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordDependencyOnExpr</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>depender</span><span class='Delimiter'>, 
</span><a name="LN189"></a>                       <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>expr</span><span class='Delimiter'>, </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rtable</span><span class='Delimiter'>, 
</span><a name="LN190"></a>                       <a href="dependency.h.html#LN72"><span class='Ref_to_Enum'>DependencyType</span></a> <span class='Declare_Parameter'>behavior</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN192"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordDependencyOnSingleRelExpr</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>depender</span><span class='Delimiter'>, 
</span><a name="LN193"></a>                                <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>expr</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>relId</span><span class='Delimiter'>, 
</span><a name="LN194"></a>                                <a href="dependency.h.html#LN72"><span class='Ref_to_Enum'>DependencyType</span></a> <span class='Declare_Parameter'>behavior</span><span class='Delimiter'>, 
</span><a name="LN195"></a>                                <a href="dependency.h.html#LN72"><span class='Ref_to_Enum'>DependencyType</span></a> <span class='Declare_Parameter'>self_behavior</span><span class='Delimiter'>, 
</span><a name="LN196"></a>                                <span class='Keyword'>bool </span><span class='Declare_Parameter'>ignore_self</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN198"></a><span class='Keyword'>extern </span><a href="dependency.h.html#LN128"><span class='Ref_to_Enum'>ObjectClass</span></a> <span class='Declare_Prototype'>getObjectClass</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>object</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN200"></a><span class='Keyword'>extern </span><a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>new_object_addresses</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN202"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>add_exact_object_address</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>object</span><span class='Delimiter'>, 
</span><a name="LN203"></a>                         <a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>addrs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN205"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>object_address_present</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>object</span><span class='Delimiter'>, 
</span><a name="LN206"></a>                       <span class='Keyword'>const </span><a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>addrs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN208"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>record_object_address_dependencies</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>depender</span><span class='Delimiter'>, 
</span><a name="LN209"></a>                                   <a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>referenced</span><span class='Delimiter'>, 
</span><a name="LN210"></a>                                   <a href="dependency.h.html#LN72"><span class='Ref_to_Enum'>DependencyType</span></a> <span class='Declare_Parameter'>behavior</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN212"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>free_object_addresses</span><span class='Parentheses'>(</span><a href="../../backend/catalog/dependency.c.html#LN108"><span class='Ref_to_Struct'>ObjectAddresses</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>addrs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* in pg_depend.c */ 
</span> 
<a name="LN216"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordDependencyOn</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>depender</span><span class='Delimiter'>, 
</span><a name="LN217"></a>                   <span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>referenced</span><span class='Delimiter'>, 
</span><a name="LN218"></a>                   <a href="dependency.h.html#LN72"><span class='Ref_to_Enum'>DependencyType</span></a> <span class='Declare_Parameter'>behavior</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN220"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordMultipleDependencies</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>depender</span><span class='Delimiter'>, 
</span><a name="LN221"></a>                           <span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>referenced</span><span class='Delimiter'>, 
</span><a name="LN222"></a>                           <span class='Keyword'>int </span><span class='Declare_Parameter'>nreferenced</span><span class='Delimiter'>, 
</span><a name="LN223"></a>                           <a href="dependency.h.html#LN72"><span class='Ref_to_Enum'>DependencyType</span></a> <span class='Declare_Parameter'>behavior</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN225"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordDependencyOnCurrentExtension</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>object</span><span class='Delimiter'>, 
</span><a name="LN226"></a>                                   <span class='Keyword'>bool </span><span class='Declare_Parameter'>isReplace</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN228"></a><span class='Keyword'>extern long </span><span class='Declare_Prototype'>deleteDependencyRecordsFor</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, 
</span><a name="LN229"></a>                           <span class='Keyword'>bool </span><span class='Declare_Parameter'>skipExtensionDeps</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN231"></a><span class='Keyword'>extern long </span><span class='Declare_Prototype'>deleteDependencyRecordsForClass</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, 
</span><a name="LN232"></a>                                <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>refclassId</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>deptype</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN234"></a><span class='Keyword'>extern long </span><span class='Declare_Prototype'>changeDependencyFor</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, 
</span><a name="LN235"></a>                    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>refClassId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>oldRefObjectId</span><span class='Delimiter'>, 
</span><a name="LN236"></a>                    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>newRefObjectId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN238"></a><span class='Keyword'>extern </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>  <span class='Declare_Prototype'>getExtensionOfObject</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN240"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>sequenceIsOwned</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>seqId</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>deptype</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tableId</span><span class='Delimiter'>, </span><a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>colId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN241"></a><span class='Keyword'>extern </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>getOwnedSequences</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>relid</span><span class='Delimiter'>, </span><a href="../access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN242"></a><span class='Keyword'>extern </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>  <span class='Declare_Prototype'>getOwnedSequence</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>relid</span><span class='Delimiter'>, </span><a href="../access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a> <span class='Declare_Parameter'>attnum</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN244"></a><span class='Keyword'>extern </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>  <span class='Declare_Prototype'>get_constraint_index</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>constraintId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN246"></a><span class='Keyword'>extern </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>  <span class='Declare_Prototype'>get_index_constraint</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>indexId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* in pg_shdepend.c */ 
</span> 
<a name="LN250"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordSharedDependencyOn</span><span class='Parentheses'>(</span><a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>depender</span><span class='Delimiter'>, 
</span><a name="LN251"></a>                         <a href="objectaddress.h.html#LN23"><span class='Ref_to_Struct'>ObjectAddress</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>referenced</span><span class='Delimiter'>, 
</span><a name="LN252"></a>                         <a href="dependency.h.html#LN112"><span class='Ref_to_Enum'>SharedDependencyType</span></a> <span class='Declare_Parameter'>deptype</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN254"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>deleteSharedDependencyRecordsFor</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, 
</span><a name="LN255"></a>                                 <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>objectSubId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN257"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>recordDependencyOnOwner</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>owner</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN259"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>changeDependencyOnOwner</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, 
</span><a name="LN260"></a>                        <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>newOwnerId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN262"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>updateAclDependencies</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, </span><a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a> <span class='Declare_Parameter'>objectSubId</span><span class='Delimiter'>, 
</span><a name="LN263"></a>                      <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>ownerId</span><span class='Delimiter'>, 
</span><a name="LN264"></a>                      <span class='Keyword'>int </span><span class='Declare_Parameter'>noldmembers</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>oldmembers</span><span class='Delimiter'>, 
</span><a name="LN265"></a>                      <span class='Keyword'>int </span><span class='Declare_Parameter'>nnewmembers</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>newmembers</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN267"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>checkSharedDependencies</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Delimiter'>, 
</span><a name="LN268"></a>                        <span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>detail_msg</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>detail_log_msg</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN270"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>shdepLockAndCheckObject</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>classId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN272"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>copyTemplateDependencies</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>templateDbId</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>newDbId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN274"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>dropDatabaseDependencies</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>databaseId</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN276"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>shdepDropOwned</span><span class='Parentheses'>(</span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>relids</span><span class='Delimiter'>, </span><a href="../nodes/parsenodes.h.html#LN1652"><span class='Ref_to_Enum'>DropBehavior</span></a> <span class='Declare_Parameter'>behavior</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN278"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>shdepReassignOwned</span><span class='Parentheses'>(</span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>relids</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>newrole</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* DEPENDENCY_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>