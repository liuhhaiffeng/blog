<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\pgstat.h</title>
<LINK REL=StyleSheet HREF="../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\pgstat.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:02 2017
</td></tr>
<tr><td><a href='../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* ---------- 
 *  pgstat.h 
 * 
 *  Definitions for the PostgreSQL statistics collector daemon. 
 * 
 *  Copyright (c) 2001-2017, PostgreSQL Global Development Group 
 * 
 *  src/include/pgstat.h 
 * ---------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="pgstat.h.html#LN11"><span class='Ref_to_Const'>PGSTAT_H</span></a> 
<a name="LN11"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"datatype/timestamp.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"fmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"libpq/pqcomm.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"port/atomics.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"portability/instr_time.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"postmaster/pgarch.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/proc.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/hsearch.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/relcache.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Paths for the statistics files (relative to installation's $PGDATA). 
 * ---------- 
 */ 
</span><a name="LN28"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_STAT_PERMANENT_DIRECTORY</span>     <span class='String'>"pg_stat"</span> 
<a name="LN29"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_STAT_PERMANENT_FILENAME</span>      <span class='String'>"pg_stat/global.stat"</span> 
<a name="LN30"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_STAT_PERMANENT_TMPFILE</span>       <span class='String'>"pg_stat/global.tmp"</span> 
 
<span class='Comment_Multi_Line'>/* Default directory to store temporary statistics data in */ 
</span><a name="LN33"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_STAT_TMP_DIR</span>     <span class='String'>"pg_stat_tmp"</span> 
 
<span class='Comment_Multi_Line'>/* Values for track_functions GUC variable --- order is significant! */ 
</span><a name="LN36"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>TrackFunctionsLevel</span> 
<span class='Delimiter'>{ 
</span><a name="LN38"></a>    <span class='Declare_Enum_Const'>TRACK_FUNC_OFF</span><span class='Delimiter'>, 
</span><a name="LN39"></a>    <span class='Declare_Enum_Const'>TRACK_FUNC_PL</span><span class='Delimiter'>, 
</span><a name="LN40"></a>    <span class='Declare_Enum_Const'>TRACK_FUNC_ALL</span> 
<a name="LN41"></a><span class='Delimiter'>}</span>   <span class='Declare_Typedef'>TrackFunctionsLevel</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * The types of backend -&GT; collector messages 
 * ---------- 
 */ 
</span><a name="LN47"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>StatMsgType</span> 
<span class='Delimiter'>{ 
</span><a name="LN49"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_DUMMY</span><span class='Delimiter'>, 
</span><a name="LN50"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_INQUIRY</span><span class='Delimiter'>, 
</span><a name="LN51"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_TABSTAT</span><span class='Delimiter'>, 
</span><a name="LN52"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_TABPURGE</span><span class='Delimiter'>, 
</span><a name="LN53"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_DROPDB</span><span class='Delimiter'>, 
</span><a name="LN54"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_RESETCOUNTER</span><span class='Delimiter'>, 
</span><a name="LN55"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_RESETSHAREDCOUNTER</span><span class='Delimiter'>, 
</span><a name="LN56"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_RESETSINGLECOUNTER</span><span class='Delimiter'>, 
</span><a name="LN57"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_AUTOVAC_START</span><span class='Delimiter'>, 
</span><a name="LN58"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_VACUUM</span><span class='Delimiter'>, 
</span><a name="LN59"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_ANALYZE</span><span class='Delimiter'>, 
</span><a name="LN60"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_ARCHIVER</span><span class='Delimiter'>, 
</span><a name="LN61"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_BGWRITER</span><span class='Delimiter'>, 
</span><a name="LN62"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_FUNCSTAT</span><span class='Delimiter'>, 
</span><a name="LN63"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_FUNCPURGE</span><span class='Delimiter'>, 
</span><a name="LN64"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_RECOVERYCONFLICT</span><span class='Delimiter'>, 
</span><a name="LN65"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_TEMPFILE</span><span class='Delimiter'>, 
</span><a name="LN66"></a>    <span class='Declare_Enum_Const'>PGSTAT_MTYPE_DEADLOCK</span> 
<a name="LN67"></a><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end StatMsgType &raquo; </span> <span class='Declare_Typedef'>StatMsgType</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * The data type used for counters. 
 * ---------- 
 */ 
</span><a name="LN73"></a><span class='Control'>typedef</span> <a href="c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a> <span class='Declare_Typedef'>PgStat_Counter</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_TableCounts           The actual per-table counts kept by a backend 
 * 
 * This struct should contain only actual event counters, because we memcmp 
 * it against zeroes to detect whether there are any counts to transmit. 
 * It is a component of PgStat_TableStatus (within-backend state) and 
 * PgStat_TableEntry (the transmitted message format). 
 * 
 * Note: for a table, tuples_returned is the number of tuples successfully 
 * fetched by heap_getnext, while tuples_fetched is the number of tuples 
 * successfully fetched by heap_fetch under the control of bitmap indexscans. 
 * For an index, tuples_returned is the number of index entries returned by 
 * the index AM, while tuples_fetched is the number of tuples successfully 
 * fetched by heap_fetch under the control of simple indexscans for this index. 
 * 
 * tuples_inserted/updated/deleted/hot_updated count attempted actions, 
 * regardless of whether the transaction committed.  delta_live_tuples, 
 * delta_dead_tuples, and changed_tuples are set depending on commit or abort. 
 * Note that delta_live_tuples and delta_dead_tuples can be negative! 
 * ---------- 
 */ 
</span><a name="LN96"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_TableCounts</span> 
<span class='Delimiter'>{ 
</span><a name="LN98"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_numscans</span><span class='Delimiter'>; 
</span> 
<a name="LN100"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_tuples_returned</span><span class='Delimiter'>; 
</span><a name="LN101"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_tuples_fetched</span><span class='Delimiter'>; 
</span> 
<a name="LN103"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_tuples_inserted</span><span class='Delimiter'>; 
</span><a name="LN104"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_tuples_updated</span><span class='Delimiter'>; 
</span><a name="LN105"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_tuples_deleted</span><span class='Delimiter'>; 
</span><a name="LN106"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_tuples_hot_updated</span><span class='Delimiter'>; 
</span><a name="LN107"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>t_truncated</span><span class='Delimiter'>; 
</span> 
<a name="LN109"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_delta_live_tuples</span><span class='Delimiter'>; 
</span><a name="LN110"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_delta_dead_tuples</span><span class='Delimiter'>; 
</span><a name="LN111"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_changed_tuples</span><span class='Delimiter'>; 
</span> 
<a name="LN113"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_blocks_fetched</span><span class='Delimiter'>; 
</span><a name="LN114"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>t_blocks_hit</span><span class='Delimiter'>; 
</span><a name="LN115"></a>}<span class='Auto_Annotations'> &laquo; end PgStat_TableCounts &raquo; </span> <span class='Declare_Typedef'>PgStat_TableCounts</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Possible targets for resetting cluster-wide shared values */ 
</span><a name="LN118"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>PgStat_Shared_Reset_Target</span> 
<span class='Delimiter'>{ 
</span><a name="LN120"></a>    <span class='Declare_Enum_Const'>RESET_ARCHIVER</span><span class='Delimiter'>, 
</span><a name="LN121"></a>    <span class='Declare_Enum_Const'>RESET_BGWRITER</span> 
<a name="LN122"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>PgStat_Shared_Reset_Target</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Possible object types for resetting single counters */ 
</span><a name="LN125"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>PgStat_Single_Reset_Type</span> 
<span class='Delimiter'>{ 
</span><a name="LN127"></a>    <span class='Declare_Enum_Const'>RESET_TABLE</span><span class='Delimiter'>, 
</span><a name="LN128"></a>    <span class='Declare_Enum_Const'>RESET_FUNCTION</span> 
<a name="LN129"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>PgStat_Single_Reset_Type</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ------------------------------------------------------------ 
 * Structures kept in backend local memory while accumulating counts 
 * ------------------------------------------------------------ 
 */ 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_TableStatus           Per-table status within a backend 
 * 
 * Many of the event counters are nontransactional, ie, we count events 
 * in committed and aborted transactions alike.  For these, we just count 
 * directly in the PgStat_TableStatus.  However, delta_live_tuples, 
 * delta_dead_tuples, and changed_tuples must be derived from event counts 
 * with awareness of whether the transaction or subtransaction committed or 
 * aborted.  Hence, we also keep a stack of per-(sub)transaction status 
 * records for every table modified in the current transaction.  At commit 
 * or abort, we propagate tuples_inserted/updated/deleted up to the 
 * parent subtransaction level, or out to the parent PgStat_TableStatus, 
 * as appropriate. 
 * ---------- 
 */ 
</span><a name="LN152"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_TableStatus</span> 
<span class='Delimiter'>{ 
</span><a name="LN154"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>t_id</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* table's OID */ 
</span><a name="LN155"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>t_shared</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* is it a shared catalog? */ 
</span><a name="LN156"></a>    <span class='Control'>struct</span> <a href="pgstat.h.html#LN164"><span class='Ref_to_Struct'>PgStat_TableXactStatus</span></a> <span class='Operator'>*</span><span class='Declare_Member'>trans</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* lowest subxact's counts */ 
</span><a name="LN157"></a>    <a href="pgstat.h.html#LN96"><span class='Ref_to_Struct'>PgStat_TableCounts</span></a> <span class='Declare_Member'>t_counts</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* event counts to be sent */ 
</span><a name="LN158"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>PgStat_TableStatus</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_TableXactStatus       Per-table, per-subtransaction status 
 * ---------- 
 */ 
</span><a name="LN164"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_TableXactStatus</span> 
<span class='Delimiter'>{ 
</span><a name="LN166"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_inserted</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* tuples inserted in (sub)xact */ 
</span><a name="LN167"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_updated</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* tuples updated in (sub)xact */ 
</span><a name="LN168"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_deleted</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* tuples deleted in (sub)xact */ 
</span><a name="LN169"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>truncated</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* relation truncated in this (sub)xact */ 
</span><a name="LN170"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>inserted_pre_trunc</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* tuples inserted prior to truncate */ 
</span><a name="LN171"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>updated_pre_trunc</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* tuples updated prior to truncate */ 
</span><a name="LN172"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>deleted_pre_trunc</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* tuples deleted prior to truncate */ 
</span><a name="LN173"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nest_level</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* subtransaction nest level */ 
</span>    <span class='Comment_Multi_Line'>/* links to other structs for same relation: */ 
</span><a name="LN175"></a>    <span class='Control'>struct</span> <a href="pgstat.h.html#LN164"><span class='Ref_to_Struct'>PgStat_TableXactStatus</span></a> <span class='Operator'>*</span><span class='Declare_Member'>upper</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* next higher subxact if any */ 
</span><a name="LN176"></a>    <a href="pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Member'>parent</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* per-table status */ 
</span>    <span class='Comment_Multi_Line'>/* structs of same subxact level are linked here: */ 
</span><a name="LN178"></a>    <span class='Control'>struct</span> <a href="pgstat.h.html#LN164"><span class='Ref_to_Struct'>PgStat_TableXactStatus</span></a> <span class='Operator'>*</span><span class='Declare_Member'>next</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* next of same subxact */ 
</span><a name="LN179"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>PgStat_TableXactStatus</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ------------------------------------------------------------ 
 * Message formats follow 
 * ------------------------------------------------------------ 
 */ 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgHdr                The common message header 
 * ---------- 
 */ 
</span><a name="LN192"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgHdr</span> 
<span class='Delimiter'>{ 
</span><a name="LN194"></a>    <a href="pgstat.h.html#LN47"><span class='Ref_to_Enum'>StatMsgType</span></a> <span class='Declare_Member'>m_type</span><span class='Delimiter'>; 
</span><a name="LN195"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_size</span><span class='Delimiter'>; 
</span><a name="LN196"></a>} <span class='Declare_Typedef'>PgStat_MsgHdr</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Space available in a message.  This will keep the UDP packets below 1K, 
 * which should fit unfragmented into the MTU of the loopback interface. 
 * (Larger values of PGSTAT_MAX_MSG_SIZE would work for that on most 
 * platforms, but we're being conservative here.) 
 * ---------- 
 */ 
</span><a name="LN205"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_MAX_MSG_SIZE</span> <span class='Number'>1000</span> 
<a name="LN206"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_MSG_PAYLOAD</span>  <span class='Parentheses'>(</span><a href="pgstat.h.html#LN205"><span class='Ref_to_Const'>PGSTAT_MAX_MSG_SIZE</span></a> <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a><span class='Parentheses'>))</span> 
 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgDummy              A dummy message, ignored by the collector 
 * ---------- 
 */ 
</span><a name="LN213"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgDummy</span> 
<span class='Delimiter'>{ 
</span><a name="LN215"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN216"></a>} <span class='Declare_Typedef'>PgStat_MsgDummy</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgInquiry            Sent by a backend to ask the collector 
 *                              to write the stats file(s). 
 * 
 * Ordinarily, an inquiry message prompts writing of the global stats file, 
 * the stats file for shared catalogs, and the stats file for the specified 
 * database.  If databaseid is InvalidOid, only the first two are written. 
 * 
 * New file(s) will be written only if the existing file has a timestamp 
 * older than the specified cutoff_time; this prevents duplicated effort 
 * when multiple requests arrive at nearly the same time, assuming that 
 * backends send requests with cutoff_times a little bit in the past. 
 * 
 * clock_time should be the requestor's current local time; the collector 
 * uses this to check for the system clock going backward, but it has no 
 * effect unless that occurs.  We assume clock_time &GT;= cutoff_time, though. 
 * ---------- 
 */ 
</span> 
<a name="LN238"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgInquiry</span> 
<span class='Delimiter'>{ 
</span><a name="LN240"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN241"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>clock_time</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* observed local clock time */ 
</span><a name="LN242"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>cutoff_time</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* minimum acceptable file timestamp */ 
</span><a name="LN243"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>databaseid</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* requested DB (InvalidOid =&GT; shared only) */ 
</span><a name="LN244"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>PgStat_MsgInquiry</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_TableEntry            Per-table info in a MsgTabstat 
 * ---------- 
 */ 
</span><a name="LN251"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_TableEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN253"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>t_id</span><span class='Delimiter'>; 
</span><a name="LN254"></a>    <a href="pgstat.h.html#LN96"><span class='Ref_to_Struct'>PgStat_TableCounts</span></a> <span class='Declare_Member'>t_counts</span><span class='Delimiter'>; 
</span><a name="LN255"></a>} <span class='Declare_Typedef'>PgStat_TableEntry</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgTabstat            Sent by the backend to report table 
 *                              and buffer access statistics. 
 * ---------- 
 */ 
</span><a name="LN262"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_NUM_TABENTRIES</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="pgstat.h.html#LN206"><span class='Ref_to_Const'>PGSTAT_MSG_PAYLOAD</span></a> <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>3</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>2</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a><span class='Parentheses'>))</span>  <span class='Operator'>\ 
</span>     <span class='Operator'>/ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN251"><span class='Ref_to_Struct'>PgStat_TableEntry</span></a><span class='Parentheses'>))</span> 
 
<a name="LN266"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgTabstat</span> 
<span class='Delimiter'>{ 
</span><a name="LN268"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN269"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN270"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_nentries</span><span class='Delimiter'>; 
</span><a name="LN271"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_xact_commit</span><span class='Delimiter'>; 
</span><a name="LN272"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_xact_rollback</span><span class='Delimiter'>; 
</span><a name="LN273"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_block_read_time</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* times in microseconds */ 
</span><a name="LN274"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_block_write_time</span><span class='Delimiter'>; 
</span><a name="LN275"></a>    <a href="pgstat.h.html#LN251"><span class='Ref_to_Struct'>PgStat_TableEntry</span></a> <span class='Declare_Member'>m_entry</span><span class='Delimiter'>[</span><a href="pgstat.h.html#LN262"><span class='Ref_to_Const'>PGSTAT_NUM_TABENTRIES</span></a><span class='Delimiter'>]; 
</span><a name="LN276"></a>} <span class='Declare_Typedef'>PgStat_MsgTabstat</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgTabpurge           Sent by the backend to tell the collector 
 *                              about dead tables. 
 * ---------- 
 */ 
</span><a name="LN284"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_NUM_TABPURGE</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="pgstat.h.html#LN206"><span class='Ref_to_Const'>PGSTAT_MSG_PAYLOAD</span></a> <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span>  <span class='Operator'>\ 
</span>     <span class='Operator'>/ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>))</span> 
 
<a name="LN288"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgTabpurge</span> 
<span class='Delimiter'>{ 
</span><a name="LN290"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN291"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN292"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_nentries</span><span class='Delimiter'>; 
</span><a name="LN293"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_tableid</span><span class='Delimiter'>[</span><a href="pgstat.h.html#LN284"><span class='Ref_to_Const'>PGSTAT_NUM_TABPURGE</span></a><span class='Delimiter'>]; 
</span><a name="LN294"></a>} <span class='Declare_Typedef'>PgStat_MsgTabpurge</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgDropdb             Sent by the backend to tell the collector 
 *                              about a dropped database 
 * ---------- 
 */ 
</span><a name="LN302"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgDropdb</span> 
<span class='Delimiter'>{ 
</span><a name="LN304"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN305"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN306"></a>} <span class='Declare_Typedef'>PgStat_MsgDropdb</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgResetcounter       Sent by the backend to tell the collector 
 *                              to reset counters 
 * ---------- 
 */ 
</span><a name="LN314"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgResetcounter</span> 
<span class='Delimiter'>{ 
</span><a name="LN316"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN317"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN318"></a>} <span class='Declare_Typedef'>PgStat_MsgResetcounter</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgResetsharedcounter Sent by the backend to tell the collector 
 *                              to reset a shared counter 
 * ---------- 
 */ 
</span><a name="LN325"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgResetsharedcounter</span> 
<span class='Delimiter'>{ 
</span><a name="LN327"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN328"></a>    <a href="pgstat.h.html#LN118"><span class='Ref_to_Enum'>PgStat_Shared_Reset_Target</span></a> <span class='Declare_Member'>m_resettarget</span><span class='Delimiter'>; 
</span><a name="LN329"></a>} <span class='Declare_Typedef'>PgStat_MsgResetsharedcounter</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgResetsinglecounter Sent by the backend to tell the collector 
 *                              to reset a single counter 
 * ---------- 
 */ 
</span><a name="LN336"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgResetsinglecounter</span> 
<span class='Delimiter'>{ 
</span><a name="LN338"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN339"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN340"></a>    <a href="pgstat.h.html#LN125"><span class='Ref_to_Enum'>PgStat_Single_Reset_Type</span></a> <span class='Declare_Member'>m_resettype</span><span class='Delimiter'>; 
</span><a name="LN341"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_objectid</span><span class='Delimiter'>; 
</span><a name="LN342"></a>} <span class='Declare_Typedef'>PgStat_MsgResetsinglecounter</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgAutovacStart       Sent by the autovacuum daemon to signal 
 *                              that a database is going to be processed 
 * ---------- 
 */ 
</span><a name="LN349"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgAutovacStart</span> 
<span class='Delimiter'>{ 
</span><a name="LN351"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN352"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN353"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>m_start_time</span><span class='Delimiter'>; 
</span><a name="LN354"></a>} <span class='Declare_Typedef'>PgStat_MsgAutovacStart</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgVacuum             Sent by the backend or autovacuum daemon 
 *                              after VACUUM 
 * ---------- 
 */ 
</span><a name="LN362"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgVacuum</span> 
<span class='Delimiter'>{ 
</span><a name="LN364"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN365"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN366"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_tableoid</span><span class='Delimiter'>; 
</span><a name="LN367"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>m_autovacuum</span><span class='Delimiter'>; 
</span><a name="LN368"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>m_vacuumtime</span><span class='Delimiter'>; 
</span><a name="LN369"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_live_tuples</span><span class='Delimiter'>; 
</span><a name="LN370"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_dead_tuples</span><span class='Delimiter'>; 
</span><a name="LN371"></a>} <span class='Declare_Typedef'>PgStat_MsgVacuum</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgAnalyze            Sent by the backend or autovacuum daemon 
 *                              after ANALYZE 
 * ---------- 
 */ 
</span><a name="LN379"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgAnalyze</span> 
<span class='Delimiter'>{ 
</span><a name="LN381"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN382"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN383"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_tableoid</span><span class='Delimiter'>; 
</span><a name="LN384"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>m_autovacuum</span><span class='Delimiter'>; 
</span><a name="LN385"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>m_resetcounter</span><span class='Delimiter'>; 
</span><a name="LN386"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>m_analyzetime</span><span class='Delimiter'>; 
</span><a name="LN387"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_live_tuples</span><span class='Delimiter'>; 
</span><a name="LN388"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_dead_tuples</span><span class='Delimiter'>; 
</span><a name="LN389"></a>} <span class='Declare_Typedef'>PgStat_MsgAnalyze</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgArchiver           Sent by the archiver to update statistics. 
 * ---------- 
 */ 
</span><a name="LN396"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgArchiver</span> 
<span class='Delimiter'>{ 
</span><a name="LN398"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN399"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>m_failed</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* Failed attempt */ 
</span><a name="LN400"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>m_xlog</span><span class='Delimiter'>[</span><a href="postmaster/pgarch.h.html#LN25"><span class='Ref_to_Const'>MAX_XFN_CHARS</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span><a name="LN401"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>m_timestamp</span><span class='Delimiter'>; 
</span><a name="LN402"></a>} <span class='Declare_Typedef'>PgStat_MsgArchiver</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgBgWriter           Sent by the bgwriter to update statistics. 
 * ---------- 
 */ 
</span><a name="LN408"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgBgWriter</span> 
<span class='Delimiter'>{ 
</span><a name="LN410"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span> 
<a name="LN412"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_timed_checkpoints</span><span class='Delimiter'>; 
</span><a name="LN413"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_requested_checkpoints</span><span class='Delimiter'>; 
</span><a name="LN414"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_buf_written_checkpoints</span><span class='Delimiter'>; 
</span><a name="LN415"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_buf_written_clean</span><span class='Delimiter'>; 
</span><a name="LN416"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_maxwritten_clean</span><span class='Delimiter'>; 
</span><a name="LN417"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_buf_written_backend</span><span class='Delimiter'>; 
</span><a name="LN418"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_buf_fsync_backend</span><span class='Delimiter'>; 
</span><a name="LN419"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_buf_alloc</span><span class='Delimiter'>; 
</span><a name="LN420"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_checkpoint_write_time</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* times in milliseconds */ 
</span><a name="LN421"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>m_checkpoint_sync_time</span><span class='Delimiter'>; 
</span><a name="LN422"></a>} <span class='Declare_Typedef'>PgStat_MsgBgWriter</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgRecoveryConflict   Sent by the backend upon recovery conflict 
 * ---------- 
 */ 
</span><a name="LN428"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgRecoveryConflict</span> 
<span class='Delimiter'>{ 
</span><a name="LN430"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span> 
<a name="LN432"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN433"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_reason</span><span class='Delimiter'>; 
</span><a name="LN434"></a>} <span class='Declare_Typedef'>PgStat_MsgRecoveryConflict</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgTempFile   Sent by the backend upon creating a temp file 
 * ---------- 
 */ 
</span><a name="LN440"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgTempFile</span> 
<span class='Delimiter'>{ 
</span><a name="LN442"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span> 
<a name="LN444"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN445"></a>    size_t      <span class='Declare_Member'>m_filesize</span><span class='Delimiter'>; 
</span><a name="LN446"></a>} <span class='Declare_Typedef'>PgStat_MsgTempFile</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_FunctionCounts    The actual per-function counts kept by a backend 
 * 
 * This struct should contain only actual event counters, because we memcmp 
 * it against zeroes to detect whether there are any counts to transmit. 
 * 
 * Note that the time counters are in instr_time format here.  We convert to 
 * microseconds in PgStat_Counter format when transmitting to the collector. 
 * ---------- 
 */ 
</span><a name="LN458"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_FunctionCounts</span> 
<span class='Delimiter'>{ 
</span><a name="LN460"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_numcalls</span><span class='Delimiter'>; 
</span><a name="LN461"></a>    <a href="portability/instr_time.h.html#LN146"><span class='Ref_to_Typedef'>instr_time</span></a>  <span class='Declare_Member'>f_total_time</span><span class='Delimiter'>; 
</span><a name="LN462"></a>    <a href="portability/instr_time.h.html#LN146"><span class='Ref_to_Typedef'>instr_time</span></a>  <span class='Declare_Member'>f_self_time</span><span class='Delimiter'>; 
</span><a name="LN463"></a>} <span class='Declare_Typedef'>PgStat_FunctionCounts</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_BackendFunctionEntry  Entry in backend's per-function hash table 
 * ---------- 
 */ 
</span><a name="LN469"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_BackendFunctionEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN471"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>f_id</span><span class='Delimiter'>; 
</span><a name="LN472"></a>    <a href="pgstat.h.html#LN458"><span class='Ref_to_Struct'>PgStat_FunctionCounts</span></a> <span class='Declare_Member'>f_counts</span><span class='Delimiter'>; 
</span><a name="LN473"></a>} <span class='Declare_Typedef'>PgStat_BackendFunctionEntry</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_FunctionEntry         Per-function info in a MsgFuncstat 
 * ---------- 
 */ 
</span><a name="LN479"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_FunctionEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN481"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>f_id</span><span class='Delimiter'>; 
</span><a name="LN482"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_numcalls</span><span class='Delimiter'>; 
</span><a name="LN483"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_total_time</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* times in microseconds */ 
</span><a name="LN484"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_self_time</span><span class='Delimiter'>; 
</span><a name="LN485"></a>} <span class='Declare_Typedef'>PgStat_FunctionEntry</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgFuncstat           Sent by the backend to report function 
 *                              usage statistics. 
 * ---------- 
 */ 
</span><a name="LN492"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_NUM_FUNCENTRIES</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="pgstat.h.html#LN206"><span class='Ref_to_Const'>PGSTAT_MSG_PAYLOAD</span></a> <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span>  <span class='Operator'>\ 
</span>     <span class='Operator'>/ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN479"><span class='Ref_to_Struct'>PgStat_FunctionEntry</span></a><span class='Parentheses'>))</span> 
 
<a name="LN496"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgFuncstat</span> 
<span class='Delimiter'>{ 
</span><a name="LN498"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN499"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN500"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_nentries</span><span class='Delimiter'>; 
</span><a name="LN501"></a>    <a href="pgstat.h.html#LN479"><span class='Ref_to_Struct'>PgStat_FunctionEntry</span></a> <span class='Declare_Member'>m_entry</span><span class='Delimiter'>[</span><a href="pgstat.h.html#LN492"><span class='Ref_to_Const'>PGSTAT_NUM_FUNCENTRIES</span></a><span class='Delimiter'>]; 
</span><a name="LN502"></a>} <span class='Declare_Typedef'>PgStat_MsgFuncstat</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgFuncpurge          Sent by the backend to tell the collector 
 *                              about dead functions. 
 * ---------- 
 */ 
</span><a name="LN509"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_NUM_FUNCPURGE</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="pgstat.h.html#LN206"><span class='Ref_to_Const'>PGSTAT_MSG_PAYLOAD</span></a> <span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span>  <span class='Operator'>\ 
</span>     <span class='Operator'>/ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a><span class='Parentheses'>))</span> 
 
<a name="LN513"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgFuncpurge</span> 
<span class='Delimiter'>{ 
</span><a name="LN515"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN516"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN517"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>m_nentries</span><span class='Delimiter'>; 
</span><a name="LN518"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_functionid</span><span class='Delimiter'>[</span><a href="pgstat.h.html#LN509"><span class='Ref_to_Const'>PGSTAT_NUM_FUNCPURGE</span></a><span class='Delimiter'>]; 
</span><a name="LN519"></a>} <span class='Declare_Typedef'>PgStat_MsgFuncpurge</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_MsgDeadlock           Sent by the backend to tell the collector 
 *                              about a deadlock that occurred. 
 * ---------- 
 */ 
</span><a name="LN526"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_MsgDeadlock</span> 
<span class='Delimiter'>{ 
</span><a name="LN528"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>m_hdr</span><span class='Delimiter'>; 
</span><a name="LN529"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>m_databaseid</span><span class='Delimiter'>; 
</span><a name="LN530"></a>} <span class='Declare_Typedef'>PgStat_MsgDeadlock</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_Msg                   Union over all possible messages. 
 * ---------- 
 */ 
</span><a name="LN537"></a><span class='Control'>typedef</span> <span class='Control'>union</span> <span class='Declare_Union'>PgStat_Msg</span> 
<span class='Delimiter'>{ 
</span><a name="LN539"></a>    <a href="pgstat.h.html#LN192"><span class='Ref_to_Struct'>PgStat_MsgHdr</span></a> <span class='Declare_Member'>msg_hdr</span><span class='Delimiter'>; 
</span><a name="LN540"></a>    <a href="pgstat.h.html#LN213"><span class='Ref_to_Struct'>PgStat_MsgDummy</span></a> <span class='Declare_Member'>msg_dummy</span><span class='Delimiter'>; 
</span><a name="LN541"></a>    <a href="pgstat.h.html#LN238"><span class='Ref_to_Struct'>PgStat_MsgInquiry</span></a> <span class='Declare_Member'>msg_inquiry</span><span class='Delimiter'>; 
</span><a name="LN542"></a>    <a href="pgstat.h.html#LN266"><span class='Ref_to_Struct'>PgStat_MsgTabstat</span></a> <span class='Declare_Member'>msg_tabstat</span><span class='Delimiter'>; 
</span><a name="LN543"></a>    <a href="pgstat.h.html#LN288"><span class='Ref_to_Struct'>PgStat_MsgTabpurge</span></a> <span class='Declare_Member'>msg_tabpurge</span><span class='Delimiter'>; 
</span><a name="LN544"></a>    <a href="pgstat.h.html#LN302"><span class='Ref_to_Struct'>PgStat_MsgDropdb</span></a> <span class='Declare_Member'>msg_dropdb</span><span class='Delimiter'>; 
</span><a name="LN545"></a>    <a href="pgstat.h.html#LN314"><span class='Ref_to_Struct'>PgStat_MsgResetcounter</span></a> <span class='Declare_Member'>msg_resetcounter</span><span class='Delimiter'>; 
</span><a name="LN546"></a>    <a href="pgstat.h.html#LN325"><span class='Ref_to_Struct'>PgStat_MsgResetsharedcounter</span></a> <span class='Declare_Member'>msg_resetsharedcounter</span><span class='Delimiter'>; 
</span><a name="LN547"></a>    <a href="pgstat.h.html#LN336"><span class='Ref_to_Struct'>PgStat_MsgResetsinglecounter</span></a> <span class='Declare_Member'>msg_resetsinglecounter</span><span class='Delimiter'>; 
</span><a name="LN548"></a>    <a href="pgstat.h.html#LN349"><span class='Ref_to_Struct'>PgStat_MsgAutovacStart</span></a> <span class='Declare_Member'>msg_autovacuum</span><span class='Delimiter'>; 
</span><a name="LN549"></a>    <a href="pgstat.h.html#LN362"><span class='Ref_to_Struct'>PgStat_MsgVacuum</span></a> <span class='Declare_Member'>msg_vacuum</span><span class='Delimiter'>; 
</span><a name="LN550"></a>    <a href="pgstat.h.html#LN379"><span class='Ref_to_Struct'>PgStat_MsgAnalyze</span></a> <span class='Declare_Member'>msg_analyze</span><span class='Delimiter'>; 
</span><a name="LN551"></a>    <a href="pgstat.h.html#LN396"><span class='Ref_to_Struct'>PgStat_MsgArchiver</span></a> <span class='Declare_Member'>msg_archiver</span><span class='Delimiter'>; 
</span><a name="LN552"></a>    <a href="pgstat.h.html#LN408"><span class='Ref_to_Struct'>PgStat_MsgBgWriter</span></a> <span class='Declare_Member'>msg_bgwriter</span><span class='Delimiter'>; 
</span><a name="LN553"></a>    <a href="pgstat.h.html#LN496"><span class='Ref_to_Struct'>PgStat_MsgFuncstat</span></a> <span class='Declare_Member'>msg_funcstat</span><span class='Delimiter'>; 
</span><a name="LN554"></a>    <a href="pgstat.h.html#LN513"><span class='Ref_to_Struct'>PgStat_MsgFuncpurge</span></a> <span class='Declare_Member'>msg_funcpurge</span><span class='Delimiter'>; 
</span><a name="LN555"></a>    <a href="pgstat.h.html#LN428"><span class='Ref_to_Struct'>PgStat_MsgRecoveryConflict</span></a> <span class='Declare_Member'>msg_recoveryconflict</span><span class='Delimiter'>; 
</span><a name="LN556"></a>    <a href="pgstat.h.html#LN526"><span class='Ref_to_Struct'>PgStat_MsgDeadlock</span></a> <span class='Declare_Member'>msg_deadlock</span><span class='Delimiter'>; 
</span><a name="LN557"></a>}<span class='Auto_Annotations'> &laquo; end PgStat_Msg &raquo; </span> <span class='Declare_Typedef'>PgStat_Msg</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ------------------------------------------------------------ 
 * Statistic collector data structures follow 
 * 
 * PGSTAT_FILE_FORMAT_ID should be changed whenever any of these 
 * data structures change. 
 * ------------------------------------------------------------ 
 */ 
</span> 
<a name="LN568"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_FILE_FORMAT_ID</span>   <span class='Number'>0x01A5BC9D</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_StatDBEntry           The collector's data per database 
 * ---------- 
 */ 
</span><a name="LN574"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_StatDBEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN576"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>databaseid</span><span class='Delimiter'>; 
</span><a name="LN577"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_xact_commit</span><span class='Delimiter'>; 
</span><a name="LN578"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_xact_rollback</span><span class='Delimiter'>; 
</span><a name="LN579"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_blocks_fetched</span><span class='Delimiter'>; 
</span><a name="LN580"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_blocks_hit</span><span class='Delimiter'>; 
</span><a name="LN581"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_tuples_returned</span><span class='Delimiter'>; 
</span><a name="LN582"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_tuples_fetched</span><span class='Delimiter'>; 
</span><a name="LN583"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_tuples_inserted</span><span class='Delimiter'>; 
</span><a name="LN584"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_tuples_updated</span><span class='Delimiter'>; 
</span><a name="LN585"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_tuples_deleted</span><span class='Delimiter'>; 
</span><a name="LN586"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>last_autovac_time</span><span class='Delimiter'>; 
</span><a name="LN587"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_conflict_tablespace</span><span class='Delimiter'>; 
</span><a name="LN588"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_conflict_lock</span><span class='Delimiter'>; 
</span><a name="LN589"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_conflict_snapshot</span><span class='Delimiter'>; 
</span><a name="LN590"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_conflict_bufferpin</span><span class='Delimiter'>; 
</span><a name="LN591"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_conflict_startup_deadlock</span><span class='Delimiter'>; 
</span><a name="LN592"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_temp_files</span><span class='Delimiter'>; 
</span><a name="LN593"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_temp_bytes</span><span class='Delimiter'>; 
</span><a name="LN594"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_deadlocks</span><span class='Delimiter'>; 
</span><a name="LN595"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_block_read_time</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* times in microseconds */ 
</span><a name="LN596"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_block_write_time</span><span class='Delimiter'>; 
</span> 
<a name="LN598"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>stat_reset_timestamp</span><span class='Delimiter'>; 
</span><a name="LN599"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>stats_timestamp</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* time of db stats file update */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * tables and functions must be last in the struct, because we don't write 
     * the pointers out to the stats file. 
     */ 
</span><a name="LN605"></a>    <a href="../backend/utils/hash/dynahash.c.html#LN192"><span class='Ref_to_Struct'>HTAB</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>tables</span><span class='Delimiter'>; 
</span><a name="LN606"></a>    <a href="../backend/utils/hash/dynahash.c.html#LN192"><span class='Ref_to_Struct'>HTAB</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>functions</span><span class='Delimiter'>; 
</span><a name="LN607"></a>}<span class='Auto_Annotations'> &laquo; end PgStat_StatDBEntry &raquo; </span> <span class='Declare_Typedef'>PgStat_StatDBEntry</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_StatTabEntry          The collector's data per table (or index) 
 * ---------- 
 */ 
</span><a name="LN614"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_StatTabEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN616"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>tableid</span><span class='Delimiter'>; 
</span> 
<a name="LN618"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>numscans</span><span class='Delimiter'>; 
</span> 
<a name="LN620"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_returned</span><span class='Delimiter'>; 
</span><a name="LN621"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_fetched</span><span class='Delimiter'>; 
</span> 
<a name="LN623"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_inserted</span><span class='Delimiter'>; 
</span><a name="LN624"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_updated</span><span class='Delimiter'>; 
</span><a name="LN625"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_deleted</span><span class='Delimiter'>; 
</span><a name="LN626"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>tuples_hot_updated</span><span class='Delimiter'>; 
</span> 
<a name="LN628"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_live_tuples</span><span class='Delimiter'>; 
</span><a name="LN629"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>n_dead_tuples</span><span class='Delimiter'>; 
</span><a name="LN630"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>changes_since_analyze</span><span class='Delimiter'>; 
</span> 
<a name="LN632"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>blocks_fetched</span><span class='Delimiter'>; 
</span><a name="LN633"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>blocks_hit</span><span class='Delimiter'>; 
</span> 
<a name="LN635"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>vacuum_timestamp</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* user initiated vacuum */ 
</span><a name="LN636"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>vacuum_count</span><span class='Delimiter'>; 
</span><a name="LN637"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>autovac_vacuum_timestamp</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* autovacuum initiated */ 
</span><a name="LN638"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>autovac_vacuum_count</span><span class='Delimiter'>; 
</span><a name="LN639"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>analyze_timestamp</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* user initiated */ 
</span><a name="LN640"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>analyze_count</span><span class='Delimiter'>; 
</span><a name="LN641"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>autovac_analyze_timestamp</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* autovacuum initiated */ 
</span><a name="LN642"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>autovac_analyze_count</span><span class='Delimiter'>; 
</span><a name="LN643"></a>}<span class='Auto_Annotations'> &laquo; end PgStat_StatTabEntry &raquo; </span> <span class='Declare_Typedef'>PgStat_StatTabEntry</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgStat_StatFuncEntry         The collector's data per function 
 * ---------- 
 */ 
</span><a name="LN650"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_StatFuncEntry</span> 
<span class='Delimiter'>{ 
</span><a name="LN652"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>functionid</span><span class='Delimiter'>; 
</span> 
<a name="LN654"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_numcalls</span><span class='Delimiter'>; 
</span> 
<a name="LN656"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_total_time</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* times in microseconds */ 
</span><a name="LN657"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>f_self_time</span><span class='Delimiter'>; 
</span><a name="LN658"></a>} <span class='Declare_Typedef'>PgStat_StatFuncEntry</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Archiver statistics kept in the stats collector 
 */ 
</span><a name="LN664"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_ArchiverStats</span> 
<span class='Delimiter'>{ 
</span><a name="LN666"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>archived_count</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* archival successes */ 
</span><a name="LN667"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>last_archived_wal</span><span class='Delimiter'>[</span><a href="postmaster/pgarch.h.html#LN25"><span class='Ref_to_Const'>MAX_XFN_CHARS</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>];</span>   <span class='Comment_Multi_Line'>/* last WAL file 
                                                         * archived */ 
</span><a name="LN669"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>last_archived_timestamp</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* last archival success time */ 
</span><a name="LN670"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>failed_count</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* failed archival attempts */ 
</span><a name="LN671"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>last_failed_wal</span><span class='Delimiter'>[</span><a href="postmaster/pgarch.h.html#LN25"><span class='Ref_to_Const'>MAX_XFN_CHARS</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>];</span>     <span class='Comment_Multi_Line'>/* WAL file involved in 
                                                         * last failure */ 
</span><a name="LN673"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>last_failed_timestamp</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* last archival failure time */ 
</span><a name="LN674"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>stat_reset_timestamp</span><span class='Delimiter'>; 
</span><a name="LN675"></a>} <span class='Declare_Typedef'>PgStat_ArchiverStats</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Global statistics kept in the stats collector 
 */ 
</span><a name="LN680"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_GlobalStats</span> 
<span class='Delimiter'>{ 
</span><a name="LN682"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>stats_timestamp</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* time of stats file update */ 
</span><a name="LN683"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>timed_checkpoints</span><span class='Delimiter'>; 
</span><a name="LN684"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>requested_checkpoints</span><span class='Delimiter'>; 
</span><a name="LN685"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>checkpoint_write_time</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* times in milliseconds */ 
</span><a name="LN686"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>checkpoint_sync_time</span><span class='Delimiter'>; 
</span><a name="LN687"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>buf_written_checkpoints</span><span class='Delimiter'>; 
</span><a name="LN688"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>buf_written_clean</span><span class='Delimiter'>; 
</span><a name="LN689"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>maxwritten_clean</span><span class='Delimiter'>; 
</span><a name="LN690"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>buf_written_backend</span><span class='Delimiter'>; 
</span><a name="LN691"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>buf_fsync_backend</span><span class='Delimiter'>; 
</span><a name="LN692"></a>    <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Member'>buf_alloc</span><span class='Delimiter'>; 
</span><a name="LN693"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>stat_reset_timestamp</span><span class='Delimiter'>; 
</span><a name="LN694"></a>} <span class='Declare_Typedef'>PgStat_GlobalStats</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Backend types 
 * ---------- 
 */ 
</span><a name="LN701"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>BackendType</span> 
<span class='Delimiter'>{ 
</span><a name="LN703"></a>    <span class='Declare_Enum_Const'>B_AUTOVAC_LAUNCHER</span><span class='Delimiter'>, 
</span><a name="LN704"></a>    <span class='Declare_Enum_Const'>B_AUTOVAC_WORKER</span><span class='Delimiter'>, 
</span><a name="LN705"></a>    <span class='Declare_Enum_Const'>B_BACKEND</span><span class='Delimiter'>, 
</span><a name="LN706"></a>    <span class='Declare_Enum_Const'>B_BG_WORKER</span><span class='Delimiter'>, 
</span><a name="LN707"></a>    <span class='Declare_Enum_Const'>B_BG_WRITER</span><span class='Delimiter'>, 
</span><a name="LN708"></a>    <span class='Declare_Enum_Const'>B_CHECKPOINTER</span><span class='Delimiter'>, 
</span><a name="LN709"></a>    <span class='Declare_Enum_Const'>B_STARTUP</span><span class='Delimiter'>, 
</span><a name="LN710"></a>    <span class='Declare_Enum_Const'>B_WAL_RECEIVER</span><span class='Delimiter'>, 
</span><a name="LN711"></a>    <span class='Declare_Enum_Const'>B_WAL_SENDER</span><span class='Delimiter'>, 
</span><a name="LN712"></a>    <span class='Declare_Enum_Const'>B_WAL_WRITER</span> 
<a name="LN713"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>BackendType</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Backend states 
 * ---------- 
 */ 
</span><a name="LN720"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>BackendState</span> 
<span class='Delimiter'>{ 
</span><a name="LN722"></a>    <span class='Declare_Enum_Const'>STATE_UNDEFINED</span><span class='Delimiter'>, 
</span><a name="LN723"></a>    <span class='Declare_Enum_Const'>STATE_IDLE</span><span class='Delimiter'>, 
</span><a name="LN724"></a>    <span class='Declare_Enum_Const'>STATE_RUNNING</span><span class='Delimiter'>, 
</span><a name="LN725"></a>    <span class='Declare_Enum_Const'>STATE_IDLEINTRANSACTION</span><span class='Delimiter'>, 
</span><a name="LN726"></a>    <span class='Declare_Enum_Const'>STATE_FASTPATH</span><span class='Delimiter'>, 
</span><a name="LN727"></a>    <span class='Declare_Enum_Const'>STATE_IDLEINTRANSACTION_ABORTED</span><span class='Delimiter'>, 
</span><a name="LN728"></a>    <span class='Declare_Enum_Const'>STATE_DISABLED</span> 
<a name="LN729"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>BackendState</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Wait Classes 
 * ---------- 
 */ 
</span><a name="LN736"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_LWLOCK</span>              <span class='Number'>0x01000000U</span> 
<a name="LN737"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_LOCK</span>                <span class='Number'>0x03000000U</span> 
<a name="LN738"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_BUFFER_PIN</span>          <span class='Number'>0x04000000U</span> 
<a name="LN739"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_ACTIVITY</span>            <span class='Number'>0x05000000U</span> 
<a name="LN740"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_CLIENT</span>              <span class='Number'>0x06000000U</span> 
<a name="LN741"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_EXTENSION</span>           <span class='Number'>0x07000000U</span> 
<a name="LN742"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_IPC</span>                 <span class='Number'>0x08000000U</span> 
<a name="LN743"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_TIMEOUT</span>             <span class='Number'>0x09000000U</span> 
<a name="LN744"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PG_WAIT_IO</span>                  <span class='Number'>0x0A000000U</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Wait Events - Activity 
 * 
 * Use this category when a process is waiting because it has no work to do, 
 * unless the "Client" or "Timeout" category describes the situation better. 
 * Typically, this should only be used for background processes. 
 * ---------- 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN756"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_ARCHIVER_MAIN</span> <span class='Operator'>= </span><a href="pgstat.h.html#LN739"><span class='Ref_to_Const'>PG_WAIT_ACTIVITY</span></a><span class='Delimiter'>, 
</span><a name="LN757"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_AUTOVACUUM_MAIN</span><span class='Delimiter'>, 
</span><a name="LN758"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BGWRITER_HIBERNATE</span><span class='Delimiter'>, 
</span><a name="LN759"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BGWRITER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN760"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CHECKPOINTER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN761"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_PGSTAT_MAIN</span><span class='Delimiter'>, 
</span><a name="LN762"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_RECOVERY_WAL_ALL</span><span class='Delimiter'>, 
</span><a name="LN763"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_RECOVERY_WAL_STREAM</span><span class='Delimiter'>, 
</span><a name="LN764"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SYSLOGGER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN765"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_RECEIVER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN766"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_SENDER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN767"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_WRITER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN768"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_LAUNCHER_MAIN</span><span class='Delimiter'>, 
</span><a name="LN769"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_APPLY_MAIN</span> 
<a name="LN770"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>WaitEventActivity</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Wait Events - Client 
 * 
 * Use this category when a process is waiting to send data to or receive data 
 * from the frontend process to which it is connected.  This is never used for 
 * a background process, which has no client connection. 
 * ---------- 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN782"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CLIENT_READ</span> <span class='Operator'>= </span><a href="pgstat.h.html#LN740"><span class='Ref_to_Const'>PG_WAIT_CLIENT</span></a><span class='Delimiter'>, 
</span><a name="LN783"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CLIENT_WRITE</span><span class='Delimiter'>, 
</span><a name="LN784"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SSL_OPEN_SERVER</span><span class='Delimiter'>, 
</span><a name="LN785"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_RECEIVER_WAIT_START</span><span class='Delimiter'>, 
</span><a name="LN786"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LIBPQWALRECEIVER</span><span class='Delimiter'>, 
</span><a name="LN787"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_SENDER_WAIT_WAL</span><span class='Delimiter'>, 
</span><a name="LN788"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_SENDER_WRITE_DATA</span> 
<a name="LN789"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>WaitEventClient</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Wait Events - IPC 
 * 
 * Use this category when a process cannot complete the work it is doing because 
 * it is waiting for a notification from another process. 
 * ---------- 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN800"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BGWORKER_SHUTDOWN</span> <span class='Operator'>= </span><a href="pgstat.h.html#LN742"><span class='Ref_to_Const'>PG_WAIT_IPC</span></a><span class='Delimiter'>, 
</span><a name="LN801"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BGWORKER_STARTUP</span><span class='Delimiter'>, 
</span><a name="LN802"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BTREE_PAGE</span><span class='Delimiter'>, 
</span><a name="LN803"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_EXECUTE_GATHER</span><span class='Delimiter'>, 
</span><a name="LN804"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_MQ_INTERNAL</span><span class='Delimiter'>, 
</span><a name="LN805"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_MQ_PUT_MESSAGE</span><span class='Delimiter'>, 
</span><a name="LN806"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_MQ_RECEIVE</span><span class='Delimiter'>, 
</span><a name="LN807"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_MQ_SEND</span><span class='Delimiter'>, 
</span><a name="LN808"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_PARALLEL_FINISH</span><span class='Delimiter'>, 
</span><a name="LN809"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_PARALLEL_BITMAP_SCAN</span><span class='Delimiter'>, 
</span><a name="LN810"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_PROCARRAY_GROUP_UPDATE</span><span class='Delimiter'>, 
</span><a name="LN811"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SAFE_SNAPSHOT</span><span class='Delimiter'>, 
</span><a name="LN812"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SYNC_REP</span><span class='Delimiter'>, 
</span><a name="LN813"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_SYNC_DATA</span><span class='Delimiter'>, 
</span><a name="LN814"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_SYNC_STATE_CHANGE</span> 
<a name="LN815"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>WaitEventIPC</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Wait Events - Timeout 
 * 
 * Use this category when a process is waiting for a timeout to expire. 
 * ---------- 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN825"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BASE_BACKUP_THROTTLE</span> <span class='Operator'>= </span><a href="pgstat.h.html#LN743"><span class='Ref_to_Const'>PG_WAIT_TIMEOUT</span></a><span class='Delimiter'>, 
</span><a name="LN826"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_PG_SLEEP</span><span class='Delimiter'>, 
</span><a name="LN827"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_RECOVERY_APPLY_DELAY</span> 
<a name="LN828"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>WaitEventTimeout</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Wait Events - IO 
 * 
 * Use this category when a process is waiting for a IO. 
 * ---------- 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN838"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BUFFILE_READ</span> <span class='Operator'>= </span><a href="pgstat.h.html#LN744"><span class='Ref_to_Const'>PG_WAIT_IO</span></a><span class='Delimiter'>, 
</span><a name="LN839"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_BUFFILE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN840"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CONTROL_FILE_READ</span><span class='Delimiter'>, 
</span><a name="LN841"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CONTROL_FILE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN842"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CONTROL_FILE_SYNC_UPDATE</span><span class='Delimiter'>, 
</span><a name="LN843"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CONTROL_FILE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN844"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_CONTROL_FILE_WRITE_UPDATE</span><span class='Delimiter'>, 
</span><a name="LN845"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_COPY_FILE_READ</span><span class='Delimiter'>, 
</span><a name="LN846"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_COPY_FILE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN847"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_EXTEND</span><span class='Delimiter'>, 
</span><a name="LN848"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_FLUSH</span><span class='Delimiter'>, 
</span><a name="LN849"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_IMMEDIATE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN850"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_PREFETCH</span><span class='Delimiter'>, 
</span><a name="LN851"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_READ</span><span class='Delimiter'>, 
</span><a name="LN852"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN853"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_TRUNCATE</span><span class='Delimiter'>, 
</span><a name="LN854"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DATA_FILE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN855"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_DSM_FILL_ZERO_WRITE</span><span class='Delimiter'>, 
</span><a name="LN856"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_ADDTODATADIR_READ</span><span class='Delimiter'>, 
</span><a name="LN857"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_ADDTODATADIR_SYNC</span><span class='Delimiter'>, 
</span><a name="LN858"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_ADDTODATADIR_WRITE</span><span class='Delimiter'>, 
</span><a name="LN859"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_CREATE_READ</span><span class='Delimiter'>, 
</span><a name="LN860"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_CREATE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN861"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_CREATE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN862"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOCK_FILE_RECHECKDATADIR_READ</span><span class='Delimiter'>, 
</span><a name="LN863"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_REWRITE_CHECKPOINT_SYNC</span><span class='Delimiter'>, 
</span><a name="LN864"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_REWRITE_MAPPING_SYNC</span><span class='Delimiter'>, 
</span><a name="LN865"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_REWRITE_MAPPING_WRITE</span><span class='Delimiter'>, 
</span><a name="LN866"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_REWRITE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN867"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_REWRITE_TRUNCATE</span><span class='Delimiter'>, 
</span><a name="LN868"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_LOGICAL_REWRITE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN869"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_RELATION_MAP_READ</span><span class='Delimiter'>, 
</span><a name="LN870"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_RELATION_MAP_SYNC</span><span class='Delimiter'>, 
</span><a name="LN871"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_RELATION_MAP_WRITE</span><span class='Delimiter'>, 
</span><a name="LN872"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REORDER_BUFFER_READ</span><span class='Delimiter'>, 
</span><a name="LN873"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REORDER_BUFFER_WRITE</span><span class='Delimiter'>, 
</span><a name="LN874"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REORDER_LOGICAL_MAPPING_READ</span><span class='Delimiter'>, 
</span><a name="LN875"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REPLICATION_SLOT_READ</span><span class='Delimiter'>, 
</span><a name="LN876"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REPLICATION_SLOT_RESTORE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN877"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REPLICATION_SLOT_SYNC</span><span class='Delimiter'>, 
</span><a name="LN878"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_REPLICATION_SLOT_WRITE</span><span class='Delimiter'>, 
</span><a name="LN879"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SLRU_FLUSH_SYNC</span><span class='Delimiter'>, 
</span><a name="LN880"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SLRU_READ</span><span class='Delimiter'>, 
</span><a name="LN881"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SLRU_SYNC</span><span class='Delimiter'>, 
</span><a name="LN882"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SLRU_WRITE</span><span class='Delimiter'>, 
</span><a name="LN883"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SNAPBUILD_READ</span><span class='Delimiter'>, 
</span><a name="LN884"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SNAPBUILD_SYNC</span><span class='Delimiter'>, 
</span><a name="LN885"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_SNAPBUILD_WRITE</span><span class='Delimiter'>, 
</span><a name="LN886"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TIMELINE_HISTORY_FILE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN887"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TIMELINE_HISTORY_FILE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN888"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TIMELINE_HISTORY_READ</span><span class='Delimiter'>, 
</span><a name="LN889"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TIMELINE_HISTORY_SYNC</span><span class='Delimiter'>, 
</span><a name="LN890"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TIMELINE_HISTORY_WRITE</span><span class='Delimiter'>, 
</span><a name="LN891"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TWOPHASE_FILE_READ</span><span class='Delimiter'>, 
</span><a name="LN892"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TWOPHASE_FILE_SYNC</span><span class='Delimiter'>, 
</span><a name="LN893"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_TWOPHASE_FILE_WRITE</span><span class='Delimiter'>, 
</span><a name="LN894"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WALSENDER_TIMELINE_HISTORY_READ</span><span class='Delimiter'>, 
</span><a name="LN895"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_BOOTSTRAP_SYNC</span><span class='Delimiter'>, 
</span><a name="LN896"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_BOOTSTRAP_WRITE</span><span class='Delimiter'>, 
</span><a name="LN897"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_COPY_READ</span><span class='Delimiter'>, 
</span><a name="LN898"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_COPY_SYNC</span><span class='Delimiter'>, 
</span><a name="LN899"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_COPY_WRITE</span><span class='Delimiter'>, 
</span><a name="LN900"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_INIT_SYNC</span><span class='Delimiter'>, 
</span><a name="LN901"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_INIT_WRITE</span><span class='Delimiter'>, 
</span><a name="LN902"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_READ</span><span class='Delimiter'>, 
</span><a name="LN903"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_SYNC_METHOD_ASSIGN</span><span class='Delimiter'>, 
</span><a name="LN904"></a>    <span class='Declare_Enum_Const'>WAIT_EVENT_WAL_WRITE</span> 
<a name="LN905"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>WaitEventIO</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Command type for progress reporting purposes 
 * ---------- 
 */ 
</span><a name="LN911"></a><span class='Control'>typedef</span> <span class='Control'>enum</span> <span class='Declare_Enum'>ProgressCommandType</span> 
<span class='Delimiter'>{ 
</span><a name="LN913"></a>    <span class='Declare_Enum_Const'>PROGRESS_COMMAND_INVALID</span><span class='Delimiter'>, 
</span><a name="LN914"></a>    <span class='Declare_Enum_Const'>PROGRESS_COMMAND_VACUUM</span> 
<a name="LN915"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>ProgressCommandType</span><span class='Delimiter'>; 
</span> 
<a name="LN917"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>PGSTAT_NUM_PROGRESS_PARAM</span>   <span class='Number'>10</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Shared-memory data structures 
 * ---------- 
 */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * PgBackendSSLStatus 
 * 
 * For each backend, we keep the SSL status in a separate struct, that 
 * is only filled in if SSL is enabled. 
 */ 
</span><a name="LN931"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgBackendSSLStatus</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* Information about SSL connection */ 
</span><a name="LN934"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>ssl_bits</span><span class='Delimiter'>; 
</span><a name="LN935"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>ssl_compression</span><span class='Delimiter'>; 
</span><a name="LN936"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>ssl_version</span><span class='Delimiter'>[</span><a href="../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Delimiter'>];</span>       <span class='Comment_Single_Line'>/* MUST be null-terminated */ 
</span><a name="LN937"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>ssl_cipher</span><span class='Delimiter'>[</span><a href="../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Delimiter'>];</span>        <span class='Comment_Single_Line'>/* MUST be null-terminated */ 
</span><a name="LN938"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>ssl_clientdn</span><span class='Delimiter'>[</span><a href="../interfaces/ecpg/include/sqlda-native.h.html#LN15"><span class='Ref_to_Const'>NAMEDATALEN</span></a><span class='Delimiter'>];</span>      <span class='Comment_Single_Line'>/* MUST be null-terminated */ 
</span><a name="LN939"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>PgBackendSSLStatus</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * PgBackendStatus 
 * 
 * Each live backend maintains a PgBackendStatus struct in shared memory 
 * showing its current activity.  (The structs are allocated according to 
 * BackendId, but that is not critical.)  Note that the collector process 
 * has no involvement in, or even access to, these structs. 
 * 
 * Each auxiliary process also maintains a PgBackendStatus struct in shared 
 * memory. 
 * ---------- 
 */ 
</span><a name="LN954"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgBackendStatus</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * To avoid locking overhead, we use the following protocol: a backend 
     * increments st_changecount before modifying its entry, and again after 
     * finishing a modification.  A would-be reader should note the value of 
     * st_changecount, copy the entry into private memory, then check 
     * st_changecount again.  If the value hasn't changed, and if it's even, 
     * the copy is valid; otherwise start over.  This makes updates cheap 
     * while reads are potentially expensive, but that's the tradeoff we want. 
     * 
     * The above protocol needs the memory barriers to ensure that the 
     * apparent order of execution is as it desires. Otherwise, for example, 
     * the CPU might rearrange the code so that st_changecount is incremented 
     * twice before the modification on a machine with weak memory ordering. 
     * This surprising result can lead to bugs. 
     */ 
</span><a name="LN971"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>st_changecount</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* The entry is valid iff st_procpid &GT; 0, unused if st_procpid == 0 */ 
</span><a name="LN974"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>st_procpid</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Type of backends */ 
</span><a name="LN977"></a>    <a href="pgstat.h.html#LN701"><span class='Ref_to_Enum'>BackendType</span></a> <span class='Declare_Member'>st_backendType</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Times when current backend, transaction, and activity started */ 
</span><a name="LN980"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>st_proc_start_timestamp</span><span class='Delimiter'>; 
</span><a name="LN981"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>st_xact_start_timestamp</span><span class='Delimiter'>; 
</span><a name="LN982"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>st_activity_start_timestamp</span><span class='Delimiter'>; 
</span><a name="LN983"></a>    <a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>st_state_start_timestamp</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Database OID, owning user's OID, connection client address */ 
</span><a name="LN986"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>st_databaseid</span><span class='Delimiter'>; 
</span><a name="LN987"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>st_userid</span><span class='Delimiter'>; 
</span><a name="LN988"></a>    <a href="libpq/pqcomm.h.html#LN61"><span class='Ref_to_Typedef'>SockAddr</span></a>    <span class='Declare_Member'>st_clientaddr</span><span class='Delimiter'>; 
</span><a name="LN989"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>st_clienthostname</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* MUST be null-terminated */ 
</span> 
    <span class='Comment_Multi_Line'>/* Information about SSL connection */ 
</span><a name="LN992"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>st_ssl</span><span class='Delimiter'>; 
</span><a name="LN993"></a>    <a href="pgstat.h.html#LN931"><span class='Ref_to_Struct'>PgBackendSSLStatus</span></a> <span class='Operator'>*</span><span class='Declare_Member'>st_sslstatus</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* current state */ 
</span><a name="LN996"></a>    <a href="pgstat.h.html#LN720"><span class='Ref_to_Enum'>BackendState</span></a> <span class='Declare_Member'>st_state</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* application name; MUST be null-terminated */ 
</span><a name="LN999"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>st_appname</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* current command string; MUST be null-terminated */ 
</span><a name="LN1002"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>st_activity</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Command progress reporting.  Any command which wishes can advertise 
     * that it is running by setting st_progress_command, 
     * st_progress_command_target, and st_progress_param[]. 
     * st_progress_command_target should be the OID of the relation which the 
     * command targets (we assume there's just one, as this is meant for 
     * utility commands), but the meaning of each element in the 
     * st_progress_param array is command-specific. 
     */ 
</span><a name="LN1013"></a>    <a href="pgstat.h.html#LN911"><span class='Ref_to_Enum'>ProgressCommandType</span></a> <span class='Declare_Member'>st_progress_command</span><span class='Delimiter'>; 
</span><a name="LN1014"></a>    <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>st_progress_command_target</span><span class='Delimiter'>; 
</span><a name="LN1015"></a>    <a href="c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Member'>st_progress_param</span><span class='Delimiter'>[</span><a href="pgstat.h.html#LN917"><span class='Ref_to_Const'>PGSTAT_NUM_PROGRESS_PARAM</span></a><span class='Delimiter'>]; 
</span><a name="LN1016"></a>}<span class='Auto_Annotations'> &laquo; end PgBackendStatus &raquo; </span> <span class='Declare_Typedef'>PgBackendStatus</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Macros to load and store st_changecount with the memory barriers. 
 * 
 * pgstat_increment_changecount_before() and 
 * pgstat_increment_changecount_after() need to be called before and after 
 * PgBackendStatus entries are modified, respectively. This makes sure that 
 * st_changecount is incremented around the modification. 
 * 
 * Also pgstat_save_changecount_before() and pgstat_save_changecount_after() 
 * need to be called before and after PgBackendStatus entries are copied into 
 * private memory, respectively. 
 */ 
</span><a name="LN1030"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_increment_changecount_before</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>beentry</span><span class='Parentheses'>)</span>    <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>    <span class='Operator'>\ 
</span>        <a href="pgstat.h.html#LN1030"><span class='Ref_to_Parameter'>beentry</span></a><span class='Operator'>-&GT;</span>st_changecount<span class='Operator'>++</span><span class='Delimiter'>;</span>  <span class='Operator'>\ 
</span>        <a href="port/atomics.h.html#LN161"><span class='Ref_to_Macro'>pg_write_barrier</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN1036"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_increment_changecount_after</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>beentry</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>    <span class='Operator'>\ 
</span>        <a href="port/atomics.h.html#LN161"><span class='Ref_to_Macro'>pg_write_barrier</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <a href="pgstat.h.html#LN1036"><span class='Ref_to_Parameter'>beentry</span></a><span class='Operator'>-&GT;</span>st_changecount<span class='Operator'>++</span><span class='Delimiter'>;</span>  <span class='Operator'>\ 
</span>        <span class='Debug'>Assert</span><span class='Parentheses'>((</span><a href="pgstat.h.html#LN1036"><span class='Ref_to_Parameter'>beentry</span></a><span class='Operator'>-&GT;</span>st_changecount <span class='Operator'>& </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN1043"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_save_changecount_before</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>beentry</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>save_changecount</span><span class='Parentheses'>)</span>   <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>    <span class='Operator'>\ 
</span>        <a href="pgstat.h.html#LN1043"><span class='Ref_to_Parameter'>save_changecount</span></a> <span class='Operator'>= </span><a href="pgstat.h.html#LN1043"><span class='Ref_to_Parameter'>beentry</span></a><span class='Operator'>-&GT;</span>st_changecount<span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <a href="port/atomics.h.html#LN160"><span class='Ref_to_Macro'>pg_read_barrier</span></a><span class='Parentheses'>()</span><span class='Delimiter'>;</span>  <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<a name="LN1049"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_save_changecount_after</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>beentry</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>save_changecount</span><span class='Parentheses'>)</span>    <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>    <span class='Operator'>\ 
</span>        <a href="port/atomics.h.html#LN160"><span class='Ref_to_Macro'>pg_read_barrier</span></a><span class='Parentheses'>()</span><span class='Delimiter'>;</span>  <span class='Operator'>\ 
</span>        <a href="pgstat.h.html#LN1049"><span class='Ref_to_Parameter'>save_changecount</span></a> <span class='Operator'>= </span><a href="pgstat.h.html#LN1049"><span class='Ref_to_Parameter'>beentry</span></a><span class='Operator'>-&GT;</span>st_changecount<span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * LocalPgBackendStatus 
 * 
 * When we build the backend status array, we use LocalPgBackendStatus to be 
 * able to add new values to the struct when needed without adding new fields 
 * to the shared memory. It contains the backend status as a first member. 
 * ---------- 
 */ 
</span><a name="LN1063"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>LocalPgBackendStatus</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * Local version of the backend status entry. 
     */ 
</span><a name="LN1068"></a>    <a href="pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Declare_Member'>backendStatus</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The xid of the current transaction if available, InvalidTransactionId 
     * if not. 
     */ 
</span><a name="LN1074"></a>    <a href="c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>backend_xid</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * The xmin of the current session if available, InvalidTransactionId if 
     * not. 
     */ 
</span><a name="LN1080"></a>    <a href="c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>backend_xmin</span><span class='Delimiter'>; 
</span><a name="LN1081"></a>} <span class='Declare_Typedef'>LocalPgBackendStatus</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Working state needed to accumulate per-function-call timing statistics. 
 */ 
</span><a name="LN1086"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>PgStat_FunctionCallUsage</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* Link to function's hashtable entry (must still be there at exit!) */ 
</span>    <span class='Comment_Multi_Line'>/* NULL means we are not tracking the current function call */ 
</span><a name="LN1090"></a>    <a href="pgstat.h.html#LN458"><span class='Ref_to_Struct'>PgStat_FunctionCounts</span></a> <span class='Operator'>*</span><span class='Declare_Member'>fs</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Total time previously charged to function, as of function start */ 
</span><a name="LN1092"></a>    <a href="portability/instr_time.h.html#LN146"><span class='Ref_to_Typedef'>instr_time</span></a>  <span class='Declare_Member'>save_f_total_time</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* Backend-wide total time as of function start */ 
</span><a name="LN1094"></a>    <a href="portability/instr_time.h.html#LN146"><span class='Ref_to_Typedef'>instr_time</span></a>  <span class='Declare_Member'>save_total</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* system clock as of function start */ 
</span><a name="LN1096"></a>    <a href="portability/instr_time.h.html#LN146"><span class='Ref_to_Typedef'>instr_time</span></a>  <span class='Declare_Member'>f_start</span><span class='Delimiter'>; 
</span><a name="LN1097"></a>} <span class='Declare_Typedef'>PgStat_FunctionCallUsage</span><span class='Delimiter'>; 
</span> 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * GUC parameters 
 * ---------- 
 */ 
</span><a name="LN1104"></a><span class='Keyword'>extern bool </span><span class='Declare_Var'>pgstat_track_activities</span><span class='Delimiter'>; 
</span><a name="LN1105"></a><span class='Keyword'>extern bool </span><span class='Declare_Var'>pgstat_track_counts</span><span class='Delimiter'>; 
</span><a name="LN1106"></a><span class='Keyword'>extern int</span>  <span class='Declare_Var'>pgstat_track_functions</span><span class='Delimiter'>; 
</span><a name="LN1107"></a><span class='Keyword'>extern </span><a href="../interfaces/ecpg/include/sqlca.h.html#LN5"><span class='Ref_to_Const'>PGDLLIMPORT</span></a> <span class='Keyword'>int </span><span class='Declare_Var'>pgstat_track_activity_query_size</span><span class='Delimiter'>; 
</span><a name="LN1108"></a><span class='Keyword'>extern char </span><span class='Operator'>*</span><span class='Declare_Var'>pgstat_stat_directory</span><span class='Delimiter'>; 
</span><a name="LN1109"></a><span class='Keyword'>extern char </span><span class='Operator'>*</span><span class='Declare_Var'>pgstat_stat_tmpname</span><span class='Delimiter'>; 
</span><a name="LN1110"></a><span class='Keyword'>extern char </span><span class='Operator'>*</span><span class='Declare_Var'>pgstat_stat_filename</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * BgWriter statistics counters are updated directly by bgwriter and bufmgr 
 */ 
</span><a name="LN1115"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN408"><span class='Ref_to_Struct'>PgStat_MsgBgWriter</span></a> <span class='Declare_Var'>BgWriterStats</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Updated by pgstat_count_buffer_*_time macros 
 */ 
</span><a name="LN1120"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Var'>pgStatBlockReadTime</span><span class='Delimiter'>; 
</span><a name="LN1121"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Var'>pgStatBlockWriteTime</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Functions called from postmaster 
 * ---------- 
 */ 
</span><a name="LN1127"></a><span class='Keyword'>extern </span><a href="c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Prototype'>BackendStatusShmemSize</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1128"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>CreateSharedBackendStatus</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1130"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_init</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1131"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>pgstat_start</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1132"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_reset_all</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1133"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>allow_immediate_pgstat_restart</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> EXEC_BACKEND 
<a name="LN1136"></a><span class='Keyword'>extern void </span><a href="../backend/postmaster/pgstat.c.html#LN4176"><span class='Ref_to_Func'>PgstatCollectorMain</span></a><span class='Parentheses'>(</span><span class='Keyword'>int </span>argc<span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span>argv<span class='Delimiter'>[]</span><span class='Parentheses'>) </span><span class='Declare_Var'>pg_attribute_noreturn</span><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
 
<span class='Comment_Multi_Line'>/* ---------- 
 * Functions called from backends 
 * ---------- 
 */ 
</span><a name="LN1144"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_ping</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1146"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_stat</span><span class='Parentheses'>(</span><span class='Keyword'>bool </span><span class='Declare_Parameter'>force</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1147"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_vacuum_stat</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1148"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_drop_database</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>databaseid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1150"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_clear_snapshot</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1151"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_reset_counters</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1152"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_reset_shared_counters</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1153"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_reset_single_counter</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>objectid</span><span class='Delimiter'>, </span><a href="pgstat.h.html#LN125"><span class='Ref_to_Enum'>PgStat_Single_Reset_Type</span></a> <span class='Declare_Parameter'>type</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1155"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_autovac</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>dboid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1156"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_vacuum</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>tableoid</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>shared</span><span class='Delimiter'>, 
</span><a name="LN1157"></a>                     <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Parameter'>livetuples</span><span class='Delimiter'>, </span><a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Parameter'>deadtuples</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1158"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_analyze</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, 
</span><a name="LN1159"></a>                      <a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Parameter'>livetuples</span><span class='Delimiter'>, </span><a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Parameter'>deadtuples</span><span class='Delimiter'>, 
</span><a name="LN1160"></a>                      <span class='Keyword'>bool </span><span class='Declare_Parameter'>resetcounter</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1162"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_recovery_conflict</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>reason</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1163"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_deadlock</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1165"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_initialize</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1166"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_bestart</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1168"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_activity</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN720"><span class='Ref_to_Enum'>BackendState</span></a> <span class='Declare_Parameter'>state</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cmd_str</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1169"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_tempfile</span><span class='Parentheses'>(</span>size_t <span class='Declare_Parameter'>filesize</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1170"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_appname</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>appname</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1171"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_report_xact_timestamp</span><span class='Parentheses'>(</span><a href="../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Parameter'>tstamp</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1172"></a><span class='Keyword'>extern const char </span><span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_get_wait_event</span><span class='Parentheses'>(</span><a href="c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>wait_event_info</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1173"></a><span class='Keyword'>extern const char </span><span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_get_wait_event_type</span><span class='Parentheses'>(</span><a href="c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>wait_event_info</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1174"></a><span class='Keyword'>extern const char </span><span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_get_backend_current_activity</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>pid</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>checkUser</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1175"></a><span class='Keyword'>extern const char </span><span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_get_crashed_backend_activity</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>pid</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>buffer</span><span class='Delimiter'>, 
</span><a name="LN1176"></a>                                    <span class='Keyword'>int </span><span class='Declare_Parameter'>buflen</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1177"></a><span class='Keyword'>extern const char </span><span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_get_backend_desc</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN701"><span class='Ref_to_Enum'>BackendType</span></a> <span class='Declare_Parameter'>backendType</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1179"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_progress_start_command</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN911"><span class='Ref_to_Enum'>ProgressCommandType</span></a> <span class='Declare_Parameter'>cmdtype</span><span class='Delimiter'>, 
</span><a name="LN1180"></a>                              <a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>relid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1181"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_progress_update_param</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>index</span><span class='Delimiter'>, </span><a href="c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a> <span class='Declare_Parameter'>val</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1182"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_progress_update_multi_param</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>nparam</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Operator'>*</span><span class='Declare_Parameter'>index</span><span class='Delimiter'>, 
</span><a name="LN1183"></a>                                   <span class='Keyword'>const </span><a href="c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>val</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1184"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_progress_end_command</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1186"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN152"><span class='Ref_to_Struct'>PgStat_TableStatus</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>find_tabstat_entry</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>rel_id</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1187"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN469"><span class='Ref_to_Struct'>PgStat_BackendFunctionEntry</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>find_funcstat_entry</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>func_id</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1189"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_initstats</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * pgstat_report_wait_start() - 
 * 
 *  Called from places where server process needs to wait.  This is called 
 *  to report wait event information.  The wait information is stored 
 *  as 4-bytes where first byte represents the wait event class (type of 
 *  wait, for different types of wait, refer WaitClass) and the next 
 *  3-bytes represent the actual wait event.  Currently 2-bytes are used 
 *  for wait event which is sufficient for current usage, 1-byte is 
 *  reserved for future usage. 
 * 
 * NB: this *must* be able to survive being called before MyProc has been 
 * initialized. 
 * ---------- 
 */ 
</span><span class='Keyword'>static inline void 
</span><a name="LN1207"></a><span class='Declare_Function'>pgstat_report_wait_start</span><span class='Parentheses'>(</span><a href="c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>wait_event_info</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1209"></a>    <span class='Keyword'>volatile </span><a href="storage/proc.h.html#LN93"><span class='Ref_to_Struct'>PGPROC</span></a> <span class='Operator'>*</span><span class='Declare_Local'>proc</span> <span class='Operator'>= </span><a href="../backend/storage/lmgr/proc.c.html#LN66"><span class='Ref_to_Global_Var'>MyProc</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../backend/postmaster/pgstat.c.html#LN124"><span class='Ref_to_Global_Var'>pgstat_track_activities</span></a> <span class='Operator'>|| !</span><a href="pgstat.h.html#LN1209"><span class='Ref_To_Local'>proc</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Since this is a four-byte field which is always read and written as 
     * four-bytes, updates are atomic. 
     */ 
</span>    <a href="pgstat.h.html#LN1209"><span class='Ref_To_Local'>proc</span></a><span class='Operator'>-&GT;</span><a href="storage/proc.h.html#LN171"><span class='Ref_to_Member'>wait_event_info</span></a> <span class='Operator'>= </span><a href="pgstat.h.html#LN1207"><span class='Ref_to_Parameter'>wait_event_info</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * pgstat_report_wait_end() - 
 * 
 *  Called to report end of a wait. 
 * 
 * NB: this *must* be able to survive being called before MyProc has been 
 * initialized. 
 * ---------- 
 */ 
</span><span class='Keyword'>static inline void 
</span><a name="LN1231"></a><span class='Declare_Function'>pgstat_report_wait_end</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1233"></a>    <span class='Keyword'>volatile </span><a href="storage/proc.h.html#LN93"><span class='Ref_to_Struct'>PGPROC</span></a> <span class='Operator'>*</span><span class='Declare_Local'>proc</span> <span class='Operator'>= </span><a href="../backend/storage/lmgr/proc.c.html#LN66"><span class='Ref_to_Global_Var'>MyProc</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../backend/postmaster/pgstat.c.html#LN124"><span class='Ref_to_Global_Var'>pgstat_track_activities</span></a> <span class='Operator'>|| !</span><a href="pgstat.h.html#LN1233"><span class='Ref_To_Local'>proc</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Since this is a four-byte field which is always read and written as 
     * four-bytes, updates are atomic. 
     */ 
</span>    <a href="pgstat.h.html#LN1233"><span class='Ref_To_Local'>proc</span></a><span class='Operator'>-&GT;</span><a href="storage/proc.h.html#LN171"><span class='Ref_to_Member'>wait_event_info</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* nontransactional event counts are simple enough to inline */ 
</span> 
<a name="LN1247"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_heap_scan</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span>                                 <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1247"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1247"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_numscans<span class='Operator'>++</span><span class='Delimiter'>;</span>              <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1252"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_heap_getnext</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span>                              <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1252"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1252"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_tuples_returned<span class='Operator'>++</span><span class='Delimiter'>;</span>       <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1257"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_heap_fetch</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span>                                <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1257"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1257"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_tuples_fetched<span class='Operator'>++</span><span class='Delimiter'>;</span>        <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1262"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_index_scan</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span>                                <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1262"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1262"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_numscans<span class='Operator'>++</span><span class='Delimiter'>;</span>              <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1267"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_index_tuples</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span>                           <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1267"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1267"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_tuples_returned <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN1267"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1272"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_buffer_read</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span>                               <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1272"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1272"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_blocks_fetched<span class='Operator'>++</span><span class='Delimiter'>;</span>        <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1277"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_buffer_hit</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span>                                <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{</span>                                                            <span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="pgstat.h.html#LN1277"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span>                             <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><a href="pgstat.h.html#LN1277"><span class='Ref_to_Parameter'>rel</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>pgstat_info<span class='Operator'>-&GT;</span>t_counts<span class='Operator'>.</span>t_blocks_hit<span class='Operator'>++</span><span class='Delimiter'>;</span>            <span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><a name="LN1282"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_buffer_read_time</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span>                            <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../backend/postmaster/pgstat.c.html#LN222"><span class='Ref_to_Global_Var'>pgStatBlockReadTime</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN1282"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>))</span> 
<a name="LN1284"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>pgstat_count_buffer_write_time</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span>                           <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><a href="../backend/postmaster/pgstat.c.html#LN223"><span class='Ref_to_Global_Var'>pgStatBlockWriteTime</span></a> <span class='Operator'>+= </span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN1284"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>))</span> 
 
<a name="LN1287"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_count_heap_insert</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><a href="pgstat.h.html#LN73"><span class='Ref_to_Typedef'>PgStat_Counter</span></a> <span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1288"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_count_heap_update</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>hot</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1289"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_count_heap_delete</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1290"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_count_truncate</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1291"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_update_heap_dead_tuples</span><span class='Parentheses'>(</span><a href="utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> <span class='Declare_Parameter'>rel</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>delta</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1293"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_init_function_usage</span><span class='Parentheses'>(</span><a href="fmgr.h.html#LN76"><span class='Ref_to_Struct'>FunctionCallInfoData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fcinfo</span><span class='Delimiter'>, 
</span><a name="LN1294"></a>                           <a href="pgstat.h.html#LN1086"><span class='Ref_to_Struct'>PgStat_FunctionCallUsage</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fcu</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1295"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_end_function_usage</span><span class='Parentheses'>(</span><a href="pgstat.h.html#LN1086"><span class='Ref_to_Struct'>PgStat_FunctionCallUsage</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fcu</span><span class='Delimiter'>, 
</span><a name="LN1296"></a>                          <span class='Keyword'>bool </span><span class='Declare_Parameter'>finalize</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1298"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>AtEOXact_PgStat</span><span class='Parentheses'>(</span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isCommit</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1299"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>AtEOSubXact_PgStat</span><span class='Parentheses'>(</span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isCommit</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nestDepth</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1301"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>AtPrepare_PgStat</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1302"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>PostPrepare_PgStat</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1304"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_twophase_postcommit</span><span class='Parentheses'>(</span><a href="c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Delimiter'>, </span><a href="c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a> <span class='Declare_Parameter'>info</span><span class='Delimiter'>, 
</span><a name="LN1305"></a>                           <span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>recdata</span><span class='Delimiter'>, </span><a href="c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>len</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1306"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_twophase_postabort</span><span class='Parentheses'>(</span><a href="c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Delimiter'>, </span><a href="c.h.html#LN266"><span class='Ref_to_Typedef'>uint16</span></a> <span class='Declare_Parameter'>info</span><span class='Delimiter'>, 
</span><a name="LN1307"></a>                          <span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>recdata</span><span class='Delimiter'>, </span><a href="c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>len</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN1309"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_send_archiver</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>xlog</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>failed</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1310"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pgstat_send_bgwriter</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* ---------- 
 * Support functions for the SQL-callable functions to 
 * generate the pgstat* views. 
 * ---------- 
 */ 
</span><a name="LN1317"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN574"><span class='Ref_to_Struct'>PgStat_StatDBEntry</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_stat_dbentry</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>dbid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1318"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN614"><span class='Ref_to_Struct'>PgStat_StatTabEntry</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_stat_tabentry</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>relid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1319"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN954"><span class='Ref_to_Struct'>PgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_stat_beentry</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>beid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1320"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN1063"><span class='Ref_to_Struct'>LocalPgBackendStatus</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_stat_local_beentry</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>beid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1321"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN650"><span class='Ref_to_Struct'>PgStat_StatFuncEntry</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_stat_funcentry</span><span class='Parentheses'>(</span><a href="postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>funcid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1322"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>pgstat_fetch_stat_numbackends</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1323"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN664"><span class='Ref_to_Struct'>PgStat_ArchiverStats</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_stat_archiver</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN1324"></a><span class='Keyword'>extern </span><a href="pgstat.h.html#LN680"><span class='Ref_to_Struct'>PgStat_GlobalStats</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>pgstat_fetch_global</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* PGSTAT_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>