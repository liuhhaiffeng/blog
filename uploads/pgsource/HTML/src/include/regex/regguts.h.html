<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\regex\regguts.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\regex\regguts.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:08 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* 
 * Internal interface definitions, etc., for the reg package 
 * 
 * Copyright (c) 1998, 1999 Henry Spencer.  All rights reserved. 
 * 
 * Development of this software was funded, in part, by Cray Research Inc., 
 * UUNET Communications Services Inc., Sun Microsystems Inc., and Scriptics 
 * Corporation, none of whom are responsible for the results.  The author 
 * thanks all of them. 
 * 
 * Redistribution and use in source and binary forms -- with or without 
 * modification -- are permitted for any purpose, provided that 
 * redistributions in source form retain this entire copyright notice and 
 * indicate the origin and nature of any modifications. 
 * 
 * I'd appreciate being given credit for this package in the documentation 
 * of software which uses it, but that is not a requirement. 
 * 
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, 
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY 
 * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL 
 * HENRY SPENCER BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, 
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF 
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
 * 
 * src/include/regex/regguts.h 
 */ 
</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Environmental customization.  It should not (I hope) be necessary to 
 * alter the file you are now reading -- regcustom.h should handle it all, 
 * given care here and elsewhere. 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"regcustom.h"</span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * Things that regcustom.h might override. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* assertions */ 
</span><span class='Directive'>#ifndef</span> <span class='Debug'>assert</span> 
<span class='Directive'>#ifndef</span> REG_DEBUG 
<a name="LN50"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>NDEBUG</span>                 <span class='Comment_Single_Line'>/* no assertions */ 
</span><span class='Directive'>#endif</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;assert.h&GT;</span> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* voids */ 
</span><span class='Directive'>#ifndef</span> <a href="regguts.h.html#LN57"><span class='Ref_to_Const'>DISCARD</span></a> 
<a name="LN57"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DISCARD</span> <span class='Keyword'>void</span>            <span class='Comment_Single_Line'>/* for throwing values away */ 
</span><span class='Directive'>#endif</span> 
<span class='Directive'>#ifndef</span> <a href="regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a> 
<a name="LN60"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>VS</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>x</span><span class='Parentheses'>)</span>   <span class='Parentheses'>((</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>)(</span><a href="regguts.h.html#LN60"><span class='Ref_to_Parameter'>x</span></a><span class='Parentheses'>))</span>   <span class='Comment_Single_Line'>/* cast something to generic ptr */ 
</span><span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* function-pointer declarator */ 
</span><span class='Directive'>#ifndef</span> <a href="regcustom.h.html#LN60"><span class='Ref_to_Macro'>FUNCPTR</span></a> 
<a name="LN65"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>FUNCPTR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>name</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>args</span><span class='Parentheses'>) (</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="regguts.h.html#LN65"><span class='Ref_to_Parameter'>name</span></a><span class='Parentheses'>))</span> <a href="regguts.h.html#LN65"><span class='Ref_to_Parameter'>args</span></a> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* memory allocation */ 
</span><span class='Directive'>#ifndef</span> <a href="regcustom.h.html#LN61"><span class='Ref_to_Macro'>MALLOC</span></a> 
<a name="LN70"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>MALLOC</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span>   <a href="../snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN70"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>) 
</span><span class='Directive'>#endif</span> 
<span class='Directive'>#ifndef</span> <a href="regcustom.h.html#LN63"><span class='Ref_to_Macro'>REALLOC</span></a> 
<a name="LN73"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>REALLOC</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>n</span><span class='Parentheses'>)</span>   <a href="../snowball/header.h.html#LN59"><span class='Ref_to_Macro'>realloc</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN73"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="regguts.h.html#LN73"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span> 
<span class='Directive'>#endif</span> 
<span class='Directive'>#ifndef</span> <a href="../../common/unicode_norm.c.html#LN25"><span class='Ref_to_Macro'>FREE</span></a> 
<a name="LN76"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>FREE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>)</span>     <a href="../snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN60"><span class='Ref_to_Macro'>VS</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN76"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>))</span> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* want size of a char in bits, and max value in bounded quantifiers */ 
</span><span class='Directive'>#ifndef</span> <a href="regguts.h.html#LN81"><span class='Ref_to_Const'>_POSIX2_RE_DUP_MAX</span></a> 
<a name="LN81"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>_POSIX2_RE_DUP_MAX</span>  <span class='Number'>255</span> <span class='Comment_Single_Line'>/* normally from &LT;limits.h&GT; */ 
</span><span class='Directive'>#endif</span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * misc 
 */ 
</span> 
<a name="LN90"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>NOTREACHED</span>  <span class='Number'>0</span> 
 
<a name="LN92"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DUPMAX</span>  <a href="regguts.h.html#LN81"><span class='Ref_to_Const'>_POSIX2_RE_DUP_MAX</span></a> 
<a name="LN93"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DUPINF</span>  <span class='Parentheses'>(</span><a href="regguts.h.html#LN92"><span class='Ref_to_Const'>DUPMAX</span></a><span class='Operator'>+</span><span class='Number'>1</span><span class='Parentheses'>) 
</span> 
<a name="LN95"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>REMAGIC</span> <span class='Number'>0xfed7</span>          <span class='Comment_Single_Line'>/* magic number for main struct */ 
</span> 
<span class='Comment_Multi_Line'>/* Type codes for lookaround constraints */ 
</span><a name="LN98"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LATYPE_AHEAD_POS</span>    <span class='Number'>03</span>  <span class='Comment_Single_Line'>/* positive lookahead */ 
</span><a name="LN99"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LATYPE_AHEAD_NEG</span>    <span class='Number'>02</span>  <span class='Comment_Single_Line'>/* negative lookahead */ 
</span><a name="LN100"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LATYPE_BEHIND_POS</span>   <span class='Number'>01</span>  <span class='Comment_Single_Line'>/* positive lookbehind */ 
</span><a name="LN101"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>LATYPE_BEHIND_NEG</span>   <span class='Number'>00</span>  <span class='Comment_Single_Line'>/* negative lookbehind */ 
</span><a name="LN102"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>LATYPE_IS_POS</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>la</span><span class='Parentheses'>)</span>   <span class='Parentheses'>((</span><a href="regguts.h.html#LN102"><span class='Ref_to_Parameter'>la</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><span class='Number'>01</span><span class='Parentheses'>)</span> 
<a name="LN103"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>LATYPE_IS_AHEAD</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>la</span><span class='Parentheses'>) ((</span><a href="regguts.h.html#LN103"><span class='Ref_to_Parameter'>la</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><span class='Number'>02</span><span class='Parentheses'>)</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * debugging facilities 
 */ 
</span><span class='Directive'>#ifdef</span> REG_DEBUG 
<span class='Comment_Multi_Line'>/* FDEBUG does finite-state tracing */ 
</span><a name="LN111"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>FDEBUG</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arglist</span><span class='Parentheses'>) </span><span class='Delimiter'>{ </span><span class='Control'>if</span> <span class='Parentheses'>(</span>v<span class='Operator'>-&GT;</span>eflags<span class='Operator'>&</span><a href="regex.h.html#LN126"><span class='Ref_to_Const'>REG_FTRACE</span></a><span class='Parentheses'>) </span><a href="../port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a> <a href="regguts.h.html#LN111"><span class='Ref_to_Parameter'>arglist</span></a><span class='Delimiter'>; } 
</span><span class='Comment_Multi_Line'>/* MDEBUG does higher-level tracing */ 
</span><a name="LN113"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>MDEBUG</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arglist</span><span class='Parentheses'>) </span><span class='Delimiter'>{ </span><span class='Control'>if</span> <span class='Parentheses'>(</span>v<span class='Operator'>-&GT;</span>eflags<span class='Operator'>&</span><a href="regex.h.html#LN127"><span class='Ref_to_Const'>REG_MTRACE</span></a><span class='Parentheses'>) </span><a href="../port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a> <a href="regguts.h.html#LN113"><span class='Ref_to_Parameter'>arglist</span></a><span class='Delimiter'>; } 
</span><span class='Directive'>#else</span> 
<a name="LN115"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>FDEBUG</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arglist</span><span class='Parentheses'>) </span><span class='Delimiter'>{} 
</span><a name="LN116"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>MDEBUG</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>arglist</span><span class='Parentheses'>) </span><span class='Delimiter'>{} 
</span><span class='Directive'>#endif</span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * bitmap manipulation 
 */ 
</span><a name="LN124"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>UBITS</span>   <span class='Parentheses'>(</span>CHAR_BIT <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned</span><span class='Parentheses'>))</span> 
<a name="LN125"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>BSET</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>uv</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>sn</span><span class='Parentheses'>)</span>    <span class='Parentheses'>((</span><a href="regguts.h.html#LN125"><span class='Ref_to_Parameter'>uv</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Parentheses'>(</span><a href="regguts.h.html#LN125"><span class='Ref_to_Parameter'>sn</span></a><span class='Parentheses'>)</span><span class='Operator'>/</span><a href="regguts.h.html#LN124"><span class='Ref_to_Const'>UBITS</span></a><span class='Delimiter'>] </span><span class='Operator'>|= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned</span><span class='Parentheses'>)</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Parentheses'>((</span><a href="regguts.h.html#LN125"><span class='Ref_to_Parameter'>sn</span></a><span class='Parentheses'>)</span><span class='Operator'>%</span><a href="regguts.h.html#LN124"><span class='Ref_to_Const'>UBITS</span></a><span class='Parentheses'>))</span> 
<a name="LN126"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ISBSET</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>uv</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>sn</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="regguts.h.html#LN126"><span class='Ref_to_Parameter'>uv</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Parentheses'>(</span><a href="regguts.h.html#LN126"><span class='Ref_to_Parameter'>sn</span></a><span class='Parentheses'>)</span><span class='Operator'>/</span><a href="regguts.h.html#LN124"><span class='Ref_to_Const'>UBITS</span></a><span class='Delimiter'>] </span><span class='Operator'>& </span><span class='Parentheses'>((</span><span class='Keyword'>unsigned</span><span class='Parentheses'>)</span><span class='Number'>1</span> <span class='Operator'>&LT;&LT; </span><span class='Parentheses'>((</span><a href="regguts.h.html#LN126"><span class='Ref_to_Parameter'>sn</span></a><span class='Parentheses'>)</span><span class='Operator'>%</span><a href="regguts.h.html#LN124"><span class='Ref_to_Const'>UBITS</span></a><span class='Parentheses'>)))</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * As soon as possible, we map chrs into equivalence classes -- "colors" -- 
 * which are of much more manageable number. 
 */ 
</span><a name="LN133"></a><span class='Control'>typedef</span> <span class='Keyword'>short </span><span class='Declare_Typedef'>color</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* colors of characters */ 
</span> 
<a name="LN135"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>MAX_COLOR</span>   <span class='Number'>32767</span>       <span class='Comment_Single_Line'>/* max color (must fit in 'color' datatype) */ 
</span><a name="LN136"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>COLORLESS</span>   <span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span>        <span class='Comment_Single_Line'>/* impossible color */ 
</span><a name="LN137"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>WHITE</span>       <span class='Number'>0</span>           <span class='Comment_Single_Line'>/* default color, parent of all others */ 
</span><span class='Comment_Multi_Line'>/* Note: various places in the code know that WHITE is zero */ 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Per-color data structure for the compile-time color machinery 
 * 
 * If "sub" is not NOSUB then it is the number of the color's current 
 * subcolor, i.e. we are in process of dividing this color (character 
 * equivalence class) into two colors.  See src/backend/regex/README for 
 * discussion of subcolors. 
 * 
 * Currently-unused colors have the FREECOL bit set and are linked into a 
 * freelist using their "sub" fields, but only if their color numbers are 
 * less than colormap.max.  Any array entries beyond "max" are just garbage. 
 */ 
</span><a name="LN153"></a><span class='Control'>struct</span> <span class='Declare_Struct'>colordesc</span> 
<span class='Delimiter'>{ 
</span><a name="LN155"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nschrs</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* number of simple chars of this color */ 
</span><a name="LN156"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nuchrs</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* number of upper map entries of this color */ 
</span><a name="LN157"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>sub</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* open subcolor, if any; or free-chain ptr */ 
</span><a name="LN158"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>NOSUB</span>   <a href="regguts.h.html#LN136"><span class='Ref_to_Const'>COLORLESS</span></a>      <span class='Comment_Single_Line'>/* value of "sub" when no open subcolor */ 
</span><a name="LN159"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>arcs</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* chain of all arcs of this color */ 
</span><a name="LN160"></a>    <a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Member'>firstchr</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* simple char first assigned to this color */ 
</span><a name="LN161"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>flags</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* bit values defined next */ 
</span><a name="LN162"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>FREECOL</span> <span class='Number'>01</span>             <span class='Comment_Single_Line'>/* currently free */ 
</span><a name="LN163"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>PSEUDO</span>  <span class='Number'>02</span>             <span class='Comment_Single_Line'>/* pseudocolor, no real chars */ 
</span><a name="LN164"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>UNUSEDCOLOR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>cd</span><span class='Parentheses'>) ((</span>cd<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>flags <span class='Operator'>& </span><a href="regguts.h.html#LN162"><span class='Ref_to_Const'>FREECOL</span></a><span class='Parentheses'>)</span> 
<span class='Delimiter'>}; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * The color map itself 
 * 
 * This struct holds both data used only at compile time, and the chr to 
 * color mapping information, used at both compile and run time.  The latter 
 * is the bulk of the space, so it's not really worth separating out the 
 * compile-only portion. 
 * 
 * Ideally, the mapping data would just be an array of colors indexed by 
 * chr codes; but for large character sets that's impractical.  Fortunately, 
 * common characters have smaller codes, so we can use a simple array for chr 
 * codes up to MAX_SIMPLE_CHR, and do something more complex for codes above 
 * that, without much loss of performance.  The "something more complex" is a 
 * 2-D array of color entries, where row indexes correspond to individual chrs 
 * or chr ranges that have been mentioned in the regex (with row zero 
 * representing all other chrs), and column indexes correspond to different 
 * sets of locale-dependent character classes such as "isalpha".  The 
 * classbits[k] entry is zero if we do not care about the k'th character class 
 * in this regex, and otherwise it is the bit to be OR'd into the column index 
 * if the character in question is a member of that class.  We find the color 
 * of a high-valued chr by identifying which colormaprange it is in to get 
 * the row index (use row zero if it's in none of them), identifying which of 
 * the interesting cclasses it's in to get the column index, and then indexing 
 * into the 2-D hicolormap array. 
 * 
 * The colormapranges are required to be nonempty, nonoverlapping, and to 
 * appear in increasing chr-value order. 
 */ 
</span> 
<a name="LN196"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>NUM_CCLASSES</span> <span class='Number'>13</span>         <span class='Comment_Single_Line'>/* must match data in regc_locale.c */ 
</span> 
<a name="LN198"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>colormaprange</span> 
<span class='Delimiter'>{ 
</span><a name="LN200"></a>    <a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Member'>cmin</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* range represents cmin..cmax inclusive */ 
</span><a name="LN201"></a>    <a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>         <span class='Declare_Member'>cmax</span><span class='Delimiter'>; 
</span><a name="LN202"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>rownum</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* row index in hicolormap array (&GT;= 1) */ 
</span><a name="LN203"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>colormaprange</span><span class='Delimiter'>; 
</span> 
<a name="LN205"></a><span class='Control'>struct</span> <span class='Declare_Struct'>colormap</span> 
<span class='Delimiter'>{ 
</span><a name="LN207"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>magic</span><span class='Delimiter'>; 
</span><a name="LN208"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>CMMAGIC</span> <span class='Number'>0x876</span> 
<a name="LN209"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>*</span><span class='Declare_Member'>v</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* for compile error reporting */ 
</span><a name="LN210"></a>    size_t      <span class='Declare_Member'>ncds</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* allocated length of colordescs array */ 
</span><a name="LN211"></a>    size_t      <span class='Declare_Member'>max</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* highest color number currently in use */ 
</span><a name="LN212"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>free</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* beginning of free chain (if non-0) */ 
</span><a name="LN213"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>cd</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* pointer to array of colordescs */ 
</span><a name="LN214"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>CDEND</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>cm</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(</span><span class='Operator'>&</span><span class='Parentheses'>(</span>cm<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>cd<span class='Delimiter'>[</span><span class='Parentheses'>(</span>cm<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>max <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
 
    <span class='Comment_Multi_Line'>/* mapping data for chrs &LT;= MAX_SIMPLE_CHR: */ 
</span><a name="LN217"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Member'>locolormap</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* simple array indexed by chr code */ 
</span> 
    <span class='Comment_Multi_Line'>/* mapping data for chrs &GT; MAX_SIMPLE_CHR: */ 
</span><a name="LN220"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>classbits</span><span class='Delimiter'>[</span><a href="regguts.h.html#LN196"><span class='Ref_to_Const'>NUM_CCLASSES</span></a><span class='Delimiter'>];</span>        <span class='Comment_Single_Line'>/* see comment above */ 
</span><a name="LN221"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>numcmranges</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* number of colormapranges */ 
</span><a name="LN222"></a>    <a href="regguts.h.html#LN198"><span class='Ref_to_Struct'>colormaprange</span></a> <span class='Operator'>*</span><span class='Declare_Member'>cmranges</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* ranges of high chrs */ 
</span><a name="LN223"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>      <span class='Operator'>*</span><span class='Declare_Member'>hicolormap</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* 2-D array of color entries */ 
</span><a name="LN224"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>maxarrayrows</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* number of array rows allocated */ 
</span><a name="LN225"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>hiarrayrows</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* number of array rows in use */ 
</span><a name="LN226"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>hiarraycols</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* number of array columns (2^N) */ 
</span> 
    <span class='Comment_Multi_Line'>/* If we need up to NINLINECDS, we store them here to save a malloc */ 
</span><a name="LN229"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>NINLINECDS</span>  <span class='Parentheses'>((</span>size_t<span class='Parentheses'>) </span><span class='Number'>10</span><span class='Parentheses'>)</span> 
<a name="LN230"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN153"><span class='Ref_to_Struct'>colordesc</span></a> <span class='Declare_Member'>cdspace</span><span class='Delimiter'>[</span><a href="regguts.h.html#LN229"><span class='Ref_to_Const'>NINLINECDS</span></a><span class='Delimiter'>]; 
}</span><span class='Auto_Annotations'> &laquo; end colormap &raquo; </span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* fetch color for chr; beware of multiple evaluation of c argument */ 
</span><a name="LN234"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>GETCOLOR</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="regguts.h.html#LN234"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>) </span><span class='Operator'>&LT;= </span><a href="regcustom.h.html#LN96"><span class='Ref_to_Const'>MAX_SIMPLE_CHR</span></a> <span class='Operator'>? </span><span class='Parentheses'>(</span><a href="regguts.h.html#LN234"><span class='Ref_to_Parameter'>cm</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>locolormap<span class='Delimiter'>[</span><span class='Parentheses'>(</span><a href="regguts.h.html#LN234"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><a href="regcustom.h.html#LN73"><span class='Ref_to_Const'>CHR_MIN</span></a><span class='Delimiter'>] </span><span class='Operator'>: </span><a href="../../backend/regex/regc_color.c.html#LN118"><span class='Ref_to_Func'>pg_reg_getcolor</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN234"><span class='Ref_to_Parameter'>cm</span></a><span class='Delimiter'>, </span><a href="regguts.h.html#LN234"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Interface definitions for locale-interface functions in regc_locale.c. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Representation of a set of characters.  chrs[] represents individual 
 * code points, ranges[] represents ranges in the form min..max inclusive. 
 * 
 * If the cvec represents a locale-specific character class, eg [[:alpha:]], 
 * then the chrs[] and ranges[] arrays contain only members of that class 
 * up to MAX_SIMPLE_CHR (inclusive).  cclasscode is set to regc_locale.c's 
 * code for the class, rather than being -1 as it is in an ordinary cvec. 
 * 
 * Note that in cvecs gotten from newcvec() and intended to be freed by 
 * freecvec(), both arrays of chrs are after the end of the struct, not 
 * separately malloc'd; so chrspace and rangespace are effectively immutable. 
 */ 
</span><a name="LN255"></a><span class='Control'>struct</span> <span class='Declare_Struct'>cvec</span> 
<span class='Delimiter'>{ 
</span><a name="LN257"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nchrs</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* number of chrs */ 
</span><a name="LN258"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>chrspace</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* number of chrs allocated in chrs[] */ 
</span><a name="LN259"></a>    <a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>        <span class='Operator'>*</span><span class='Declare_Member'>chrs</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* pointer to vector of chrs */ 
</span><a name="LN260"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nranges</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* number of ranges (chr pairs) */ 
</span><a name="LN261"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>rangespace</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* number of ranges allocated in ranges[] */ 
</span><a name="LN262"></a>    <a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a>        <span class='Operator'>*</span><span class='Declare_Member'>ranges</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* pointer to vector of chr pairs */ 
</span><a name="LN263"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>cclasscode</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* value of "enum classes", or -1 */ 
</span><span class='Delimiter'>}; 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * definitions for NFA internal representation 
 * 
 * Having a "from" pointer within each arc may seem redundant, but it 
 * saves a lot of hassle. 
 */ 
</span><span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a><span class='Delimiter'>; 
</span> 
<a name="LN275"></a><span class='Control'>struct</span> <span class='Declare_Struct'>arc</span> 
<span class='Delimiter'>{ 
</span><a name="LN277"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>type</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* 0 if free, else an NFA arc type code */ 
</span><a name="LN278"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>co</span><span class='Delimiter'>; 
</span><a name="LN279"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>from</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* where it's from (and contained within) */ 
</span><a name="LN280"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>to</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* where it's to */ 
</span><a name="LN281"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>outchain</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* link in *from's outs chain or free chain */ 
</span><a name="LN282"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>outchainRev</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* back-link in *from's outs chain */ 
</span><a name="LN283"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>freechain</span>  outchain    <span class='Comment_Single_Line'>/* we do not maintain "freechainRev" */ 
</span><a name="LN284"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>inchain</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* link in *to's ins chain */ 
</span><a name="LN285"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>inchainRev</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* back-link in *to's ins chain */ 
</span><a name="LN286"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>colorchain</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* link in color's arc chain */ 
</span><a name="LN287"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>colorchainRev</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* back-link in color's arc chain */ 
</span><span class='Delimiter'>}; 
</span> 
<a name="LN290"></a><span class='Control'>struct</span> <span class='Declare_Struct'>arcbatch</span> 
<span class='Delimiter'>{</span>                               <span class='Comment_Single_Line'>/* for bulk allocation of arcs */ 
</span><a name="LN292"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN290"><span class='Ref_to_Struct'>arcbatch</span></a> <span class='Operator'>*</span><span class='Declare_Member'>next</span><span class='Delimiter'>; 
</span><a name="LN293"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>ABSIZE</span>  <span class='Number'>10</span> 
<a name="LN294"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a>  <span class='Declare_Member'>a</span><span class='Delimiter'>[</span><a href="regguts.h.html#LN293"><span class='Ref_to_Const'>ABSIZE</span></a><span class='Delimiter'>]; 
}; 
</span> 
<a name="LN297"></a><span class='Control'>struct</span> <span class='Declare_Struct'>state</span> 
<span class='Delimiter'>{ 
</span><a name="LN299"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>no</span><span class='Delimiter'>; 
</span><a name="LN300"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>FREESTATE</span>   <span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>) 
</span><a name="LN301"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>flag</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* marks special states */ 
</span><a name="LN302"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nins</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* number of inarcs */ 
</span><a name="LN303"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>ins</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* chain of inarcs */ 
</span><a name="LN304"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nouts</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* number of outarcs */ 
</span><a name="LN305"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>outs</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* chain of outarcs */ 
</span><a name="LN306"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN275"><span class='Ref_to_Struct'>arc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>free</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* chain of free arcs */ 
</span><a name="LN307"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>tmp</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* temporary for traversal algorithms */ 
</span><a name="LN308"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>next</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* chain for traversing all */ 
</span><a name="LN309"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>prev</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* back chain */ 
</span><a name="LN310"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN290"><span class='Ref_to_Struct'>arcbatch</span></a> <span class='Declare_Member'>oas</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* first arcbatch, avoid malloc in easy case */ 
</span><a name="LN311"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>noas</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* number of arcs used in first arcbatch */ 
</span><span class='Delimiter'>}; 
</span> 
<a name="LN314"></a><span class='Control'>struct</span> <span class='Declare_Struct'>nfa</span> 
<span class='Delimiter'>{ 
</span><a name="LN316"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>pre</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* pre-initial state */ 
</span><a name="LN317"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>init</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* initial state */ 
</span><a name="LN318"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>final</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* final state */ 
</span><a name="LN319"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>post</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* post-final state */ 
</span><a name="LN320"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nstates</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* for numbering states */ 
</span><a name="LN321"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>states</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* state-chain header */ 
</span><a name="LN322"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>slast</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* tail of the chain */ 
</span><a name="LN323"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>free</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* free list */ 
</span><a name="LN324"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>*</span><span class='Declare_Member'>cm</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* the color map */ 
</span><a name="LN325"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>bos</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>];</span>         <span class='Comment_Single_Line'>/* colors, if any, assigned to BOS and BOL */ 
</span><a name="LN326"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>eos</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>];</span>         <span class='Comment_Single_Line'>/* colors, if any, assigned to EOS and EOL */ 
</span><a name="LN327"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regexec.c.html#LN102"><span class='Ref_to_Struct'>vars</span></a> <span class='Operator'>*</span><span class='Declare_Member'>v</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* simplifies compile error reporting */ 
</span><a name="LN328"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN314"><span class='Ref_to_Struct'>nfa</span></a> <span class='Operator'>*</span><span class='Declare_Member'>parent</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* parent NFA, if any */ 
</span><span class='Delimiter'>}; 
</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * definitions for compacted NFA 
 * 
 * The main space savings in a compacted NFA is from making the arcs as small 
 * as possible.  We store only the transition color and next-state number for 
 * each arc.  The list of out arcs for each state is an array beginning at 
 * cnfa.states[statenumber], and terminated by a dummy carc struct with 
 * co == COLORLESS. 
 * 
 * The non-dummy carc structs are of two types: plain arcs and LACON arcs. 
 * Plain arcs just store the transition color number as "co".  LACON arcs 
 * store the lookaround constraint number plus cnfa.ncolors as "co".  LACON 
 * arcs can be distinguished from plain by testing for co &GT;= cnfa.ncolors. 
 */ 
</span><a name="LN347"></a><span class='Control'>struct</span> <span class='Declare_Struct'>carc</span> 
<span class='Delimiter'>{ 
</span><a name="LN349"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>co</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* COLORLESS is list terminator */ 
</span><a name="LN350"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>to</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* next-state number */ 
</span><span class='Delimiter'>}; 
</span> 
<a name="LN353"></a><span class='Control'>struct</span> <span class='Declare_Struct'>cnfa</span> 
<span class='Delimiter'>{ 
</span><a name="LN355"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nstates</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* number of states */ 
</span><a name="LN356"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>ncolors</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* number of colors (max color in use + 1) */ 
</span><a name="LN357"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>flags</span><span class='Delimiter'>; 
</span><a name="LN358"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>HASLACONS</span>  <span class='Number'>01</span>          <span class='Comment_Single_Line'>/* uses lookaround constraints */ 
</span><a name="LN359"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>pre</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* setup state number */ 
</span><a name="LN360"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>post</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* teardown state number */ 
</span><a name="LN361"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>bos</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>];</span>         <span class='Comment_Single_Line'>/* colors, if any, assigned to BOS and BOL */ 
</span><a name="LN362"></a>    <a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a>       <span class='Declare_Member'>eos</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>];</span>         <span class='Comment_Single_Line'>/* colors, if any, assigned to EOS and EOL */ 
</span><a name="LN363"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>stflags</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* vector of per-state flags bytes */ 
</span><a name="LN364"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>CNFA_NOPROGRESS</span>    <span class='Number'>01</span>  <span class='Comment_Single_Line'>/* flag bit for a no-progress state */ 
</span><a name="LN365"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN347"><span class='Ref_to_Struct'>carc</span></a> <span class='Operator'>**</span><span class='Declare_Member'>states</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* vector of pointers to outarc lists */ 
</span>    <span class='Comment_Multi_Line'>/* states[n] are pointers into a single malloc'd array of arcs */ 
</span><a name="LN367"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN347"><span class='Ref_to_Struct'>carc</span></a> <span class='Operator'>*</span><span class='Declare_Member'>arcs</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* the area for the lists */ 
</span><span class='Delimiter'>}; 
</span> 
<a name="LN370"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ZAPCNFA</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>cnfa</span><span class='Parentheses'>)</span>   <span class='Parentheses'>((</span><a href="regguts.h.html#LN370"><span class='Ref_to_Parameter'>cnfa</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>nstates <span class='Operator'>= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
<a name="LN371"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>NULLCNFA</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>cnfa</span><span class='Parentheses'>)</span>  <span class='Parentheses'>((</span><a href="regguts.h.html#LN371"><span class='Ref_to_Parameter'>cnfa</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>nstates <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
 
<span class='Comment_Multi_Line'>/* 
 * This symbol limits the transient heap space used by the regex compiler, 
 * and thereby also the maximum complexity of NFAs that we'll deal with. 
 * Currently we only count NFA states and arcs against this; the other 
 * transient data is generally not large enough to notice compared to those. 
 * Note that we do not charge anything for the final output data structures 
 * (the compacted NFA and the colormap). 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="regguts.h.html#LN382"><span class='Ref_to_Const'>REG_MAX_COMPILE_SPACE</span></a> 
<a name="LN382"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>REG_MAX_COMPILE_SPACE</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>(</span><span class='Number'>100000</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>100000</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regguts.h.html#LN290"><span class='Ref_to_Struct'>arcbatch</span></a><span class='Parentheses'>))</span> 
<span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* 
 * subexpression tree 
 * 
 * "op" is one of: 
 *      '='  plain regex without interesting substructure (implemented as DFA) 
 *      'b'  back-reference (has no substructure either) 
 *      '('  capture node: captures the match of its single child 
 *      '.'  concatenation: matches a match for left, then a match for right 
 *      '|'  alternation: matches a match for left or a match for right 
 *      '*'  iteration: matches some number of matches of its single child 
 * 
 * Note: the right child of an alternation must be another alternation or 
 * NULL; hence, an N-way branch requires N alternation nodes, not N-1 as you 
 * might expect.  This could stand to be changed.  Actually I'd rather see 
 * a single alternation node with N children, but that will take revising 
 * the representation of struct subre. 
 * 
 * Note: when a backref is directly quantified, we stick the min/max counts 
 * into the backref rather than plastering an iteration node on top.  This is 
 * for efficiency: there is no need to search for possible division points. 
 */ 
</span><a name="LN407"></a><span class='Control'>struct</span> <span class='Declare_Struct'>subre</span> 
<span class='Delimiter'>{ 
</span><a name="LN409"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>op</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* see type codes above */ 
</span><a name="LN410"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>flags</span><span class='Delimiter'>; 
</span><a name="LN411"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>LONGER</span>  <span class='Number'>01</span>             <span class='Comment_Single_Line'>/* prefers longer match */ 
</span><a name="LN412"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>SHORTER</span> <span class='Number'>02</span>             <span class='Comment_Single_Line'>/* prefers shorter match */ 
</span><a name="LN413"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>MIXED</span>   <span class='Number'>04</span>             <span class='Comment_Single_Line'>/* mixed preference below */ 
</span><a name="LN414"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>CAP</span>     <span class='Number'>010</span>            <span class='Comment_Single_Line'>/* capturing parens below */ 
</span><a name="LN415"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>BACKR</span>   <span class='Number'>020</span>            <span class='Comment_Single_Line'>/* back reference below */ 
</span><a name="LN416"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>INUSE</span>   <span class='Number'>0100</span>           <span class='Comment_Single_Line'>/* in use in final tree */ 
</span><a name="LN417"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>NOPROP</span>  <span class='Number'>03</span>             <span class='Comment_Single_Line'>/* bits which may not propagate up */ 
</span><a name="LN418"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>LMIX</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>) ((</span><a href="regguts.h.html#LN418"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Operator'>&LT;&LT;</span><span class='Number'>2</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* LONGER -&GT; MIXED */ 
</span><a name="LN419"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>SMIX</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>) ((</span><a href="regguts.h.html#LN419"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Operator'>&LT;&LT;</span><span class='Number'>1</span><span class='Parentheses'>)</span>       <span class='Comment_Single_Line'>/* SHORTER -&GT; MIXED */ 
</span><a name="LN420"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>UP</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>)</span>   <span class='Parentheses'>(((</span><a href="regguts.h.html#LN420"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Operator'>&~</span><a href="regguts.h.html#LN417"><span class='Ref_to_Const'>NOPROP</span></a><span class='Parentheses'>)</span> <span class='Operator'>| </span><span class='Parentheses'>(</span><a href="regguts.h.html#LN418"><span class='Ref_to_Macro'>LMIX</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN420"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><a href="regguts.h.html#LN419"><span class='Ref_to_Macro'>SMIX</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN420"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>) </span><span class='Operator'>& </span><a href="regguts.h.html#LN413"><span class='Ref_to_Const'>MIXED</span></a><span class='Parentheses'>))</span> 
<a name="LN421"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>MESSY</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>)</span>    <span class='Parentheses'>((</span><a href="regguts.h.html#LN421"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Operator'>&</span><span class='Parentheses'>(</span><a href="regguts.h.html#LN413"><span class='Ref_to_Const'>MIXED</span></a><span class='Operator'>|</span><a href="regguts.h.html#LN414"><span class='Ref_to_Const'>CAP</span></a><span class='Operator'>|</span><a href="regguts.h.html#LN415"><span class='Ref_to_Const'>BACKR</span></a><span class='Parentheses'>))</span> 
<a name="LN422"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>PREF</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f</span><span class='Parentheses'>) ((</span><a href="regguts.h.html#LN422"><span class='Ref_to_Parameter'>f</span></a><span class='Parentheses'>)</span><span class='Operator'>&</span><a href="regguts.h.html#LN417"><span class='Ref_to_Const'>NOPROP</span></a><span class='Parentheses'>)</span> 
<a name="LN423"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>PREF2</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f1</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>f2</span><span class='Parentheses'>)</span>   <span class='Parentheses'>((</span><a href="regguts.h.html#LN422"><span class='Ref_to_Macro'>PREF</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN423"><span class='Ref_to_Parameter'>f1</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>? </span><a href="regguts.h.html#LN422"><span class='Ref_to_Macro'>PREF</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN423"><span class='Ref_to_Parameter'>f1</span></a><span class='Parentheses'>)</span> <span class='Operator'>: </span><a href="regguts.h.html#LN422"><span class='Ref_to_Macro'>PREF</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN423"><span class='Ref_to_Parameter'>f2</span></a><span class='Parentheses'>))</span> 
<a name="LN424"></a><span class='Keyword'>#define</span>  <span class='Declare_Macro'>COMBINE</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>f1</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>f2</span><span class='Parentheses'>) (</span><a href="regguts.h.html#LN420"><span class='Ref_to_Macro'>UP</span></a><span class='Parentheses'>((</span><a href="regguts.h.html#LN424"><span class='Ref_to_Parameter'>f1</span></a><span class='Parentheses'>)</span><span class='Operator'>|</span><span class='Parentheses'>(</span><a href="regguts.h.html#LN424"><span class='Ref_to_Parameter'>f2</span></a><span class='Parentheses'>))</span> <span class='Operator'>| </span><a href="regguts.h.html#LN423"><span class='Ref_to_Macro'>PREF2</span></a><span class='Parentheses'>(</span><a href="regguts.h.html#LN424"><span class='Ref_to_Parameter'>f1</span></a><span class='Delimiter'>, </span><a href="regguts.h.html#LN424"><span class='Ref_to_Parameter'>f2</span></a><span class='Parentheses'>))</span> 
<a name="LN425"></a>    <span class='Keyword'>short</span>       <span class='Declare_Member'>id</span><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* ID of subre (1..ntree-1) */ 
</span><a name="LN426"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>subno</span><span class='Delimiter'>;</span>          <span class='Comment_Multi_Line'>/* subexpression number for 'b' and '(', or 
                                 * LATYPE code for lookaround constraint */ 
</span><a name="LN428"></a>    <span class='Keyword'>short</span>       <span class='Declare_Member'>min</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* min repetitions for iteration or backref */ 
</span><a name="LN429"></a>    <span class='Keyword'>short</span>       <span class='Declare_Member'>max</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* max repetitions for iteration or backref */ 
</span><a name="LN430"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>left</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* left child, if any (also freelist chain) */ 
</span><a name="LN431"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>right</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* right child, if any */ 
</span><a name="LN432"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>begin</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* outarcs from here... */ 
</span><a name="LN433"></a>    <span class='Control'>struct</span> <a href="../../timezone/pgtz.h.html#LN40"><span class='Ref_to_Struct'>state</span></a> <span class='Operator'>*</span><span class='Declare_Member'>end</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* ...ending in inarcs here */ 
</span><a name="LN434"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN434"><span class='Ref_to_Member'>cnfa</span></a> <span class='Declare_Member'>cnfa</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* compacted NFA, if any */ 
</span><a name="LN435"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>chain</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* for bookkeeping and error cleanup */ 
</span><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end subre &raquo; </span><span class='Delimiter'>; 
</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * table of function pointers for generic manipulation functions 
 * A regex_t's re_fns points to one of these. 
 */ 
</span><a name="LN444"></a><span class='Control'>struct</span> <span class='Declare_Struct'>fns</span> 
<span class='Delimiter'>{ 
</span><a name="LN446"></a>    <span class='Keyword'>void</span>        <span class='Declare_Method_Prototype'>FUNCPTR</span><span class='Parentheses'>(</span><a href="../snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="regex.h.html#LN54"><span class='Ref_to_Typedef'>regex_t</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN447"></a>    <span class='Keyword'>int</span>         <span class='Declare_Method_Prototype'>FUNCPTR</span><span class='Parentheses'>(</span>cancel_requested<span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN448"></a>    <span class='Keyword'>int</span>         <span class='Declare_Method_Prototype'>FUNCPTR</span><span class='Parentheses'>(</span>stack_too_deep<span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
}; 
</span> 
<a name="LN451"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>CANCEL_REQUESTED</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>re</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Control'>struct</span> <a href="regguts.h.html#LN444"><span class='Ref_to_Struct'>fns</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="regguts.h.html#LN451"><span class='Ref_to_Parameter'>re</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>re_fns<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>cancel_requested<span class='Parentheses'>)</span> <span class='Parentheses'>())</span> 
 
<a name="LN454"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>STACK_TOO_DEEP</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>re</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Control'>struct</span> <a href="regguts.h.html#LN444"><span class='Ref_to_Struct'>fns</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="regguts.h.html#LN454"><span class='Ref_to_Parameter'>re</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>re_fns<span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>stack_too_deep<span class='Parentheses'>)</span> <span class='Parentheses'>())</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * the insides of a regex_t, hidden behind a void * 
 */ 
</span><a name="LN461"></a><span class='Control'>struct</span> <span class='Declare_Struct'>guts</span> 
<span class='Delimiter'>{ 
</span><a name="LN463"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>magic</span><span class='Delimiter'>; 
</span><a name="LN464"></a><span class='Keyword'>#define</span>  <span class='Declare_Constant'>GUTSMAGIC</span>   <span class='Number'>0xfed9</span> 
<a name="LN465"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>cflags</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* copy of compile flags */ 
</span><a name="LN466"></a>    <span class='Keyword'>long</span>        <span class='Declare_Member'>info</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* copy of re_info */ 
</span><a name="LN467"></a>    size_t      <span class='Declare_Member'>nsub</span><span class='Delimiter'>;</span>           <span class='Comment_Single_Line'>/* copy of re_nsub */ 
</span><a name="LN468"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>tree</span><span class='Delimiter'>; 
</span><a name="LN469"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN353"><span class='Ref_to_Struct'>cnfa</span></a> <span class='Declare_Member'>search</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* for fast preliminary search */ 
</span><a name="LN470"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>ntree</span><span class='Delimiter'>;</span>          <span class='Comment_Single_Line'>/* number of subre's, plus one */ 
</span><a name="LN471"></a>    <span class='Control'>struct</span> <a href="regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Declare_Member'>cmap</span><span class='Delimiter'>; 
</span><a name="LN472"></a>    <span class='Keyword'>int</span>         <span class='Declare_Method_Prototype'>FUNCPTR</span><span class='Parentheses'>(</span><a href="../../backend/optimizer/geqo/geqo_pool.c.html#LN34"><span class='Ref_to_Proto'>compare</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span>size_t<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span><a name="LN473"></a>    <span class='Control'>struct</span> <a href="../../backend/regex/regcomp.c.html#LN58"><span class='Ref_to_Proto'>subre</span></a> <span class='Operator'>*</span><span class='Declare_Member'>lacons</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* lookaround-constraint vector */ 
</span><a name="LN474"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>nlacons</span><span class='Delimiter'>;</span>        <span class='Comment_Multi_Line'>/* size of lacons[]; note that only slots 
                                 * numbered 1 .. nlacons-1 are used */ 
</span><span class='Delimiter'>}; 
</span> 
 
<span class='Comment_Multi_Line'>/* prototypes for functions that are exported from regcomp.c to regexec.c */ 
</span><a name="LN480"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>pg_set_regex_collation</span><span class='Parentheses'>(</span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>collation</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN481"></a><span class='Keyword'>extern </span><a href="regguts.h.html#LN133"><span class='Ref_to_Typedef'>color</span></a> <span class='Declare_Prototype'>pg_reg_getcolor</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="regguts.h.html#LN205"><span class='Ref_to_Struct'>colormap</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>cm</span><span class='Delimiter'>, </span><a href="regcustom.h.html#LN67"><span class='Ref_to_Typedef'>chr</span></a> <span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>