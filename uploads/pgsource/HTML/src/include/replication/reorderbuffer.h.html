<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\replication\reorderbuffer.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\replication\reorderbuffer.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:08 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* 
 * reorderbuffer.h 
 *    PostgreSQL logical replay/reorder buffer management. 
 * 
 * Copyright (c) 2012-2017, PostgreSQL Global Development Group 
 * 
 * src/include/replication/reorderbuffer.h 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="reorderbuffer.h.html#LN9"><span class='Ref_to_Const'>REORDERBUFFER_H</span></a> 
<a name="LN9"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>REORDERBUFFER_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"access/htup_details.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"lib/ilist.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"storage/sinval.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/hsearch.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/relcache.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/snapshot.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"utils/timestamp.h"</span> 
 
<span class='Comment_Multi_Line'>/* an individual tuple, stored in one chunk of memory */ 
</span><a name="LN20"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>ReorderBufferTupleBuf</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* position in preallocated list */ 
</span><a name="LN23"></a>    <a href="../lib/ilist.h.html#LN190"><span class='Ref_to_Struct'>slist_node</span></a>  <span class='Declare_Member'>node</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* tuple header, the interesting bit for users of logical decoding */ 
</span><a name="LN26"></a>    <a href="../access/htup.h.html#LN61"><span class='Ref_to_Struct'>HeapTupleData</span></a> <span class='Declare_Member'>tuple</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* pre-allocated size of tuple buffer, different from tuple size */ 
</span><a name="LN29"></a>    <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Member'>alloc_tuple_size</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* actual tuple data follows */ 
</span><a name="LN32"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>ReorderBufferTupleBuf</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* pointer to the data stored in a TupleBuf */ 
</span><a name="LN35"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ReorderBufferTupleBufData</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Parentheses'>((</span><a href="../access/htup.h.html#LN22"><span class='Ref_to_Typedef'>HeapTupleHeader</span></a><span class='Parentheses'>)</span> <a href="../c.h.html#LN587"><span class='Ref_to_Macro'>MAXALIGN</span></a><span class='Parentheses'>(((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="reorderbuffer.h.html#LN35"><span class='Ref_to_Parameter'>p</span></a><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="reorderbuffer.h.html#LN20"><span class='Ref_to_Struct'>ReorderBufferTupleBuf</span></a><span class='Parentheses'>)))</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Types of the change passed to a 'change' callback. 
 * 
 * For efficiency and simplicity reasons we want to keep Snapshots, CommandIds 
 * and ComboCids in the same list with the user visible INSERT/UPDATE/DELETE 
 * changes. Users of the decoding facilities will never see changes with 
 * *_INTERNAL_* actions. 
 * 
 * The INTERNAL_SPEC_INSERT and INTERNAL_SPEC_CONFIRM changes concern 
 * "speculative insertions", and their confirmation respectively.  They're 
 * used by INSERT .. ON CONFLICT .. UPDATE.  Users of logical decoding don't 
 * have to care about these. 
 */ 
</span><a name="LN51"></a><span class='Control'>enum</span> <span class='Declare_Enum'>ReorderBufferChangeType</span> 
<span class='Delimiter'>{ 
</span><a name="LN53"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_INSERT</span><span class='Delimiter'>, 
</span><a name="LN54"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_UPDATE</span><span class='Delimiter'>, 
</span><a name="LN55"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_DELETE</span><span class='Delimiter'>, 
</span><a name="LN56"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_MESSAGE</span><span class='Delimiter'>, 
</span><a name="LN57"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_INTERNAL_SNAPSHOT</span><span class='Delimiter'>, 
</span><a name="LN58"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_INTERNAL_COMMAND_ID</span><span class='Delimiter'>, 
</span><a name="LN59"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_INTERNAL_TUPLECID</span><span class='Delimiter'>, 
</span><a name="LN60"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_INTERNAL_SPEC_INSERT</span><span class='Delimiter'>, 
</span><a name="LN61"></a>    <span class='Declare_Enum_Const'>REORDER_BUFFER_CHANGE_INTERNAL_SPEC_CONFIRM</span> 
<span class='Delimiter'>}; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * a single 'change', can be an insert (with one tuple), an update (old, new), 
 * or a delete (old). 
 * 
 * The same struct is also used internally for other purposes but that should 
 * never be visible outside reorderbuffer.c. 
 */ 
</span><a name="LN71"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>ReorderBufferChange</span> 
<span class='Delimiter'>{ 
</span><a name="LN73"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* The type of change. */ 
</span><a name="LN76"></a>    <span class='Control'>enum</span> <a href="reorderbuffer.h.html#LN51"><span class='Ref_to_Enum'>ReorderBufferChangeType</span></a> <span class='Declare_Member'>action</span><span class='Delimiter'>; 
</span> 
<a name="LN78"></a>    <a href="../access/xlogdefs.h.html#LN50"><span class='Ref_to_Typedef'>RepOriginId</span></a> <span class='Declare_Member'>origin_id</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Context data for the change. Which part of the union is valid depends 
     * on action. 
     */ 
</span>    <span class='Control'>union</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Old, new tuples when action == *_INSERT|UPDATE|DELETE */ 
</span>        <span class='Control'>struct</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* relation that has been changed */ 
</span><a name="LN90"></a>            <a href="../storage/relfilenode.h.html#LN56"><span class='Ref_to_Struct'>RelFileNode</span></a> <span class='Declare_Member'>relnode</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* no previously reassembled toast chunks are necessary anymore */ 
</span><a name="LN93"></a>            <span class='Keyword'>bool</span>        <span class='Declare_Member'>clear_toast_afterwards</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* valid for DELETE || UPDATE */ 
</span><a name="LN96"></a>            <a href="reorderbuffer.h.html#LN20"><span class='Ref_to_Struct'>ReorderBufferTupleBuf</span></a> <span class='Operator'>*</span><span class='Declare_Member'>oldtuple</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* valid for INSERT || UPDATE */ 
</span><a name="LN98"></a>            <a href="reorderbuffer.h.html#LN20"><span class='Ref_to_Struct'>ReorderBufferTupleBuf</span></a> <span class='Operator'>*</span><span class='Declare_Member'>newtuple</span><span class='Delimiter'>; 
</span><a name="LN99"></a>        <span class='Delimiter'>}</span>           <span class='Declare_Member'>tp</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Message with arbitrary data. */ 
</span>        <span class='Control'>struct</span> 
        <span class='Delimiter'>{ 
</span><a name="LN104"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>prefix</span><span class='Delimiter'>; 
</span><a name="LN105"></a>            <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Member'>message_size</span><span class='Delimiter'>; 
</span><a name="LN106"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>message</span><span class='Delimiter'>; 
</span><a name="LN107"></a>        <span class='Delimiter'>}</span>           <span class='Declare_Member'>msg</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* New snapshot, set when action == *_INTERNAL_SNAPSHOT */ 
</span><a name="LN110"></a>        <a href="../utils/snapshot.h.html#LN22"><span class='Ref_to_Typedef'>Snapshot</span></a>    <span class='Declare_Member'>snapshot</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * New command id for existing snapshot in a catalog changing tx. Set 
         * when action == *_INTERNAL_COMMAND_ID. 
         */ 
</span><a name="LN116"></a>        <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a>   <span class='Declare_Member'>command_id</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * New cid mapping for catalog changing transaction, set when action 
         * == *_INTERNAL_TUPLECID. 
         */ 
</span>        <span class='Control'>struct</span> 
        <span class='Delimiter'>{ 
</span><a name="LN124"></a>            <a href="../storage/relfilenode.h.html#LN56"><span class='Ref_to_Struct'>RelFileNode</span></a> <span class='Declare_Member'>node</span><span class='Delimiter'>; 
</span><a name="LN125"></a>            <a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Member'>tid</span><span class='Delimiter'>; 
</span><a name="LN126"></a>            <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a>   <span class='Declare_Member'>cmin</span><span class='Delimiter'>; 
</span><a name="LN127"></a>            <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a>   <span class='Declare_Member'>cmax</span><span class='Delimiter'>; 
</span><a name="LN128"></a>            <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a>   <span class='Declare_Member'>combocid</span><span class='Delimiter'>; 
</span><a name="LN129"></a>        <span class='Delimiter'>}</span>           <span class='Declare_Member'>tuplecid</span><span class='Delimiter'>; 
</span><a name="LN130"></a>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end {anondata} &raquo; </span>           <span class='Declare_Member'>data</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * While in use this is how a change is linked into a transactions, 
     * otherwise it's the preallocated list. 
     */ 
</span><a name="LN136"></a>    <a href="../lib/ilist.h.html#LN120"><span class='Ref_to_Struct'>dlist_node</span></a>  <span class='Declare_Member'>node</span><span class='Delimiter'>; 
</span><a name="LN137"></a>}<span class='Auto_Annotations'> &laquo; end ReorderBufferChange &raquo; </span> <span class='Declare_Typedef'>ReorderBufferChange</span><span class='Delimiter'>; 
</span> 
<a name="LN139"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>ReorderBufferTXN</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * The transactions transaction id, can be a toplevel or sub xid. 
     */ 
</span><a name="LN144"></a>    <a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>xid</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* did the TX have catalog changes */ 
</span><a name="LN147"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>has_catalog_changes</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Do we know this is a subxact? 
     */ 
</span><a name="LN152"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>is_known_as_subxact</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * LSN of the first data carrying, WAL record with knowledge about this 
     * xid. This is allowed to *not* be first record adorned with this xid, if 
     * the previous records aren't relevant for logical decoding. 
     */ 
</span><a name="LN159"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>first_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* ---- 
     * LSN of the record that lead to this xact to be committed or 
     * aborted. This can be a 
     * * plain commit record 
     * * plain commit record, of a parent transaction 
     * * prepared transaction commit 
     * * plain abort record 
     * * prepared transaction abort 
     * * error during decoding 
     * ---- 
     */ 
</span><a name="LN172"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>final_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * LSN pointing to the end of the commit record + 1. 
     */ 
</span><a name="LN177"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>end_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * LSN of the last lsn at which snapshot information reside, so we can 
     * restart decoding from there and fully recover this transaction from 
     * WAL. 
     */ 
</span><a name="LN184"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>restart_decoding_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* origin of the change that caused this transaction */ 
</span><a name="LN187"></a>    <a href="../access/xlogdefs.h.html#LN50"><span class='Ref_to_Typedef'>RepOriginId</span></a> <span class='Declare_Member'>origin_id</span><span class='Delimiter'>; 
</span><a name="LN188"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>origin_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Commit time, only known when we read the actual commit record. 
     */ 
</span><a name="LN193"></a>    <a href="../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Member'>commit_time</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Base snapshot or NULL. 
     */ 
</span><a name="LN198"></a>    <a href="../utils/snapshot.h.html#LN22"><span class='Ref_to_Typedef'>Snapshot</span></a>    <span class='Declare_Member'>base_snapshot</span><span class='Delimiter'>; 
</span><a name="LN199"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>base_snapshot_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * How many ReorderBufferChange's do we have in this txn. 
     * 
     * Changes in subtransactions are *not* included but tracked separately. 
     */ 
</span><a name="LN206"></a>    <a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a>      <span class='Declare_Member'>nentries</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * How many of the above entries are stored in memory in contrast to being 
     * spilled to disk. 
     */ 
</span><a name="LN212"></a>    <a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a>      <span class='Declare_Member'>nentries_mem</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * List of ReorderBufferChange structs, including new Snapshots and new 
     * CommandIds 
     */ 
</span><a name="LN218"></a>    <a href="../lib/ilist.h.html#LN134"><span class='Ref_to_Struct'>dlist_head</span></a>  <span class='Declare_Member'>changes</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * List of (relation, ctid) =&GT; (cmin, cmax) mappings for catalog tuples. 
     * Those are always assigned to the toplevel transaction. (Keep track of 
     * #entries to create a hash of the right size) 
     */ 
</span><a name="LN225"></a>    <a href="../lib/ilist.h.html#LN134"><span class='Ref_to_Struct'>dlist_head</span></a>  <span class='Declare_Member'>tuplecids</span><span class='Delimiter'>; 
</span><a name="LN226"></a>    <a href="../c.h.html#LN297"><span class='Ref_to_Typedef'>uint64</span></a>      <span class='Declare_Member'>ntuplecids</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * On-demand built hash for looking up the above values. 
     */ 
</span><a name="LN231"></a>    <a href="../../backend/utils/hash/dynahash.c.html#LN192"><span class='Ref_to_Struct'>HTAB</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>tuplecid_hash</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Hash containing (potentially partial) toast entries. NULL if no toast 
     * tuples have been found for the current change. 
     */ 
</span><a name="LN237"></a>    <a href="../../backend/utils/hash/dynahash.c.html#LN192"><span class='Ref_to_Struct'>HTAB</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>toast_hash</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * non-hierarchical list of subtransactions that are *not* aborted. Only 
     * used in toplevel transactions. 
     */ 
</span><a name="LN243"></a>    <a href="../lib/ilist.h.html#LN134"><span class='Ref_to_Struct'>dlist_head</span></a>  <span class='Declare_Member'>subtxns</span><span class='Delimiter'>; 
</span><a name="LN244"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>nsubtxns</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Stored cache invalidations. This is not a linked list because we get 
     * all the invalidations at once. 
     */ 
</span><a name="LN250"></a>    <a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a>      <span class='Declare_Member'>ninvalidations</span><span class='Delimiter'>; 
</span><a name="LN251"></a>    <a href="../storage/sinval.h.html#LN112"><span class='Ref_to_Typedef'>SharedInvalidationMessage</span></a> <span class='Operator'>*</span><span class='Declare_Member'>invalidations</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* --- 
     * Position in one of three lists: 
     * * list of subtransactions if we are *known* to be subxact 
     * * list of toplevel xacts (can be an as-yet unknown subxact) 
     * * list of preallocated ReorderBufferTXNs 
     * --- 
     */ 
</span><a name="LN260"></a>    <a href="../lib/ilist.h.html#LN120"><span class='Ref_to_Struct'>dlist_node</span></a>  <span class='Declare_Member'>node</span><span class='Delimiter'>; 
</span> 
<a name="LN262"></a><span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ReorderBufferTXN &raquo; </span> <span class='Declare_Typedef'>ReorderBufferTXN</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* so we can define the callbacks used inside struct ReorderBuffer itself */ 
</span><a name="LN265"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <a href="reorderbuffer.h.html#LN294"><span class='Ref_to_Struct'>ReorderBuffer</span></a> <span class='Declare_Typedef'>ReorderBuffer</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* change callback signature */ 
</span><a name="LN268"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReorderBufferApplyChangeCB</span><span class='Parentheses'>) ( 
</span>                                                        <a href="reorderbuffer.h.html#LN294"><span class='Ref_to_Struct'>ReorderBuffer</span></a> <span class='Operator'>*</span>rb<span class='Delimiter'>, 
</span>                                                        <a href="reorderbuffer.h.html#LN139"><span class='Ref_to_Struct'>ReorderBufferTXN</span></a> <span class='Operator'>*</span>txn<span class='Delimiter'>, 
</span>                                                        <a href="../utils/relcache.h.html#LN20"><span class='Ref_to_Typedef'>Relation</span></a> relation<span class='Delimiter'>, 
</span>                                                <a href="reorderbuffer.h.html#LN71"><span class='Ref_to_Struct'>ReorderBufferChange</span></a> <span class='Operator'>*</span>change<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* begin callback signature */ 
</span><a name="LN275"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReorderBufferBeginCB</span><span class='Parentheses'>) ( 
</span>                                                  <a href="reorderbuffer.h.html#LN294"><span class='Ref_to_Struct'>ReorderBuffer</span></a> <span class='Operator'>*</span>rb<span class='Delimiter'>, 
</span>                                                  <a href="reorderbuffer.h.html#LN139"><span class='Ref_to_Struct'>ReorderBufferTXN</span></a> <span class='Operator'>*</span>txn<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* commit callback signature */ 
</span><a name="LN280"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReorderBufferCommitCB</span><span class='Parentheses'>) ( 
</span>                                                   <a href="reorderbuffer.h.html#LN294"><span class='Ref_to_Struct'>ReorderBuffer</span></a> <span class='Operator'>*</span>rb<span class='Delimiter'>, 
</span>                                                   <a href="reorderbuffer.h.html#LN139"><span class='Ref_to_Struct'>ReorderBufferTXN</span></a> <span class='Operator'>*</span>txn<span class='Delimiter'>, 
</span>                                                   <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> commit_lsn<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* message callback signature */ 
</span><a name="LN286"></a><span class='Control'>typedef</span> <span class='Keyword'>void </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>ReorderBufferMessageCB</span><span class='Parentheses'>) ( 
</span>                                                    <a href="reorderbuffer.h.html#LN294"><span class='Ref_to_Struct'>ReorderBuffer</span></a> <span class='Operator'>*</span>rb<span class='Delimiter'>, 
</span>                                                    <a href="reorderbuffer.h.html#LN139"><span class='Ref_to_Struct'>ReorderBufferTXN</span></a> <span class='Operator'>*</span>txn<span class='Delimiter'>, 
</span>                                                    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> message_lsn<span class='Delimiter'>, 
</span>                                                    <span class='Keyword'>bool </span>transactional<span class='Delimiter'>, 
</span>                                                 <span class='Keyword'>const char </span><span class='Operator'>*</span>prefix<span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> sz<span class='Delimiter'>, 
</span>                                                    <span class='Keyword'>const char </span><span class='Operator'>*</span>message<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN294"></a><span class='Control'>struct</span> <span class='Declare_Struct'>ReorderBuffer</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * xid =&GT; ReorderBufferTXN lookup table 
     */ 
</span><a name="LN299"></a>    <a href="../../backend/utils/hash/dynahash.c.html#LN192"><span class='Ref_to_Struct'>HTAB</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>by_txn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Transactions that could be a toplevel xact, ordered by LSN of the first 
     * record bearing that xid. 
     */ 
</span><a name="LN305"></a>    <a href="../lib/ilist.h.html#LN134"><span class='Ref_to_Struct'>dlist_head</span></a>  <span class='Declare_Member'>toplevel_by_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * one-entry sized cache for by_txn. Very frequently the same txn gets 
     * looked up over and over again. 
     */ 
</span><a name="LN311"></a>    <a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Member'>by_txn_last_xid</span><span class='Delimiter'>; 
</span><a name="LN312"></a>    <a href="reorderbuffer.h.html#LN139"><span class='Ref_to_Struct'>ReorderBufferTXN</span></a> <span class='Operator'>*</span><span class='Declare_Member'>by_txn_last_txn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Callbacks to be called when a transactions commits. 
     */ 
</span><a name="LN317"></a>    <a href="reorderbuffer.h.html#LN275"><span class='Ref_to_Typedef'>ReorderBufferBeginCB</span></a> <span class='Declare_Member'>begin</span><span class='Delimiter'>; 
</span><a name="LN318"></a>    <a href="reorderbuffer.h.html#LN268"><span class='Ref_to_Typedef'>ReorderBufferApplyChangeCB</span></a> <span class='Declare_Member'>apply_change</span><span class='Delimiter'>; 
</span><a name="LN319"></a>    <a href="reorderbuffer.h.html#LN280"><span class='Ref_to_Typedef'>ReorderBufferCommitCB</span></a> <span class='Declare_Member'>commit</span><span class='Delimiter'>; 
</span><a name="LN320"></a>    <a href="reorderbuffer.h.html#LN286"><span class='Ref_to_Typedef'>ReorderBufferMessageCB</span></a> <span class='Declare_Member'>message</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Pointer that will be passed untouched to the callbacks. 
     */ 
</span><a name="LN325"></a>    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Member'>private_data</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Private memory context. 
     */ 
</span><a name="LN330"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>context</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Memory contexts for specific types objects 
     */ 
</span><a name="LN335"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>change_context</span><span class='Delimiter'>; 
</span><a name="LN336"></a>    <a href="../utils/palloc.h.html#LN35"><span class='Ref_to_Typedef'>MemoryContext</span></a> <span class='Declare_Member'>txn_context</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Data structure slab cache. 
     * 
     * We allocate/deallocate some structures very frequently, to avoid bigger 
     * overhead we cache some unused ones here. 
     * 
     * The maximum number of cached entries is controlled by const variables 
     * on top of reorderbuffer.c 
     */ 
</span> 
    <span class='Comment_Multi_Line'>/* cached ReorderBufferTupleBufs */ 
</span><a name="LN349"></a>    <a href="../lib/ilist.h.html#LN202"><span class='Ref_to_Struct'>slist_head</span></a>  <span class='Declare_Member'>cached_tuplebufs</span><span class='Delimiter'>; 
</span><a name="LN350"></a>    <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Member'>nr_cached_tuplebufs</span><span class='Delimiter'>; 
</span> 
<a name="LN352"></a>    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a>  <span class='Declare_Member'>current_restart_decoding_lsn</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* buffer for disk&LT;-&GT;memory conversions */ 
</span><a name="LN355"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>outbuf</span><span class='Delimiter'>; 
</span><a name="LN356"></a>    <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a>        <span class='Declare_Member'>outbufsize</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ReorderBuffer &raquo; </span><span class='Delimiter'>; 
</span> 
 
<a name="LN360"></a><a href="reorderbuffer.h.html#LN294"><span class='Ref_to_Struct'>ReorderBuffer</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ReorderBufferAllocate</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN361"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferFree</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN363"></a><a href="reorderbuffer.h.html#LN20"><span class='Ref_to_Struct'>ReorderBufferTupleBuf</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ReorderBufferGetTupleBuf</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>tuple_len</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN364"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferReturnTupleBuf</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="reorderbuffer.h.html#LN20"><span class='Ref_to_Struct'>ReorderBufferTupleBuf</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>tuple</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN365"></a><a href="reorderbuffer.h.html#LN71"><span class='Ref_to_Struct'>ReorderBufferChange</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ReorderBufferGetChange</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN366"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferReturnChange</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>ReorderBufferChange</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN368"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferQueueChange</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>ReorderBufferChange</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN369"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferQueueMessage</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../utils/snapshot.h.html#LN22"><span class='Ref_to_Typedef'>Snapshot</span></a> <span class='Declare_Parameter'>snapshot</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, 
</span><a name="LN370"></a>                          <span class='Keyword'>bool </span><span class='Declare_Parameter'>transactional</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>prefix</span><span class='Delimiter'>, 
</span><a name="LN371"></a>                          <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>message_size</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>message</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN372"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferCommit</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, 
</span><a name="LN373"></a>                    <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>commit_lsn</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>end_lsn</span><span class='Delimiter'>, 
</span><a name="LN374"></a>      <a href="../../interfaces/ecpg/include/pgtypes_timestamp.h.html#LN9"><span class='Ref_to_Typedef'>TimestampTz</span></a> <span class='Declare_Parameter'>commit_time</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN50"><span class='Ref_to_Typedef'>RepOriginId</span></a> <span class='Declare_Parameter'>origin_id</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>origin_lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN375"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferAssignChild</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>commit_lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN376"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferCommitChild</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, 
</span><a name="LN377"></a>                         <a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>commit_lsn</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>end_lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN378"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferAbort</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN379"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferAbortOld</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN380"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferForget</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN382"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferSetBaseSnapshot</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../utils/snapshot.h.html#LN51"><span class='Ref_to_Struct'>SnapshotData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>snap</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN383"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferAddSnapshot</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../utils/snapshot.h.html#LN51"><span class='Ref_to_Struct'>SnapshotData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>snap</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN384"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferAddNewCommandId</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, 
</span><a name="LN385"></a>                             <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a> <span class='Declare_Parameter'>cid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN386"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferAddNewTupleCids</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, 
</span><a name="LN387"></a>                             <a href="../storage/relfilenode.h.html#LN56"><span class='Ref_to_Struct'>RelFileNode</span></a> <span class='Declare_Parameter'>node</span><span class='Delimiter'>, </span><a href="../storage/itemptr.h.html#LN35"><span class='Ref_to_Struct'>ItemPointerData</span></a> <span class='Declare_Parameter'>pt</span><span class='Delimiter'>, 
</span><a name="LN388"></a>                         <a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a> <span class='Declare_Parameter'>cmin</span><span class='Delimiter'>, </span><a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a> <span class='Declare_Parameter'>cmax</span><span class='Delimiter'>, </span><a href="../c.h.html#LN410"><span class='Ref_to_Typedef'>CommandId</span></a> <span class='Declare_Parameter'>combocid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN389"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferAddInvalidations</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Delimiter'>, 
</span><a name="LN390"></a>                              <a href="../c.h.html#LN355"><span class='Ref_to_Typedef'>Size</span></a> <span class='Declare_Parameter'>nmsgs</span><span class='Delimiter'>, </span><a href="../storage/sinval.h.html#LN112"><span class='Ref_to_Typedef'>SharedInvalidationMessage</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>msgs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN391"></a><span class='Keyword'>void </span><span class='Declare_Prototype'>ReorderBufferImmediateInvalidation</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Parameter'>ninvalidations</span><span class='Delimiter'>, 
</span><a name="LN392"></a>                                   <a href="../storage/sinval.h.html#LN112"><span class='Ref_to_Typedef'>SharedInvalidationMessage</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>invalidations</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN393"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferProcessXid</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN394"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferXidSetCatalogChanges</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>lsn</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN395"></a><span class='Keyword'>bool</span>        <span class='Declare_Prototype'>ReorderBufferXidHasCatalogChanges</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN396"></a><span class='Keyword'>bool</span>        <span class='Declare_Prototype'>ReorderBufferXidHasBaseSnapshot</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../c.h.html#LN396"><span class='Ref_to_Typedef'>TransactionId</span></a> <span class='Declare_Parameter'>xid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN398"></a><a href="reorderbuffer.h.html#LN139"><span class='Ref_to_Struct'>ReorderBufferTXN</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>ReorderBufferGetOldestTXN</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN400"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>ReorderBufferSetRestartPoint</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>ReorderBuffer</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../access/xlogdefs.h.html#LN20"><span class='Ref_to_Typedef'>XLogRecPtr</span></a> <span class='Declare_Parameter'>ptr</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN402"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>StartupReorderBuffer</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>