<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\include\utils\selfuncs.h</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\include\utils\selfuncs.h</b></p></td>
<td align='right'>
Wed Jun 14 08:26:08 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * selfuncs.h 
 *    Selectivity functions for standard operators, and assorted 
 *    infrastructure for selectivity and cost estimation. 
 * 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * src/include/utils/selfuncs.h 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Directive'>#ifndef</span> <a href="selfuncs.h.html#LN15"><span class='Ref_to_Const'>SELFUNCS_H</span></a> 
<a name="LN15"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>SELFUNCS_H</span> 
 
<span class='Keyword'>#include </span><span class='String'>"fmgr.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"access/htup.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"nodes/relation.h"</span> 
 
 
<span class='Comment_Multi_Line'>/* 
 * Note: the default selectivity estimates are not chosen entirely at random. 
 * We want them to be small enough to ensure that indexscans will be used if 
 * available, for typical table densities of ~100 tuples/page.  Thus, for 
 * example, 0.01 is not quite small enough, since that makes it appear that 
 * nearly all pages will be hit anyway.  Also, since we sometimes estimate 
 * eqsel as 1/num_distinct, we probably want DEFAULT_NUM_DISTINCT to equal 
 * 1/DEFAULT_EQ_SEL. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* default selectivity estimate for equalities such as "A = b" */ 
</span><a name="LN33"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_EQ_SEL</span>  <span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>005</span> 
 
<span class='Comment_Multi_Line'>/* default selectivity estimate for inequalities such as "A &LT; b" */ 
</span><a name="LN36"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_INEQ_SEL</span>  <span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>3333333333333333</span> 
 
<span class='Comment_Multi_Line'>/* default selectivity estimate for range inequalities "A &GT; b AND A &LT; c" */ 
</span><a name="LN39"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_RANGE_INEQ_SEL</span>  <span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>005</span> 
 
<span class='Comment_Multi_Line'>/* default selectivity estimate for pattern-match operators such as LIKE */ 
</span><a name="LN42"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_MATCH_SEL</span>   <span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>005</span> 
 
<span class='Comment_Multi_Line'>/* default number of distinct values in a table */ 
</span><a name="LN45"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_NUM_DISTINCT</span>  <span class='Number'>200</span> 
 
<span class='Comment_Multi_Line'>/* default selectivity estimate for boolean and null test nodes */ 
</span><a name="LN48"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_UNK_SEL</span>         <span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>005</span> 
<a name="LN49"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_NOT_UNK_SEL</span>     <span class='Parentheses'>(</span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>- </span><a href="selfuncs.h.html#LN48"><span class='Ref_to_Const'>DEFAULT_UNK_SEL</span></a><span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Clamp a computed probability estimate (which may suffer from roundoff or 
 * estimation errors) to valid range.  Argument must be a float variable. 
 */ 
</span><a name="LN56"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>CLAMP_PROBABILITY</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>p</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="selfuncs.h.html#LN56"><span class='Ref_to_Parameter'>p</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>            <a href="selfuncs.h.html#LN56"><span class='Ref_to_Parameter'>p</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="selfuncs.h.html#LN56"><span class='Ref_to_Parameter'>p</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>            <a href="selfuncs.h.html#LN56"><span class='Ref_to_Parameter'>p</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
 
<span class='Comment_Multi_Line'>/* Return data from examine_variable and friends */ 
</span><a name="LN66"></a><span class='Control'>typedef</span> <span class='Control'>struct</span> <span class='Declare_Struct'>VariableStatData</span> 
<span class='Delimiter'>{ 
</span><a name="LN68"></a>    <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>var</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* the Var or expression tree */ 
</span><a name="LN69"></a>    <a href="../nodes/relation.h.html#LN517"><span class='Ref_to_Struct'>RelOptInfo</span></a> <span class='Operator'>*</span><span class='Declare_Member'>rel</span><span class='Delimiter'>;</span>            <span class='Comment_Single_Line'>/* Relation, or NULL if not identifiable */ 
</span><a name="LN70"></a>    <a href="../access/htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a>   <span class='Declare_Member'>statsTuple</span><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* pg_statistic tuple, or NULL if none */ 
</span>    <span class='Comment_Multi_Line'>/* NB: if statsTuple!=NULL, it must be freed when caller is done */ 
</span><a name="LN72"></a>    <span class='Keyword'>void</span>        <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Member'>freefunc</span><span class='Parentheses'>) (</span><a href="../access/htup.h.html#LN69"><span class='Ref_to_Typedef'>HeapTuple</span></a> tuple<span class='Parentheses'>)</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* how to free statsTuple */ 
</span><a name="LN73"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>vartype</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* exposed type of expression */ 
</span><a name="LN74"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>atttype</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* actual type (after stripping relabel) */ 
</span><a name="LN75"></a>    <a href="../c.h.html#LN255"><span class='Ref_to_Typedef'>int32</span></a>       <span class='Declare_Member'>atttypmod</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* actual typmod (after stripping relabel) */ 
</span><a name="LN76"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>isunique</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* matches unique index or DISTINCT clause */ 
</span><a name="LN77"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>acl_ok</span><span class='Delimiter'>;</span>         <span class='Comment_Single_Line'>/* result of ACL check on table or column */ 
</span><a name="LN78"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>VariableStatData</span><span class='Delimiter'>; 
</span> 
<a name="LN80"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>ReleaseVariableStats</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>vardata</span><span class='Parentheses'>)</span>  <span class='Operator'>\ 
</span>    <span class='Control'>do</span> <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../access/htup.h.html#LN76"><span class='Ref_to_Macro'>HeapTupleIsValid</span></a><span class='Parentheses'>((</span><a href="selfuncs.h.html#LN80"><span class='Ref_to_Parameter'>vardata</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>statsTuple<span class='Parentheses'>))</span> <span class='Operator'>\ 
</span>            <span class='Parentheses'>(</span><span class='Operator'>* </span><span class='Parentheses'>(</span><a href="selfuncs.h.html#LN80"><span class='Ref_to_Parameter'>vardata</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>freefunc<span class='Parentheses'>)</span> <span class='Parentheses'>((</span><a href="selfuncs.h.html#LN80"><span class='Ref_to_Parameter'>vardata</span></a><span class='Parentheses'>)</span><span class='Operator'>.</span>statsTuple<span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>    <span class='Delimiter'>} </span><span class='Control'>while</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span> 
 
<span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN89"></a>    <span class='Declare_Enum_Const'>Pattern_Type_Like</span><span class='Delimiter'>, </span><span class='Declare_Enum_Const'>Pattern_Type_Like_IC</span><span class='Delimiter'>, 
</span><a name="LN90"></a>    <span class='Declare_Enum_Const'>Pattern_Type_Regex</span><span class='Delimiter'>, </span><span class='Declare_Enum_Const'>Pattern_Type_Regex_IC</span> 
<a name="LN91"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>Pattern_Type</span><span class='Delimiter'>; 
</span> 
<span class='Control'>typedef</span> <span class='Control'>enum</span> 
<span class='Delimiter'>{ 
</span><a name="LN95"></a>    <span class='Declare_Enum_Const'>Pattern_Prefix_None</span><span class='Delimiter'>, </span><span class='Declare_Enum_Const'>Pattern_Prefix_Partial</span><span class='Delimiter'>, </span><span class='Declare_Enum_Const'>Pattern_Prefix_Exact</span> 
<a name="LN96"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>Pattern_Prefix_Status</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * deconstruct_indexquals is a simple function to examine the indexquals 
 * attached to a proposed IndexPath.  It returns a list of IndexQualInfo 
 * structs, one per qual expression. 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN105"></a>    <a href="../nodes/relation.h.html#LN1742"><span class='Ref_to_Struct'>RestrictInfo</span></a> <span class='Operator'>*</span><span class='Declare_Member'>rinfo</span><span class='Delimiter'>;</span>        <span class='Comment_Single_Line'>/* the indexqual itself */ 
</span><a name="LN106"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>indexcol</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* zero-based index column number */ 
</span><a name="LN107"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Member'>varonleft</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* true if index column is on left of qual */ 
</span><a name="LN108"></a>    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a>         <span class='Declare_Member'>clause_op</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* qual's operator OID, if relevant */ 
</span><a name="LN109"></a>    <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a>       <span class='Operator'>*</span><span class='Declare_Member'>other_operand</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* non-index operand of qual's operator */ 
</span><a name="LN110"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>IndexQualInfo</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * genericcostestimate is a general-purpose estimator that can be used for 
 * most index types.  In some cases we use genericcostestimate as the base 
 * code and then incorporate additional index-type-specific knowledge in 
 * the type-specific calling function.  To avoid code duplication, we make 
 * genericcostestimate return a number of intermediate values as well as 
 * its preliminary estimates of the output cost values.  The GenericCosts 
 * struct includes all these values. 
 * 
 * Callers should initialize all fields of GenericCosts to zero.  In addition, 
 * they can set numIndexTuples to some positive value if they have a better 
 * than default way of estimating the number of leaf index tuples visited. 
 */ 
</span><span class='Control'>typedef</span> <span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* These are the values the cost estimator must return to the planner */ 
</span><a name="LN128"></a>    <a href="../nodes/nodes.h.html#LN638"><span class='Ref_to_Typedef'>Cost</span></a>        <span class='Declare_Member'>indexStartupCost</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* index-related startup cost */ 
</span><a name="LN129"></a>    <a href="../nodes/nodes.h.html#LN638"><span class='Ref_to_Typedef'>Cost</span></a>        <span class='Declare_Member'>indexTotalCost</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* total index-related scan cost */ 
</span><a name="LN130"></a>    <a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Member'>indexSelectivity</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* selectivity of index */ 
</span><a name="LN131"></a>    <span class='Keyword'>double</span>      <span class='Declare_Member'>indexCorrelation</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* order correlation of index */ 
</span> 
    <span class='Comment_Multi_Line'>/* Intermediate values we obtain along the way */ 
</span><a name="LN134"></a>    <span class='Keyword'>double</span>      <span class='Declare_Member'>numIndexPages</span><span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* number of leaf pages visited */ 
</span><a name="LN135"></a>    <span class='Keyword'>double</span>      <span class='Declare_Member'>numIndexTuples</span><span class='Delimiter'>; </span><span class='Comment_Single_Line'>/* number of leaf tuples visited */ 
</span><a name="LN136"></a>    <span class='Keyword'>double</span>      <span class='Declare_Member'>spc_random_page_cost</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* relevant random_page_cost value */ 
</span><a name="LN137"></a>    <span class='Keyword'>double</span>      <span class='Declare_Member'>num_sa_scans</span><span class='Delimiter'>;</span>   <span class='Comment_Single_Line'>/* # indexscans from ScalarArrayOps */ 
</span><a name="LN138"></a><span class='Delimiter'>} </span><span class='Declare_Typedef'>GenericCosts</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Hooks for plugins to get control when we ask for stats */ 
</span><a name="LN141"></a><span class='Control'>typedef</span> <span class='Keyword'>bool </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>get_relation_stats_hook_type</span><span class='Parentheses'>) (</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span>root<span class='Delimiter'>, 
</span>                                                          <a href="../nodes/parsenodes.h.html#LN932"><span class='Ref_to_Struct'>RangeTblEntry</span></a> <span class='Operator'>*</span>rte<span class='Delimiter'>, 
</span>                                                          <a href="../access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a> attnum<span class='Delimiter'>, 
</span>                                                  <a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span>vardata<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN145"></a><span class='Keyword'>extern </span><a href="../../interfaces/ecpg/include/sqlca.h.html#LN5"><span class='Ref_to_Const'>PGDLLIMPORT</span></a> <a href="selfuncs.h.html#LN141"><span class='Ref_to_Typedef'>get_relation_stats_hook_type</span></a> <span class='Declare_Var'>get_relation_stats_hook</span><span class='Delimiter'>; 
</span><a name="LN146"></a><span class='Control'>typedef</span> <span class='Keyword'>bool </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Typedef'>get_index_stats_hook_type</span><span class='Parentheses'>) (</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span>root<span class='Delimiter'>, 
</span>                                                       <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> indexOid<span class='Delimiter'>, 
</span>                                                       <a href="../access/attnum.h.html#LN20"><span class='Ref_to_Typedef'>AttrNumber</span></a> indexattnum<span class='Delimiter'>, 
</span>                                                  <a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span>vardata<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN150"></a><span class='Keyword'>extern </span><a href="../../interfaces/ecpg/include/sqlca.h.html#LN5"><span class='Ref_to_Const'>PGDLLIMPORT</span></a> <a href="selfuncs.h.html#LN146"><span class='Ref_to_Typedef'>get_index_stats_hook_type</span></a> <span class='Declare_Var'>get_index_stats_hook</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Functions in selfuncs.c */ 
</span> 
<a name="LN154"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>examine_variable</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>node</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Delimiter'>, 
</span><a name="LN155"></a>                 <a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN156"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>statistic_proc_security_check</span><span class='Parentheses'>(</span><a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata</span><span class='Delimiter'>, </span><a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>func_oid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN157"></a><span class='Keyword'>extern bool </span><span class='Declare_Prototype'>get_restriction_variable</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>args</span><span class='Delimiter'>, 
</span><a name="LN158"></a>                         <span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Delimiter'>, 
</span><a name="LN159"></a>                         <a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>**</span><span class='Declare_Parameter'>other</span><span class='Delimiter'>, 
</span><a name="LN160"></a>                         <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>varonleft</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN161"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>get_join_variables</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>args</span><span class='Delimiter'>, 
</span><a name="LN162"></a>                   <a href="../nodes/relation.h.html#LN1913"><span class='Ref_to_Struct'>SpecialJoinInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sjinfo</span><span class='Delimiter'>, 
</span><a name="LN163"></a>                   <a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata1</span><span class='Delimiter'>, 
</span><a name="LN164"></a>                   <a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata2</span><span class='Delimiter'>, 
</span><a name="LN165"></a>                   <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>join_is_reversed</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN166"></a><span class='Keyword'>extern double </span><span class='Declare_Prototype'>get_variable_numdistinct</span><span class='Parentheses'>(</span><a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata</span><span class='Delimiter'>, 
</span><a name="LN167"></a>                         <span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Declare_Parameter'>isdefault</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN168"></a><span class='Keyword'>extern double </span><span class='Declare_Prototype'>mcv_selectivity</span><span class='Parentheses'>(</span><a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata</span><span class='Delimiter'>, </span><a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opproc</span><span class='Delimiter'>, 
</span><a name="LN169"></a>                <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>constval</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>varonleft</span><span class='Delimiter'>, 
</span><a name="LN170"></a>                <span class='Keyword'>double </span><span class='Operator'>*</span><span class='Declare_Parameter'>sumcommonp</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN171"></a><span class='Keyword'>extern double </span><span class='Declare_Prototype'>histogram_selectivity</span><span class='Parentheses'>(</span><a href="selfuncs.h.html#LN66"><span class='Ref_to_Struct'>VariableStatData</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>vardata</span><span class='Delimiter'>, </span><a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>opproc</span><span class='Delimiter'>, 
</span><a name="LN172"></a>                      <a href="../postgres.h.html#LN371"><span class='Ref_to_Typedef'>Datum</span></a> <span class='Declare_Parameter'>constval</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>varonleft</span><span class='Delimiter'>, 
</span><a name="LN173"></a>                      <span class='Keyword'>int </span><span class='Declare_Parameter'>min_hist_size</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>n_skip</span><span class='Delimiter'>, 
</span><a name="LN174"></a>                      <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>hist_size</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN176"></a><span class='Keyword'>extern </span><a href="selfuncs.h.html#LN93"><span class='Ref_to_Typedef'>Pattern_Prefix_Status</span></a> <span class='Declare_Prototype'>pattern_fixed_prefix</span><span class='Parentheses'>(</span><a href="../nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>patt</span><span class='Delimiter'>, 
</span><a name="LN177"></a>                     <a href="selfuncs.h.html#LN87"><span class='Ref_to_Typedef'>Pattern_Type</span></a> <span class='Declare_Parameter'>ptype</span><span class='Delimiter'>, 
</span><a name="LN178"></a>                     <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>collation</span><span class='Delimiter'>, 
</span><a name="LN179"></a>                     <a href="../nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a> <span class='Operator'>**</span><span class='Declare_Parameter'>prefix</span><span class='Delimiter'>, 
</span><a name="LN180"></a>                     <a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rest_selec</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN181"></a><span class='Keyword'>extern </span><a href="../nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>make_greater_string</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../nodes/primnodes.h.html#LN188"><span class='Ref_to_Struct'>Const</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>str_const</span><span class='Delimiter'>, </span><a href="../fmgr.h.html#LN55"><span class='Ref_to_Struct'>FmgrInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>ltproc</span><span class='Delimiter'>, 
</span><a name="LN182"></a>                    <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>collation</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN184"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>boolvarsel</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN185"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>booltestsel</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/primnodes.h.html#LN1193"><span class='Ref_to_Enum'>BoolTestType</span></a> <span class='Declare_Parameter'>booltesttype</span><span class='Delimiter'>, 
</span><a name="LN186"></a>            <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Delimiter'>, 
</span><a name="LN187"></a>            <a href="../nodes/nodes.h.html#LN671"><span class='Ref_to_Enum'>JoinType</span></a> <span class='Declare_Parameter'>jointype</span><span class='Delimiter'>, </span><a href="../nodes/relation.h.html#LN1913"><span class='Ref_to_Struct'>SpecialJoinInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sjinfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN188"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>nulltestsel</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/primnodes.h.html#LN1170"><span class='Ref_to_Enum'>NullTestType</span></a> <span class='Declare_Parameter'>nulltesttype</span><span class='Delimiter'>, 
</span><a name="LN189"></a>            <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Delimiter'>, 
</span><a name="LN190"></a>            <a href="../nodes/nodes.h.html#LN671"><span class='Ref_to_Enum'>JoinType</span></a> <span class='Declare_Parameter'>jointype</span><span class='Delimiter'>, </span><a href="../nodes/relation.h.html#LN1913"><span class='Ref_to_Struct'>SpecialJoinInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sjinfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN191"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>scalararraysel</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, 
</span><a name="LN192"></a>               <a href="../nodes/primnodes.h.html#LN534"><span class='Ref_to_Struct'>ScalarArrayOpExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>clause</span><span class='Delimiter'>, 
</span><a name="LN193"></a>               <span class='Keyword'>bool </span><span class='Declare_Parameter'>is_join_clause</span><span class='Delimiter'>, 
</span><a name="LN194"></a>               <span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN671"><span class='Ref_to_Enum'>JoinType</span></a> <span class='Declare_Parameter'>jointype</span><span class='Delimiter'>, </span><a href="../nodes/relation.h.html#LN1913"><span class='Ref_to_Struct'>SpecialJoinInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sjinfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN195"></a><span class='Keyword'>extern int</span>  <span class='Declare_Prototype'>estimate_array_length</span><span class='Parentheses'>(</span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arrayexpr</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN196"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>rowcomparesel</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, 
</span><a name="LN197"></a>              <a href="../nodes/primnodes.h.html#LN1026"><span class='Ref_to_Struct'>RowCompareExpr</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>clause</span><span class='Delimiter'>, 
</span><a name="LN198"></a>              <span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN671"><span class='Ref_to_Enum'>JoinType</span></a> <span class='Declare_Parameter'>jointype</span><span class='Delimiter'>, </span><a href="../nodes/relation.h.html#LN1913"><span class='Ref_to_Struct'>SpecialJoinInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sjinfo</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN200"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>mergejoinscansel</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>clause</span><span class='Delimiter'>, 
</span><a name="LN201"></a>                 <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>opfamily</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>strategy</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>nulls_first</span><span class='Delimiter'>, 
</span><a name="LN202"></a>                 <a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>leftstart</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>leftend</span><span class='Delimiter'>, 
</span><a name="LN203"></a>                 <a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rightstart</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rightend</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN205"></a><span class='Keyword'>extern double </span><span class='Declare_Prototype'>estimate_num_groups</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>groupExprs</span><span class='Delimiter'>, 
</span><a name="LN206"></a>                    <span class='Keyword'>double </span><span class='Declare_Parameter'>input_rows</span><span class='Delimiter'>, </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>**</span><span class='Declare_Parameter'>pgset</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN208"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>estimate_hash_bucketsize</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>hashkey</span><span class='Delimiter'>, 
</span><a name="LN209"></a>                         <span class='Keyword'>double </span><span class='Declare_Parameter'>nbuckets</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN211"></a><span class='Keyword'>extern </span><a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Prototype'>deconstruct_indexquals</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN1027"><span class='Ref_to_Struct'>IndexPath</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>path</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN212"></a><span class='Keyword'>extern void </span><span class='Declare_Prototype'>genericcostestimate</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, </span><a href="../nodes/relation.h.html#LN1027"><span class='Ref_to_Struct'>IndexPath</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>path</span><span class='Delimiter'>, 
</span><a name="LN213"></a>                    <span class='Keyword'>double </span><span class='Declare_Parameter'>loop_count</span><span class='Delimiter'>, 
</span><a name="LN214"></a>                    <a href="../nodes/pg_list.h.html#LN44"><span class='Ref_to_Struct'>List</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>qinfos</span><span class='Delimiter'>, 
</span><a name="LN215"></a>                    <a href="selfuncs.h.html#LN125"><span class='Ref_to_Typedef'>GenericCosts</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>costs</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* Functions in array_selfuncs.c */ 
</span> 
<a name="LN219"></a><span class='Keyword'>extern </span><a href="../nodes/nodes.h.html#LN637"><span class='Ref_to_Typedef'>Selectivity</span></a> <span class='Declare_Prototype'>scalararraysel_containment</span><span class='Parentheses'>(</span><a href="../nodes/relation.h.html#LN150"><span class='Ref_to_Struct'>PlannerInfo</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>root</span><span class='Delimiter'>, 
</span><a name="LN220"></a>                           <a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>leftop</span><span class='Delimiter'>, </span><a href="../nodes/nodes.h.html#LN508"><span class='Ref_to_Struct'>Node</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>rightop</span><span class='Delimiter'>, 
</span><a name="LN221"></a>                           <a href="../postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>elemtype</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>isEquality</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>useOr</span><span class='Delimiter'>, 
</span><a name="LN222"></a>                           <span class='Keyword'>int </span><span class='Declare_Parameter'>varRelid</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* SELFUNCS_H */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>