<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\interfaces\ecpg\compatlib\informix.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\interfaces\ecpg\compatlib\informix.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:09 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* src/interfaces/ecpg/compatlib/informix.c */ 
</span> 
<a name="LN2"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>POSTGRES_ECPG_INTERNAL</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;math.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;limits.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;ecpgtype.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;ecpg_informix.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;pgtypes_error.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;pgtypes_date.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;pgtypes_numeric.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;sqltypes.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;sqlca.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;ecpgerrno.h&GT;</span> 
 
<span class='Comment_Multi_Line'>/* this is also defined in ecpglib/misc.c, by defining it twice we don't have to export the symbol */ 
</span> 
<a name="LN20"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Declare_Var'>sqlca_init</span> <span class='Operator'>= 
</span><span class='Delimiter'>{ 
</span>    <span class='Delimiter'>{ 
</span>        <span class='String'>'S'</span><span class='Delimiter'>, </span><span class='String'>'Q'</span><span class='Delimiter'>, </span><span class='String'>'L'</span><span class='Delimiter'>, </span><span class='String'>'C'</span><span class='Delimiter'>, </span><span class='String'>'A'</span><span class='Delimiter'>, </span><span class='String'>' '</span><span class='Delimiter'>, </span><span class='String'>' '</span><span class='Delimiter'>, </span><span class='String'>' '</span> 
    <span class='Delimiter'>}, 
</span>    <span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>    <span class='Number'>0</span><span class='Delimiter'>, 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Number'>0</span><span class='Delimiter'>, 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Number'>0</span> 
        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{ 
</span>        <span class='String'>'N'</span><span class='Delimiter'>, </span><span class='String'>'O'</span><span class='Delimiter'>, </span><span class='String'>'T'</span><span class='Delimiter'>, </span><span class='String'>' '</span><span class='Delimiter'>, </span><span class='String'>'S'</span><span class='Delimiter'>, </span><span class='String'>'E'</span><span class='Delimiter'>, </span><span class='String'>'T'</span><span class='Delimiter'>, </span><span class='String'>' '</span> 
    <span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span> 
    <span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span> 
    <span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{ 
</span>        <span class='String'>'0'</span><span class='Delimiter'>, </span><span class='String'>'0'</span><span class='Delimiter'>, </span><span class='String'>'0'</span><span class='Delimiter'>, </span><span class='String'>'0'</span><span class='Delimiter'>, </span><span class='String'>'0'</span> 
    <span class='Delimiter'>} 
}; 
</span><span class='Keyword'>static int 
</span><a name="LN47"></a><span class='Declare_Function'>deccall2</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg2</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Parentheses'>) (</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span> 
<span class='Delimiter'>{ 
</span><a name="LN49"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>a1</span><span class='Delimiter'>, 
</span><a name="LN50"></a>               <span class='Operator'>*</span><span class='Declare_Local'>a2</span><span class='Delimiter'>; 
</span><a name="LN51"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>())</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="informix.c.html#LN50"><span class='Ref_To_Local'>a2</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>())</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN47"><span class='Ref_to_Parameter'>arg1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN50"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN47"><span class='Ref_to_Parameter'>arg2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN50"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN50"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="informix.c.html#LN51"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="informix.c.html#LN47"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>) (</span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN50"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN49"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN50"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN51"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end deccall2 &raquo; </span> 
 
<span class='Keyword'>static int 
</span><a name="LN85"></a><span class='Declare_Function'>deccall3</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg2</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>result</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Parentheses'>) (</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>))</span> 
<span class='Delimiter'>{ 
</span><a name="LN87"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>a1</span><span class='Delimiter'>, 
</span><a name="LN88"></a>               <span class='Operator'>*</span><span class='Declare_Local'>a2</span><span class='Delimiter'>, 
</span><a name="LN89"></a>               <span class='Operator'>*</span><span class='Declare_Local'>nres</span><span class='Delimiter'>; 
</span><a name="LN90"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * we must NOT set the result to NULL here because it may be the same 
     * variable as one of the arguments 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>arg1</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| </span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>arg2</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>())</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>())</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="informix.c.html#LN89"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>())</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>arg1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN89"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>arg2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN89"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="informix.c.html#LN90"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>) (</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN89"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN90"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span>                 <span class='Comment_Single_Line'>/* No error */ 
</span>    <span class='Delimiter'>{ 
</span> 
        <span class='Comment_Multi_Line'>/* set the result to null in case it errors out later */ 
</span>        <a href="../include/ecpg_informix.h.html#LN47"><span class='Ref_to_Proto'>rsetnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../include/pgtypes_numeric.h.html#LN59"><span class='Ref_to_Proto'>PGTYPESnumeric_to_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN89"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN85"><span class='Ref_to_Parameter'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN89"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN87"><span class='Ref_To_Local'>a1</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN88"><span class='Ref_To_Local'>a2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN90"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end deccall3 &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* we start with the numeric functions */ 
</span><span class='Keyword'>int 
</span><a name="LN150"></a><span class='Declare_Function'>decadd</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg2</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>sum</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN84"><span class='Ref_to_Func'>deccall3</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN150"><span class='Ref_to_Parameter'>arg1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN150"><span class='Ref_to_Parameter'>arg2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN150"><span class='Ref_to_Parameter'>sum</span></a><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN47"><span class='Ref_to_Proto'>PGTYPESnumeric_add</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>== </span><a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>== </span><a href="../include/pgtypes_error.h.html#LN5"><span class='Ref_to_Const'>PGTYPES_NUM_UNDERFLOW</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN16"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_UNDERFLOW</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN166"></a><span class='Declare_Function'>deccmp</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>arg2</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN46"><span class='Ref_to_Func'>deccall2</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN166"><span class='Ref_to_Parameter'>arg1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN166"><span class='Ref_to_Parameter'>arg2</span></a><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN51"><span class='Ref_to_Proto'>PGTYPESnumeric_cmp</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN172"></a><span class='Declare_Function'>deccopy</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>src</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>target</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    memcpy<span class='Parentheses'>(</span><a href="informix.c.html#LN172"><span class='Ref_to_Parameter'>target</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN172"><span class='Ref_to_Parameter'>src</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN178"></a><span class='Declare_Function'>ecpg_strndup</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span>size_t <span class='Declare_Parameter'>len</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN180"></a>    size_t      <span class='Declare_Local'>real_len</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="informix.c.html#LN178"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN181"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>use_len</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) ((</span><a href="informix.c.html#LN180"><span class='Ref_To_Local'>real_len</span></a> <span class='Operator'>&GT; </span><a href="informix.c.html#LN178"><span class='Ref_to_Parameter'>len</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="informix.c.html#LN178"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>: </span><a href="informix.c.html#LN180"><span class='Ref_To_Local'>real_len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN183"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>new</span> <span class='Operator'>= </span><a href="../../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN181"><span class='Ref_To_Local'>use_len</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Control'>new</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        memcpy<span class='Parentheses'>(</span><span class='Control'>new</span><span class='Delimiter'>, </span><a href="informix.c.html#LN178"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN181"><span class='Ref_To_Local'>use_len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>new</span><span class='Delimiter'>[</span><a href="informix.c.html#LN181"><span class='Ref_To_Local'>use_len</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        errno <span class='Operator'>= </span>ENOMEM<span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Control'>new</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN197"></a><span class='Declare_Function'>deccvasc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cp</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN199"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>str</span><span class='Delimiter'>; 
</span><a name="LN200"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN201"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
    <a href="../include/ecpg_informix.h.html#LN47"><span class='Ref_to_Proto'>rsetnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN197"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN13"><span class='Ref_to_Const'>CSTRINGTYPE</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN197"><span class='Ref_to_Parameter'>cp</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN199"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN177"><span class='Ref_to_Func'>ecpg_strndup</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN197"><span class='Ref_to_Parameter'>cp</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN197"><span class='Ref_to_Parameter'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>;</span><span class='Comment_Multi_Line'>/* decimal_in always converts the complete 
                                 * string */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="informix.c.html#LN199"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN200"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN16"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_UNDERFLOW</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN201"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN45"><span class='Ref_to_Proto'>PGTYPESnumeric_from_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN199"><span class='Ref_To_Local'>str</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="informix.c.html#LN201"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Operator'>: 
</span>                    <a href="informix.c.html#LN200"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN3"><span class='Ref_to_Const'>PGTYPES_NUM_BAD_NUMERIC</span></a><span class='Operator'>: 
</span>                    <a href="informix.c.html#LN200"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN25"><span class='Ref_to_Const'>ECPG_INFORMIX_BAD_NUMERIC</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>default</span><span class='Operator'>: 
</span>                    <a href="informix.c.html#LN200"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN26"><span class='Ref_to_Const'>ECPG_INFORMIX_BAD_EXPONENT</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN232"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN59"><span class='Ref_to_Proto'>PGTYPESnumeric_to_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN201"><span class='Ref_To_Local'>result</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN197"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN201"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN232"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="informix.c.html#LN200"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN199"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="informix.c.html#LN200"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end deccvasc &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN245"></a><span class='Declare_Function'>deccvdbl</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>dbl</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN247"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span><span class='Delimiter'>; 
</span><a name="LN248"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <a href="../include/ecpg_informix.h.html#LN47"><span class='Ref_to_Proto'>rsetnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN245"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN10"><span class='Ref_to_Const'>CDOUBLETYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="informix.c.html#LN245"><span class='Ref_to_Parameter'>dbl</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN247"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN247"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN248"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN55"><span class='Ref_to_Proto'>PGTYPESnumeric_from_double</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN245"><span class='Ref_to_Parameter'>dbl</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN247"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN248"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN248"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN59"><span class='Ref_to_Proto'>PGTYPESnumeric_to_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN247"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN245"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN247"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN248"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end deccvdbl &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN267"></a><span class='Declare_Function'>deccvint</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>in</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN269"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span><span class='Delimiter'>; 
</span><a name="LN270"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <a href="../include/ecpg_informix.h.html#LN47"><span class='Ref_to_Proto'>rsetnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN267"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN7"><span class='Ref_to_Const'>CINTTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="informix.c.html#LN267"><span class='Ref_to_Parameter'>in</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN269"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN269"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN270"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN52"><span class='Ref_to_Proto'>PGTYPESnumeric_from_int</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN267"><span class='Ref_to_Parameter'>in</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN269"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN270"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN270"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN59"><span class='Ref_to_Proto'>PGTYPESnumeric_to_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN269"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN267"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN269"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN270"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end deccvint &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN289"></a><span class='Declare_Function'>deccvlong</span><span class='Parentheses'>(</span><span class='Keyword'>long </span><span class='Declare_Parameter'>lng</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN291"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span><span class='Delimiter'>; 
</span><a name="LN292"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <a href="../include/ecpg_informix.h.html#LN47"><span class='Ref_to_Proto'>rsetnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN289"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN8"><span class='Ref_to_Const'>CLONGTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="informix.c.html#LN289"><span class='Ref_to_Parameter'>lng</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN291"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN291"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN292"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN53"><span class='Ref_to_Proto'>PGTYPESnumeric_from_long</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN289"><span class='Ref_to_Parameter'>lng</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN291"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN292"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN292"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN59"><span class='Ref_to_Proto'>PGTYPESnumeric_to_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN291"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN289"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN291"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN292"><span class='Ref_To_Local'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end deccvlong &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN311"></a><span class='Declare_Function'>decdiv</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n2</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>result</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN313"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN313"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN84"><span class='Ref_to_Func'>deccall3</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN311"><span class='Ref_to_Parameter'>n1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN311"><span class='Ref_to_Parameter'>n2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN311"><span class='Ref_to_Parameter'>result</span></a><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN50"><span class='Ref_to_Proto'>PGTYPESnumeric_div</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN313"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN4"><span class='Ref_to_Const'>PGTYPES_NUM_DIVIDE_ZERO</span></a><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN17"><span class='Ref_to_Const'>ECPG_INFORMIX_DIVIDE_ZERO</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN16"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_UNDERFLOW</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end decdiv &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN336"></a><span class='Declare_Function'>decmul</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n2</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>result</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN338"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN338"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN84"><span class='Ref_to_Func'>deccall3</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN336"><span class='Ref_to_Parameter'>n1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN336"><span class='Ref_to_Parameter'>n2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN336"><span class='Ref_to_Parameter'>result</span></a><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN49"><span class='Ref_to_Proto'>PGTYPESnumeric_mul</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN338"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN16"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_UNDERFLOW</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end decmul &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN358"></a><span class='Declare_Function'>decsub</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n1</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>n2</span><span class='Delimiter'>, </span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>result</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN360"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN360"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN84"><span class='Ref_to_Func'>deccall3</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN358"><span class='Ref_to_Parameter'>n1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN358"><span class='Ref_to_Parameter'>n2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN358"><span class='Ref_to_Parameter'>result</span></a><span class='Delimiter'>, </span><a href="../include/pgtypes_numeric.h.html#LN48"><span class='Ref_to_Proto'>PGTYPESnumeric_sub</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN360"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN16"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_UNDERFLOW</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end decsub &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN380"></a><span class='Declare_Function'>dectoasc</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>cp</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>right</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN382"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>str</span><span class='Delimiter'>; 
</span><a name="LN383"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span><span class='Delimiter'>; 
</span> 
    <a href="../include/ecpg_informix.h.html#LN47"><span class='Ref_to_Proto'>rsetnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN13"><span class='Ref_to_Const'>CSTRINGTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>cp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/ecpg_informix.h.html#LN46"><span class='Ref_to_Proto'>risnull</span></a><span class='Parentheses'>(</span><a href="../include/sqltypes.h.html#LN11"><span class='Ref_to_Const'>CDECIMALTYPE</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>np</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>np</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>right</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN46"><span class='Ref_to_Proto'>PGTYPESnumeric_to_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>right</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN46"><span class='Ref_to_Proto'>PGTYPESnumeric_to_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN20"><span class='Ref_to_Member'>dscale</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN383"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * TODO: have to take care of len here and create exponential notation if 
     * necessary 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><span class='Keyword'>int</span><span class='Parentheses'>)</span> <span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>&GT; </span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>len</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>&GT; </span><span class='Number'>1</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>cp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'*'</span><span class='Delimiter'>; 
</span>            <a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>cp</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN380"><span class='Ref_to_Parameter'>cp</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN382"><span class='Ref_To_Local'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end dectoasc &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN431"></a><span class='Declare_Function'>dectodbl</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Delimiter'>, </span><span class='Keyword'>double </span><span class='Operator'>*</span><span class='Declare_Parameter'>dblp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN433"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN434"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN434"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN431"><span class='Ref_to_Parameter'>np</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN434"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN434"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="informix.c.html#LN433"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN56"><span class='Ref_to_Proto'>PGTYPESnumeric_to_double</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN434"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN431"><span class='Ref_to_Parameter'>dblp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN434"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="informix.c.html#LN433"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dectodbl &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN452"></a><span class='Declare_Function'>dectoint</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>ip</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN454"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span><span class='Delimiter'>; 
</span><a name="LN455"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN455"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN452"><span class='Ref_to_Parameter'>np</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN455"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN455"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="informix.c.html#LN454"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN57"><span class='Ref_to_Proto'>PGTYPESnumeric_to_int</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN455"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN452"><span class='Ref_to_Parameter'>ip</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN455"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN454"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>== </span><a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN454"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="informix.c.html#LN454"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dectoint &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN476"></a><span class='Declare_Function'>dectolong</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>np</span><span class='Delimiter'>, </span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Declare_Parameter'>lngp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN478"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ret</span><span class='Delimiter'>; 
</span><a name="LN479"></a>    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN479"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN60"><span class='Ref_to_Proto'>PGTYPESnumeric_from_decimal</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN476"><span class='Ref_to_Parameter'>np</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN479"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN479"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="informix.c.html#LN478"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN58"><span class='Ref_to_Proto'>PGTYPESnumeric_to_long</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN479"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN476"><span class='Ref_to_Parameter'>lngp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN479"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN478"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>== </span><a href="../include/pgtypes_error.h.html#LN2"><span class='Ref_to_Const'>PGTYPES_NUM_OVERFLOW</span></a><span class='Parentheses'>) 
</span>        <a href="informix.c.html#LN478"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN15"><span class='Ref_to_Const'>ECPG_INFORMIX_NUM_OVERFLOW</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="informix.c.html#LN478"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dectolong &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* Now the date functions */ 
</span><span class='Keyword'>int 
</span><a name="LN501"></a><span class='Declare_Function'>rdatestr</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Declare_Parameter'>d</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN503"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>tmp</span> <span class='Operator'>= </span><a href="../include/pgtypes_date.h.html#LN17"><span class='Ref_to_Proto'>PGTYPESdate_to_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN501"><span class='Ref_to_Parameter'>d</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="informix.c.html#LN503"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN22"><span class='Ref_to_Const'>ECPG_INFORMIX_DATE_CONVERT</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* move to user allocated buffer */ 
</span>    <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN501"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN503"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN503"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
* 
* the input for this function is mmddyyyy and any non-numeric 
* character can be used as a separator 
* 
*/ 
</span><span class='Keyword'>int 
</span><a name="LN522"></a><span class='Declare_Function'>rstrdate</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>d</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN38"><span class='Ref_to_Proto'>rdefmtdate</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN522"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><span class='String'>"mm/dd/yyyy"</span><span class='Delimiter'>, </span><a href="informix.c.html#LN522"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN528"></a><span class='Declare_Function'>rtoday</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>d</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../include/pgtypes_date.h.html#LN22"><span class='Ref_to_Proto'>PGTYPESdate_today</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN528"><span class='Ref_to_Parameter'>d</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN535"></a><span class='Declare_Function'>rjulmdy</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Declare_Parameter'>d</span><span class='Delimiter'>, </span><span class='Keyword'>short </span><span class='Declare_Parameter'>mdy</span><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN537"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>mdy_int</span><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span> 
    <a href="../include/pgtypes_date.h.html#LN19"><span class='Ref_to_Proto'>PGTYPESdate_julmdy</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN535"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN537"><span class='Ref_To_Local'>mdy_int</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN535"><span class='Ref_to_Parameter'>mdy</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="informix.c.html#LN537"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="informix.c.html#LN535"><span class='Ref_to_Parameter'>mdy</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="informix.c.html#LN537"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="informix.c.html#LN535"><span class='Ref_to_Parameter'>mdy</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="informix.c.html#LN537"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN547"></a><span class='Declare_Function'>rdefmtdate</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>d</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmt</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* TODO: take care of DBCENTURY environment variable */ 
</span>    <span class='Comment_Multi_Line'>/* PGSQL functions allow all centuries */ 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN23"><span class='Ref_to_Proto'>PGTYPESdate_defmt_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN547"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN547"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN547"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN9"><span class='Ref_to_Const'>PGTYPES_DATE_ERR_ENOSHORTDATE</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN21"><span class='Ref_to_Const'>ECPG_INFORMIX_ENOSHORTDATE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN8"><span class='Ref_to_Const'>PGTYPES_DATE_ERR_EARGS</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN10"><span class='Ref_to_Const'>PGTYPES_DATE_ERR_ENOTDMY</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN24"><span class='Ref_to_Const'>ECPG_INFORMIX_ENOTDMY</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN11"><span class='Ref_to_Const'>PGTYPES_DATE_BAD_DAY</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN20"><span class='Ref_to_Const'>ECPG_INFORMIX_BAD_DAY</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/pgtypes_error.h.html#LN12"><span class='Ref_to_Const'>PGTYPES_DATE_BAD_MONTH</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN19"><span class='Ref_to_Const'>ECPG_INFORMIX_BAD_MONTH</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN18"><span class='Ref_to_Const'>ECPG_INFORMIX_BAD_YEAR</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
}</span><span class='Auto_Annotations'> &laquo; end rdefmtdate &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN573"></a><span class='Declare_Function'>rfmtdate</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Declare_Parameter'>d</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmt</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN24"><span class='Ref_to_Proto'>PGTYPESdate_fmt_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN573"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN573"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN573"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>== </span>ENOMEM<span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN23"><span class='Ref_to_Const'>ECPG_INFORMIX_OUT_OF_MEMORY</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN22"><span class='Ref_to_Const'>ECPG_INFORMIX_DATE_CONVERT</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN586"></a><span class='Declare_Function'>rmdyjul</span><span class='Parentheses'>(</span><span class='Keyword'>short </span><span class='Declare_Parameter'>mdy</span><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>], </span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>d</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN588"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>mdy_int</span><span class='Delimiter'>[</span><span class='Number'>3</span><span class='Delimiter'>]; 
</span> 
    <a href="informix.c.html#LN588"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="informix.c.html#LN586"><span class='Ref_to_Parameter'>mdy</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>    <a href="informix.c.html#LN588"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="informix.c.html#LN586"><span class='Ref_to_Parameter'>mdy</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>    <a href="informix.c.html#LN588"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="informix.c.html#LN586"><span class='Ref_to_Parameter'>mdy</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>]; 
</span>    <a href="../include/pgtypes_date.h.html#LN20"><span class='Ref_to_Proto'>PGTYPESdate_mdyjul</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN588"><span class='Ref_To_Local'>mdy_int</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN586"><span class='Ref_to_Parameter'>d</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN598"></a><span class='Declare_Function'>rdayofweek</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Declare_Parameter'>d</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN21"><span class='Ref_to_Proto'>PGTYPESdate_dayofweek</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN598"><span class='Ref_to_Parameter'>d</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* And the datetime stuff */ 
</span> 
<span class='Keyword'>void 
</span><a name="LN606"></a><span class='Declare_Function'>dtcurrent</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>ts</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../include/pgtypes_timestamp.h.html#LN20"><span class='Ref_to_Proto'>PGTYPEStimestamp_current</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN606"><span class='Ref_to_Parameter'>ts</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN612"></a><span class='Declare_Function'>dtcvasc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>ts</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN614"></a>    <a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a>   <span class='Declare_Local'>ts_tmp</span><span class='Delimiter'>; 
</span><a name="LN615"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN616"></a>    <span class='Keyword'>char</span>      <span class='Operator'>**</span><span class='Declare_Local'>endptr</span> <span class='Operator'>= &</span><a href="informix.c.html#LN612"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN614"><span class='Ref_To_Local'>ts_tmp</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_timestamp.h.html#LN16"><span class='Ref_to_Proto'>PGTYPEStimestamp_from_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN612"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN616"><span class='Ref_To_Local'>endptr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN615"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span>errno<span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN615"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>) 
</span>        <span class='Comment_Multi_Line'>/* TODO: rewrite to Informix error codes */ 
</span>        <span class='Control'>return</span> <a href="informix.c.html#LN615"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>**</span><a href="informix.c.html#LN616"><span class='Ref_To_Local'>endptr</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* extra characters exist at the end */ 
</span>        <span class='Control'>return</span> <a href="../include/ecpg_informix.h.html#LN28"><span class='Ref_to_Const'>ECPG_INFORMIX_EXTRA_CHARS</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* TODO: other Informix error codes missing */ 
</span> 
    <span class='Comment_Multi_Line'>/* everything went fine */ 
</span>    <span class='Operator'>*</span><a href="informix.c.html#LN612"><span class='Ref_to_Parameter'>ts</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN614"><span class='Ref_To_Local'>ts_tmp</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end dtcvasc &raquo; </span> 
 
<span class='Keyword'>int 
</span><a name="LN638"></a><span class='Declare_Function'>dtcvfmtasc</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>inbuf</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmtstr</span><span class='Delimiter'>, </span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>dtvalue</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../include/pgtypes_timestamp.h.html#LN21"><span class='Ref_to_Proto'>PGTYPEStimestamp_defmt_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN638"><span class='Ref_to_Parameter'>inbuf</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN638"><span class='Ref_to_Parameter'>fmtstr</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN638"><span class='Ref_to_Parameter'>dtvalue</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN644"></a><span class='Declare_Function'>dtsub</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>ts1</span><span class='Delimiter'>, </span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>ts2</span><span class='Delimiter'>, </span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>iv</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../include/pgtypes_timestamp.h.html#LN18"><span class='Ref_to_Proto'>PGTYPEStimestamp_sub</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN644"><span class='Ref_to_Parameter'>ts1</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN644"><span class='Ref_to_Parameter'>ts2</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN644"><span class='Ref_to_Parameter'>iv</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN650"></a><span class='Declare_Function'>dttoasc</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>ts</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>output</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN652"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>asctime</span> <span class='Operator'>= </span><a href="../include/pgtypes_timestamp.h.html#LN17"><span class='Ref_to_Proto'>PGTYPEStimestamp_to_asc</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="informix.c.html#LN650"><span class='Ref_to_Parameter'>ts</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN650"><span class='Ref_to_Parameter'>output</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN652"><span class='Ref_To_Local'>asctime</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN652"><span class='Ref_To_Local'>asctime</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN660"></a><span class='Declare_Function'>dttofmtasc</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>ts</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>output</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>str_len</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmtstr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../include/pgtypes_timestamp.h.html#LN19"><span class='Ref_to_Proto'>PGTYPEStimestamp_fmt_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN660"><span class='Ref_to_Parameter'>ts</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN660"><span class='Ref_to_Parameter'>output</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN660"><span class='Ref_to_Parameter'>str_len</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN660"><span class='Ref_to_Parameter'>fmtstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN666"></a><span class='Declare_Function'>intoasc</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>i</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN668"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>tmp</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN668"><span class='Ref_To_Local'>tmp</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_interval.h.html#LN39"><span class='Ref_to_Proto'>PGTYPESinterval_to_asc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN666"><span class='Ref_to_Parameter'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="informix.c.html#LN668"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span>errno<span class='Delimiter'>; 
</span> 
    memcpy<span class='Parentheses'>(</span><a href="informix.c.html#LN666"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN668"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="informix.c.html#LN668"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN668"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 *  rfmt.c  -  description 
 *  by Carsten Wolff &LT;carsten.wolff@credativ.de&GT;, Wed Apr 2 2003 
 */ 
</span> 
<span class='Keyword'>static </span><span class='Control'>struct</span> 
<span class='Delimiter'>{ 
</span><a name="LN688"></a>    <span class='Keyword'>long</span>        <span class='Declare_Member'>val</span><span class='Delimiter'>; 
</span><a name="LN689"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>maxdigits</span><span class='Delimiter'>; 
</span><a name="LN690"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>digits</span><span class='Delimiter'>; 
</span><a name="LN691"></a>    <span class='Keyword'>int</span>         <span class='Declare_Member'>remaining</span><span class='Delimiter'>; 
</span><a name="LN692"></a>    <span class='Keyword'>char</span>        <span class='Declare_Member'>sign</span><span class='Delimiter'>; 
</span><a name="LN693"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Member'>val_string</span><span class='Delimiter'>; 
</span><a name="LN694"></a>}   <span class='Declare_Var'>value</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/** 
 * initialize the struct, which holds the different forms 
 * of the long value 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN701"></a><span class='Declare_Function'>initValue</span><span class='Parentheses'>(</span><span class='Keyword'>long </span><span class='Declare_Parameter'>lng_val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN703"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN704"></a>                <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span><a name="LN705"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>l</span><span class='Delimiter'>, 
</span><a name="LN706"></a>                <span class='Declare_Local'>dig</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* set some obvious things */ 
</span>    <span class='Keyword'>value</span><span class='Operator'>.</span>val <span class='Operator'>= </span><a href="informix.c.html#LN701"><span class='Ref_to_Parameter'>lng_val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>? </span><a href="informix.c.html#LN701"><span class='Ref_to_Parameter'>lng_val</span></a> <span class='Operator'>: </span><a href="informix.c.html#LN701"><span class='Ref_to_Parameter'>lng_val</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><span class='Operator'>-</span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>value</span><span class='Operator'>.</span>sign <span class='Operator'>= </span><a href="informix.c.html#LN701"><span class='Ref_to_Parameter'>lng_val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>? </span><span class='String'>'+'</span> <span class='Operator'>: </span><span class='String'>'-'</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>value</span><span class='Operator'>.</span>maxdigits <span class='Operator'>= </span>log10<span class='Parentheses'>(</span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Parentheses'>(</span><span class='Number'>8</span> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* determine the number of digits */ 
</span>    <a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>do</span> 
    <span class='Delimiter'>{ 
</span>        <a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>*= </span><span class='Number'>10</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>while</span> <span class='Parentheses'>((</span><a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><span class='Keyword'>value</span><span class='Operator'>.</span>val <span class='Operator'>&& </span><a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>&LT;= </span>LONG_MAX <span class='Operator'>/ </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>&LT;= </span>LONG_MAX <span class='Operator'>/ </span><span class='Number'>10</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>value</span><span class='Operator'>.</span>digits <span class='Operator'>= </span><a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>/= </span><span class='Number'>10</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <span class='Keyword'>value</span><span class='Operator'>.</span>digits <span class='Operator'>= </span><a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Keyword'>value</span><span class='Operator'>.</span>remaining <span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>digits<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* convert the long to string */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Operator'>.</span>digits <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN706"><span class='Ref_To_Local'>dig</span></a> <span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val<span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>digits<span class='Delimiter'>, </span><a href="informix.c.html#LN704"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="informix.c.html#LN703"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Delimiter'>, </span><a href="informix.c.html#LN704"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN704"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="informix.c.html#LN706"><span class='Ref_To_Local'>dig</span></a> <span class='Operator'>/ </span><a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>+ </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN706"><span class='Ref_To_Local'>dig</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN706"><span class='Ref_To_Local'>dig</span></a> <span class='Operator'>% </span><a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN705"><span class='Ref_To_Local'>l</span></a> <span class='Operator'>/= </span><span class='Number'>10</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><span class='Keyword'>value</span><span class='Operator'>.</span>digits<span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end initValue &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* return the position oft the right-most dot in some string */ 
</span><span class='Keyword'>static int 
</span><a name="LN749"></a><span class='Declare_Function'>getRightMostDot</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN751"></a>    size_t      <span class='Declare_Local'>len</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="informix.c.html#LN749"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN752"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN753"></a>                <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN753"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN752"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN751"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="informix.c.html#LN752"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="informix.c.html#LN752"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN749"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN752"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="informix.c.html#LN751"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><a href="informix.c.html#LN753"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN753"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* And finally some misc functions */ 
</span><span class='Keyword'>int 
</span><a name="LN767"></a><span class='Declare_Function'>rfmtlong</span><span class='Parentheses'>(</span><span class='Keyword'>long </span><span class='Declare_Parameter'>lng_val</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmt</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>outbuf</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN769"></a>    size_t      <span class='Declare_Local'>fmt_len</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN770"></a>    size_t      <span class='Declare_Local'>temp_len</span><span class='Delimiter'>; 
</span><a name="LN771"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN772"></a>                <span class='Declare_Local'>j</span><span class='Delimiter'>,</span>              <span class='Comment_Single_Line'>/* position in temp */ 
</span><a name="LN773"></a>                <span class='Declare_Local'>k</span><span class='Delimiter'>, 
</span><a name="LN774"></a>                <span class='Declare_Local'>dotpos</span><span class='Delimiter'>; 
</span><a name="LN775"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>leftalign</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN776"></a>                <span class='Declare_Local'>blank</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN777"></a>                <span class='Declare_Local'>sign</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN778"></a>                <span class='Declare_Local'>entitydone</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN779"></a>                <span class='Declare_Local'>signdone</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN780"></a>                <span class='Declare_Local'>brackets_ok</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN781"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>temp</span><span class='Delimiter'>; 
</span><a name="LN782"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>tmp</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>" "</span><span class='Delimiter'>; 
</span><a name="LN783"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>lastfmt</span> <span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>, 
</span><a name="LN784"></a>                <span class='Declare_Local'>fmtchar</span> <span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span> 
    <a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN769"><span class='Ref_To_Local'>fmt_len</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        errno <span class='Operator'>= </span>ENOMEM<span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* put all info about the long in a struct */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN700"><span class='Ref_to_Func'>initValue</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>lng_val</span></a><span class='Parentheses'>) </span><span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        errno <span class='Operator'>= </span>ENOMEM<span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* '&LT;' is the only format, where we have to align left */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>strchr<span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><span class='String'>'&LT;'</span><span class='Parentheses'>))</span> 
        <a href="informix.c.html#LN775"><span class='Ref_To_Local'>leftalign</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* '(' requires ')' */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>strchr<span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><span class='String'>'('</span><span class='Parentheses'>)</span> <span class='Operator'>&& </span>strchr<span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><span class='String'>')'</span><span class='Parentheses'>))</span> 
        <a href="informix.c.html#LN780"><span class='Ref_To_Local'>brackets_ok</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* get position of the right-most dot in the format-string */ 
</span>    <span class='Comment_Multi_Line'>/* and fill the temp-string wit '0's up to there. */ 
</span>    <a href="informix.c.html#LN774"><span class='Ref_To_Local'>dotpos</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN748"><span class='Ref_to_Func'>getRightMostDot</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* start to parse the formatstring */ 
</span>    <a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a> <span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>digits <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>;</span>       <span class='Comment_Single_Line'>/* position in the value_string */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN769"><span class='Ref_To_Local'>fmt_len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="informix.c.html#LN772"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Delimiter'>, </span><a href="informix.c.html#LN772"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* qualify, where we are in the value_string */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a> <span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>                <a href="informix.c.html#LN777"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN775"><span class='Ref_To_Local'>leftalign</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* can't use strncat(,,0) here, Solaris would freek out */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN777"><span class='Ref_To_Local'>sign</span></a><span class='Parentheses'>) 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN779"><span class='Ref_To_Local'>signdone</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN772"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* if we're right side of the right-most dot, print '0' */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN774"><span class='Ref_To_Local'>dotpos</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="informix.c.html#LN774"><span class='Ref_To_Local'>dotpos</span></a> <span class='Operator'>&LT;= </span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN774"><span class='Ref_To_Local'>dotpos</span></a> <span class='Operator'>&LT; </span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>')'</span><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>sign <span class='Operator'>== </span><span class='String'>'-'</span> <span class='Operator'>? </span><span class='String'>')'</span> <span class='Operator'>: </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'.'</span><span class='Delimiter'>; 
</span>            strcat<span class='Parentheses'>(</span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* the ',' needs special attention, if it is in the blank area */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a> <span class='Operator'>&& </span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>','</span><span class='Parentheses'>) 
</span>            <a href="informix.c.html#LN784"><span class='Ref_To_Local'>fmtchar</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN783"><span class='Ref_To_Local'>lastfmt</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="informix.c.html#LN784"><span class='Ref_To_Local'>fmtchar</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>        <span class='Comment_Multi_Line'>/* waiting for the sign */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="informix.c.html#LN775"><span class='Ref_To_Local'>leftalign</span></a> <span class='Operator'>&& </span><a href="informix.c.html#LN777"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>&& !</span><a href="informix.c.html#LN779"><span class='Ref_To_Local'>signdone</span></a> <span class='Operator'>&& </span><a href="informix.c.html#LN784"><span class='Ref_To_Local'>fmtchar</span></a> <span class='Operator'>!= </span><span class='String'>'+'</span> <span class='Operator'>&& </span><a href="informix.c.html#LN784"><span class='Ref_To_Local'>fmtchar</span></a> <span class='Operator'>!= </span><span class='String'>'-'</span><span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Comment_Multi_Line'>/* analyse this format-char */ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN784"><span class='Ref_To_Local'>fmtchar</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='String'>','</span><span class='Operator'>: 
</span>                <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>','</span><span class='Delimiter'>; 
</span>                <a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'*'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'*'</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'&'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'#'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'-'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN777"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>&& </span><span class='Keyword'>value</span><span class='Operator'>.</span>sign <span class='Operator'>== </span><span class='String'>'-'</span> <span class='Operator'>&& !</span><a href="informix.c.html#LN779"><span class='Ref_To_Local'>signdone</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'-'</span><span class='Delimiter'>; 
</span>                    <a href="informix.c.html#LN779"><span class='Ref_To_Local'>signdone</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN777"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>&& !</span><a href="informix.c.html#LN779"><span class='Ref_To_Local'>signdone</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>sign<span class='Delimiter'>; 
</span>                    <a href="informix.c.html#LN779"><span class='Ref_To_Local'>signdone</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'('</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN777"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>&& </span><a href="informix.c.html#LN780"><span class='Ref_To_Local'>brackets_ok</span></a> <span class='Operator'>&& </span><span class='Keyword'>value</span><span class='Operator'>.</span>sign <span class='Operator'>== </span><span class='String'>'-'</span><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'('</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>')'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN780"><span class='Ref_To_Local'>brackets_ok</span></a> <span class='Operator'>&& </span><span class='Keyword'>value</span><span class='Operator'>.</span>sign <span class='Operator'>== </span><span class='String'>'-'</span><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>')'</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'$'</span><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a> <span class='Operator'>&& !</span><a href="informix.c.html#LN778"><span class='Ref_To_Local'>entitydone</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'$'</span><span class='Delimiter'>; 
</span>                    <a href="informix.c.html#LN778"><span class='Ref_To_Local'>entitydone</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN776"><span class='Ref_To_Local'>blank</span></a><span class='Parentheses'>) 
</span>                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'&LT;'</span><span class='Operator'>: 
</span>                <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Delimiter'>[</span><a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Delimiter'>]; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch fmtchar &raquo; </span> 
        strcat<span class='Parentheses'>(</span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="informix.c.html#LN783"><span class='Ref_To_Local'>lastfmt</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>        <a href="informix.c.html#LN773"><span class='Ref_To_Local'>k</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=fmt_len-1,j=0;i&GT;=0;... &raquo; </span> 
    <span class='Comment_Multi_Line'>/* safety-net */ 
</span>    <a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN769"><span class='Ref_To_Local'>fmt_len</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* reverse the temp-string and put it into the outbuf */ 
</span>    <a href="informix.c.html#LN770"><span class='Ref_To_Local'>temp_len</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>outbuf</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><a href="informix.c.html#LN770"><span class='Ref_To_Local'>temp_len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; </span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT;= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Operator'>--</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN771"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]; 
</span>        strcat<span class='Parentheses'>(</span><a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>outbuf</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN782"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="informix.c.html#LN767"><span class='Ref_to_Parameter'>outbuf</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN770"><span class='Ref_To_Local'>temp_len</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* cleaning up */ 
</span>    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN781"><span class='Ref_To_Local'>temp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Operator'>.</span>val_string<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end rfmtlong &raquo; </span> 
 
<span class='Keyword'>void 
</span><a name="LN961"></a><span class='Declare_Function'>rupshift</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="informix.c.html#LN961"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Delimiter'>; </span><a href="informix.c.html#LN961"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>islower<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="informix.c.html#LN961"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> 
            <span class='Operator'>*</span><a href="informix.c.html#LN961"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>= </span>toupper<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="informix.c.html#LN961"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN970"></a><span class='Declare_Function'>byleng</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>len</span></a><span class='Operator'>--</span><span class='Delimiter'>; </span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>len</span></a><span class='Delimiter'>] </span><span class='Operator'>&& </span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>len</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>' '</span><span class='Delimiter'>; </span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>len</span></a><span class='Operator'>--</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN970"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN977"></a><span class='Declare_Function'>ldchar</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>src</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>dest</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN979"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>dlen</span> <span class='Operator'>= </span><a href="../include/ecpg_informix.h.html#LN53"><span class='Ref_to_Proto'>byleng</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN977"><span class='Ref_to_Parameter'>src</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN977"><span class='Ref_to_Parameter'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/c.h.html#LN1057"><span class='Ref_to_Macro'>memmove</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN977"><span class='Ref_to_Parameter'>dest</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN977"><span class='Ref_to_Parameter'>src</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN979"><span class='Ref_To_Local'>dlen</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="informix.c.html#LN977"><span class='Ref_to_Parameter'>dest</span></a><span class='Delimiter'>[</span><a href="informix.c.html#LN979"><span class='Ref_To_Local'>dlen</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN986"></a><span class='Declare_Function'>rgetmsg</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>msgnum</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>s</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>maxsize</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN986"><span class='Ref_to_Parameter'>msgnum</span></a><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN986"><span class='Ref_to_Parameter'>s</span></a><span class='Delimiter'>;</span>                   <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN986"><span class='Ref_to_Parameter'>maxsize</span></a><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN995"></a><span class='Declare_Function'>rtypalign</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>offset</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN995"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN995"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN1003"></a><span class='Declare_Function'>rtypmsize</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>type</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN1003"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN1003"><span class='Ref_to_Parameter'>len</span></a><span class='Delimiter'>;</span>                 <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN1011"></a><span class='Declare_Function'>rtypwidth</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>sqltype</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>sqllen</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN1011"><span class='Ref_to_Parameter'>sqltype</span></a><span class='Delimiter'>;</span>             <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span><a href="informix.c.html#LN1011"><span class='Ref_to_Parameter'>sqllen</span></a><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* keep the compiler quiet */ 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN1019"></a><span class='Declare_Function'>ECPG_informix_set_var</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>number</span><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>pointer</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../include/ecpglib.h.html#LN85"><span class='Ref_to_Proto'>ECPGset_var</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN1019"><span class='Ref_to_Parameter'>number</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN1019"><span class='Ref_to_Parameter'>pointer</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN1019"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void </span><span class='Operator'>* 
</span><a name="LN1025"></a><span class='Declare_Function'>ECPG_informix_get_var</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>number</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <a href="../include/ecpglib.h.html#LN86"><span class='Ref_to_Proto'>ECPGget_var</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN1025"><span class='Ref_to_Parameter'>number</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN1031"></a><span class='Declare_Function'>ECPG_informix_reset_sqlca</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1033"></a>    <span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlca</span> <span class='Operator'>= </span><a href="../include/sqlca.h.html#LN55"><span class='Ref_to_Proto'>ECPGget_sqlca</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="informix.c.html#LN1033"><span class='Ref_To_Local'>sqlca</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    memcpy<span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="informix.c.html#LN1033"><span class='Ref_To_Local'>sqlca</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="informix.c.html#LN20"><span class='Ref_to_Global_Var'>sqlca_init</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN1042"></a><span class='Declare_Function'>rsetnull</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN1042"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN1042"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN1049"></a><span class='Declare_Function'>risnull</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><a href="../include/ecpglib.h.html#LN82"><span class='Ref_to_Proto'>ECPGis_noind_null</span></a><span class='Parentheses'>(</span><a href="informix.c.html#LN1049"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="informix.c.html#LN1049"><span class='Ref_to_Parameter'>ptr</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
} 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>