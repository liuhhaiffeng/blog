<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\interfaces\ecpg\ecpglib\data.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\interfaces\ecpg\ecpglib\data.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:09 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* src/interfaces/ecpg/ecpglib/data.c */ 
</span> 
<a name="LN2"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>POSTGRES_ECPG_INTERNAL</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;float.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;math.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"ecpgtype.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpglib.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpgerrno.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"extern.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sqlca.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgtypes_numeric.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgtypes_date.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgtypes_timestamp.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgtypes_interval.h"</span> 
 
<span class='Comment_Multi_Line'>/* returns true if character c is a delimiter for the given array type */ 
</span><span class='Keyword'>static bool 
</span><a name="LN20"></a><span class='Declare_Function'>array_delimiter</span><span class='Parentheses'>(</span><span class='Control'>enum</span> <a href="extern.h.html#LN24"><span class='Ref_to_Enum'>ARRAY_TYPE</span></a> <span class='Declare_Parameter'>isarray</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN20"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>== </span><a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_ARRAY</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN20"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='String'>','</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN20"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>== </span><a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_VECTOR</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN20"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* returns true if character c marks the boundary for the given array type */ 
</span><span class='Keyword'>static bool 
</span><a name="LN33"></a><span class='Declare_Function'>array_boundary</span><span class='Parentheses'>(</span><span class='Control'>enum</span> <a href="extern.h.html#LN24"><span class='Ref_to_Enum'>ARRAY_TYPE</span></a> <span class='Declare_Parameter'>isarray</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN33"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>== </span><a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_ARRAY</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN33"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='String'>'}'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN33"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>== </span><a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_VECTOR</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN33"><span class='Ref_to_Parameter'>c</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* returns true if some garbage is found at the end of the scanned string */ 
</span><span class='Keyword'>static bool 
</span><a name="LN46"></a><span class='Declare_Function'>garbage_left</span><span class='Parentheses'>(</span><span class='Control'>enum</span> <a href="extern.h.html#LN24"><span class='Ref_to_Enum'>ARRAY_TYPE</span></a> <span class='Declare_Parameter'>isarray</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>scan_length</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * INFORMIX allows for selecting a numeric into an int, the result is 
     * truncated 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>== </span><a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_NONE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN22"><span class='Ref_to_Macro'>INFORMIX_MODE</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>) </span><span class='Operator'>&& *</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>scan_length</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>scan_length</span></a> <span class='Operator'>!= </span><span class='String'>' '</span> <span class='Operator'>&& *</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>scan_length</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN29"><span class='Ref_to_Macro'>ECPG_IS_ARRAY</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>isarray</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="data.c.html#LN19"><span class='Ref_to_Func'>array_delimiter</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>scan_length</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="data.c.html#LN32"><span class='Ref_to_Func'>array_boundary</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="data.c.html#LN46"><span class='Ref_to_Parameter'>scan_length</span></a><span class='Parentheses'>))</span> 
        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end garbage_left &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* stolen code from src/backend/utils/adt/float.c */ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span>defined<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Parentheses'>) 
</span><a name="LN68"></a><span class='Keyword'>static const </span><a href="../../../include/c.h.html#LN267"><span class='Ref_to_Typedef'>uint32</span></a> <span class='Declare_Var'>nan</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Number'>0xffffffff</span><span class='Delimiter'>, </span><span class='Number'>0x7fffffff</span><span class='Delimiter'>}; 
</span> 
<a name="LN70"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>NAN</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>const double </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../backend/utils/adt/float.c.html#LN40"><span class='Ref_to_Global_Var'>nan</span></a><span class='Parentheses'>)</span> 
<span class='Directive'>#endif</span> 
 
<span class='Keyword'>static double 
</span><a name="LN74"></a><span class='Declare_Function'>get_float8_infinity</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> INFINITY 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span>INFINITY<span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) (</span>HUGE_VAL <span class='Operator'>* </span>HUGE_VAL<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Keyword'>static double 
</span><a name="LN84"></a><span class='Declare_Function'>get_float8_nan</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* (double) NAN doesn't work on some NetBSD/MIPS releases */ 
</span><span class='Directive'>#if</span> defined<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><span class='Parentheses'>(</span>defined<span class='Parentheses'>(</span>__NetBSD__<span class='Parentheses'>) </span><span class='Operator'>&& </span>defined<span class='Parentheses'>(</span>__mips__<span class='Parentheses'>))</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><a href="../../../backend/utils/adt/float.c.html#LN42"><span class='Ref_to_Const'>NAN</span></a><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) (</span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span> <span class='Operator'>/ </span><span class='Number'>0</span><span class='Operator'>.</span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Keyword'>static bool 
</span><a name="LN95"></a><span class='Declare_Function'>check_special_value</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptr</span><span class='Delimiter'>, </span><span class='Keyword'>double </span><span class='Operator'>*</span><span class='Declare_Parameter'>retval</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>endptr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>ptr</span></a><span class='Delimiter'>, </span><span class='String'>"NaN"</span><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>retval</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN57"><span class='Ref_to_Proto'>get_float8_nan</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>ptr</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>ptr</span></a><span class='Delimiter'>, </span><span class='String'>"Infinity"</span><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>retval</span></a> <span class='Operator'>= </span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>ptr</span></a> <span class='Operator'>+ </span><span class='Number'>8</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../port/pgstrcasecmp.c.html#LN67"><span class='Ref_to_Func'>pg_strncasecmp</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>ptr</span></a><span class='Delimiter'>, </span><span class='String'>"-Infinity"</span><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>retval</span></a> <span class='Operator'>= -</span><a href="../../../include/utils/builtins.h.html#LN55"><span class='Ref_to_Proto'>get_float8_infinity</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN95"><span class='Ref_to_Parameter'>ptr</span></a> <span class='Operator'>+ </span><span class='Number'>9</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end check_special_value &raquo; </span> 
 
<span class='Keyword'>bool 
</span><a name="LN120"></a><span class='Declare_Function'>ecpg_get_data</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>results</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>act_tuple</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>act_field</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, 
</span><a name="LN121"></a>              <span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Parameter'>type</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Parameter'>ind_type</span><span class='Delimiter'>, 
</span><a name="LN122"></a>              <span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>var</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ind</span><span class='Delimiter'>, </span><span class='Keyword'>long </span><span class='Declare_Parameter'>varcharsize</span><span class='Delimiter'>, </span><span class='Keyword'>long </span><span class='Declare_Parameter'>offset</span><span class='Delimiter'>, 
</span><a name="LN123"></a>              <span class='Keyword'>long </span><span class='Declare_Parameter'>ind_offset</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN24"><span class='Ref_to_Enum'>ARRAY_TYPE</span></a> <span class='Declare_Parameter'>isarray</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>force_indicator</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN125"></a>    <span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlca</span> <span class='Operator'>= </span><a href="../include/sqlca.h.html#LN55"><span class='Ref_to_Proto'>ECPGget_sqlca</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span><a name="LN126"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pval</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>results</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_field</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN127"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>binary</span> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN480"><span class='Ref_to_Proto'>PQfformat</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>results</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_field</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN128"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>size</span> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN489"><span class='Ref_to_Proto'>PQgetlength</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>results</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_field</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN129"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>value_for_indicator</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN130"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>log_offset</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, 
</span>                   <a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * If we are running in a regression test, do not log the offset variable, 
     * it depends on the machine's alignment. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="misc.c.html#LN29"><span class='Ref_to_Global_Var'>ecpg_internal_regression_mode</span></a><span class='Parentheses'>) 
</span>        <a href="data.c.html#LN130"><span class='Ref_To_Local'>log_offset</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="data.c.html#LN130"><span class='Ref_To_Local'>log_offset</span></a> <span class='Operator'>= </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>; 
</span> 
    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_get_data on line %d: RESULT: %s offset: %ld; array: %s\n"</span><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>? </span><span class='Parentheses'>(</span><a href="data.c.html#LN127"><span class='Ref_To_Local'>binary</span></a> <span class='Operator'>? </span><span class='String'>"BINARY"</span> <span class='Operator'>: </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='String'>"EMPTY"</span><span class='Delimiter'>, </span><a href="data.c.html#LN130"><span class='Ref_To_Local'>log_offset</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN29"><span class='Ref_to_Macro'>ECPG_IS_ARRAY</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='String'>"yes"</span> <span class='Operator'>: </span><span class='String'>"no"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* pval is a pointer to the value */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * This should never happen because we already checked that we found 
         * at least one tuple, but let's play it safe. 
         */ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN9"><span class='Ref_to_Const'>ECPG_NOT_FOUND</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN199"><span class='Ref_to_Const'>ECPG_SQLSTATE_NO_DATA</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* We will have to decode the value */ 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * check for null value and set indicator accordingly, i.e. -1 if NULL and 
     * 0 if not 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>results</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_field</span></a><span class='Parentheses'>))</span> 
        <a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>ind_type</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>short </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long long int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN63"><span class='Ref_to_EnumConst'>ECPGt_NO_INDICATOR</span></a><span class='Operator'>: 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a> <span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>force_indicator</span></a> <span class='Operator'>== </span><span class='Boolean'>false</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * Informix has an additional way to specify NULLs note 
                     * that this uses special values to denote NULL 
                     */ 
</span>                    <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN30"><span class='Ref_to_Const'>ECPG_MISSING_INDICATOR</span></a><span class='Delimiter'>, 
</span>                             <a href="extern.h.html#LN208"><span class='Ref_to_Const'>ECPG_SQLSTATE_NULL_VALUE_NO_INDICATOR_PARAMETER</span></a><span class='Delimiter'>, 
</span>                               <span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN17"><span class='Ref_to_Const'>ECPG_UNSUPPORTED</span></a><span class='Delimiter'>, 
</span>                       <a href="extern.h.html#LN219"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_INTERNAL_ERROR</span></a><span class='Delimiter'>, 
</span>                       <a href="typename.c.html#LN15"><span class='Ref_to_Func'>ecpg_type_name</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>ind_type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch ind_type &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN129"><span class='Ref_To_Local'>value_for_indicator</span></a> <span class='Operator'>== -</span><span class='Number'>1</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* let's check if it really is an array if it should be one */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>== </span><a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_ARRAY</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>!= </span><span class='String'>'{'</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN32"><span class='Ref_to_Const'>ECPG_DATA_NOT_ARRAY</span></a><span class='Delimiter'>, 
</span>                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN47"><span class='Ref_to_EnumConst'>ECPGt_varchar</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Operator'>: 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if isarray==ECPG_ARRAY_A... &raquo; </span> 
 
    <span class='Control'>do</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN127"><span class='Ref_To_Local'>binary</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>* </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>&GT;= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>) 
</span>                memcpy<span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                memcpy<span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>* </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>* </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>&LT; </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* truncation */ 
</span>                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>ind_type</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>short </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long long int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span>                        <span class='Control'>default</span><span class='Operator'>: 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch ind_type &raquo; </span> 
                    <a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN38"><span class='Ref_to_Member'>sqlwarn</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN38"><span class='Ref_to_Member'>sqlwarn</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'W'</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if varcharsize*offset&LT;si... &raquo; </span> 
            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
            <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>+= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if binary &raquo; </span> 
        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN290"></a>                    <span class='Keyword'>long</span>        <span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN291"></a>                    <span class='Keyword'>unsigned long </span><span class='Declare_Local'>ures</span><span class='Delimiter'>; 
</span><a name="LN292"></a>                    <span class='Keyword'>double</span>      <span class='Declare_Local'>dres</span><span class='Delimiter'>; 
</span><a name="LN293"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>scan_length</span><span class='Delimiter'>; 
</span><a name="LN294"></a>                    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>nres</span><span class='Delimiter'>; 
</span><a name="LN295"></a>                    <a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a>        <span class='Declare_Local'>ddres</span><span class='Delimiter'>; 
</span><a name="LN296"></a>                    <a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a>   <span class='Declare_Local'>tres</span><span class='Delimiter'>; 
</span><a name="LN297"></a>                    <a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>ires</span><span class='Delimiter'>; 
</span><a name="LN298"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>endptr</span><span class='Delimiter'>, 
</span><a name="LN299"></a>                                <span class='Declare_Local'>endchar</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>                    <a href="data.c.html#LN290"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN21"><span class='Ref_to_Const'>ECPG_INT_FORMAT</span></a><span class='Delimiter'>, 
</span>                                   <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>short </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><a href="data.c.html#LN290"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="data.c.html#LN290"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><a href="data.c.html#LN290"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>default</span><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/* Cannot happen */ 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                    <a href="data.c.html#LN291"><span class='Ref_To_Local'>ures</span></a> <span class='Operator'>= </span>strtoul<span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN22"><span class='Ref_to_Const'>ECPG_UINT_FORMAT</span></a><span class='Delimiter'>, 
</span>                                   <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>unsigned short </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned short</span><span class='Parentheses'>) </span><a href="data.c.html#LN291"><span class='Ref_To_Local'>ures</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>unsigned int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned int</span><span class='Parentheses'>) </span><a href="data.c.html#LN291"><span class='Ref_To_Local'>ures</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>unsigned long </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned long</span><span class='Parentheses'>) </span><a href="data.c.html#LN291"><span class='Ref_To_Local'>ures</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>default</span><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/* Cannot happen */ 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
<span class='Directive'>#ifdef</span> <a href="../../../include/c.h.html#LN1099"><span class='Ref_to_Const'>HAVE_STRTOLL</span></a> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long long int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="../../../include/c.h.html#LN1098"><span class='Ref_to_Const'>strtoll</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN21"><span class='Ref_to_Const'>ECPG_INT_FORMAT</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_STRTOLL */ 
</span><span class='Directive'>#ifdef</span> <a href="../../../include/c.h.html#LN1105"><span class='Ref_to_Const'>HAVE_STRTOULL</span></a> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>unsigned long long int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="../../../include/c.h.html#LN1104"><span class='Ref_to_Const'>strtoull</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN22"><span class='Ref_to_Const'>ECPG_UINT_FORMAT</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_STRTOULL */ 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>&& *</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN94"><span class='Ref_to_Func'>check_special_value</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN292"><span class='Ref_To_Local'>dres</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Parentheses'>))</span> 
                        <a href="data.c.html#LN292"><span class='Ref_To_Local'>dres</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>&& *</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                        <a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN23"><span class='Ref_to_Const'>ECPG_FLOAT_FORMAT</span></a><span class='Delimiter'>, 
</span>                                   <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>float </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN292"><span class='Ref_To_Local'>dres</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>                            <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>double </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN292"><span class='Ref_To_Local'>dres</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Control'>default</span><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/* Cannot happen */ 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN45"><span class='Ref_to_EnumConst'>ECPGt_bool</span></a><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'f'</span> <span class='Operator'>&& </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'t'</span> <span class='Operator'>&& </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>bool </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'\0'</span> <span class='Operator'>&& </span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>results</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_field</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* NULL is valid */ 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN28"><span class='Ref_to_Const'>ECPG_CONVERT_BOOL</span></a><span class='Delimiter'>, 
</span>                               <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_char</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_char</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Operator'>: 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN447"></a>                        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>str</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * If varcharsize is unknown and the offset is that of 
                         * char *, then this variable represents the array of 
                         * character pointers. So, use extra indirection. 
                         */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>== </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>))</span> 
                            <a href="data.c.html#LN447"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Parentheses'>) </span><a href="data.c.html#LN447"><span class='Ref_To_Local'>str</span></a><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>&GT; </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            strncpy<span class='Parentheses'>(</span><a href="data.c.html#LN447"><span class='Ref_To_Local'>str</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Comment_Multi_Line'>/* do the rtrim() */ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a> <span class='Operator'>== </span><a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span><a name="LN463"></a>                                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>last</span> <span class='Operator'>= </span><a href="data.c.html#LN447"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span> 
                                <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="data.c.html#LN463"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>&GT; </span><a href="data.c.html#LN447"><span class='Ref_To_Local'>str</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN463"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>== </span><span class='String'>' '</span> <span class='Operator'>|| *</span><a href="data.c.html#LN463"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>))</span> 
                                <span class='Delimiter'>{ 
</span>                                    <span class='Operator'>*</span><a href="data.c.html#LN463"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                                    <a href="data.c.html#LN463"><span class='Ref_To_Local'>last</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>                                <span class='Delimiter'>} 
</span>                            <span class='Delimiter'>} 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            strncpy<span class='Parentheses'>(</span><a href="data.c.html#LN447"><span class='Ref_To_Local'>str</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>&LT; </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <span class='Comment_Multi_Line'>/* truncation */ 
</span>                                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>ind_type</span></a><span class='Parentheses'>) 
</span>                                <span class='Delimiter'>{ 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>short </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long long int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span>                                    <span class='Control'>default</span><span class='Operator'>: 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch ind_type &raquo; </span> 
                                <a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN38"><span class='Ref_to_Member'>sqlwarn</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN38"><span class='Ref_to_Member'>sqlwarn</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'W'</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if varcharsize&LT;size &raquo; </span> 
                        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>+= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN47"><span class='Ref_to_EnumConst'>ECPGt_varchar</span></a><span class='Operator'>: 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN511"></a>                        <span class='Control'>struct</span> <a href="extern.h.html#LN32"><span class='Ref_to_Struct'>ECPGgeneric_varchar</span></a> <span class='Operator'>*</span><span class='Declare_Local'>variable</span> <span class='Operator'>= 
</span>                        <span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="extern.h.html#LN32"><span class='Ref_to_Struct'>ECPGgeneric_varchar</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                            strncpy<span class='Parentheses'>(</span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN35"><span class='Ref_to_Member'>arr</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            strncpy<span class='Parentheses'>(</span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN35"><span class='Ref_to_Member'>arr</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <span class='Comment_Multi_Line'>/* truncation */ 
</span>                                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>ind_type</span></a><span class='Parentheses'>) 
</span>                                <span class='Delimiter'>{ 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>short </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>                                    <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                                        <span class='Operator'>*</span><span class='Parentheses'>((</span><span class='Keyword'>long long int </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>ind</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>ind_offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a><span class='Delimiter'>; 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span>                                    <span class='Control'>default</span><span class='Operator'>: 
</span>                                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch ind_type &raquo; </span> 
                                <a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN38"><span class='Ref_to_Member'>sqlwarn</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="data.c.html#LN125"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN38"><span class='Ref_to_Member'>sqlwarn</span></a><span class='Delimiter'>[</span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'W'</span><span class='Delimiter'>; 
</span> 
                                <a href="data.c.html#LN511"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>= </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if variable-&GT;len&GT;varchar... &raquo; </span> 
                        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>+= </span><a href="data.c.html#LN128"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN50"><span class='Ref_to_EnumConst'>ECPGt_decimal</span></a><span class='Operator'>: 
</span>                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Operator'>: 
</span>                    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>','</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'}'</span><span class='Delimiter'>; </span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a> <span class='Operator'>= *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN45"><span class='Ref_to_Proto'>PGTYPESnumeric_from_asc</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* did we get an error? */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_get_data on line %d: RESULT %s; errno %d\n"</span><span class='Delimiter'>, 
</span>                                 <a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span>errno<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN22"><span class='Ref_to_Macro'>INFORMIX_MODE</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Informix wants its own NULL value here instead 
                             * of an error 
                             */ 
</span>                            <a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN41"><span class='Ref_to_Proto'>PGTYPESnumeric_new</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>) 
</span>                                <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>else</span> 
                            <span class='Delimiter'>{ 
</span>                                <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, 
</span>                                     <a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN24"><span class='Ref_to_Const'>ECPG_NUMERIC_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if nres==NULL &raquo; </span> 
                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN24"><span class='Ref_to_Const'>ECPG_NUMERIC_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a> <span class='Operator'>== </span><a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Parentheses'>) 
</span>                        <a href="../include/pgtypes_numeric.h.html#LN54"><span class='Ref_to_Proto'>PGTYPESnumeric_copy</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../include/pgtypes_numeric.h.html#LN59"><span class='Ref_to_Proto'>PGTYPESnumeric_to_decimal</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN294"><span class='Ref_To_Local'>nres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN54"><span class='Ref_to_EnumConst'>ECPGt_interval</span></a><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>','</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'"'</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'}'</span><span class='Delimiter'>; </span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a> <span class='Operator'>= *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_interval.h.html#LN38"><span class='Ref_to_Proto'>PGTYPESinterval_from_asc</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* did we get an error? */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_get_data on line %d: RESULT %s; errno %d\n"</span><span class='Delimiter'>, 
</span>                                 <a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span>errno<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN22"><span class='Ref_to_Macro'>INFORMIX_MODE</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Informix wants its own NULL value here instead 
                             * of an error 
                             */ 
</span>                            <a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a><span class='Parentheses'>) 
</span>                                <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                            <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN54"><span class='Ref_to_EnumConst'>ECPGt_interval</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN25"><span class='Ref_to_Const'>ECPG_INTERVAL_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if ires==NULL &raquo; </span> 
                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                            <a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN25"><span class='Ref_to_Const'>ECPG_INTERVAL_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span> 
                    <a href="../include/pgtypes_interval.h.html#LN40"><span class='Ref_to_Proto'>PGTYPESinterval_copy</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN297"><span class='Ref_To_Local'>ires</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN52"><span class='Ref_to_EnumConst'>ECPGt_date</span></a><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>','</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'"'</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'}'</span><span class='Delimiter'>; </span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a> <span class='Operator'>= *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN295"><span class='Ref_To_Local'>ddres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_date.h.html#LN16"><span class='Ref_to_Proto'>PGTYPESdate_from_asc</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* did we get an error? */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_get_data on line %d: RESULT %s; errno %d\n"</span><span class='Delimiter'>, 
</span>                                 <a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span>errno<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN22"><span class='Ref_to_Macro'>INFORMIX_MODE</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Informix wants its own NULL value here instead 
                             * of an error 
                             */ 
</span>                            <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN52"><span class='Ref_to_EnumConst'>ECPGt_date</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN295"><span class='Ref_To_Local'>ddres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN26"><span class='Ref_to_Const'>ECPG_DATE_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if errno!=0 &raquo; </span> 
                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                            <a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN26"><span class='Ref_to_Const'>ECPG_DATE_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Operator'>*</span><span class='Parentheses'>((</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN295"><span class='Ref_To_Local'>ddres</span></a><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN53"><span class='Ref_to_EnumConst'>ECPGt_timestamp</span></a><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                        <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>','</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'"'</span> <span class='Operator'>&& *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>!= </span><span class='String'>'}'</span><span class='Delimiter'>; </span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a> <span class='Operator'>= *</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN296"><span class='Ref_To_Local'>tres</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_timestamp.h.html#LN16"><span class='Ref_to_Proto'>PGTYPEStimestamp_from_asc</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="data.c.html#LN298"><span class='Ref_To_Local'>endptr</span></a> <span class='Operator'>= </span><a href="data.c.html#LN299"><span class='Ref_To_Local'>endchar</span></a><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* did we get an error? */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>errno <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_get_data on line %d: RESULT %s; errno %d\n"</span><span class='Delimiter'>, 
</span>                                 <a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span>errno<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN22"><span class='Ref_to_Macro'>INFORMIX_MODE</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* 
                             * Informix wants its own NULL value here instead 
                             * of an error 
                             */ 
</span>                            <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN53"><span class='Ref_to_EnumConst'>ECPGt_timestamp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="data.c.html#LN296"><span class='Ref_To_Local'>tres</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN27"><span class='Ref_to_Const'>ECPG_TIMESTAMP_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if errno!=0 &raquo; </span> 
                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                            <a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a> <span class='Operator'>&& </span><a href="data.c.html#LN45"><span class='Ref_to_Func'>garbage_left</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN27"><span class='Ref_to_Const'>ECPG_TIMESTAMP_FORMAT</span></a><span class='Delimiter'>, 
</span>                                       <a href="extern.h.html#LN215"><span class='Ref_to_Const'>ECPG_SQLSTATE_DATATYPE_MISMATCH</span></a><span class='Delimiter'>, </span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>} 
</span> 
                    <span class='Operator'>*</span><span class='Parentheses'>((</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>+ </span><a href="data.c.html#LN122"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>* </span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Parentheses'>))</span> <span class='Operator'>= </span><a href="data.c.html#LN296"><span class='Ref_To_Local'>tres</span></a><span class='Delimiter'>; 
</span>                    <a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="data.c.html#LN293"><span class='Ref_To_Local'>scan_length</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>default</span><span class='Operator'>: 
</span>                    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN17"><span class='Ref_to_Const'>ECPG_UNSUPPORTED</span></a><span class='Delimiter'>, 
</span>                               <a href="extern.h.html#LN219"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_INTERNAL_ERROR</span></a><span class='Delimiter'>, 
</span>                               <a href="typename.c.html#LN15"><span class='Ref_to_Func'>ecpg_type_name</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN121"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch type &raquo; </span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN29"><span class='Ref_to_Macro'>ECPG_IS_ARRAY</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span><a name="LN772"></a>                <span class='Keyword'>bool</span>        <span class='Declare_Local'>string</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* set array to next entry */ 
</span>                <span class='Operator'>++</span><a href="data.c.html#LN120"><span class='Ref_to_Parameter'>act_tuple</span></a><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* set pval to the next entry */ 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * *pval != '\0' should not be needed, but is used as a safety 
                 * guard 
                 */ 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="data.c.html#LN772"><span class='Ref_To_Local'>string</span></a> <span class='Operator'>|| </span><span class='Parentheses'>(</span><span class='Operator'>!</span><a href="data.c.html#LN19"><span class='Ref_to_Func'>array_delimiter</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>) </span><span class='Operator'>&& !</span><a href="data.c.html#LN32"><span class='Ref_to_Func'>array_boundary</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; </span><span class='Operator'>++</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'"'</span><span class='Parentheses'>) 
</span>                        <a href="data.c.html#LN772"><span class='Ref_To_Local'>string</span></a> <span class='Operator'>= </span><a href="data.c.html#LN772"><span class='Ref_To_Local'>string</span></a> <span class='Operator'>? </span><span class='Boolean'>false </span><span class='Operator'>: </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="data.c.html#LN19"><span class='Ref_to_Func'>array_delimiter</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>))</span> 
                    <span class='Operator'>++</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if ECPG_IS_ARRAY(isarray... &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end do &raquo; </span> <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& !</span><a href="data.c.html#LN32"><span class='Ref_to_Func'>array_boundary</span></a><span class='Parentheses'>(</span><a href="data.c.html#LN123"><span class='Ref_to_Parameter'>isarray</span></a><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="data.c.html#LN126"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ecpg_get_data &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>