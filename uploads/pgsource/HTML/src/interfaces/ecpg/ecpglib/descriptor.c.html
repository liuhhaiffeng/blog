<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\interfaces\ecpg\ecpglib\descriptor.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\interfaces\ecpg\ecpglib\descriptor.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:09 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* dynamic SQL support routines 
 * 
 * src/interfaces/ecpg/ecpglib/descriptor.c 
 */ 
</span> 
<a name="LN5"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>POSTGRES_ECPG_INTERNAL</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pg_type.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"ecpg-pthread-win32.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpgtype.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpglib.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpgerrno.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"extern.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sqlca.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sqlda.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sql3types.h"</span> 
 
<a name="LN18"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>descriptor_free</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>desc</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* We manage descriptors separately for each thread. */ 
</span><span class='Directive'>#ifdef</span> ENABLE_THREAD_SAFETY 
<a name="LN22"></a><span class='Keyword'>static </span><a href="../../../port/pthread-win32.h.html#LN6"><span class='Ref_to_Typedef'>pthread_key_t</span></a> <span class='Declare_Var'>descriptor_key</span><span class='Delimiter'>; 
</span><a name="LN23"></a><span class='Keyword'>static </span><a href="../../../port/pthread-win32.h.html#LN8"><span class='Ref_to_Typedef'>pthread_once_t</span></a> <span class='Declare_Var'>descriptor_once</span> <span class='Operator'>= </span><a href="../include/ecpg-pthread-win32.h.html#LN24"><span class='Ref_to_Const'>PTHREAD_ONCE_INIT</span></a><span class='Delimiter'>; 
</span> 
<a name="LN25"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>descriptor_deallocate_all</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>list</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Keyword'>static void 
</span><a name="LN28"></a><span class='Declare_Function'>descriptor_destructor</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>arg</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="descriptor.c.html#LN25"><span class='Ref_to_Proto'>descriptor_deallocate_all</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN28"><span class='Ref_to_Parameter'>arg</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN34"></a><span class='Declare_Function'>descriptor_key_init</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../include/ecpg-pthread-win32.h.html#LN46"><span class='Ref_to_Macro'>pthread_key_create</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="descriptor.c.html#LN22"><span class='Ref_to_Global_Var'>descriptor_key</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN27"><span class='Ref_to_Func'>descriptor_destructor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* 
</span><a name="LN40"></a><span class='Declare_Function'>get_descriptors</span><span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../include/ecpg-pthread-win32.h.html#LN49"><span class='Ref_to_Macro'>pthread_once</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="descriptor.c.html#LN23"><span class='Ref_to_Global_Var'>descriptor_once</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN33"><span class='Ref_to_Func'>descriptor_key_init</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../../port/pthread-win32.h.html#LN13"><span class='Ref_to_Proto'>pthread_getspecific</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN22"><span class='Ref_to_Global_Var'>descriptor_key</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static void 
</span><a name="LN47"></a><span class='Declare_Function'>set_descriptors</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>value</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <a href="../../../port/pthread-win32.h.html#LN12"><span class='Ref_to_Proto'>pthread_setspecific</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN22"><span class='Ref_to_Global_Var'>descriptor_key</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span><span class='Directive'>#else</span> 
<a name="LN52"></a><span class='Keyword'>static </span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Var'>all_descriptors</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
<a name="LN54"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>get_descriptors</span><span class='Parentheses'>()</span>       <span class='Parentheses'>(</span><a href="descriptor.c.html#LN52"><span class='Ref_to_Global_Var'>all_descriptors</span></a><span class='Parentheses'>) 
</span><a name="LN55"></a><span class='Keyword'>#define </span><span class='Declare_Macro'>set_descriptors</span><span class='Parentheses'>(</span><span class='Declare_Parameter'>value</span><span class='Parentheses'>)</span>  <span class='Control'>do</span> <span class='Delimiter'>{ </span><a href="descriptor.c.html#LN52"><span class='Ref_to_Global_Var'>all_descriptors</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; } </span><span class='Control'>while</span><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Parentheses'>) 
</span><span class='Directive'>#endif</span> 
 
<span class='Comment_Multi_Line'>/* old internal convenience function that might go away later */ 
</span><span class='Keyword'>static </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>* 
</span><a name="LN60"></a><span class='Declare_Function'>ecpg_result_by_descriptor</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN62"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc</span> <span class='Operator'>= </span><a href="extern.h.html#LN162"><span class='Ref_to_Proto'>ecpg_find_desc</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN60"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN60"><span class='Ref_to_Parameter'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN62"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="descriptor.c.html#LN62"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static unsigned int 
</span><a name="LN70"></a><span class='Declare_Function'>ecpg_dynamic_type_DDT</span><span class='Parentheses'>(</span><a href="../../../include/postgres_ext.h.html#LN30"><span class='Ref_to_Typedef'>Oid</span></a> <span class='Declare_Parameter'>type</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN70"><span class='Ref_to_Parameter'>type</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="pg_type.h.html#LN50"><span class='Ref_to_Const'>DATEOID</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../test/expected/sql-dyntest.c.html#LN49"><span class='Ref_to_EnumConst'>SQL3_DDT_DATE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="pg_type.h.html#LN51"><span class='Ref_to_Const'>TIMEOID</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../test/expected/sql-dyntest.c.html#LN50"><span class='Ref_to_EnumConst'>SQL3_DDT_TIME</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="pg_type.h.html#LN52"><span class='Ref_to_Const'>TIMESTAMPOID</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../test/expected/sql-dyntest.c.html#LN51"><span class='Ref_to_EnumConst'>SQL3_DDT_TIMESTAMP</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="pg_type.h.html#LN53"><span class='Ref_to_Const'>TIMESTAMPTZOID</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../test/expected/sql-dyntest.c.html#LN53"><span class='Ref_to_EnumConst'>SQL3_DDT_TIMESTAMP_WITH_TIME_ZONE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="pg_type.h.html#LN55"><span class='Ref_to_Const'>TIMETZOID</span></a><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../test/expected/sql-dyntest.c.html#LN52"><span class='Ref_to_EnumConst'>SQL3_DDT_TIME_WITH_TIME_ZONE</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <a href="../test/expected/sql-dyntest.c.html#LN55"><span class='Ref_to_EnumConst'>SQL3_DDT_ILLEGAL</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
} 
</span> 
<span class='Keyword'>bool 
</span><a name="LN90"></a><span class='Declare_Function'>ECPGget_desc_header</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>desc_name</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>count</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN92"></a>    <a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>ECPGresult</span><span class='Delimiter'>; 
</span><a name="LN93"></a>    <span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlca</span> <span class='Operator'>= </span><a href="../include/sqlca.h.html#LN55"><span class='Ref_to_Proto'>ECPGget_sqlca</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN93"><span class='Ref_To_Local'>sqlca</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN90"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, 
</span>                   <a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="misc.c.html#LN97"><span class='Ref_to_Func'>ecpg_init_sqlca</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN93"><span class='Ref_To_Local'>sqlca</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN92"><span class='Ref_To_Local'>ECPGresult</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN59"><span class='Ref_to_Func'>ecpg_result_by_descriptor</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN90"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN90"><span class='Ref_to_Parameter'>desc_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN92"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="descriptor.c.html#LN90"><span class='Ref_to_Parameter'>count</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN92"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN93"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN29"><span class='Ref_to_Member'>sqlerrd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc_header: found %d attributes\n"</span><span class='Delimiter'>, </span><span class='Operator'>*</span><a href="descriptor.c.html#LN90"><span class='Ref_to_Parameter'>count</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ECPGget_desc_header &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN114"></a><span class='Declare_Function'>get_int_item</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>var</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Parameter'>vartype</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>value</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>vartype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>short </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned short </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned short</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned int</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned long </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned long</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>long long int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>long long int</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>unsigned long long int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned long long int</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>float </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>) </span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN114"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN44"><span class='Ref_to_Const'>ECPG_VAR_NOT_NUMERIC</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN202"><span class='Ref_to_Const'>ECPG_SQLSTATE_RESTRICTED_DATA_TYPE_ATTRIBUTE_VIOLATION</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch vartype &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end get_int_item &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN159"></a><span class='Declare_Function'>set_int_item</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>target</span><span class='Delimiter'>, </span><span class='Keyword'>const void </span><span class='Operator'>*</span><span class='Declare_Parameter'>var</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Parameter'>vartype</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>vartype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const short </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const long </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const unsigned short </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const unsigned int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const unsigned long </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> HAVE_LONG_LONG_INT 
        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const long long int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const unsigned long long int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* HAVE_LONG_LONG_INT */ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const float </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>target</span></a> <span class='Operator'>= *</span><span class='Parentheses'>(</span><span class='Keyword'>const double </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN159"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN44"><span class='Ref_to_Const'>ECPG_VAR_NOT_NUMERIC</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN202"><span class='Ref_to_Const'>ECPG_SQLSTATE_RESTRICTED_DATA_TYPE_ATTRIBUTE_VIOLATION</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch vartype &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end set_int_item &raquo; </span> 
 
<span class='Keyword'>static bool 
</span><a name="LN204"></a><span class='Declare_Function'>get_char_item</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Declare_Parameter'>var</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Parameter'>vartype</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>value</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>varcharsize</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>vartype</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_char</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_char</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Operator'>: 
</span>            strncpy<span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN47"><span class='Ref_to_EnumConst'>ECPGt_varchar</span></a><span class='Operator'>: 
</span>            <span class='Delimiter'>{ 
</span><a name="LN215"></a>                <span class='Control'>struct</span> <a href="extern.h.html#LN32"><span class='Ref_to_Struct'>ECPGgeneric_varchar</span></a> <span class='Operator'>*</span><span class='Declare_Local'>variable</span> <span class='Operator'>= 
</span>                <span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="extern.h.html#LN32"><span class='Ref_to_Struct'>ECPGgeneric_varchar</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>var</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    strncpy<span class='Parentheses'>(</span><a href="descriptor.c.html#LN215"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN35"><span class='Ref_to_Member'>arr</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    strncpy<span class='Parentheses'>(</span><a href="descriptor.c.html#LN215"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN35"><span class='Ref_to_Member'>arr</span></a><span class='Delimiter'>, </span><span class='Keyword'>value</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="descriptor.c.html#LN215"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><span class='Keyword'>value</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>varcharsize</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="descriptor.c.html#LN215"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>&GT; </span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Parentheses'>) 
</span>                    <a href="descriptor.c.html#LN215"><span class='Ref_To_Local'>variable</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN34"><span class='Ref_to_Member'>len</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>varcharsize</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN204"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN45"><span class='Ref_to_Const'>ECPG_VAR_NOT_CHAR</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN202"><span class='Ref_to_Const'>ECPG_SQLSTATE_RESTRICTED_DATA_TYPE_ATTRIBUTE_VIOLATION</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch vartype &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end get_char_item &raquo; </span> 
 
<a name="LN236"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>RETURN_IF_NO_DATA</span>   <span class='Control'>if</span> <span class='Parentheses'>(</span>ntuples <span class='Operator'>&LT; </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>\ 
</span>                <span class='Delimiter'>{ </span><span class='Operator'>\ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="../../../pl/plperl/ppport.h.html#LN4358"><span class='Ref_to_Global_Var'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>                    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="../../../pl/plpgsql/src/pl_gram.y.html#LN2221"><span class='Ref_to_Global_Var'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN9"><span class='Ref_to_Const'>ECPG_NOT_FOUND</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN199"><span class='Ref_to_Const'>ECPG_SQLSTATE_NO_DATA</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Operator'>\ 
</span>                <span class='Delimiter'>} 
</span> 
<span class='Keyword'>bool 
</span><a name="LN244"></a><span class='Declare_Function'>ECPGget_desc</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>desc_name</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>index</span><span class='Delimiter'>,</span><span class='Operator'>...</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN246"></a>    va_list     <span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span><a name="LN247"></a>    <a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>ECPGresult</span><span class='Delimiter'>; 
</span><a name="LN248"></a>    <span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN69"><span class='Ref_to_Enum'>ECPGdtype</span></a> <span class='Declare_Local'>type</span><span class='Delimiter'>; 
</span><a name="LN249"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ntuples</span><span class='Delimiter'>, 
</span><a name="LN250"></a>                <span class='Declare_Local'>act_tuple</span><span class='Delimiter'>; 
</span><a name="LN251"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN157"><span class='Ref_to_Struct'>variable</span></a> <span class='Declare_Local'>data_var</span><span class='Delimiter'>; 
</span><a name="LN252"></a>    <span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlca</span> <span class='Operator'>= </span><a href="../include/sqlca.h.html#LN55"><span class='Ref_to_Proto'>ECPGget_sqlca</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN252"><span class='Ref_To_Local'>sqlca</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, 
</span>                   <a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../pl/plperl/ppport.h.html#LN5587"><span class='Ref_to_Proto'>va_start</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="misc.c.html#LN97"><span class='Ref_to_Func'>ecpg_init_sqlca</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN252"><span class='Ref_To_Local'>sqlca</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN59"><span class='Ref_to_Func'>ecpg_result_by_descriptor</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>desc_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a> <span class='Operator'>&GT; </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN42"><span class='Ref_to_Const'>ECPG_INVALID_DESCRIPTOR_INDEX</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN203"><span class='Ref_to_Const'>ECPG_SQLSTATE_INVALID_DESCRIPTOR_INDEX</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: reading items for tuple %d\n"</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>--</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Delimiter'>; 
</span> 
    <a href="descriptor.c.html#LN248"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN69"><span class='Ref_to_Enum'>ECPGdtype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    memset<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="../include/ecpgtype.h.html#LN62"><span class='Ref_to_EnumConst'>ECPGt_EORT</span></a><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN118"><span class='Ref_to_Member'>ind_type</span></a> <span class='Operator'>= </span><a href="../include/ecpgtype.h.html#LN63"><span class='Ref_to_EnumConst'>ECPGt_NO_INDICATOR</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN248"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>!= </span><a href="../include/ecpgtype.h.html#LN86"><span class='Ref_to_EnumConst'>ECPGd_EODT</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN290"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>type_str</span><span class='Delimiter'>[</span><span class='Number'>20</span><span class='Delimiter'>]; 
</span><a name="LN291"></a>        <span class='Keyword'>long</span>        <span class='Declare_Local'>varcharsize</span><span class='Delimiter'>; 
</span><a name="LN292"></a>        <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>; 
</span><a name="LN293"></a>        <span class='Keyword'>long</span>        <span class='Declare_Local'>arrsize</span><span class='Delimiter'>; 
</span><a name="LN294"></a>        <span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Local'>vartype</span><span class='Delimiter'>; 
</span><a name="LN295"></a>        <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Local'>var</span><span class='Delimiter'>; 
</span> 
        <a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN291"><span class='Ref_To_Local'>varcharsize</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN292"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN248"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN75"><span class='Ref_to_EnumConst'>ECPGd_indicator</span></a><span class='Parentheses'>)</span><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN236"><span class='Ref_to_Const'>RETURN_IF_NO_DATA</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN118"><span class='Ref_to_Member'>ind_type</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN120"><span class='Ref_to_Member'>ind_pointer</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN121"><span class='Ref_to_Member'>ind_varcharsize</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN291"><span class='Ref_To_Local'>varcharsize</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN122"><span class='Ref_to_Member'>ind_arrsize</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN123"><span class='Ref_to_Member'>ind_offset</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN292"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN122"><span class='Ref_to_Member'>ind_arrsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN121"><span class='Ref_to_Member'>ind_varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a> <span class='Operator'>= *</span><span class='Parentheses'>((</span><span class='Keyword'>void </span><span class='Operator'>**</span><span class='Parentheses'>) (</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN120"><span class='Ref_to_Member'>ind_pointer</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN120"><span class='Ref_to_Member'>ind_pointer</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN72"><span class='Ref_to_EnumConst'>ECPGd_data</span></a><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN236"><span class='Ref_to_Const'>RETURN_IF_NO_DATA</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN115"><span class='Ref_to_Member'>varcharsize</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN291"><span class='Ref_To_Local'>varcharsize</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN116"><span class='Ref_to_Member'>arrsize</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a><span class='Delimiter'>; 
</span>                <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN117"><span class='Ref_to_Member'>offset</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN292"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN116"><span class='Ref_to_Member'>arrsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN115"><span class='Ref_to_Member'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><span class='Keyword'>value </span><span class='Operator'>= *</span><span class='Parentheses'>((</span><span class='Keyword'>void </span><span class='Operator'>**</span><span class='Parentheses'>) (</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><span class='Keyword'>value </span><span class='Operator'>= </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN78"><span class='Ref_to_EnumConst'>ECPGd_name</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN203"><span class='Ref_to_Func'>get_char_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN291"><span class='Ref_To_Local'>varcharsize</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: NAME = %s\n"</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN79"><span class='Ref_to_EnumConst'>ECPGd_nullable</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN76"><span class='Ref_to_EnumConst'>ECPGd_key_member</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN84"><span class='Ref_to_EnumConst'>ECPGd_scale</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN483"><span class='Ref_to_Proto'>PQfmod</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><a href="../../../include/c.h.html#LN444"><span class='Ref_to_Const'>VARHDRSZ</span></a><span class='Parentheses'>)</span> <span class='Operator'>& </span><span class='Number'>0xffff</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: SCALE = %d\n"</span><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN483"><span class='Ref_to_Proto'>PQfmod</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><a href="../../../include/c.h.html#LN444"><span class='Ref_to_Const'>VARHDRSZ</span></a><span class='Parentheses'>)</span> <span class='Operator'>& </span><span class='Number'>0xffff</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN81"><span class='Ref_to_EnumConst'>ECPGd_precision</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN483"><span class='Ref_to_Proto'>PQfmod</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;&GT; </span><span class='Number'>16</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: PRECISION = %d\n"</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN483"><span class='Ref_to_Proto'>PQfmod</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;&GT; </span><span class='Number'>16</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN80"><span class='Ref_to_EnumConst'>ECPGd_octet</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN482"><span class='Ref_to_Proto'>PQfsize</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: OCTET_LENGTH = %d\n"</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN482"><span class='Ref_to_Proto'>PQfsize</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN77"><span class='Ref_to_EnumConst'>ECPGd_length</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN483"><span class='Ref_to_Proto'>PQfmod</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><a href="../../../include/c.h.html#LN444"><span class='Ref_to_Const'>VARHDRSZ</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: LENGTH = %d\n"</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN483"><span class='Ref_to_Proto'>PQfmod</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) </span><span class='Operator'>- </span><a href="../../../include/c.h.html#LN444"><span class='Ref_to_Const'>VARHDRSZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN85"><span class='Ref_to_EnumConst'>ECPGd_type</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="typename.c.html#LN69"><span class='Ref_to_Func'>ecpg_dynamic_type</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>))))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: TYPE = %d\n"</span><span class='Delimiter'>, </span><a href="typename.c.html#LN69"><span class='Ref_to_Func'>ecpg_dynamic_type</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN73"><span class='Ref_to_EnumConst'>ECPGd_di_code</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN69"><span class='Ref_to_Func'>ecpg_dynamic_type_DDT</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>))))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: TYPE = %d\n"</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN69"><span class='Ref_to_Func'>ecpg_dynamic_type_DDT</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN87"><span class='Ref_to_EnumConst'>ECPGd_cardinality</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>)))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: CARDINALITY = %d\n"</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN82"><span class='Ref_to_EnumConst'>ECPGd_ret_length</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN83"><span class='Ref_to_EnumConst'>ECPGd_ret_octet</span></a><span class='Operator'>: 
</span> 
                <a href="descriptor.c.html#LN236"><span class='Ref_to_Const'>RETURN_IF_NO_DATA</span></a><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * this is like ECPGstore_result 
                 */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a> <span class='Operator'>&GT; </span><a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc on line %d: incorrect number of matches; %d don't fit into array of %ld\n"</span><span class='Delimiter'>, 
</span>                             <a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN20"><span class='Ref_to_Const'>ECPG_TOO_MANY_MATCHES</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN207"><span class='Ref_to_Const'>ECPG_SQLSTATE_CARDINALITY_VIOLATION</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Comment_Multi_Line'>/* allocate storage if needed */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN293"><span class='Ref_To_Local'>arrsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& *</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>**</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span><a name="LN448"></a>                    <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Local'>mem</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN106"><span class='Ref_to_Func'>ecpg_auto_alloc</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN292"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>* </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN448"><span class='Ref_To_Local'>mem</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>**</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN448"><span class='Ref_To_Local'>mem</span></a><span class='Delimiter'>; 
</span>                    <a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN448"><span class='Ref_To_Local'>mem</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a> <span class='Operator'>&LT; </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN294"><span class='Ref_To_Local'>vartype</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN489"><span class='Ref_to_Proto'>PQgetlength</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN295"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>+ </span><a href="descriptor.c.html#LN292"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: RETURNED[%d] = %d\n"</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN489"><span class='Ref_to_Proto'>PQgetlength</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="../../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN290"><span class='Ref_To_Local'>type_str</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="descriptor.c.html#LN290"><span class='Ref_To_Local'>type_str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN248"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN43"><span class='Ref_to_Const'>ECPG_UNKNOWN_DESCRIPTOR_ITEM</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN219"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_INTERNAL_ERROR</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN290"><span class='Ref_To_Local'>type_str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch type &raquo; </span> 
 
        <a href="descriptor.c.html#LN248"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN69"><span class='Ref_to_Enum'>ECPGdtype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while type!=ECPGd_EODT &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>!= </span><a href="../include/ecpgtype.h.html#LN62"><span class='Ref_to_EnumConst'>ECPGt_EORT</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN483"></a>        <span class='Control'>struct</span> <a href="extern.h.html#LN50"><span class='Ref_to_Struct'>statement</span></a> <span class='Declare_Local'>stmt</span><span class='Delimiter'>; 
</span><a name="LN484"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>oldlocale</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Make sure we do NOT honor the locale for numeric input */ 
</span>        <span class='Comment_Multi_Line'>/* since the database gives the standard decimal point */ 
</span>        <a href="descriptor.c.html#LN484"><span class='Ref_To_Local'>oldlocale</span></a> <span class='Operator'>= </span><a href="memory.c.html#LN45"><span class='Ref_to_Func'>ecpg_strdup</span></a><span class='Parentheses'>(</span><a href="../../../include/port.h.html#LN201"><span class='Ref_to_Macro'>setlocale</span></a><span class='Parentheses'>(</span>LC_NUMERIC<span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../../include/port.h.html#LN201"><span class='Ref_to_Macro'>setlocale</span></a><span class='Parentheses'>(</span>LC_NUMERIC<span class='Delimiter'>, </span><span class='String'>"C"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        memset<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="descriptor.c.html#LN483"><span class='Ref_To_Local'>stmt</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof </span><a href="descriptor.c.html#LN483"><span class='Ref_To_Local'>stmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN483"><span class='Ref_To_Local'>stmt</span></a><span class='Operator'>.</span><a href="extern.h.html#LN52"><span class='Ref_to_Member'>lineno</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* desperate try to guess something sensible */ 
</span>        <a href="descriptor.c.html#LN483"><span class='Ref_To_Local'>stmt</span></a><span class='Operator'>.</span><a href="extern.h.html#LN55"><span class='Ref_to_Member'>connection</span></a> <span class='Operator'>= </span><a href="connect.c.html#LN72"><span class='Ref_to_Func'>ecpg_get_connection</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="extern.h.html#LN167"><span class='Ref_to_Proto'>ecpg_store_result</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN483"><span class='Ref_To_Local'>stmt</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="../../../include/port.h.html#LN201"><span class='Ref_to_Macro'>setlocale</span></a><span class='Parentheses'>(</span>LC_NUMERIC<span class='Delimiter'>, </span><a href="descriptor.c.html#LN484"><span class='Ref_To_Local'>oldlocale</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN484"><span class='Ref_To_Local'>oldlocale</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if data_var.type!=ECPGt_... &raquo; </span> 
    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN118"><span class='Ref_to_Member'>ind_type</span></a> <span class='Operator'>!= </span><a href="../include/ecpgtype.h.html#LN63"><span class='Ref_to_EnumConst'>ECPGt_NO_INDICATOR</span></a> <span class='Operator'>&& </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN120"><span class='Ref_to_Member'>ind_pointer</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * ind_type != NO_INDICATOR should always have ind_pointer != NULL but 
         * since this might be changed manually in the .c file let's play it 
         * safe 
         */ 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * this is like ECPGstore_result but since we don't have a data 
         * variable at hand, we can't call it 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN122"><span class='Ref_to_Member'>ind_arrsize</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a> <span class='Operator'>&GT; </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN122"><span class='Ref_to_Member'>ind_arrsize</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc on line %d: incorrect number of matches (indicator); %d don't fit into array of %ld\n"</span><span class='Delimiter'>, 
</span>                     <a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN122"><span class='Ref_to_Member'>ind_arrsize</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN20"><span class='Ref_to_Const'>ECPG_TOO_MANY_MATCHES</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN207"><span class='Ref_to_Const'>ECPG_SQLSTATE_CARDINALITY_VIOLATION</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* allocate storage if needed */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN122"><span class='Ref_to_Member'>ind_arrsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN525"></a>            <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Local'>mem</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN106"><span class='Ref_to_Func'>ecpg_auto_alloc</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN123"><span class='Ref_to_Member'>ind_offset</span></a> <span class='Operator'>* </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN525"><span class='Ref_To_Local'>mem</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Keyword'>void </span><span class='Operator'>**</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN120"><span class='Ref_to_Member'>ind_pointer</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN525"><span class='Ref_To_Local'>mem</span></a><span class='Delimiter'>; 
</span>            <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN525"><span class='Ref_To_Local'>mem</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a> <span class='Operator'>&LT; </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN113"><span class='Ref_to_Func'>get_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN118"><span class='Ref_to_Member'>ind_type</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN119"><span class='Ref_to_Member'>ind_value</span></a> <span class='Operator'>+ </span><a href="descriptor.c.html#LN251"><span class='Ref_To_Local'>data_var</span></a><span class='Operator'>.</span><a href="extern.h.html#LN123"><span class='Ref_to_Member'>ind_offset</span></a><span class='Delimiter'>; 
</span>            <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ECPGget_desc: INDICATOR[%d] = %d\n"</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN247"><span class='Ref_To_Local'>ECPGresult</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN250"><span class='Ref_To_Local'>act_tuple</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN244"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if data_var.ind_type!=EC... &raquo; </span> 
    <a href="descriptor.c.html#LN252"><span class='Ref_To_Local'>sqlca</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlca.h.html#LN29"><span class='Ref_to_Member'>sqlerrd</span></a><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="descriptor.c.html#LN249"><span class='Ref_To_Local'>ntuples</span></a><span class='Delimiter'>; 
</span>    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN246"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Parentheses'>(</span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ECPGget_desc &raquo; </span> 
 
<span class='Keyword'>#undef </span><a href="descriptor.c.html#LN236"><span class='Ref_to_Const'>RETURN_IF_NO_DATA</span></a> 
 
<span class='Keyword'>bool 
</span><a name="LN555"></a><span class='Declare_Function'>ECPGset_desc_header</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>desc_name</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>count</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN557"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc</span> <span class='Operator'>= </span><a href="extern.h.html#LN162"><span class='Ref_to_Proto'>ecpg_find_desc</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN555"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN555"><span class='Ref_to_Parameter'>desc_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN557"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN557"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN94"><span class='Ref_to_Member'>count</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN555"><span class='Ref_to_Parameter'>count</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>bool 
</span><a name="LN566"></a><span class='Declare_Function'>ECPGset_desc</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>desc_name</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>index</span><span class='Delimiter'>,</span><span class='Operator'>...</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN568"></a>    va_list     <span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span><a name="LN569"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc</span><span class='Delimiter'>; 
</span><a name="LN570"></a>    <span class='Control'>struct</span> <a href="extern.h.html#LN98"><span class='Ref_to_Struct'>descriptor_item</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc_item</span><span class='Delimiter'>; 
</span><a name="LN571"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN157"><span class='Ref_to_Struct'>variable</span></a> <span class='Operator'>*</span><span class='Declare_Local'>var</span><span class='Delimiter'>; 
</span> 
    <a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN162"><span class='Ref_to_Proto'>ecpg_find_desc</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>desc_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN95"><span class='Ref_to_Member'>items</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN107"><span class='Ref_to_Member'>next</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN100"><span class='Ref_to_Member'>num</span></a> <span class='Operator'>== </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="extern.h.html#LN98"><span class='Ref_to_Struct'>descriptor_item</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN100"><span class='Ref_to_Member'>num</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>index</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN94"><span class='Ref_to_Member'>count</span></a> <span class='Operator'>&LT; </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>) 
</span>            <a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN94"><span class='Ref_to_Member'>count</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>index</span></a><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN107"><span class='Ref_to_Member'>next</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN95"><span class='Ref_to_Member'>items</span></a><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN569"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN95"><span class='Ref_to_Member'>items</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN157"><span class='Ref_to_Struct'>variable</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span> <a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN157"><span class='Ref_to_Struct'>variable</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Parentheses'>)))</span> 
        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <a href="../../../pl/plperl/ppport.h.html#LN5587"><span class='Ref_to_Proto'>va_start</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>index</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>;;</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN602"></a>        <span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN69"><span class='Ref_to_Enum'>ECPGdtype</span></a> <span class='Declare_Local'>itemtype</span><span class='Delimiter'>; 
</span><a name="LN603"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>tobeinserted</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <a href="descriptor.c.html#LN602"><span class='Ref_To_Local'>itemtype</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN69"><span class='Ref_to_Enum'>ECPGdtype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN602"><span class='Ref_To_Local'>itemtype</span></a> <span class='Operator'>== </span><a href="../include/ecpgtype.h.html#LN86"><span class='Ref_to_EnumConst'>ECPGd_EODT</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN115"><span class='Ref_to_Member'>varcharsize</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN116"><span class='Ref_to_Member'>arrsize</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN117"><span class='Ref_to_Member'>offset</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN116"><span class='Ref_to_Member'>arrsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN115"><span class='Ref_to_Member'>varcharsize</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value </span><span class='Operator'>= *</span><span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Parentheses'>) (</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value </span><span class='Operator'>= </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * negative values are used to indicate an array without given bounds 
         */ 
</span>        <span class='Comment_Multi_Line'>/* reset to zero for us */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN116"><span class='Ref_to_Member'>arrsize</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN116"><span class='Ref_to_Member'>arrsize</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN115"><span class='Ref_to_Member'>varcharsize</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN115"><span class='Ref_to_Member'>varcharsize</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
        <a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN124"><span class='Ref_to_Member'>next</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN602"><span class='Ref_To_Local'>itemtype</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN72"><span class='Ref_to_EnumConst'>ECPGd_data</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="extern.h.html#LN169"><span class='Ref_to_Proto'>ecpg_store_input</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN603"><span class='Ref_To_Local'>tobeinserted</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN101"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; </span><span class='Comment_Multi_Line'>/* free() takes care of a 
                                                 * potential NULL value */ 
</span>                    <a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN101"><span class='Ref_to_Member'>data</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="descriptor.c.html#LN603"><span class='Ref_To_Local'>tobeinserted</span></a><span class='Delimiter'>; 
</span>                    <a href="descriptor.c.html#LN603"><span class='Ref_To_Local'>tobeinserted</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN75"><span class='Ref_to_EnumConst'>ECPGd_indicator</span></a><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN158"><span class='Ref_to_Func'>set_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN102"><span class='Ref_to_Member'>indicator</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN77"><span class='Ref_to_EnumConst'>ECPGd_length</span></a><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN158"><span class='Ref_to_Func'>set_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN103"><span class='Ref_to_Member'>length</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN81"><span class='Ref_to_EnumConst'>ECPGd_precision</span></a><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN158"><span class='Ref_to_Func'>set_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN104"><span class='Ref_to_Member'>precision</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN84"><span class='Ref_to_EnumConst'>ECPGd_scale</span></a><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN158"><span class='Ref_to_Func'>set_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN105"><span class='Ref_to_Member'>scale</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN85"><span class='Ref_to_EnumConst'>ECPGd_type</span></a><span class='Operator'>: 
</span>                <a href="descriptor.c.html#LN158"><span class='Ref_to_Func'>set_int_item</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="descriptor.c.html#LN570"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN106"><span class='Ref_to_Member'>type</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN114"><span class='Ref_to_Member'>pointer</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN112"><span class='Ref_to_Member'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN673"></a>                    <span class='Keyword'>char</span>        <span class='Declare_Local'>type_str</span><span class='Delimiter'>[</span><span class='Number'>20</span><span class='Delimiter'>]; 
</span> 
                    <a href="../../../pl/plperl/plperl.h.html#LN60"><span class='Ref_to_Macro'>snprintf</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN673"><span class='Ref_To_Local'>type_str</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="descriptor.c.html#LN673"><span class='Ref_To_Local'>type_str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN602"><span class='Ref_To_Local'>itemtype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN566"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN43"><span class='Ref_to_Const'>ECPG_UNKNOWN_DESCRIPTOR_ITEM</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN219"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_INTERNAL_ERROR</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN673"><span class='Ref_To_Local'>type_str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch itemtype &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for ;; &raquo; </span> 
    <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN571"><span class='Ref_To_Local'>var</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN568"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ECPGset_desc &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* Free the descriptor and items in it. */ 
</span><span class='Keyword'>static void 
</span><a name="LN691"></a><span class='Declare_Function'>descriptor_free</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>desc</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN693"></a>    <span class='Control'>struct</span> <a href="extern.h.html#LN98"><span class='Ref_to_Struct'>descriptor_item</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc_item</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN693"><span class='Ref_To_Local'>desc_item</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN691"><span class='Ref_to_Parameter'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN95"><span class='Ref_to_Member'>items</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN693"><span class='Ref_To_Local'>desc_item</span></a><span class='Delimiter'>;</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN697"></a>        <span class='Control'>struct</span> <a href="extern.h.html#LN98"><span class='Ref_to_Struct'>descriptor_item</span></a> <span class='Operator'>*</span><span class='Declare_Local'>di</span><span class='Delimiter'>; 
</span> 
        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN693"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN101"><span class='Ref_to_Member'>data</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN697"><span class='Ref_To_Local'>di</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN693"><span class='Ref_To_Local'>desc_item</span></a><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN693"><span class='Ref_To_Local'>desc_item</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN693"><span class='Ref_To_Local'>desc_item</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN107"><span class='Ref_to_Member'>next</span></a><span class='Delimiter'>; 
</span>        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN697"><span class='Ref_To_Local'>di</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN691"><span class='Ref_to_Parameter'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN691"><span class='Ref_to_Parameter'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN691"><span class='Ref_to_Parameter'>desc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>bool 
</span><a name="LN711"></a><span class='Declare_Function'>ECPGdeallocate_desc</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN713"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc</span><span class='Delimiter'>; 
</span><a name="LN714"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>prev</span><span class='Delimiter'>; 
</span><a name="LN715"></a>    <span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlca</span> <span class='Operator'>= </span><a href="../include/sqlca.h.html#LN55"><span class='Ref_to_Proto'>ECPGget_sqlca</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN715"><span class='Ref_To_Local'>sqlca</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN711"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, 
</span>                   <a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="misc.c.html#LN97"><span class='Ref_to_Func'>ecpg_init_sqlca</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN715"><span class='Ref_To_Local'>sqlca</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN39"><span class='Ref_to_Func'>get_descriptors</span></a><span class='Parentheses'>()</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN714"><span class='Ref_To_Local'>prev</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; </span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN714"><span class='Ref_To_Local'>prev</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="descriptor.c.html#LN711"><span class='Ref_to_Parameter'>name</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN714"><span class='Ref_To_Local'>prev</span></a><span class='Parentheses'>) 
</span>                <a href="descriptor.c.html#LN714"><span class='Ref_To_Local'>prev</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="descriptor.c.html#LN46"><span class='Ref_to_Func'>set_descriptors</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="descriptor.c.html#LN18"><span class='Ref_to_Proto'>descriptor_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN713"><span class='Ref_To_Local'>desc</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN711"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN41"><span class='Ref_to_Const'>ECPG_UNKNOWN_DESCRIPTOR</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN212"><span class='Ref_to_Const'>ECPG_SQLSTATE_INVALID_SQL_DESCRIPTOR_NAME</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN711"><span class='Ref_to_Parameter'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ECPGdeallocate_desc &raquo; </span> 
 
<span class='Directive'>#ifdef</span> ENABLE_THREAD_SAFETY 
 
<span class='Comment_Multi_Line'>/* Deallocate all descriptors in the list */ 
</span><span class='Keyword'>static void 
</span><a name="LN745"></a><span class='Declare_Function'>descriptor_deallocate_all</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>list</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN745"><span class='Ref_to_Parameter'>list</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN749"></a>        <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>next</span> <span class='Operator'>= </span><a href="descriptor.c.html#LN745"><span class='Ref_to_Parameter'>list</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a><span class='Delimiter'>; 
</span> 
        <a href="descriptor.c.html#LN18"><span class='Ref_to_Proto'>descriptor_free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN745"><span class='Ref_to_Parameter'>list</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="descriptor.c.html#LN745"><span class='Ref_to_Parameter'>list</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN749"><span class='Ref_To_Local'>next</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
} 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* ENABLE_THREAD_SAFETY */ 
</span> 
<span class='Keyword'>bool 
</span><a name="LN758"></a><span class='Declare_Function'>ECPGallocate_desc</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN760"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>new</span><span class='Delimiter'>; 
</span><a name="LN761"></a>    <span class='Control'>struct</span> <a href="../include/sqlca.h.html#LN18"><span class='Ref_to_Struct'>sqlca_t</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlca</span> <span class='Operator'>= </span><a href="../include/sqlca.h.html#LN55"><span class='Ref_to_Proto'>ECPGget_sqlca</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN761"><span class='Ref_To_Local'>sqlca</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN758"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, 
</span>                   <a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="misc.c.html#LN97"><span class='Ref_to_Func'>ecpg_init_sqlca</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN761"><span class='Ref_To_Local'>sqlca</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>new</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN758"><span class='Ref_to_Parameter'>line</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Control'>new</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN39"><span class='Ref_to_Func'>get_descriptors</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a> <span class='Operator'>= </span><a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="descriptor.c.html#LN758"><span class='Ref_to_Parameter'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN758"><span class='Ref_to_Parameter'>line</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><span class='Control'>new</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN94"><span class='Ref_to_Member'>count</span></a> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN95"><span class='Ref_to_Member'>items</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a> <span class='Operator'>= </span><a href="../../libpq/fe-exec.c.html#LN138"><span class='Ref_to_Func'>PQmakeEmptyPGresult</span></a><span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="memory.c.html#LN11"><span class='Ref_to_Func'>ecpg_free</span></a><span class='Parentheses'>(</span><span class='Control'>new</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN758"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN14"><span class='Ref_to_Const'>ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN220"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_OUT_OF_MEMORY</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Boolean'>false</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><span class='Control'>new</span><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN758"><span class='Ref_to_Parameter'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="descriptor.c.html#LN46"><span class='Ref_to_Func'>set_descriptors</span></a><span class='Parentheses'>(</span><span class='Control'>new</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Boolean'>true</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ECPGallocate_desc &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* Find descriptor with name in the connection. */ 
</span><span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>* 
</span><a name="LN798"></a><span class='Declare_Function'>ecpg_find_desc</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>name</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN800"></a>    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN800"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN39"><span class='Ref_to_Func'>get_descriptors</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; </span><a href="descriptor.c.html#LN800"><span class='Ref_To_Local'>desc</span></a><span class='Delimiter'>; </span><a href="descriptor.c.html#LN800"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN800"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN93"><span class='Ref_to_Member'>next</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>strcmp<span class='Parentheses'>(</span><a href="descriptor.c.html#LN798"><span class='Ref_to_Parameter'>name</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN800"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN91"><span class='Ref_to_Member'>name</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <a href="descriptor.c.html#LN800"><span class='Ref_To_Local'>desc</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN798"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN41"><span class='Ref_to_Const'>ECPG_UNKNOWN_DESCRIPTOR</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN212"><span class='Ref_to_Const'>ECPG_SQLSTATE_INVALID_SQL_DESCRIPTOR_NAME</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN798"><span class='Ref_to_Parameter'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>                <span class='Comment_Single_Line'>/* not found */ 
</span><span class='Delimiter'>} 
</span> 
<span class='Keyword'>bool 
</span><a name="LN813"></a><span class='Declare_Function'>ECPGdescribe</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>compat</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>input</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>connection_name</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>stmt_name</span><span class='Delimiter'>,</span><span class='Operator'>...</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN815"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>ret</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN816"></a>    <span class='Control'>struct</span> <a href="extern.h.html#LN78"><span class='Ref_to_Struct'>connection</span></a> <span class='Operator'>*</span><span class='Declare_Local'>con</span><span class='Delimiter'>; 
</span><a name="LN817"></a>    <span class='Control'>struct</span> <a href="extern.h.html#LN69"><span class='Ref_to_Struct'>prepared_statement</span></a> <span class='Operator'>*</span><span class='Declare_Local'>prep</span><span class='Delimiter'>; 
</span><a name="LN818"></a>    <a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a>   <span class='Operator'>*</span><span class='Declare_Local'>res</span><span class='Delimiter'>; 
</span><a name="LN819"></a>    va_list     <span class='Declare_Local'>args</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* DESCRIBE INPUT is not yet supported */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>input</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN17"><span class='Ref_to_Const'>ECPG_UNSUPPORTED</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN219"><span class='Ref_to_Const'>ECPG_SQLSTATE_ECPG_INTERNAL_ERROR</span></a><span class='Delimiter'>, </span><span class='String'>"DESCRIBE INPUT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a> <span class='Operator'>= </span><a href="connect.c.html#LN72"><span class='Ref_to_Func'>ecpg_get_connection</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>connection_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN35"><span class='Ref_to_Const'>ECPG_NO_CONN</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN205"><span class='Ref_to_Const'>ECPG_SQLSTATE_CONNECTION_DOES_NOT_EXIST</span></a><span class='Delimiter'>, 
</span>                   <a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>connection_name</span></a> <span class='Operator'>? </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>connection_name</span></a> <span class='Operator'>: </span><a href="../include/ecpglib.h.html#LN17"><span class='Ref_to_Macro'>ecpg_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"NULL"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="descriptor.c.html#LN817"><span class='Ref_To_Local'>prep</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN164"><span class='Ref_to_Proto'>ecpg_find_prepared_statement</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>stmt_name</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="descriptor.c.html#LN817"><span class='Ref_To_Local'>prep</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="error.c.html#LN11"><span class='Ref_to_Func'>ecpg_raise</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="../include/ecpgerrno.h.html#LN38"><span class='Ref_to_Const'>ECPG_INVALID_STMT</span></a><span class='Delimiter'>, </span><a href="extern.h.html#LN211"><span class='Ref_to_Const'>ECPG_SQLSTATE_INVALID_SQL_STATEMENT_NAME</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>stmt_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../../pl/plperl/ppport.h.html#LN5587"><span class='Ref_to_Proto'>va_start</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>stmt_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>;;</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN846"></a>        <span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Local'>type</span><span class='Delimiter'>; 
</span><a name="LN847"></a>        <span class='Keyword'>void</span>       <span class='Operator'>*</span><span class='Declare_Local'>ptr</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* variable type */ 
</span>        <a href="descriptor.c.html#LN846"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN846"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>== </span><a href="../include/ecpgtype.h.html#LN62"><span class='Ref_to_EnumConst'>ECPGt_EORT</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* rest of variable parameters */ 
</span>        <a href="descriptor.c.html#LN847"><span class='Ref_To_Local'>ptr</span></a> <span class='Operator'>= </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* skip args */ 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* variable indicator */ 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* skip args */ 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Parentheses'>(</span><span class='Keyword'>void</span><span class='Parentheses'>) </span>va_arg<span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Delimiter'>, </span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN846"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN58"><span class='Ref_to_EnumConst'>ECPGt_descriptor</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN872"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>name</span> <span class='Operator'>= </span><a href="descriptor.c.html#LN847"><span class='Ref_To_Local'>ptr</span></a><span class='Delimiter'>; 
</span><a name="LN873"></a>                    <span class='Control'>struct</span> <a href="../preproc/type.h.html#LN172"><span class='Ref_to_Struct'>descriptor</span></a> <span class='Operator'>*</span><span class='Declare_Local'>desc</span> <span class='Operator'>= </span><a href="extern.h.html#LN162"><span class='Ref_to_Proto'>ecpg_find_desc</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN872"><span class='Ref_To_Local'>name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN873"><span class='Ref_To_Local'>desc</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN495"><span class='Ref_to_Proto'>PQdescribePrepared</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN81"><span class='Ref_to_Member'>connection</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>stmt_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="extern.h.html#LN182"><span class='Ref_to_Proto'>ecpg_check_PQresult</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN81"><span class='Ref_to_Member'>connection</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN873"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                        <a href="../../libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN873"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <a href="descriptor.c.html#LN873"><span class='Ref_To_Local'>desc</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN92"><span class='Ref_to_Member'>result</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>; 
</span>                    <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN65"><span class='Ref_to_EnumConst'>ECPGt_sqlda</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="extern.h.html#LN22"><span class='Ref_to_Macro'>INFORMIX_MODE</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span><a name="LN893"></a>                        <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>**</span><span class='Declare_Local'>_sqlda</span> <span class='Operator'>= </span><a href="descriptor.c.html#LN847"><span class='Ref_To_Local'>ptr</span></a><span class='Delimiter'>; 
</span><a name="LN894"></a>                        <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda</span><span class='Delimiter'>; 
</span> 
                        <a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN495"><span class='Ref_to_Proto'>PQdescribePrepared</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN81"><span class='Ref_to_Member'>connection</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>stmt_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="extern.h.html#LN182"><span class='Ref_to_Proto'>ecpg_check_PQresult</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN81"><span class='Ref_to_Member'>connection</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <a href="descriptor.c.html#LN894"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN191"><span class='Ref_to_Proto'>ecpg_build_compat_sqlda</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN894"><span class='Ref_To_Local'>sqlda</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span><a name="LN903"></a>                            <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda_old</span> <span class='Operator'>= *</span><a href="descriptor.c.html#LN893"><span class='Ref_To_Local'>_sqlda</span></a><span class='Delimiter'>; 
</span><a name="LN904"></a>                            <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda_old1</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN903"><span class='Ref_To_Local'>sqlda_old</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <a href="descriptor.c.html#LN904"><span class='Ref_To_Local'>sqlda_old1</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN903"><span class='Ref_To_Local'>sqlda_old</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN42"><span class='Ref_to_Member'>desc_next</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN903"><span class='Ref_To_Local'>sqlda_old</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="descriptor.c.html#LN903"><span class='Ref_To_Local'>sqlda_old</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN904"><span class='Ref_To_Local'>sqlda_old1</span></a><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span> 
                            <span class='Operator'>*</span><a href="descriptor.c.html#LN893"><span class='Ref_To_Local'>_sqlda</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN894"><span class='Ref_To_Local'>sqlda</span></a><span class='Delimiter'>; 
</span>                            <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span> 
                        <a href="../../libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if INFORMIX_MODE(compat) &raquo; </span> 
                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span><a name="LN921"></a>                        <span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>**</span><span class='Declare_Local'>_sqlda</span> <span class='Operator'>= </span><a href="descriptor.c.html#LN847"><span class='Ref_To_Local'>ptr</span></a><span class='Delimiter'>; 
</span><a name="LN922"></a>                        <span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda</span><span class='Delimiter'>; 
</span> 
                        <a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN495"><span class='Ref_to_Proto'>PQdescribePrepared</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN81"><span class='Ref_to_Member'>connection</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>stmt_name</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="extern.h.html#LN182"><span class='Ref_to_Proto'>ecpg_check_PQresult</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN816"><span class='Ref_To_Local'>con</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN81"><span class='Ref_to_Member'>connection</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>))</span> 
                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <a href="descriptor.c.html#LN922"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN193"><span class='Ref_to_Proto'>ecpg_build_native_sqlda</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="descriptor.c.html#LN813"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN922"><span class='Ref_To_Local'>sqlda</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span><a name="LN931"></a>                            <span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda_old</span> <span class='Operator'>= *</span><a href="descriptor.c.html#LN921"><span class='Ref_To_Local'>_sqlda</span></a><span class='Delimiter'>; 
</span><a name="LN932"></a>                            <span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda_old1</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="descriptor.c.html#LN931"><span class='Ref_To_Local'>sqlda_old</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <a href="descriptor.c.html#LN932"><span class='Ref_To_Local'>sqlda_old1</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN931"><span class='Ref_To_Local'>sqlda_old</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN38"><span class='Ref_to_Member'>desc_next</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN931"><span class='Ref_To_Local'>sqlda_old</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="descriptor.c.html#LN931"><span class='Ref_To_Local'>sqlda_old</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN932"><span class='Ref_To_Local'>sqlda_old1</span></a><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span> 
                            <span class='Operator'>*</span><a href="descriptor.c.html#LN921"><span class='Ref_To_Local'>_sqlda</span></a> <span class='Operator'>= </span><a href="descriptor.c.html#LN922"><span class='Ref_To_Local'>sqlda</span></a><span class='Delimiter'>; 
</span>                            <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span> 
                        <a href="../../libpq/libpq-fe.h.html#LN501"><span class='Ref_to_Proto'>PQclear</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN818"><span class='Ref_To_Local'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* nothing else may come */ 
</span>                <span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch type &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for ;; &raquo; </span> 
 
    <a href="../../../pl/plperl/ppport.h.html#LN5589"><span class='Ref_to_Proto'>va_end</span></a><span class='Parentheses'>(</span><a href="descriptor.c.html#LN819"><span class='Ref_To_Local'>args</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="descriptor.c.html#LN815"><span class='Ref_To_Local'>ret</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ECPGdescribe &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>