<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\interfaces\ecpg\ecpglib\sqlda.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\interfaces\ecpg\ecpglib\sqlda.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:09 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
<span class='Comment_Multi_Line'>/* 
 * SQLDA support routines 
 * 
 * The allocated memory area pointed by an sqlda pointer 
 * contains both the metadata and the data, so freeing up 
 * is a simple free(sqlda) as expected by the ESQL/C examples. 
 */ 
</span> 
<a name="LN8"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>POSTGRES_ECPG_INTERNAL</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pg_type.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>"ecpg-pthread-win32.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"decimal.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpgtype.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpglib.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"ecpgerrno.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"extern.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sqlca.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sqlda-native.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"sqlda-compat.h"</span> 
 
<span class='Comment_Multi_Line'>/* 
 * Compute the next variable's offset with 
 * the current variable's size and alignment. 
 * 
 * 
 * Returns: 
 * - the current variable's offset in *current 
 * - the next variable's offset in *next 
 */ 
</span><span class='Keyword'>static void 
</span><a name="LN32"></a><span class='Declare_Function'>ecpg_sqlda_align_add_size</span><span class='Parentheses'>(</span><span class='Keyword'>long </span><span class='Declare_Parameter'>offset</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>alignment</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>size</span><span class='Delimiter'>, </span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Declare_Parameter'>current</span><span class='Delimiter'>, </span><span class='Keyword'>long </span><span class='Operator'>*</span><span class='Declare_Parameter'>next</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>% </span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>alignment</span></a><span class='Parentheses'>) 
</span>        <a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>+= </span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>alignment</span></a> <span class='Operator'>- </span><span class='Parentheses'>(</span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>% </span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>alignment</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>current</span></a><span class='Parentheses'>) 
</span>        <span class='Operator'>*</span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>current</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>+= </span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>size</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>next</span></a><span class='Parentheses'>) 
</span>        <span class='Operator'>*</span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>next</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN32"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static long 
</span><a name="LN44"></a><span class='Declare_Function'>sqlda_compat_empty_size</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN46"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>; 
</span><a name="LN47"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN48"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sqld</span> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN44"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Initial size to store main structure and field structures */ 
</span>    <a href="sqlda.c.html#LN46"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="sqlda.c.html#LN48"><span class='Ref_To_Local'>sqld</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN7"><span class='Ref_to_Struct'>sqlvar_compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Add space for field names */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN47"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="sqlda.c.html#LN47"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="sqlda.c.html#LN48"><span class='Ref_To_Local'>sqld</span></a><span class='Delimiter'>; </span><a href="sqlda.c.html#LN47"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="sqlda.c.html#LN46"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN44"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN47"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Add padding to the first field value */ 
</span>    <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN46"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN46"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="sqlda.c.html#LN46"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static long 
</span><a name="LN64"></a><span class='Declare_Function'>sqlda_common_total_size</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Delimiter'>, </span><span class='Keyword'>long </span><span class='Declare_Parameter'>offset</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN66"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sqld</span> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN67"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN68"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>next_offset</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Add space for the field values */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="sqlda.c.html#LN66"><span class='Ref_To_Local'>sqld</span></a><span class='Delimiter'>; </span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN73"></a>        <span class='Control'>enum</span> <a href="../include/ecpgtype.h.html#LN40"><span class='Ref_to_Enum'>ECPGttype</span></a> <span class='Declare_Local'>type</span> <span class='Operator'>= </span><a href="typename.c.html#LN103"><span class='Ref_to_Func'>sqlda_dynamic_type</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN73"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN45"><span class='Ref_to_EnumConst'>ECPGt_bool</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN50"><span class='Ref_to_EnumConst'>ECPGt_decimal</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Operator'>: 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * Let's align both the numeric struct and the digits array to 
                 * int Unfortunately we need to do double work here to compute 
                 * the size of the space needed for the numeric structure. 
                 */ 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span><a name="LN115"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>val</span> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN116"></a>                    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>num</span><span class='Delimiter'>; 
</span> 
                    <a href="sqlda.c.html#LN116"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN45"><span class='Ref_to_Proto'>PGTYPESnumeric_from_asc</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN115"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN116"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>) 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN116"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a><span class='Parentheses'>) 
</span>                        <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN116"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN116"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN52"><span class='Ref_to_EnumConst'>ECPGt_date</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN53"><span class='Ref_to_EnumConst'>ECPGt_timestamp</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN54"><span class='Ref_to_EnumConst'>ECPGt_interval</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Operator'>: 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN140"></a>                    <span class='Keyword'>long</span>        <span class='Declare_Local'>datalen</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN67"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN140"><span class='Ref_To_Local'>datalen</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch type &raquo; </span> 
        <a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN68"><span class='Ref_To_Local'>next_offset</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;sqld;i++ &raquo; </span> 
    <span class='Control'>return</span> <a href="sqlda.c.html#LN64"><span class='Ref_to_Parameter'>offset</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end sqlda_common_total_size &raquo; </span> 
 
 
<span class='Keyword'>static long 
</span><a name="LN153"></a><span class='Declare_Function'>sqlda_compat_total_size</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN155"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN155"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN43"><span class='Ref_to_Func'>sqlda_compat_empty_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN153"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN153"><span class='Ref_to_Parameter'>row</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="sqlda.c.html#LN155"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN155"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN63"><span class='Ref_to_Func'>sqlda_common_total_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN153"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN153"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN153"><span class='Ref_to_Parameter'>compat</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN155"><span class='Ref_To_Local'>offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="sqlda.c.html#LN155"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static long 
</span><a name="LN167"></a><span class='Declare_Function'>sqlda_native_empty_size</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN169"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>; 
</span><a name="LN170"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sqld</span> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN167"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Initial size to store main structure and field structures */ 
</span>    <a href="sqlda.c.html#LN169"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="sqlda.c.html#LN170"><span class='Ref_To_Local'>sqld</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN23"><span class='Ref_to_Struct'>sqlvar_struct</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Add padding to the first field value */ 
</span>    <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN169"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN169"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="sqlda.c.html#LN169"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static long 
</span><a name="LN182"></a><span class='Declare_Function'>sqlda_native_total_size</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN184"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN184"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN166"><span class='Ref_to_Func'>sqlda_native_empty_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN182"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN182"><span class='Ref_to_Parameter'>row</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <a href="sqlda.c.html#LN184"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN184"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN63"><span class='Ref_to_Func'>sqlda_common_total_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN182"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN182"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN182"><span class='Ref_to_Parameter'>compat</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN184"><span class='Ref_To_Local'>offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="sqlda.c.html#LN184"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Build "struct sqlda_compat" (metadata only) from PGresult 
 * leaving enough space for the field values in 
 * the given row number 
 */ 
</span><span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>* 
</span><a name="LN201"></a><span class='Declare_Function'>ecpg_build_compat_sqlda</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN203"></a>    <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda</span><span class='Delimiter'>; 
</span><a name="LN204"></a>    <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN7"><span class='Ref_to_Struct'>sqlvar_compat</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlvar</span><span class='Delimiter'>; 
</span><a name="LN205"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span><span class='Delimiter'>; 
</span><a name="LN206"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>size</span><span class='Delimiter'>; 
</span><a name="LN207"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>sqld</span><span class='Delimiter'>; 
</span><a name="LN208"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN206"><span class='Ref_To_Local'>size</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN152"><span class='Ref_to_Func'>sqlda_compat_total_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN206"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>line</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    memset<span class='Parentheses'>(</span><a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN206"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN204"><span class='Ref_To_Local'>sqlvar</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN7"><span class='Ref_to_Struct'>sqlvar_compat</span></a> <span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN207"><span class='Ref_To_Local'>sqld</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN205"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) (</span><a href="sqlda.c.html#LN204"><span class='Ref_To_Local'>sqlvar</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN207"><span class='Ref_To_Local'>sqld</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN38"><span class='Ref_to_Member'>sqld</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN207"><span class='Ref_To_Local'>sqld</span></a><span class='Delimiter'>; 
</span>    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_build_compat_sqlda on line %d sqld = %d\n"</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN207"><span class='Ref_To_Local'>sqld</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN41"><span class='Ref_to_Member'>desc_occ</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN206"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>;</span>     <span class='Comment_Single_Line'>/* cheat here, keep the full allocated size */ 
</span>    <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN204"><span class='Ref_To_Local'>sqlvar</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN38"><span class='Ref_to_Member'>sqld</span></a><span class='Delimiter'>; </span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a> <span class='Operator'>= </span><a href="typename.c.html#LN103"><span class='Ref_to_Func'>sqlda_dynamic_type</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN205"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN13"><span class='Ref_to_Member'>sqlname</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN205"><span class='Ref_To_Local'>fname</span></a><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN205"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN13"><span class='Ref_to_Member'>sqlname</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * this is reserved for future use, so we leave it empty for the time 
         * being 
         */ 
</span>        <span class='Comment_Multi_Line'>/* sqlda-&GT;sqlvar[i].sqlformat = (char *) (long) PQfformat(res, i); */ 
</span>        <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN18"><span class='Ref_to_Member'>sqlxid</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN20"><span class='Ref_to_Member'>sqltypelen</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN482"><span class='Ref_to_Proto'>PQfsize</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN201"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN208"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="sqlda.c.html#LN203"><span class='Ref_To_Local'>sqlda</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ecpg_build_compat_sqlda &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* 
 * Sets values from PGresult. 
 */ 
</span><a name="LN247"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a> <span class='Declare_Var'>value_is_null</span> <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN248"></a><span class='Keyword'>static </span><a href="../../../include/c.h.html#LN254"><span class='Ref_to_Typedef'>int16</span></a> <span class='Declare_Var'>value_is_not_null</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
<span class='Keyword'>void 
</span><a name="LN251"></a><span class='Declare_Function'>ecpg_set_compat_sqlda</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>** </span><span class='Declare_Parameter'>_sqlda</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN253"></a>    <span class='Control'>struct</span> <a href="../include/sqlda-compat.h.html#LN36"><span class='Ref_to_Struct'>sqlda_compat</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>_sqlda</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN254"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN255"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>, 
</span><a name="LN256"></a>                <span class='Declare_Local'>next_offset</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Offset for the first field value */ 
</span>    <a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN43"><span class='Ref_to_Func'>sqlda_compat_empty_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Set sqlvar[i]-&GT;sqldata pointers and convert values to correct format 
     */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN38"><span class='Ref_to_Member'>sqld</span></a><span class='Delimiter'>; </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN269"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>isnull</span><span class='Delimiter'>; 
</span><a name="LN270"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>datalen</span><span class='Delimiter'>; 
</span><a name="LN271"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>set_data</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN45"><span class='Ref_to_EnumConst'>ECPGt_bool</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN50"><span class='Ref_to_EnumConst'>ECPGt_decimal</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN321"></a>                    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>num</span><span class='Delimiter'>; 
</span><a name="LN322"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span> 
                    <a href="sqlda.c.html#LN271"><span class='Ref_To_Local'>set_data</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                    <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                    <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="sqlda.c.html#LN322"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN45"><span class='Ref_to_Proto'>PGTYPESnumeric_from_asc</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN322"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    memcpy<span class='Parentheses'>(</span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        memcpy<span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN22"><span class='Ref_to_Member'>buf</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Parentheses'>((</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>buf <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                        <span class='Parentheses'>((</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>digits <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN23"><span class='Ref_to_Member'>digits</span></a> <span class='Operator'>- </span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN22"><span class='Ref_to_Member'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN321"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN52"><span class='Ref_to_EnumConst'>ECPGt_date</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN53"><span class='Ref_to_EnumConst'>ECPGt_timestamp</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN54"><span class='Ref_to_EnumConst'>ECPGt_interval</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Operator'>: 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN270"><span class='Ref_To_Local'>datalen</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN270"><span class='Ref_To_Local'>datalen</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN270"><span class='Ref_To_Local'>datalen</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN270"><span class='Ref_To_Local'>datalen</span></a> <span class='Operator'>&GT; </span><span class='Number'>32768</span><span class='Parentheses'>) 
</span>                    <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN31"><span class='Ref_to_Member'>sqlilongdata</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch sqlda-&GT;sqlvar[i].sqlt... &raquo; </span> 
 
        <a href="sqlda.c.html#LN269"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_set_compat_sqlda on line %d row %d col %d %s\n"</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN269"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>? </span><span class='String'>"IS NULL"</span> <span class='Operator'>: </span><span class='String'>"IS NOT NULL"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN12"><span class='Ref_to_Member'>sqlind</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN269"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>? &</span><a href="sqlda.c.html#LN247"><span class='Ref_to_Global_Var'>value_is_null</span></a> <span class='Operator'>: &</span><a href="sqlda.c.html#LN248"><span class='Ref_to_Global_Var'>value_is_not_null</span></a><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN15"><span class='Ref_to_Member'>sqlitype</span></a> <span class='Operator'>= </span><a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN16"><span class='Ref_to_Member'>sqlilen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN269"><span class='Ref_To_Local'>isnull</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN271"><span class='Ref_To_Local'>set_data</span></a><span class='Parentheses'>) 
</span>                <a href="data.c.html#LN119"><span class='Ref_to_Func'>ecpg_get_data</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, 
</span>                              <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a><span class='Delimiter'>, </span><a href="../include/ecpgtype.h.html#LN63"><span class='Ref_to_EnumConst'>ECPGt_NO_INDICATOR</span></a><span class='Delimiter'>, 
</span>                              <a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>                              <a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_NONE</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN251"><span class='Ref_to_Parameter'>compat</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
            <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN253"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-compat.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN254"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <a href="sqlda.c.html#LN255"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN256"><span class='Ref_To_Local'>next_offset</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;sqlda-&GT;sqld;i++ &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ecpg_set_compat_sqlda &raquo; </span> 
 
<span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>* 
</span><a name="LN408"></a><span class='Declare_Function'>ecpg_build_native_sqlda</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>line</span><span class='Delimiter'>, </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN410"></a>    <span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda</span><span class='Delimiter'>; 
</span><a name="LN411"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>size</span><span class='Delimiter'>; 
</span><a name="LN412"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
    <a href="sqlda.c.html#LN411"><span class='Ref_To_Local'>size</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN181"><span class='Ref_to_Func'>sqlda_native_total_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="memory.c.html#LN17"><span class='Ref_to_Func'>ecpg_alloc</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN411"><span class='Ref_To_Local'>size</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>line</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    memset<span class='Parentheses'>(</span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN411"><span class='Ref_To_Local'>size</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN34"><span class='Ref_to_Member'>sqldaid</span></a><span class='Delimiter'>, </span><span class='String'>"SQLDA  "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN37"><span class='Ref_to_Member'>sqld</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN36"><span class='Ref_to_Member'>sqln</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_build_native_sqlda on line %d sqld = %d\n"</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>line</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN37"><span class='Ref_to_Member'>sqld</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN35"><span class='Ref_to_Member'>sqldabc</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN37"><span class='Ref_to_Member'>sqld</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN23"><span class='Ref_to_Struct'>sqlvar_struct</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN37"><span class='Ref_to_Member'>sqld</span></a><span class='Delimiter'>; </span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN428"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fname</span><span class='Delimiter'>; 
</span> 
        <a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a> <span class='Operator'>= </span><a href="typename.c.html#LN103"><span class='Ref_to_Func'>sqlda_dynamic_type</span></a><span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN481"><span class='Ref_to_Proto'>PQftype</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>compat</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN428"><span class='Ref_To_Local'>fname</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN408"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN13"><span class='Ref_to_Member'>sqlname</span></a><span class='Operator'>.</span>length <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="sqlda.c.html#LN428"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN412"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN13"><span class='Ref_to_Member'>sqlname</span></a><span class='Operator'>.</span>data<span class='Delimiter'>, </span><a href="sqlda.c.html#LN428"><span class='Ref_To_Local'>fname</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="sqlda.c.html#LN410"><span class='Ref_To_Local'>sqlda</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ecpg_build_native_sqlda &raquo; </span> 
 
<span class='Keyword'>void 
</span><a name="LN440"></a><span class='Declare_Function'>ecpg_set_native_sqlda</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>lineno</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>** </span><span class='Declare_Parameter'>_sqlda</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="../../libpq/libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>row</span><span class='Delimiter'>, </span><span class='Control'>enum</span> <a href="extern.h.html#LN15"><span class='Ref_to_Enum'>COMPAT_MODE</span></a> <span class='Declare_Parameter'>compat</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN442"></a>    <span class='Control'>struct</span> <a href="../include/sqlda-native.h.html#LN32"><span class='Ref_to_Struct'>sqlda_struct</span></a> <span class='Operator'>*</span><span class='Declare_Local'>sqlda</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>_sqlda</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN443"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN444"></a>    <span class='Keyword'>long</span>        <span class='Declare_Local'>offset</span><span class='Delimiter'>, 
</span><a name="LN445"></a>                <span class='Declare_Local'>next_offset</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Offset for the first field value */ 
</span>    <a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN166"><span class='Ref_to_Func'>sqlda_native_empty_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Set sqlvar[i]-&GT;sqldata pointers and convert values to correct format 
     */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN37"><span class='Ref_to_Member'>sqld</span></a><span class='Delimiter'>; </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN458"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>isnull</span><span class='Delimiter'>; 
</span><a name="LN459"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>datalen</span><span class='Delimiter'>; 
</span><a name="LN460"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>set_data</span> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_short</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_short</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>short</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_int</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_int</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_long</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN43"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_long_long</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN44"><span class='Ref_to_EnumConst'>ECPGt_unsigned_long_long</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>long long</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN45"><span class='Ref_to_EnumConst'>ECPGt_bool</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>bool</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_float</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>float</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN46"><span class='Ref_to_EnumConst'>ECPGt_double</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>double</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN50"><span class='Ref_to_EnumConst'>ECPGt_decimal</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../test/expected/preproc-outofscope.c.html#LN53"><span class='Ref_to_Typedef'>decimal</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN510"></a>                    <a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>num</span><span class='Delimiter'>; 
</span><a name="LN511"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span> 
                    <a href="sqlda.c.html#LN460"><span class='Ref_To_Local'>set_data</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
                    <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                    <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="sqlda.c.html#LN511"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a> <span class='Operator'>= </span><a href="../include/pgtypes_numeric.h.html#LN45"><span class='Ref_to_Proto'>PGTYPESnumeric_from_asc</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN511"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="../include/ecpglib.h.html#LN81"><span class='Ref_to_Proto'>ECPGset_noind_null</span></a><span class='Parentheses'>(</span><a href="../include/ecpgtype.h.html#LN48"><span class='Ref_to_EnumConst'>ECPGt_numeric</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    memcpy<span class='Parentheses'>(</span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        memcpy<span class='Parentheses'>((</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN22"><span class='Ref_to_Member'>buf</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN17"><span class='Ref_to_Member'>ndigits</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                        <span class='Parentheses'>((</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>buf <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                        <span class='Parentheses'>((</span><a href="../include/pgtypes_numeric.h.html#LN15"><span class='Ref_to_Typedef'>numeric</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Parentheses'>)</span><span class='Operator'>-&GT;</span>digits <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="../include/pgtypes_numeric.h.html#LN14"><span class='Ref_to_Typedef'>NumericDigit</span></a> <span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN23"><span class='Ref_to_Member'>digits</span></a> <span class='Operator'>- </span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtypes_numeric.h.html#LN22"><span class='Ref_to_Member'>buf</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span> 
                    <a href="../include/pgtypes_numeric.h.html#LN43"><span class='Ref_to_Proto'>PGTYPESnumeric_free</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN510"><span class='Ref_To_Local'>num</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN52"><span class='Ref_to_EnumConst'>ECPGt_date</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_date.h.html#LN7"><span class='Ref_to_Typedef'>date</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN53"><span class='Ref_to_EnumConst'>ECPGt_timestamp</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN54"><span class='Ref_to_EnumConst'>ECPGt_interval</span></a><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><a href="../include/pgtypes_interval.h.html#LN25"><span class='Ref_to_Typedef'>interval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN42"><span class='Ref_to_EnumConst'>ECPGt_unsigned_char</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="../include/ecpgtype.h.html#LN64"><span class='Ref_to_EnumConst'>ECPGt_string</span></a><span class='Operator'>: 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="sqlda.c.html#LN459"><span class='Ref_To_Local'>datalen</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="../../libpq/libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN31"><span class='Ref_to_Func'>ecpg_sqlda_align_add_size</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN459"><span class='Ref_To_Local'>datalen</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a> <span class='Operator'>+ </span><a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a><span class='Delimiter'>; 
</span>                <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN10"><span class='Ref_to_Member'>sqllen</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN459"><span class='Ref_To_Local'>datalen</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch sqlda-&GT;sqlvar[i].sqlt... &raquo; </span> 
 
        <a href="sqlda.c.html#LN458"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>= </span><a href="../../libpq/libpq-fe.h.html#LN490"><span class='Ref_to_Proto'>PQgetisnull</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="misc.c.html#LN265"><span class='Ref_to_Func'>ecpg_log</span></a><span class='Parentheses'>(</span><span class='String'>"ecpg_set_native_sqlda on line %d row %d col %d %s\n"</span><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN458"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>? </span><span class='String'>"IS NULL"</span> <span class='Operator'>: </span><span class='String'>"IS NOT NULL"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN12"><span class='Ref_to_Member'>sqlind</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN458"><span class='Ref_To_Local'>isnull</span></a> <span class='Operator'>? &</span><a href="sqlda.c.html#LN247"><span class='Ref_to_Global_Var'>value_is_null</span></a> <span class='Operator'>: &</span><a href="sqlda.c.html#LN248"><span class='Ref_to_Global_Var'>value_is_not_null</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="sqlda.c.html#LN458"><span class='Ref_To_Local'>isnull</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="sqlda.c.html#LN460"><span class='Ref_To_Local'>set_data</span></a><span class='Parentheses'>) 
</span>                <a href="data.c.html#LN119"><span class='Ref_to_Func'>ecpg_get_data</span></a><span class='Parentheses'>(</span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>row</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>lineno</span></a><span class='Delimiter'>, 
</span>                              <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN9"><span class='Ref_to_Member'>sqltype</span></a><span class='Delimiter'>, </span><a href="../include/ecpgtype.h.html#LN63"><span class='Ref_to_EnumConst'>ECPGt_NO_INDICATOR</span></a><span class='Delimiter'>, 
</span>                              <a href="sqlda.c.html#LN442"><span class='Ref_To_Local'>sqlda</span></a><span class='Operator'>-&GT;</span><a href="../include/sqlda-native.h.html#LN39"><span class='Ref_to_Member'>sqlvar</span></a><span class='Delimiter'>[</span><a href="sqlda.c.html#LN443"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="../include/sqlda-compat.h.html#LN11"><span class='Ref_to_Member'>sqldata</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, 
</span>                              <a href="extern.h.html#LN26"><span class='Ref_to_EnumConst'>ECPG_ARRAY_NONE</span></a><span class='Delimiter'>, </span><a href="sqlda.c.html#LN440"><span class='Ref_to_Parameter'>compat</span></a><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="sqlda.c.html#LN444"><span class='Ref_To_Local'>offset</span></a> <span class='Operator'>= </span><a href="sqlda.c.html#LN445"><span class='Ref_To_Local'>next_offset</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;sqlda-&GT;sqld;i++ &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end ecpg_set_native_sqlda &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>