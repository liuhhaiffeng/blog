<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\interfaces\ecpg\pgtypeslib\dt_common.c</title>
<LINK REL=StyleSheet HREF="../../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\interfaces\ecpg\pgtypeslib\dt_common.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:09 2017
</td></tr>
<tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* src/interfaces/ecpg/pgtypeslib/dt_common.c */ 
</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;time.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;math.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"extern.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"dt.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"pgtypes_timestamp.h"</span> 
 
<a name="LN12"></a><span class='Keyword'>int</span>         <span class='Declare_Var'>day_tab</span><span class='Delimiter'>[</span><span class='Number'>2</span><span class='Delimiter'>][</span><span class='Number'>13</span><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Delimiter'>{</span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>28</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>}, 
{</span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>29</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>30</span><span class='Delimiter'>, </span><span class='Number'>31</span><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>}}; 
</span> 
<a name="LN16"></a><span class='Control'>typedef</span> <span class='Keyword'>long </span><span class='Declare_Typedef'>AbsoluteTime</span><span class='Delimiter'>; 
</span> 
<a name="LN18"></a><span class='Keyword'>static </span><a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a> <span class='Declare_Var'>datetktbl</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span><span class='Comment_Multi_Line'>/*  text, token, lexval */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN36"><span class='Ref_to_Const'>EARLY</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN147"><span class='Ref_to_Const'>DTK_EARLY</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "-infinity" reserved for "early time" */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"acsst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>37800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Cent. Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"acst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Atlantic/Porto Acre */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"act"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Atlantic/Porto Acre */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN57"><span class='Ref_to_Const'>DA_D</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN107"><span class='Ref_to_Const'>ADBC</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN72"><span class='Ref_to_Const'>AD</span></a><span class='Delimiter'>},</span>           <span class='Comment_Single_Line'>/* "ad" for years &GT;= 0 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"adt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Atlantic Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"aesst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* E. Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"aest"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Australia Eastern Std Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"aft"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>16200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Kabul */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ahst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>36000</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Alaska-Hawaii Std Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"akdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>28800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Alaska Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"akst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>32400</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Alaska Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"allballs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN154"><span class='Ref_to_Const'>DTK_ZULU</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* 00:00:00 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"almst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Almaty Savings Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"almt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Almaty Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"am"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN98"><span class='Ref_to_Const'>AMPM</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN68"><span class='Ref_to_Const'>AM</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"amst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Armenia Summer Time (Yerevan) */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    {"amst", DTZ, -10800},      /* Porto Velho */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"amt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Armenia Time (Yerevan) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"anast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>46800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Anadyr Summer Time (Russia) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"anat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Anadyr Time (Russia) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"apr"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"april"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>}, 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    aqtst 
    aqtt 
    arst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"art"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Argentina Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    ashst 
    ast                         /* Atlantic Standard Time, Arabia Standard 
                                 * Time, Acre Standard Time */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"ast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Atlantic Std Time (Canada) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"at"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN97"><span class='Ref_to_Const'>IGNORE_DTF</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* "at" (throwaway) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"aug"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"august"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>8</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"awsst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* W. Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"awst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* W. Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"awt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"azost"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Azores Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"azot"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>3600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Azores Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"azst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Azerbaijan Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"azt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Azerbaijan Time */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN58"><span class='Ref_to_Const'>DB_C</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN107"><span class='Ref_to_Const'>ADBC</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN73"><span class='Ref_to_Const'>BC</span></a><span class='Delimiter'>},</span>           <span class='Comment_Single_Line'>/* "bc" for years &LT; 0 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"bdst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* British Double Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"bdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Dacca */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"bnt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Brunei Darussalam Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"bort"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Borneo Time (Indonesia) */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    bortst 
    bost 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"bot"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Bolivia Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"bra"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Brazil Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    brst 
    brt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"bst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* British Summer Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    {"bst", TZ, -10800},        /* Brazil Standard Time */ 
    {"bst", DTZ, -39600},       /* Bering Summer Time */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"bt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>10800</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Baghdad Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"btt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Bhutan Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cadt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>37800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Central Australian DST */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>34200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Central Australian ST */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Central Alaska Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cct"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* China Coast Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    {"cct", TZ, 23400},         /* Indian Cocos (Island) Time */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"cdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Central Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cest"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Central European Dayl.Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cet"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Central European Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cetdst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Central European Dayl.Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"chadt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>49500</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Chatham Island Daylight Time (13:45) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"chast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>45900</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Chatham Island Time (12:45) */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    ckhst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"ckt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Cook Islands Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"clst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Chile Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"clt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Chile Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    cost 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"cot"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Columbia Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>21600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Central Standard Time */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN33"><span class='Ref_to_Const'>DCURRENT</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN146"><span class='Ref_to_Const'>DTK_CURRENT</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "current" is always now */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    cvst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"cvt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Christmas Island Time (Indian Ocean) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cxt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Christmas Island Time (Indian Ocean) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"d"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN160"><span class='Ref_to_Const'>DTK_DAY</span></a><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* "day of month" for ISO input */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"davt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Davis Time (Antarctica) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ddut"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Dumont-d'Urville Time (Antarctica) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"dec"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>12</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"december"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>12</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"dnt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Dansk Normal Tid */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"dow"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN172"><span class='Ref_to_Const'>DTK_DOW</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* day of week */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"doy"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN173"><span class='Ref_to_Const'>DTK_DOY</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* day of year */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"dst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN116"><span class='Ref_to_Const'>DTZMOD</span></a><span class='Delimiter'>, </span><a href="../../../include/datatype/timestamp.h.html#LN86"><span class='Ref_to_Const'>SECS_PER_HOUR</span></a><span class='Delimiter'>}, 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    {"dusst", DTZ, 21600},      /* Dushanbe Summer Time */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"easst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* Easter Island Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"east"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>21600</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Easter Island Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"eat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>10800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* East Africa Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    {"east", DTZ, 14400},       /* Indian Antananarivo Savings Time */ 
    {"eat", TZ, 10800},         /* Indian Antananarivo Time */ 
    {"ect", TZ, -14400},        /* Eastern Caribbean Time */ 
    {"ect", TZ, -18000},        /* Ecuador Time */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"edt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Eastern Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"eest"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>10800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Eastern Europe Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"eet"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* East. Europe, USSR Zone 1 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"eetdst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>10800</span><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* Eastern Europe Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"egst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>           <span class='Comment_Single_Line'>/* East Greenland Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"egt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>3600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* East Greenland Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    ehdt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><a href="dt.h.html#LN34"><span class='Ref_to_Const'>EPOCH</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN149"><span class='Ref_to_Const'>DTK_EPOCH</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "epoch" reserved for system epoch time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"est"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Eastern Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"feb"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"february"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"fjst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>46800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Fiji Summer Time (13 hour offset!) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"fjt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Fiji Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"fkst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Falkland Islands Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"fkt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>7200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Falkland Islands Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    fnst 
    fnt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"fri"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"friday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"fst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* French Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"fwt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* French Winter Time  */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"galt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>21600</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Galapagos Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"gamt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>32400</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Gambier Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"gest"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Georgia Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"get"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Georgia Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"gft"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* French Guiana Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    ghst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"gilt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Gilbert Islands Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"gmt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>             <span class='Comment_Single_Line'>/* Greenwish Mean Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"gst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Guam Std Time, USSR Zone 9 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"gyt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Guyana Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"h"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "hour" */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    hadt 
    hast 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"hdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>32400</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Hawaii/Alaska Daylight Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    hkst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"hkt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Hong Kong Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    {"hmt", TZ, 10800},         /* Hellas ? ? */ 
    hovst 
    hovt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"hst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Hawaii Std Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    hwt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"ict"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Indochina Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"idle"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Intl. Date Line, East */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"idlw"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>43200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Intl. Date Line, West */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    idt                         /* Israeli, Iran, Indian Daylight Time */ 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><a href="dt.h.html#LN37"><span class='Ref_to_Const'>LATE</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN148"><span class='Ref_to_Const'>DTK_LATE</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "infinity" reserved for "late time" */ 
</span>    <span class='Delimiter'>{</span><a href="../../../../contrib/isn/isn.c.html#LN32"><span class='Ref_to_EnumConst'>INVALID</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN145"><span class='Ref_to_Const'>DTK_INVALID</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "invalid" reserved for bad time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"iot"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Indian Chagos Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"irkst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Irkutsk Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"irkt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Irkutsk Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"irt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>12600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Iran Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"isodow"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN177"><span class='Ref_to_Const'>DTK_ISODOW</span></a><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* ISO day of week, Sunday == 7 */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    isst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"ist"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Israel */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"it"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>12600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Iran Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"j"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN170"><span class='Ref_to_Const'>DTK_JULIAN</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"jan"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"january"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"javt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Java Time (07:00? see JT) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"jayt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Jayapura Time (Indonesia) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"jd"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN170"><span class='Ref_to_Const'>DTK_JULIAN</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"jst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Japan Std Time,USSR Zone 8 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"jt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>27000</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Java Time (07:30? see JAVT) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"jul"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"julian"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN170"><span class='Ref_to_Const'>DTK_JULIAN</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"july"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>7</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"jun"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"june"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"kdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Korea Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"kgst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Kyrgyzstan Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"kgt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Kyrgyzstan Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"kost"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Kosrae Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"krast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Krasnoyarsk Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"krat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Krasnoyarsk Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"kst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Korea Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"lhdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Lord Howe Daylight Time, Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"lhst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>37800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Lord Howe Standard Time, Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ligt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* From Melbourne, Australia */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"lint"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>50400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Line Islands Time (Kiribati; +14 hours!) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"lkt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Lanka Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"m"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN162"><span class='Ref_to_Const'>DTK_MONTH</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "month" for ISO input */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"magst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Magadan Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"magt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Magadan Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mar"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"march"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"mart"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>34200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Marquesas Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mawt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Mawson, Antarctica */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"may"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>5</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"mdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>21600</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Mountain Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mest"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Middle Europe Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"met"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Middle Europe Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"metdst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Middle Europe Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mewt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Middle Europe Winter Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mez"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Middle Europe Zone */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mht"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Kwajalein */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mm"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Delimiter'>},</span>  <span class='Comment_Single_Line'>/* "minute" for ISO input */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mmt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>23400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Myannar Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mon"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"monday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>}, 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    most 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"mpt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* North Mariana Islands Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"msd"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Moscow Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"msk"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>10800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Moscow Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>25200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Mountain Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>30600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Moluccas Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mut"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Mauritius Island Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mvt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Maldives Island Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"myt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Malaysia Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    ncst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"nct"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* New Caledonia Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ndt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>9000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Nfld. Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nft"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>12600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Newfoundland Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nor"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Norway Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nov"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>11</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"november"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>11</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"novst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Novosibirsk Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"novt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Novosibirsk Standard Time */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN38"><span class='Ref_to_Const'>NOW</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN150"><span class='Ref_to_Const'>DTK_NOW</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* current transaction time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"npt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>20700</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Nepal Standard Time (GMT-5:45) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>12600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Nfld. Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>39600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Nome Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nut"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>39600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Niue Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nzdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>46800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* New Zealand Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nzst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* New Zealand Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"nzt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* New Zealand Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"oct"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"october"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"omsst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Omsk Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"omst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Omsk Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"on"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN97"><span class='Ref_to_Const'>IGNORE_DTF</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* "on" (throwaway) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>25200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Pacific Daylight Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    pest 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"pet"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Peru Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"petst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>46800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Petropavlovsk-Kamchatski Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pett"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Petropavlovsk-Kamchatski Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pgt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Papua New Guinea Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"phot"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>46800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Phoenix Islands (Kiribati) Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    phst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"pht"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Philippine Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pkt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Pakistan Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pm"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN98"><span class='Ref_to_Const'>AMPM</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN69"><span class='Ref_to_Const'>PM</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"pmdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>7200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Pierre & Miquelon Daylight Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    pmst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"pont"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Ponape Time (Micronesia) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>28800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Pacific Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pwt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Palau Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pyst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Paraguay Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"pyt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Paraguay Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ret"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Reunion Island Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"s"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "seconds" for ISO input */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"sadt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>37800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* S. Australian Dayl. Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    samst 
    samt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"sast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>34200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* South Australian Std Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"sat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"saturday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>6</span><span class='Delimiter'>}, 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    sbt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"sct"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Mahe Island Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"sep"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"sept"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"september"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Delimiter'>, </span><span class='Number'>9</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"set"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>3600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Seychelles Time ?? */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    sgt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"sst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>7200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Swedish Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"sun"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"sunday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"swt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>          <span class='Comment_Single_Line'>/* Swedish Winter Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    syot 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"t"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN114"><span class='Ref_to_Const'>ISOTIME</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* Filler for ISO time fields */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"tft"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Kerguelen Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"that"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>36000</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Tahiti Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"thu"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"thur"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"thurs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"thursday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"tjt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Tajikistan Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"tkt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Tokelau Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"tmt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Turkmenistan Time */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN39"><span class='Ref_to_Const'>TODAY</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN152"><span class='Ref_to_Const'>DTK_TODAY</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* midnight */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN40"><span class='Ref_to_Const'>TOMORROW</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN153"><span class='Ref_to_Const'>DTK_TOMORROW</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* tomorrow midnight */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    tost 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"tot"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>46800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Tonga Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    tpt 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"truk"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Truk Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"tue"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"tues"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"tuesday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"tvt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Tuvalu Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    uct 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"ulast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Ulan Bator Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ulat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Ulan Bator Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"undefined"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN145"><span class='Ref_to_Const'>DTK_INVALID</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* pre-v6.1 invalid time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ut"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"utc"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"uyst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>7200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Uruguay Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"uyt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Uruguay Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"uzst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Uzbekistan Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"uzt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Uzbekistan Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"vet"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Venezuela Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"vlast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Vladivostok Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"vlat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Vladivostok Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    vust 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"vut"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>39600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Vanuata Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wadt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* West Australian DST */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wakt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Wake Time */ 
</span><span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    warst 
</span><span class='Directive'>#endif</span> 
    <span class='Delimiter'>{</span><span class='String'>"wast"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>25200</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* West Australian Std Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wat"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>3600</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* West Africa Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wdt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* West Australian DST */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wed"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"wednesday"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"weds"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Delimiter'>, </span><span class='Number'>3</span><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"west"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Western Europe Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wet"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>             <span class='Comment_Single_Line'>/* Western Europe */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wetdst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>3600</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Western Europe Daylight Savings Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wft"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>43200</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* Wallis and Futuna Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wgst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>7200</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* West Greenland Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wgt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>10800</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* West Greenland Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"wst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>28800</span><span class='Delimiter'>},</span>         <span class='Comment_Single_Line'>/* West Australian Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"y"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "year" for ISO input */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yakst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Yakutsk Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yakt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>32400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Yakutsk Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yapt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>36000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Yap Time (Micronesia) */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"ydt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>28800</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* Yukon Daylight Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yekst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Delimiter'>, </span><span class='Number'>21600</span><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* Yekaterinburg Summer Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yekt"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>18000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Yekaterinburg Time */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN41"><span class='Ref_to_Const'>YESTERDAY</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN151"><span class='Ref_to_Const'>DTK_YESTERDAY</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* yesterday midnight */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yst"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>32400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* Yukon Standard Time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"z"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>               <span class='Comment_Single_Line'>/* time zone tag per ISO-8601 */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"zp4"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>14400</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* UTC +4  hours. */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"zp5"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>18000</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* UTC +5  hours. */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"zp6"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Number'>21600</span><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* UTC +6  hours. */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN42"><span class='Ref_to_Const'>ZULU</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>              <span class='Comment_Single_Line'>/* UTC */ 
</span><span class='Delimiter'>}; 
</span> 
<a name="LN422"></a><span class='Keyword'>static </span><a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a> <span class='Declare_Var'>deltatktbl</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* text, token, lexval */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"@"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN97"><span class='Ref_to_Const'>IGNORE_DTF</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* postgres relative prefix */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN32"><span class='Ref_to_Const'>DAGO</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN109"><span class='Ref_to_Const'>AGO</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>},</span>             <span class='Comment_Single_Line'>/* "ago" indicates negative time offset */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"c"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN166"><span class='Ref_to_Const'>DTK_CENTURY</span></a><span class='Delimiter'>},</span>  <span class='Comment_Single_Line'>/* "century" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"cent"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN166"><span class='Ref_to_Const'>DTK_CENTURY</span></a><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* "century" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"centuries"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN166"><span class='Ref_to_Const'>DTK_CENTURY</span></a><span class='Delimiter'>},</span>  <span class='Comment_Single_Line'>/* "centuries" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN55"><span class='Ref_to_Const'>DCENTURY</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN166"><span class='Ref_to_Const'>DTK_CENTURY</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "century" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"d"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN160"><span class='Ref_to_Const'>DTK_DAY</span></a><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* "day" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN49"><span class='Ref_to_Const'>DDAY</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN160"><span class='Ref_to_Const'>DTK_DAY</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "day" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"days"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN160"><span class='Ref_to_Const'>DTK_DAY</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "days" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"dec"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN165"><span class='Ref_to_Const'>DTK_DECADE</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "decade" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN54"><span class='Ref_to_Const'>DDECADE</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN165"><span class='Ref_to_Const'>DTK_DECADE</span></a><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* "decade" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"decades"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN165"><span class='Ref_to_Const'>DTK_DECADE</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "decades" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"decs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN165"><span class='Ref_to_Const'>DTK_DECADE</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "decades" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"h"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "hour" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN48"><span class='Ref_to_Const'>DHOUR</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "hour" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"hours"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "hours" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"hr"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "hour" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"hrs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "hours" relative */ 
</span>    <span class='Delimiter'>{</span><a href="../../../../contrib/isn/isn.c.html#LN32"><span class='Ref_to_EnumConst'>INVALID</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN145"><span class='Ref_to_Const'>DTK_INVALID</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* reserved for invalid time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"m"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "minute" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"microsecon"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN169"><span class='Ref_to_Const'>DTK_MICROSEC</span></a><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* "microsecond" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mil"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN167"><span class='Ref_to_Const'>DTK_MILLENNIUM</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "millennium" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"millennia"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN167"><span class='Ref_to_Const'>DTK_MILLENNIUM</span></a><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* "millennia" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN56"><span class='Ref_to_Const'>DMILLENNIUM</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN167"><span class='Ref_to_Const'>DTK_MILLENNIUM</span></a><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* "millennium" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"millisecon"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN168"><span class='Ref_to_Const'>DTK_MILLISEC</span></a><span class='Delimiter'>},</span>        <span class='Comment_Single_Line'>/* relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mils"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN167"><span class='Ref_to_Const'>DTK_MILLENNIUM</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "millennia" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"min"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "minute" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mins"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "minutes" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN47"><span class='Ref_to_Const'>DMINUTE</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* "minute" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"minutes"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "minutes" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mon"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN162"><span class='Ref_to_Const'>DTK_MONTH</span></a><span class='Delimiter'>},</span>  <span class='Comment_Single_Line'>/* "months" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"mons"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN162"><span class='Ref_to_Const'>DTK_MONTH</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "months" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN51"><span class='Ref_to_Const'>DMONTH</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN162"><span class='Ref_to_Const'>DTK_MONTH</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "month" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"months"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN162"><span class='Ref_to_Const'>DTK_MONTH</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"ms"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN168"><span class='Ref_to_Const'>DTK_MILLISEC</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"msec"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN168"><span class='Ref_to_Const'>DTK_MILLISEC</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN45"><span class='Ref_to_Const'>DMILLISEC</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN168"><span class='Ref_to_Const'>DTK_MILLISEC</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"mseconds"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN168"><span class='Ref_to_Const'>DTK_MILLISEC</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"msecs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN168"><span class='Ref_to_Const'>DTK_MILLISEC</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"qtr"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN163"><span class='Ref_to_Const'>DTK_QUARTER</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "quarter" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN52"><span class='Ref_to_Const'>DQUARTER</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN163"><span class='Ref_to_Const'>DTK_QUARTER</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "quarter" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"s"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"sec"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN46"><span class='Ref_to_Const'>DSECOND</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"seconds"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><span class='String'>"secs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Delimiter'>}, 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN59"><span class='Ref_to_Const'>DTIMEZONE</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "timezone" time offset */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"timezone_h"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN174"><span class='Ref_to_Const'>DTK_TZ_HOUR</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* timezone hour units */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"timezone_m"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN175"><span class='Ref_to_Const'>DTK_TZ_MINUTE</span></a><span class='Delimiter'>},</span>       <span class='Comment_Single_Line'>/* timezone minutes units */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"undefined"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN145"><span class='Ref_to_Const'>DTK_INVALID</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* pre-v6.1 invalid time */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"us"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN169"><span class='Ref_to_Const'>DTK_MICROSEC</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "microsecond" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"usec"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN169"><span class='Ref_to_Const'>DTK_MICROSEC</span></a><span class='Delimiter'>},</span>      <span class='Comment_Single_Line'>/* "microsecond" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN44"><span class='Ref_to_Const'>DMICROSEC</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN169"><span class='Ref_to_Const'>DTK_MICROSEC</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "microsecond" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"useconds"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN169"><span class='Ref_to_Const'>DTK_MICROSEC</span></a><span class='Delimiter'>},</span>  <span class='Comment_Single_Line'>/* "microseconds" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"usecs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN169"><span class='Ref_to_Const'>DTK_MICROSEC</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "microseconds" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"w"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN161"><span class='Ref_to_Const'>DTK_WEEK</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "week" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN50"><span class='Ref_to_Const'>DWEEK</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN161"><span class='Ref_to_Const'>DTK_WEEK</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "week" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"weeks"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN161"><span class='Ref_to_Const'>DTK_WEEK</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "weeks" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"y"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Delimiter'>},</span>     <span class='Comment_Single_Line'>/* "year" relative */ 
</span>    <span class='Delimiter'>{</span><a href="dt.h.html#LN53"><span class='Ref_to_Const'>DYEAR</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "year" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"years"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Delimiter'>}, </span><span class='Comment_Single_Line'>/* "years" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yr"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Delimiter'>},</span>    <span class='Comment_Single_Line'>/* "year" relative */ 
</span>    <span class='Delimiter'>{</span><span class='String'>"yrs"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Delimiter'>},</span>   <span class='Comment_Single_Line'>/* "years" relative */ 
</span><span class='Delimiter'>}; 
</span> 
<a name="LN489"></a><span class='Keyword'>static const unsigned int </span><span class='Declare_Var'>szdatetktbl</span> <span class='Operator'>= </span><a href="../../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN18"><span class='Ref_to_Global_Var'>datetktbl</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN490"></a><span class='Keyword'>static const unsigned int </span><span class='Declare_Var'>szdeltatktbl</span> <span class='Operator'>= </span><a href="../../../include/c.h.html#LN561"><span class='Ref_to_Macro'>lengthof</span></a><span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN173"><span class='Ref_to_Global_Var'>deltatktbl</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN492"></a><span class='Keyword'>static </span><a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a> <span class='Operator'>*</span><span class='Declare_Var'>datecache</span><span class='Delimiter'>[</span><a href="dt.h.html#LN197"><span class='Ref_to_Const'>MAXDATEFIELDS</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Null_Value'>NULL</span><span class='Delimiter'>}; 
</span> 
<a name="LN494"></a><span class='Keyword'>static </span><a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a> <span class='Operator'>*</span><span class='Declare_Var'>deltacache</span><span class='Delimiter'>[</span><a href="dt.h.html#LN197"><span class='Ref_to_Const'>MAXDATEFIELDS</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='Null_Value'>NULL</span><span class='Delimiter'>}; 
</span> 
<a name="LN496"></a><span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>months</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='String'>"Jan"</span><span class='Delimiter'>, </span><span class='String'>"Feb"</span><span class='Delimiter'>, </span><span class='String'>"Mar"</span><span class='Delimiter'>, </span><span class='String'>"Apr"</span><span class='Delimiter'>, </span><span class='String'>"May"</span><span class='Delimiter'>, </span><span class='String'>"Jun"</span><span class='Delimiter'>, </span><span class='String'>"Jul"</span><span class='Delimiter'>, </span><span class='String'>"Aug"</span><span class='Delimiter'>, </span><span class='String'>"Sep"</span><span class='Delimiter'>, </span><span class='String'>"Oct"</span><span class='Delimiter'>, </span><span class='String'>"Nov"</span><span class='Delimiter'>, </span><span class='String'>"Dec"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>}; 
</span> 
<a name="LN498"></a><span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>days</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='String'>"Sunday"</span><span class='Delimiter'>, </span><span class='String'>"Monday"</span><span class='Delimiter'>, </span><span class='String'>"Tuesday"</span><span class='Delimiter'>, </span><span class='String'>"Wednesday"</span><span class='Delimiter'>, </span><span class='String'>"Thursday"</span><span class='Delimiter'>, </span><span class='String'>"Friday"</span><span class='Delimiter'>, </span><span class='String'>"Saturday"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>}; 
</span> 
<a name="LN500"></a><span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>pgtypes_date_weekdays_short</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='String'>"Sun"</span><span class='Delimiter'>, </span><span class='String'>"Mon"</span><span class='Delimiter'>, </span><span class='String'>"Tue"</span><span class='Delimiter'>, </span><span class='String'>"Wed"</span><span class='Delimiter'>, </span><span class='String'>"Thu"</span><span class='Delimiter'>, </span><span class='String'>"Fri"</span><span class='Delimiter'>, </span><span class='String'>"Sat"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>}; 
</span> 
<a name="LN502"></a><span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Var'>pgtypes_date_months</span><span class='Delimiter'>[] </span><span class='Operator'>= </span><span class='Delimiter'>{</span><span class='String'>"January"</span><span class='Delimiter'>, </span><span class='String'>"February"</span><span class='Delimiter'>, </span><span class='String'>"March"</span><span class='Delimiter'>, </span><span class='String'>"April"</span><span class='Delimiter'>, </span><span class='String'>"May"</span><span class='Delimiter'>, </span><span class='String'>"June"</span><span class='Delimiter'>, </span><span class='String'>"July"</span><span class='Delimiter'>, </span><span class='String'>"August"</span><span class='Delimiter'>, </span><span class='String'>"September"</span><span class='Delimiter'>, </span><span class='String'>"October"</span><span class='Delimiter'>, </span><span class='String'>"November"</span><span class='Delimiter'>, </span><span class='String'>"December"</span><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>}; 
</span> 
<span class='Keyword'>static </span><a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a> <span class='Operator'>* 
</span><a name="LN505"></a><span class='Declare_Function'>datebsearch</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>key</span><span class='Delimiter'>, </span><a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>base</span><span class='Delimiter'>, </span><span class='Keyword'>unsigned int </span><span class='Declare_Parameter'>nel</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>nel</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN509"></a>        <a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>last</span> <span class='Operator'>= </span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>base</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>nel</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, 
</span><a name="LN510"></a>                   <span class='Operator'>*</span><span class='Declare_Local'>position</span><span class='Delimiter'>; 
</span><a name="LN511"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>result</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN509"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>&GT;= </span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>base</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN510"><span class='Ref_To_Local'>position</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>base</span></a> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="dt_common.c.html#LN509"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>- </span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>base</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT;&GT; </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* precheck the first character for a bit of extra speed */ 
</span>            <a href="dt_common.c.html#LN511"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>key</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>- </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><a href="dt_common.c.html#LN510"><span class='Ref_To_Local'>position</span></a><span class='Operator'>-&GT;</span><a href="dt.h.html#LN204"><span class='Ref_to_Member'>token</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>]; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN511"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* use strncmp so that we match truncated tokens */ 
</span>                <a href="dt_common.c.html#LN511"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>= </span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>key</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN510"><span class='Ref_To_Local'>position</span></a><span class='Operator'>-&GT;</span><a href="dt.h.html#LN204"><span class='Ref_to_Member'>token</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN199"><span class='Ref_to_Const'>TOKMAXLEN</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN511"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <span class='Control'>return</span> <a href="dt_common.c.html#LN510"><span class='Ref_To_Local'>position</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN511"><span class='Ref_To_Local'>result</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="dt_common.c.html#LN509"><span class='Ref_To_Local'>last</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN510"><span class='Ref_To_Local'>position</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="dt_common.c.html#LN505"><span class='Ref_to_Parameter'>base</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN510"><span class='Ref_To_Local'>position</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if nel&GT;0 &raquo; </span> 
    <span class='Control'>return</span> <span class='Null_Value'>NULL</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end datebsearch &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* DecodeUnits() 
 * Decode text string using lookup table. 
 * This routine supports time interval decoding. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN539"></a><span class='Declare_Function'>DecodeUnits</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>field</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>lowtoken</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN541"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>type</span><span class='Delimiter'>; 
</span><a name="LN542"></a>    <a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>tp</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* use strncmp so that we match truncated tokens */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN248"><span class='Ref_to_Global_Var'>deltacache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& 
</span>        strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>lowtoken</span></a><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN248"><span class='Ref_to_Global_Var'>deltacache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span><a href="dt.h.html#LN204"><span class='Ref_to_Member'>token</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN199"><span class='Ref_to_Const'>TOKMAXLEN</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="dt_common.c.html#LN542"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN248"><span class='Ref_to_Global_Var'>deltacache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>else</span> 
        <a href="dt_common.c.html#LN542"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN42"><span class='Ref_to_Proto'>datebsearch</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>lowtoken</span></a><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN173"><span class='Ref_to_Global_Var'>deltatktbl</span></a><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN240"><span class='Ref_to_Global_Var'>szdeltatktbl</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="../../../backend/utils/adt/datetime.c.html#LN248"><span class='Ref_to_Global_Var'>deltacache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt_common.c.html#LN542"><span class='Ref_To_Local'>tp</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN542"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN541"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN118"><span class='Ref_to_Const'>UNKNOWN_FIELD</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>val</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN541"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN542"><span class='Ref_To_Local'>tp</span></a><span class='Operator'>-&GT;</span><a href="dt.h.html#LN205"><span class='Ref_to_Member'>type</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN539"><span class='Ref_to_Parameter'>val</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN542"><span class='Ref_To_Local'>tp</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="dt_common.c.html#LN541"><span class='Ref_To_Local'>type</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeUnits &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeUnits() */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Calendar time to Julian date conversions. 
 * Julian date is commonly used in astronomical applications, 
 *  since it is numerically accurate and computationally simple. 
 * The algorithms here will accurately convert between Julian day 
 *  and calendar date for all non-negative Julian days 
 *  (i.e. from Nov 24, -4713 on). 
 * 
 * These routines will be used by other date/time packages 
 * - thomas 97/02/25 
 * 
 * Rewritten to eliminate overflow problems. This now allows the 
 * routines to work correctly for all Julian day counts from 
 * 0 to 2147483647  (Nov 24, -4713 to Jun 3, 5874898) assuming 
 * a 32-bit integer. Longer types should also work to the limits 
 * of their precision. 
 */ 
</span> 
<span class='Keyword'>int 
</span><a name="LN584"></a><span class='Declare_Function'>date2j</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>y</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>m</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>d</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN586"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>julian</span><span class='Delimiter'>; 
</span><a name="LN587"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>century</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>m</span></a> <span class='Operator'>&GT; </span><span class='Number'>2</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>m</span></a> <span class='Operator'>+= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>y</span></a> <span class='Operator'>+= </span><span class='Number'>4800</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>m</span></a> <span class='Operator'>+= </span><span class='Number'>13</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>y</span></a> <span class='Operator'>+= </span><span class='Number'>4799</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="dt_common.c.html#LN587"><span class='Ref_To_Local'>century</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>y</span></a> <span class='Operator'>/ </span><span class='Number'>100</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN586"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>y</span></a> <span class='Operator'>* </span><span class='Number'>365</span> <span class='Operator'>- </span><span class='Number'>32167</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN586"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>+= </span><a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>y</span></a> <span class='Operator'>/ </span><span class='Number'>4</span> <span class='Operator'>- </span><a href="dt_common.c.html#LN587"><span class='Ref_To_Local'>century</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN587"><span class='Ref_To_Local'>century</span></a> <span class='Operator'>/ </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN586"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>+= </span><span class='Number'>7834</span> <span class='Operator'>* </span><a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>m</span></a> <span class='Operator'>/ </span><span class='Number'>256</span> <span class='Operator'>+ </span><a href="dt_common.c.html#LN584"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <a href="dt_common.c.html#LN586"><span class='Ref_To_Local'>julian</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end date2j &raquo; </span>   <span class='Comment_Single_Line'>/* date2j() */ 
</span> 
<span class='Keyword'>void 
</span><a name="LN609"></a><span class='Declare_Function'>j2date</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>jd</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>year</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>month</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>day</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN611"></a>    <span class='Keyword'>unsigned int </span><span class='Declare_Local'>julian</span><span class='Delimiter'>; 
</span><a name="LN612"></a>    <span class='Keyword'>unsigned int </span><span class='Declare_Local'>quad</span><span class='Delimiter'>; 
</span><a name="LN613"></a>    <span class='Keyword'>unsigned int </span><span class='Declare_Local'>extra</span><span class='Delimiter'>; 
</span><a name="LN614"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>y</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN609"><span class='Ref_to_Parameter'>jd</span></a><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>+= </span><span class='Number'>32044</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>/ </span><span class='Number'>146097</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN613"><span class='Ref_To_Local'>extra</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>- </span><a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>* </span><span class='Number'>146097</span><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>4</span> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>+= </span><span class='Number'>60</span> <span class='Operator'>+ </span><a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>* </span><span class='Number'>3</span> <span class='Operator'>+ </span><a href="dt_common.c.html#LN613"><span class='Ref_To_Local'>extra</span></a> <span class='Operator'>/ </span><span class='Number'>146097</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>/ </span><span class='Number'>1461</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>-= </span><a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>* </span><span class='Number'>1461</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN614"><span class='Ref_To_Local'>y</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>* </span><span class='Number'>4</span> <span class='Operator'>/ </span><span class='Number'>1461</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="dt_common.c.html#LN614"><span class='Ref_To_Local'>y</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>+ </span><span class='Number'>305</span><span class='Parentheses'>) </span><span class='Operator'>% </span><span class='Number'>365</span> <span class='Operator'>: </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>+ </span><span class='Number'>306</span><span class='Parentheses'>) </span><span class='Operator'>% </span><span class='Number'>366</span><span class='Parentheses'>)</span> <span class='Operator'>+ </span><span class='Number'>123</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN614"><span class='Ref_To_Local'>y</span></a> <span class='Operator'>+= </span><a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>* </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN609"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN614"><span class='Ref_To_Local'>y</span></a> <span class='Operator'>- </span><span class='Number'>4800</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>* </span><span class='Number'>2141</span> <span class='Operator'>/ </span><span class='Number'>65536</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN609"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN611"><span class='Ref_To_Local'>julian</span></a> <span class='Operator'>- </span><span class='Number'>7834</span> <span class='Operator'>* </span><a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>/ </span><span class='Number'>256</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN609"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN612"><span class='Ref_To_Local'>quad</span></a> <span class='Operator'>+ </span><span class='Number'>10</span><span class='Parentheses'>) </span><span class='Operator'>% </span><span class='Number'>12</span> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end j2date &raquo; </span>   <span class='Comment_Single_Line'>/* j2date() */ 
</span> 
<span class='Comment_Multi_Line'>/* DecodeSpecial() 
 * Decode text string using lookup table. 
 * Implement a cache lookup since it is likely that dates 
 *  will be related in format. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN640"></a><span class='Declare_Function'>DecodeSpecial</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>field</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>lowtoken</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>val</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN642"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>type</span><span class='Delimiter'>; 
</span><a name="LN643"></a>    <a href="dt.h.html#LN202"><span class='Ref_to_Typedef'>datetkn</span></a>    <span class='Operator'>*</span><span class='Declare_Local'>tp</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* use strncmp so that we match truncated tokens */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN246"><span class='Ref_to_Global_Var'>datecache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>] </span><span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& 
</span>        strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>lowtoken</span></a><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN246"><span class='Ref_to_Global_Var'>datecache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>]</span><span class='Operator'>-&GT;</span><a href="dt.h.html#LN204"><span class='Ref_to_Member'>token</span></a><span class='Delimiter'>, </span><a href="dt.h.html#LN199"><span class='Ref_to_Const'>TOKMAXLEN</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN246"><span class='Ref_to_Global_Var'>datecache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>]; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN42"><span class='Ref_to_Proto'>datebsearch</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>lowtoken</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN18"><span class='Ref_to_Global_Var'>datetktbl</span></a><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN167"><span class='Ref_to_Global_Var'>szdatetktbl</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="../../../backend/utils/adt/datetime.c.html#LN246"><span class='Ref_to_Global_Var'>datecache</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN642"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN118"><span class='Ref_to_Const'>UNKNOWN_FIELD</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>val</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN642"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a><span class='Operator'>-&GT;</span><a href="dt.h.html#LN205"><span class='Ref_to_Member'>type</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN640"><span class='Ref_to_Parameter'>val</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN643"><span class='Ref_To_Local'>tp</span></a><span class='Operator'>-&GT;</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <a href="dt_common.c.html#LN642"><span class='Ref_To_Local'>type</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeSpecial &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeSpecial() */ 
</span> 
<span class='Comment_Multi_Line'>/* EncodeDateOnly() 
 * Encode date as local time. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN674"></a><span class='Declare_Function'>EncodeDateOnly</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>style</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>EuroDates</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>&GT; </span><a href="../../../include/datatype/timestamp.h.html#LN68"><span class='Ref_to_Const'>MONTHS_PER_YEAR</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>style</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="dt.h.html#LN12"><span class='Ref_to_Const'>USE_ISO_DATES</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* compatible with ISO date formats */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%04d-%02d-%02d"</span><span class='Delimiter'>, 
</span>                        <a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%04d-%02d-%02d %s"</span><span class='Delimiter'>, 
</span>                        <span class='Operator'>-</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><span class='String'>"BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="dt.h.html#LN13"><span class='Ref_to_Const'>USE_SQL_DATES</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* compatible with Oracle/Ingres date formats */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d/%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d/%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>"/%04d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>"/%04d %s"</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="dt.h.html#LN14"><span class='Ref_to_Const'>USE_GERMAN_DATES</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* German-style date format */ 
</span>            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d.%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>".%04d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>".%04d %s"</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="dt.h.html#LN11"><span class='Ref_to_Const'>USE_POSTGRES_DATES</span></a><span class='Operator'>: 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* traditional date-only style for Postgres */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d-%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d-%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>"-%04d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>"-%04d %s"</span><span class='Delimiter'>, </span><span class='Operator'>-</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN674"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch style &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Boolean'>TRUE</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end EncodeDateOnly &raquo; </span>   <span class='Comment_Single_Line'>/* EncodeDateOnly() */ 
</span> 
<span class='Keyword'>void 
</span><a name="LN730"></a><span class='Declare_Function'>TrimTrailingZeros</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN732"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>len</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN730"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* chop off trailing zeros... but leave at least 2 fractional digits */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN730"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN732"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'0'</span> <span class='Operator'>&& *</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN730"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN732"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>3</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='String'>'.'</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN732"><span class='Ref_To_Local'>len</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN730"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN732"><span class='Ref_To_Local'>len</span></a><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
} 
</span> 
<span class='Comment_Multi_Line'>/* EncodeDateTime() 
 * Encode date and time interpreted as local time. 
 * 
 * tm and fsec are the value to encode, print_tz determines whether to include 
 * a time zone (the difference between timestamp and timestamptz types), tz is 
 * the numeric time zone offset, tzn is the textual time zone, which if 
 * specified will be used instead of tz by some styles, style is the date 
 * style, str is where to write the output. 
 * 
 * Supported date styles: 
 *  Postgres - day mon hh:mm:ss yyyy tz 
 *  SQL - mm/dd/yyyy hh:mm:ss.ss tz 
 *  ISO - yyyy-mm-dd hh:mm:ss+/-tz 
 *  German - dd.mm.yyyy hh:mm:ss tz 
 * Variants (affects order of month and day for Postgres and SQL styles): 
 *  US - mm/dd/yyyy 
 *  European - dd/mm/yyyy 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN761"></a><span class='Declare_Function'>EncodeDateTime</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a> <span class='Declare_Parameter'>fsec</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>print_tz</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>tz</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>tzn</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>style</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>EuroDates</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN763"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>day</span><span class='Delimiter'>, 
</span><a name="LN764"></a>                <span class='Declare_Local'>hour</span><span class='Delimiter'>, 
</span><a name="LN765"></a>                <span class='Declare_Local'>min</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Negative tm_isdst means we have no valid time zone translation. 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>print_tz</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>style</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="dt.h.html#LN12"><span class='Ref_to_Const'>USE_ISO_DATES</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* Compatible with ISO-8601 date formats */ 
</span> 
            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%04d-%02d-%02d %02d:%02d"</span><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>: -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Print fractional seconds if any.  The field widths here should 
             * be at least equal to MAX_TIMESTAMP_PRECISION. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d.%06d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt.h.html#LN327"><span class='Ref_to_Proto'>TrimTrailingZeros</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>print_tz</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a> <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN86"><span class='Ref_to_Const'>SECS_PER_HOUR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span>abs<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Parentheses'>)</span> <span class='Operator'>% </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                    <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%+03d:%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%+03d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="dt.h.html#LN13"><span class='Ref_to_Const'>USE_SQL_DATES</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* Compatible with Oracle/Ingres date formats */ 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d/%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d/%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>"/%04d %02d:%02d"</span><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>: -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Print fractional seconds if any.  The field widths here should 
             * be at least equal to MAX_TIMESTAMP_PRECISION. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d.%06d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt.h.html#LN327"><span class='Ref_to_Proto'>TrimTrailingZeros</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Note: the uses of %.*s in this function would be risky if the 
             * timezone names ever contain non-ASCII characters.  However, all 
             * TZ abbreviations in the Olson database are plain ASCII. 
             */ 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>print_tz</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tzn</span></a><span class='Parentheses'>) 
</span>                    <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" %.*s"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tzn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a> <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN86"><span class='Ref_to_Const'>SECS_PER_HOUR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span>abs<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Parentheses'>)</span> <span class='Operator'>% </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%+03d:%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%+03d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="dt.h.html#LN14"><span class='Ref_to_Const'>USE_GERMAN_DATES</span></a><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* German variant on European style */ 
</span> 
            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>"%02d.%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>5</span><span class='Delimiter'>, </span><span class='String'>".%04d %02d:%02d"</span><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>: -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Print fractional seconds if any.  The field widths here should 
             * be at least equal to MAX_TIMESTAMP_PRECISION. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d.%06d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt.h.html#LN327"><span class='Ref_to_Proto'>TrimTrailingZeros</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>print_tz</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tzn</span></a><span class='Parentheses'>) 
</span>                    <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" %.*s"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tzn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a> <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN86"><span class='Ref_to_Const'>SECS_PER_HOUR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span>abs<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Parentheses'>)</span> <span class='Operator'>% </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%+03d:%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%+03d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>case</span> <a href="dt.h.html#LN11"><span class='Ref_to_Const'>USE_POSTGRES_DATES</span></a><span class='Operator'>: 
</span>        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Comment_Multi_Line'>/* Backward-compatible with traditional Postgres abstime dates */ 
</span> 
            <a href="dt_common.c.html#LN763"><span class='Ref_To_Local'>day</span></a> <span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN290"><span class='Ref_to_Func'>date2j</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_wday <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) ((</span><a href="dt_common.c.html#LN763"><span class='Ref_To_Local'>day</span></a> <span class='Operator'>+ </span><a href="../../../backend/utils/adt/datetime.c.html#LN290"><span class='Ref_to_Func'>date2j</span></a><span class='Parentheses'>(</span><span class='Number'>2000</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>% </span><span class='Number'>7</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            memcpy<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN68"><span class='Ref_to_Global_Var'>days</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_wday<span class='Delimiter'>], </span><span class='Number'>3</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>3</span><span class='Delimiter'>, </span><span class='String'>" "</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='String'>"%02d %3s"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN65"><span class='Ref_to_Global_Var'>months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Delimiter'>, </span><span class='String'>"%3s %02d"</span><span class='Delimiter'>, </span><a href="../../../backend/utils/adt/datetime.c.html#LN65"><span class='Ref_to_Global_Var'>months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>], </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>10</span><span class='Delimiter'>, </span><span class='String'>" %02d:%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Print fractional seconds if any.  The field widths here should 
             * be at least equal to MAX_TIMESTAMP_PRECISION. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d.%06d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>fsec</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt.h.html#LN327"><span class='Ref_to_Proto'>TrimTrailingZeros</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>":%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" %04d"</span><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>: -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" BC"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>print_tz</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tzn</span></a><span class='Parentheses'>) 
</span>                    <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" %.*s"</span><span class='Delimiter'>, </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tzn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * We have a time zone, but no string version. Use the 
                     * numeric form, but be sure to include a leading space to 
                     * avoid formatting something which would be rejected by 
                     * the date/time parser later. - thomas 2001-10-19 
                     */ 
</span>                    <a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a> <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN86"><span class='Ref_to_Const'>SECS_PER_HOUR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span>abs<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Parentheses'>)</span> <span class='Operator'>% </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" %+03d:%02d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN765"><span class='Ref_To_Local'>min</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN761"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>" %+03d"</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN764"><span class='Ref_To_Local'>hour</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if print_tz &raquo; </span> 
            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch style &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Boolean'>TRUE</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end EncodeDateTime &raquo; </span>   <span class='Comment_Single_Line'>/* EncodeDateTime() */ 
</span> 
<span class='Keyword'>int 
</span><a name="LN958"></a><span class='Declare_Function'>GetEpochTime</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN960"></a>    <span class='Control'>struct</span> <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>t0</span><span class='Delimiter'>; 
</span><a name="LN961"></a>    time_t      <span class='Declare_Local'>epoch</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a> <span class='Operator'>= </span>gmtime<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN961"><span class='Ref_To_Local'>epoch</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+ </span><span class='Number'>1900</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN958"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><a href="dt_common.c.html#LN960"><span class='Ref_To_Local'>t0</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>; 
</span> 
        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end GetEpochTime &raquo; </span>   <span class='Comment_Single_Line'>/* GetEpochTime() */ 
</span> 
<span class='Keyword'>static void 
</span><a name="LN981"></a><span class='Declare_Function'>abstime2tm</span><span class='Parentheses'>(</span><a href="../../../include/utils/nabstime.h.html#LN35"><span class='Ref_to_Typedef'>AbsoluteTime</span></a> <span class='Declare_Parameter'>_time</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tzp</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>tzn</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN983"></a>    time_t      <span class='Declare_Local'>time</span> <span class='Operator'>= </span><span class='Parentheses'>(</span>time_t<span class='Parentheses'>) </span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>_time</span></a><span class='Delimiter'>; 
</span><a name="LN984"></a>    <span class='Control'>struct</span> <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>tx</span><span class='Delimiter'>; 
</span> 
    errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a> <span class='Operator'>= </span>localtime<span class='Parentheses'>((</span>time_t <span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="dt_common.c.html#LN983"><span class='Ref_To_Local'>time</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a> <span class='Operator'>= </span>gmtime<span class='Parentheses'>((</span>time_t <span class='Operator'>*</span><span class='Parentheses'>) </span><span class='Operator'>&</span><a href="dt_common.c.html#LN983"><span class='Ref_To_Local'>time</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        errno <span class='Operator'>= </span><a href="../include/pgtypes_error.h.html#LN14"><span class='Ref_to_Const'>PGTYPES_TS_BAD_TIMESTAMP</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>return</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+ </span><span class='Number'>1900</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_isdst<span class='Delimiter'>; 
</span> 
<span class='Directive'>#if</span> defined<span class='Parentheses'>(</span>HAVE_TM_ZONE<span class='Parentheses'>) 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_gmtoff <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_gmtoff<span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_zone <span class='Operator'>= </span><a href="dt_common.c.html#LN984"><span class='Ref_To_Local'>tx</span></a><span class='Operator'>-&GT;</span>tm_zone<span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * We have a brute force time zone per SQL99? Then use it without 
         * change since we have already rotated to the time zone. 
         */ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>= -</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_gmtoff<span class='Delimiter'>;</span>  <span class='Comment_Single_Line'>/* tm_gmtoff is Sun/DEC-ism */ 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * FreeBSD man pages indicate that this should work - tgl 97/04/23 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzn</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Copy no more than MAXTZLEN bytes of timezone to tzn, in case it 
             * contains an error message, which doesn't fit in the buffer 
             */ 
</span>            <a href="../../../include/c.h.html#LN829"><span class='Ref_to_Macro'>StrNCpy</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzn</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_zone<span class='Delimiter'>, </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_zone<span class='Parentheses'>) </span><span class='Operator'>&GT; </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a><span class='Parentheses'>)</span> 
                <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if tzp!=NULL &raquo; </span> 
    <span class='Control'>else</span> 
        <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span><span class='Directive'>#elif</span> defined<span class='Parentheses'>(</span>HAVE_INT_TIMEZONE<span class='Parentheses'>) 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="../../../include/port.h.html#LN218"><span class='Ref_to_Const'>TIMEZONE_GLOBAL</span></a> <span class='Operator'>- </span><a href="../../../include/datatype/timestamp.h.html#LN86"><span class='Ref_to_Const'>SECS_PER_HOUR</span></a> <span class='Operator'>: </span><a href="../../../include/port.h.html#LN218"><span class='Ref_to_Const'>TIMEZONE_GLOBAL</span></a><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzn</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * Copy no more than MAXTZLEN bytes of timezone to tzn, in case it 
             * contains an error message, which doesn't fit in the buffer 
             */ 
</span>            <a href="../../../include/c.h.html#LN829"><span class='Ref_to_Macro'>StrNCpy</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzn</span></a><span class='Delimiter'>, </span><a href="../../../include/port.h.html#LN219"><span class='Ref_to_Const'>TZNAME_GLOBAL</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst<span class='Delimiter'>], </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="../../../include/port.h.html#LN219"><span class='Ref_to_Const'>TZNAME_GLOBAL</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst<span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><a href="dt.h.html#LN7"><span class='Ref_to_Const'>MAXTZLEN</span></a><span class='Parentheses'>)</span> 
                <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span>                           <span class='Comment_Single_Line'>/* not (HAVE_TM_ZONE || HAVE_INT_TIMEZONE) */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* default to UTC */ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzn</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tzn</span></a> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="dt_common.c.html#LN981"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end abstime2tm &raquo; </span> 
 
<span class='Keyword'>void 
</span><a name="LN1066"></a><span class='Declare_Function'>GetCurrentDateTime</span><span class='Parentheses'>(</span><span class='Control'>struct</span> <a href="dt_common.c.html#LN1066"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1068"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>tz</span><span class='Delimiter'>; 
</span> 
    <a href="../../../backend/utils/adt/nabstime.c.html#LN97"><span class='Ref_to_Func'>abstime2tm</span></a><span class='Parentheses'>(</span>time<span class='Parentheses'>(</span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1068"><span class='Ref_To_Local'>tz</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1066"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>void 
</span><a name="LN1074"></a><span class='Declare_Function'>dt2time</span><span class='Parentheses'>(</span><span class='Keyword'>double </span><span class='Declare_Parameter'>jd</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>hour</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>min</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>sec</span><span class='Delimiter'>, </span><a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fsec</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1076"></a>    <a href="../../../include/c.h.html#LN294"><span class='Ref_to_Typedef'>int64</span></a>       <span class='Declare_Local'>time</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>jd</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN91"><span class='Ref_to_Const'>USECS_PER_HOUR</span></a><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>-= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>hour</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><a href="../../../include/datatype/timestamp.h.html#LN91"><span class='Ref_to_Const'>USECS_PER_HOUR</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>min</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN92"><span class='Ref_to_Const'>USECS_PER_MINUTE</span></a><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>-= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>min</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><a href="../../../include/datatype/timestamp.h.html#LN92"><span class='Ref_to_Const'>USECS_PER_MINUTE</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>sec</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>/ </span><a href="../../../include/datatype/timestamp.h.html#LN93"><span class='Ref_to_Const'>USECS_PER_SEC</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1076"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>- </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1074"><span class='Ref_to_Parameter'>sec</span></a> <span class='Operator'>* </span><a href="../../../include/datatype/timestamp.h.html#LN93"><span class='Ref_to_Const'>USECS_PER_SEC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span>   <span class='Comment_Single_Line'>/* dt2time() */ 
</span> 
 
 
<span class='Comment_Multi_Line'>/* DecodeNumberField() 
 * Interpret numeric string as a concatenated date or time field. 
 * Use the context of previously decoded fields to help with 
 * the interpretation. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN1095"></a><span class='Declare_Function'>DecodeNumberField</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>len</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>fmask</span><span class='Delimiter'>, 
</span><a name="LN1096"></a>                  <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tmask</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fsec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>is2digits</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1098"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Have a decimal point? Then this is a date or something with a seconds 
     * field... 
     */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1098"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='String'>'.'</span><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span><a name="LN1106"></a>        <span class='Keyword'>char</span>        <span class='Declare_Local'>fstr</span><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]; 
</span><a name="LN1107"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
        <a href="dt_common.c.html#LN1098"><span class='Ref_To_Local'>cp</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * OK, we have at most six digits to care about. Let's construct a 
         * string with those digits, zero-padded on the right, and then do the 
         * conversion to an integer. 
         * 
         * XXX This truncates the seventh digit, unlike rounding it as the 
         * backend does. 
         */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1107"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1107"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><span class='Number'>6</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1107"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1106"><span class='Ref_To_Local'>fstr</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1107"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="dt_common.c.html#LN1098"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>? *</span><a href="dt_common.c.html#LN1098"><span class='Ref_To_Local'>cp</span></a><span class='Operator'>++ : </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1106"><span class='Ref_To_Local'>fstr</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1107"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1106"><span class='Ref_To_Local'>fstr</span></a><span class='Delimiter'>, </span><span class='Null_Value'>NULL</span><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1098"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if (cp=strchr(str,'.'))!... &raquo; </span> 
    <span class='Comment_Multi_Line'>/* No decimal point and no complete date yet? */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* yyyymmdd? */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>== </span><span class='Number'>8</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span> 
            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>6</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>6</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>return</span> <a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* yymmdd? */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>== </span><span class='Number'>6</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>is2digits</span></a> <span class='Operator'>= </span><span class='Boolean'>TRUE</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>return</span> <a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* yyddd? */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>== </span><span class='Number'>5</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>is2digits</span></a> <span class='Operator'>= </span><span class='Boolean'>TRUE</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>return</span> <a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if (fmask&DTK_DATE_M)!=D... &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* not all time fields are specified? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* hhmmss */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>== </span><span class='Number'>6</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>return</span> <a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* hhmm? */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>len</span></a> <span class='Operator'>== </span><span class='Number'>4</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1096"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span>atoi<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1095"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>return</span> <a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if (fmask&DTK_TIME_M)!=D... &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeNumberField &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeNumberField() */ 
</span> 
 
<span class='Comment_Multi_Line'>/* DecodeNumber() 
 * Interpret plain numeric field as a date value in context. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN1205"></a><span class='Declare_Function'>DecodeNumber</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>flen</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>fmask</span><span class='Delimiter'>, 
</span><a name="LN1206"></a>    <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tmask</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fsec</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>is2digits</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>EuroDates</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1208"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span><a name="LN1209"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * More than two digits? Then could be a date or a run-together time: 
         * 2001.360 20011225 040506.789 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>- </span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>&GT; </span><span class='Number'>2</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <a href="../../../backend/utils/adt/datetime.c.html#LN37"><span class='Ref_to_Proto'>DecodeNumberField</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>flen</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                     <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>fsec</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>is2digits</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1209"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Special case day of year? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>flen</span></a> <span class='Operator'>== </span><span class='Number'>3</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= </span><span class='Number'>366</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN104"><span class='Ref_to_Const'>DOY</span></a><span class='Parentheses'>) </span><span class='Operator'>| </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>) </span><span class='Operator'>| </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_yday <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>        <a href="../../../include/utils/datetime.h.html#LN290"><span class='Ref_to_Proto'>j2date</span></a><span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN290"><span class='Ref_to_Func'>date2j</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_yday <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, 
</span>               <span class='Operator'>&</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/*** 
     * Enough digits to be unequivocal year? Used to test for 4 digits or 
     * more, but we now test first for a three-digit doy so anything 
     * bigger than two digits had better be an explicit year. 
     * - thomas 1999-01-09 
     * Back to requiring a 4 digit year. We accept a two digit 
     * year farther down. - thomas 2000-03-28 
     ***/ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>flen</span></a> <span class='Operator'>&GT;= </span><span class='Number'>4</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* already have a year? then see if we can substitute... */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& 
</span>            <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT;= </span><span class='Number'>31</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* already have year? then could be month */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= </span><a href="../../../include/datatype/timestamp.h.html#LN68"><span class='Ref_to_Const'>MONTHS_PER_YEAR</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Comment_Multi_Line'>/* no year and EuroDates enabled? then could be day */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>EuroDates</span></a> <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>)))</span> <span class='Operator'>&& 
</span>             <span class='Operator'>!</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& 
</span>             <a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= </span><span class='Number'>31</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= </span><a href="../../../include/datatype/timestamp.h.html#LN68"><span class='Ref_to_Const'>MONTHS_PER_YEAR</span></a><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>&LT;= </span><span class='Number'>31</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * Check for 2 or 4 or more digits, but currently we reach here only if 
     * two digits. - thomas 2000-03-28 
     */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>flen</span></a> <span class='Operator'>&GT;= </span><span class='Number'>4</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>flen</span></a> <span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span><a href="dt_common.c.html#LN1208"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* adjust ONLY if exactly two digits... */ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1206"><span class='Ref_to_Parameter'>is2digits</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1205"><span class='Ref_to_Parameter'>flen</span></a> <span class='Operator'>== </span><span class='Number'>2</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeNumber &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeNumber() */ 
</span> 
<span class='Comment_Multi_Line'>/* DecodeDate() 
 * Decode date string which includes delimiters. 
 * Insist on a complete set of fields. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN1314"></a><span class='Declare_Function'>DecodeDate</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>fmask</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tmask</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>EuroDates</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1316"></a>    <a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a>      <span class='Declare_Local'>fsec</span><span class='Delimiter'>; 
</span> 
<a name="LN1318"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nf</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN1319"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN1320"></a>                <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span><a name="LN1321"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>bc</span> <span class='Operator'>= </span><span class='Boolean'>FALSE</span><span class='Delimiter'>; 
</span><a name="LN1322"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>is2digits</span> <span class='Operator'>= </span><span class='Boolean'>FALSE</span><span class='Delimiter'>; 
</span><a name="LN1323"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>type</span><span class='Delimiter'>, 
</span><a name="LN1324"></a>                <span class='Declare_Local'>val</span><span class='Delimiter'>, 
</span><a name="LN1325"></a>                <span class='Declare_Local'>dmask</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN1326"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>field</span><span class='Delimiter'>[</span><a href="dt.h.html#LN197"><span class='Ref_to_Const'>MAXDATEFIELDS</span></a><span class='Delimiter'>]; 
</span> 
    <span class='Comment_Multi_Line'>/* parse this string... */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1318"><span class='Ref_To_Local'>nf</span></a> <span class='Operator'>&LT; </span><a href="dt.h.html#LN197"><span class='Ref_to_Const'>MAXDATEFIELDS</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* skip field separators */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>!</span>isalnum<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> 
            <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
        <a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1318"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> 
                <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> 
                <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* Just get rid of any non-digit, non-alpha characters... */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++ = </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1318"><span class='Ref_To_Local'>nf</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while *str!='\0'&&nf&LT;MAXDAT... &raquo; </span> 
 
<span class='Directive'>#if</span> <span class='Number'>0</span> 
<span class='Inactive_Code'>    /* don't allow too many fields */ 
    if (nf &GT; 3) 
        return -1; 
</span><span class='Directive'>#endif</span> 
 
    <span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* look first for text fields, since that will be unambiguous month */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="dt_common.c.html#LN1318"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN1323"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="../../../include/utils/datetime.h.html#LN327"><span class='Ref_to_Proto'>DecodeSpecial</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1324"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1323"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN97"><span class='Ref_to_Const'>IGNORE_DTF</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
            <a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1323"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1323"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>case</span> <a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Operator'>: 
</span>                    <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN1324"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>case</span> <a href="dt.h.html#LN107"><span class='Ref_to_Const'>ADBC</span></a><span class='Operator'>: 
</span>                    <a href="dt_common.c.html#LN1321"><span class='Ref_To_Local'>bc</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1324"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN73"><span class='Ref_to_Const'>BC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>default</span><span class='Operator'>: 
</span>                    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Parentheses'>) 
</span>                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
            <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>|= </span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>|= </span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* mark this field as being completed */ 
</span>            <a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if isalpha((unsignedchar... &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;nf;i++ &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* now pick up remaining numeric fields */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="dt_common.c.html#LN1318"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1320"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> <span class='Operator'>&LT;= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN34"><span class='Ref_to_Proto'>DecodeNumber</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1320"><span class='Ref_To_Local'>len</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1326"><span class='Ref_To_Local'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1319"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>fmask</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1316"><span class='Ref_To_Local'>fsec</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1322"><span class='Ref_To_Local'>is2digits</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& </span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>|= </span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>|= </span><a href="dt_common.c.html#LN1325"><span class='Ref_To_Local'>dmask</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>fmask</span></a> <span class='Operator'>& ~</span><span class='Parentheses'>(</span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN104"><span class='Ref_to_Const'>DOY</span></a><span class='Parentheses'>) </span><span class='Operator'>| </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)))</span> <span class='Operator'>!= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* there is no year zero in AD/BC notation; i.e. "1 BC" == year 0 */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1321"><span class='Ref_To_Local'>bc</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1322"><span class='Ref_To_Local'>is2digits</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT; </span><span class='Number'>70</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+= </span><span class='Number'>2000</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT; </span><span class='Number'>100</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1314"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+= </span><span class='Number'>1900</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeDate &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeDate() */ 
</span> 
 
<span class='Comment_Multi_Line'>/* DecodeTime() 
 * Decode time string which includes delimiters. 
 * Only check the lower limit on hours, since this same code 
 *  can be used to represent time spans. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN1443"></a><span class='Declare_Function'>DecodeTime</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tmask</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fsec</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1445"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>':'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>':'</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN1469"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>fstr</span><span class='Delimiter'>[</span><span class='Number'>7</span><span class='Delimiter'>]; 
</span><a name="LN1470"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span> 
            <a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * OK, we have at most six digits to care about. Let's construct a 
             * string with those digits, zero-padded on the right, and then do 
             * the conversion to an integer. 
             * 
             * XXX This truncates the seventh digit, unlike rounding it as the 
             * backend does. 
             */ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1470"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1470"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><span class='Number'>6</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1470"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <a href="dt_common.c.html#LN1469"><span class='Ref_To_Local'>fstr</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1470"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= *</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>? *</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a><span class='Operator'>++ : </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN1469"><span class='Ref_To_Local'>fstr</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1470"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1469"><span class='Ref_To_Local'>fstr</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1445"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if *cp=='.' &raquo; </span> 
        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* do a sanity check */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>&GT; </span><span class='Number'>59</span> <span class='Operator'>|| 
</span>        <a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>&GT; </span><span class='Number'>59</span> <span class='Operator'>|| *</span><a href="dt_common.c.html#LN1443"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>&GT;= </span><a href="../../../include/datatype/timestamp.h.html#LN93"><span class='Ref_to_Const'>USECS_PER_SEC</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeTime &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeTime() */ 
</span> 
<span class='Comment_Multi_Line'>/* DecodeTimezone() 
 * Interpret string as a numeric timezone. 
 * 
 * Note: we allow timezone offsets up to 13:59.  There are places that 
 * use +1300 summer time. 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN1508"></a><span class='Declare_Function'>DecodeTimezone</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tzp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1510"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>tz</span><span class='Delimiter'>; 
</span><a name="LN1511"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>hr</span><span class='Delimiter'>, 
</span><a name="LN1512"></a>                <span class='Declare_Local'>min</span><span class='Delimiter'>; 
</span><a name="LN1513"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span><a name="LN1514"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* assume leading character is "+" or "-" */ 
</span>    <a href="dt_common.c.html#LN1511"><span class='Ref_To_Local'>hr</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* explicit delimiter? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>':'</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN1512"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* otherwise, might have run things together... */ 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'\0'</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1514"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>))</span> <span class='Operator'>&GT; </span><span class='Number'>3</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN1512"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN1514"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>2</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1512"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1512"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>&GT;= </span><span class='Number'>60</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN1514"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>- </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1511"><span class='Ref_To_Local'>hr</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1511"><span class='Ref_To_Local'>hr</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1511"><span class='Ref_To_Local'>hr</span></a> <span class='Operator'>&GT; </span><span class='Number'>13</span><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="dt_common.c.html#LN1512"><span class='Ref_To_Local'>min</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN1510"><span class='Ref_To_Local'>tz</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1511"><span class='Ref_To_Local'>hr</span></a> <span class='Operator'>* </span><a href="../../../include/datatype/timestamp.h.html#LN88"><span class='Ref_to_Const'>MINS_PER_HOUR</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN1512"><span class='Ref_To_Local'>min</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><a href="../../../include/datatype/timestamp.h.html#LN87"><span class='Ref_to_Const'>SECS_PER_MINUTE</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>== </span><span class='String'>'-'</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN1510"><span class='Ref_To_Local'>tz</span></a> <span class='Operator'>= -</span><a href="dt_common.c.html#LN1510"><span class='Ref_To_Local'>tz</span></a><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="dt_common.c.html#LN1508"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>= -</span><a href="dt_common.c.html#LN1510"><span class='Ref_To_Local'>tz</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <span class='Operator'>*</span><a href="dt_common.c.html#LN1513"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeTimezone &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeTimezone() */ 
</span> 
 
<span class='Comment_Multi_Line'>/* DecodePosixTimezone() 
 * Interpret string as a POSIX-compatible timezone: 
 *  PST-hh:mm 
 *  PST+h 
 * - thomas 2000-03-15 
 */ 
</span><span class='Keyword'>static int 
</span><a name="LN1553"></a><span class='Declare_Function'>DecodePosixTimezone</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tzp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1555"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>val</span><span class='Delimiter'>, 
</span><a name="LN1556"></a>                <span class='Declare_Local'>tz</span><span class='Delimiter'>; 
</span><a name="LN1557"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>type</span><span class='Delimiter'>; 
</span><a name="LN1558"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span><a name="LN1559"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>delim</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1553"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span> <span class='Operator'>&& </span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a><span class='Parentheses'>))</span> 
        <a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/datetime.h.html#LN299"><span class='Ref_to_Proto'>DecodeTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1556"><span class='Ref_To_Local'>tz</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN1559"><span class='Ref_To_Local'>delim</span></a> <span class='Operator'>= *</span><a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1557"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="../../../include/utils/datetime.h.html#LN327"><span class='Ref_to_Proto'>DecodeSpecial</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN197"><span class='Ref_to_Const'>MAXDATEFIELDS</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1553"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1555"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1558"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1559"><span class='Ref_To_Local'>delim</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1557"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Operator'>: 
</span>        <span class='Control'>case</span> <a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Operator'>: 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1553"><span class='Ref_to_Parameter'>tzp</span></a> <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1555"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN1556"><span class='Ref_To_Local'>tz</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>default</span><span class='Operator'>: 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodePosixTimezone &raquo; </span>   <span class='Comment_Single_Line'>/* DecodePosixTimezone() */ 
</span> 
<span class='Comment_Multi_Line'>/* ParseDateTime() 
 * Break string into tokens based on a date/time context. 
 * Several field types are assigned: 
 *  DTK_NUMBER - digits and (possibly) a decimal point 
 *  DTK_DATE - digits and two delimiters, or digits and text 
 *  DTK_TIME - digits, colon delimiters, and possibly a decimal point 
 *  DTK_STRING - text (no digits) 
 *  DTK_SPECIAL - leading "+" or "-" followed by text 
 *  DTK_TZ - leading "+" or "-" followed by digits 
 * Note that some field types can hold unexpected items: 
 *  DTK_NUMBER can hold date fields (yy.ddd) 
 *  DTK_STRING can hold months (January) and time zones (PST) 
 *  DTK_DATE can hold Posix time zones (GMT-8) 
 * 
 * The "lowstr" work buffer must have at least strlen(timestr) + MAXDATEFIELDS 
 * bytes of space.  On output, field[] entries will point into it. 
 * The field[] and ftype[] arrays must have at least MAXDATEFIELDS entries. 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN1606"></a><span class='Declare_Function'>ParseDateTime</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>timestr</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>lowstr</span><span class='Delimiter'>, 
</span><a name="LN1607"></a>              <span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>field</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>ftype</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>numfields</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>endstr</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1609"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nf</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN1610"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>lp</span> <span class='Operator'>= </span><a href="dt_common.c.html#LN1606"><span class='Ref_to_Parameter'>lowstr</span></a><span class='Delimiter'>; 
</span> 
    <span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1606"><span class='Ref_to_Parameter'>timestr</span></a><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* outer loop through fields */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* Record start of current field */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a> <span class='Operator'>&GT;= </span><a href="dt.h.html#LN197"><span class='Ref_to_Const'>MAXDATEFIELDS</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* leading digit? then date or time */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* time field? */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>':'</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>))</span> <span class='Operator'>|| 
</span>                       <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>':'</span><span class='Parentheses'>)</span> <span class='Operator'>|| </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>))</span> 
                    <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* date field? allow embedded text month */ 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'-'</span> <span class='Operator'>|| *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'/'</span> <span class='Operator'>|| *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* save delimiting character to use later */ 
</span><a name="LN1641"></a>                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>dp</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* second field is all digits? then no embedded text month */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1641"><span class='Ref_To_Local'>dp</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) </span><span class='Operator'>? </span><a href="dt.h.html#LN136"><span class='Ref_to_Const'>DTK_NUMBER</span></a> <span class='Operator'>: </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * insist that the delimiters match to get a three-field 
                     * date. 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== *</span><a href="dt_common.c.html#LN1641"><span class='Ref_To_Local'>dp</span></a><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                        <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>))</span> <span class='Operator'>|| </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== *</span><a href="dt_common.c.html#LN1641"><span class='Ref_To_Local'>dp</span></a><span class='Parentheses'>))</span> 
                            <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>while</span> <span class='Parentheses'>(</span>isalnum<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>))</span> <span class='Operator'>|| </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== *</span><a href="dt_common.c.html#LN1641"><span class='Ref_To_Local'>dp</span></a><span class='Parentheses'>))</span> 
                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = </span><a href="../../../port/pgstrcasecmp.c.html#LN120"><span class='Ref_to_Func'>pg_tolower</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if *(*endstr)=='-'||*(*e... &raquo; </span> 
 
            <span class='Comment_Multi_Line'>/* 
             * otherwise, number only and will determine year, month, day, or 
             * concatenated fields later... 
             */ 
</span>            <span class='Control'>else</span> 
                <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN136"><span class='Ref_to_Const'>DTK_NUMBER</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if isdigit((unsignedchar... &raquo; </span> 
        <span class='Comment_Multi_Line'>/* Leading decimal point? Then fractional seconds... */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
            <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN136"><span class='Ref_to_Const'>DTK_NUMBER</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * text? then date string, month, day of week, special, or timezone 
         */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN137"><span class='Ref_to_Const'>DTK_STRING</span></a><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = </span><a href="../../../port/pgstrcasecmp.c.html#LN120"><span class='Ref_to_Func'>pg_tolower</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = </span><a href="../../../port/pgstrcasecmp.c.html#LN120"><span class='Ref_to_Func'>pg_tolower</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Full date string with leading text month? Could also be a POSIX 
             * time zone... 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'-'</span> <span class='Operator'>|| *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'/'</span> <span class='Operator'>|| *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span><a name="LN1704"></a>                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>dp</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>))</span> <span class='Operator'>|| *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span> <span class='Operator'>== *</span><a href="dt_common.c.html#LN1704"><span class='Ref_To_Local'>dp</span></a><span class='Parentheses'>)</span> 
                    <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if isalpha((unsignedchar... &raquo; </span> 
        <span class='Comment_Multi_Line'>/* skip leading spaces */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* sign? then special or numeric timezone */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'+'</span> <span class='Operator'>|| *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'-'</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* soak up leading whitespace */ 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span>isspace<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* numeric timezone? */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>))</span> <span class='Operator'>|| 
</span>                       <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>':'</span><span class='Parentheses'>)</span> <span class='Operator'>|| </span><span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>))</span> 
                    <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = *</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* special? */ 
</span>            <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN144"><span class='Ref_to_Const'>DTK_SPECIAL</span></a><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = </span><a href="../../../port/pgstrcasecmp.c.html#LN120"><span class='Ref_to_Func'>pg_tolower</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span>isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
                    <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = </span><a href="../../../port/pgstrcasecmp.c.html#LN120"><span class='Ref_to_Func'>pg_tolower</span></a><span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Comment_Multi_Line'>/* otherwise something wrong... */ 
</span>            <span class='Control'>else</span> 
                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if *(*endstr)=='+'||*(*e... &raquo; </span> 
        <span class='Comment_Multi_Line'>/* ignore punctuation but use as delimiter */ 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>ispunct<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>endstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* otherwise, something is not right... */ 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* force in a delimiter after each field */ 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1610"><span class='Ref_To_Local'>lp</span></a><span class='Operator'>++ = </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while *(*endstr)!='\0' &raquo; </span> 
 
    <span class='Operator'>*</span><a href="dt_common.c.html#LN1607"><span class='Ref_to_Parameter'>numfields</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1609"><span class='Ref_To_Local'>nf</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end ParseDateTime &raquo; </span>   <span class='Comment_Single_Line'>/* ParseDateTime() */ 
</span> 
 
<span class='Comment_Multi_Line'>/* DecodeDateTime() 
 * Interpret previously parsed fields for general date and time. 
 * Return 0 if full date, 1 if only time, and -1 if problems. 
 *      External format(s): 
 *              "&LT;weekday&GT; &LT;month&GT;-&LT;day&GT;-&LT;year&GT; &LT;hour&GT;:&LT;minute&GT;:&LT;second&GT;" 
 *              "Fri Feb-7-1997 15:23:27" 
 *              "Feb-7-1997 15:23:27" 
 *              "2-7-1997 15:23:27" 
 *              "1997-2-7 15:23:27" 
 *              "1997.038 15:23:27"     (day of year 1-366) 
 *      Also supports input in compact time: 
 *              "970207 152327" 
 *              "97038 152327" 
 *              "20011225T040506.789-07" 
 * 
 * Use the system-provided functions to get the current time zone 
 *  if not specified in the input string. 
 * If the date is outside the time_t system-supported time range, 
 *  then assume UTC time zone. - thomas 1997-05-27 
 */ 
</span><span class='Keyword'>int 
</span><a name="LN1789"></a><span class='Declare_Function'>DecodeDateTime</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>field</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>ftype</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>nf</span><span class='Delimiter'>, 
</span><a name="LN1790"></a>               <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>dtype</span><span class='Delimiter'>, </span><span class='Control'>struct</span> <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>tm</span><span class='Delimiter'>, </span><a href="dt.h.html#LN9"><span class='Ref_to_Typedef'>fsec_t</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>fsec</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>EuroDates</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN1792"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>fmask</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>, 
</span><a name="LN1793"></a>                <span class='Declare_Local'>tmask</span><span class='Delimiter'>, 
</span><a name="LN1794"></a>                <span class='Declare_Local'>type</span><span class='Delimiter'>; 
</span><a name="LN1795"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>ptype</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>;</span>      <span class='Comment_Single_Line'>/* "prefix type" for ISO y2001m02d04 format */ 
</span><a name="LN1796"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>; 
</span><a name="LN1797"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span><a name="LN1798"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>mer</span> <span class='Operator'>= </span><a href="dt.h.html#LN70"><span class='Ref_to_Const'>HR24</span></a><span class='Delimiter'>; 
</span><a name="LN1799"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>haveTextMonth</span> <span class='Operator'>= </span><span class='Boolean'>FALSE</span><span class='Delimiter'>; 
</span><a name="LN1800"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>is2digits</span> <span class='Operator'>= </span><span class='Boolean'>FALSE</span><span class='Delimiter'>; 
</span><a name="LN1801"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>bc</span> <span class='Operator'>= </span><span class='Boolean'>FALSE</span><span class='Delimiter'>; 
</span><a name="LN1802"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>t</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN1803"></a>    <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>tzp</span> <span class='Operator'>= &</span><a href="dt_common.c.html#LN1802"><span class='Ref_To_Local'>t</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/*** 
     * We'll insist on at least all of the date fields, but initialize the 
     * remaining fields in case they are not set later... 
     ***/ 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Comment_Multi_Line'>/* don't know daylight savings time status apriori */ 
</span>    <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>nf</span></a><span class='Delimiter'>; </span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/*** 
                 * Integral julian day with attached time zone? 
                 * All other forms with JD will be separated into 
                 * distinct fields, so we handle just this case here. 
                 ***/ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN170"><span class='Ref_to_Const'>DTK_JULIAN</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN1831"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span><a name="LN1832"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <a href="dt_common.c.html#LN1832"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1831"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1831"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'-'</span><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <a href="../../../include/utils/datetime.h.html#LN290"><span class='Ref_to_Proto'>j2date</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1832"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Comment_Multi_Line'>/* Get the time zone from the end of the string */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/datetime.h.html#LN299"><span class='Ref_to_Proto'>DecodeTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1831"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if ptype==DTK_JULIAN &raquo; </span> 
                <span class='Comment_Multi_Line'>/*** 
                 * Already have a date? Then this might be a POSIX time 
                 * zone with an embedded dash (e.g. "PST-3" == "EST") or 
                 * a run-together time with trailing time zone (e.g. hhmmss-zz). 
                 * - thomas 2001-12-25 
                 ***/ 
</span>                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span> 
                         <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* No time zone accepted? Then quit... */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span>isdigit<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span><a name="LN1865"></a>                        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Comment_Multi_Line'>/* Sanity check; should not fail this test */ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>!= </span><a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Parentheses'>) 
</span>                                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * Starts with a digit but we already have a time 
                         * field? Then we are in trouble with a date and time 
                         * already... 
                         */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1865"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='String'>'-'</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* Get the time zone from the end of the string */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/datetime.h.html#LN299"><span class='Ref_to_Proto'>DecodeTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1865"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1865"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * Then read the rest of the field as a concatenated 
                         * time 
                         */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN37"><span class='Ref_to_Proto'>DecodeNumberField</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1800"><span class='Ref_To_Local'>is2digits</span></a><span class='Parentheses'>))</span> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * modify tmask after returning from 
                         * DecodeNumberField() 
                         */ 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>|= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if isdigit((unsignedchar... &raquo; </span> 
                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1552"><span class='Ref_to_Func'>DecodePosixTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                        <a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if ((fmask&DTK_DATE_M)==... &raquo; </span> 
                <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN43"><span class='Ref_to_Proto'>DecodeDate</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Operator'>: 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN40"><span class='Ref_to_Proto'>DecodeTime</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * Check upper limit on hours; other limits checked in 
                 * DecodeTime() 
                 */ 
</span>                <span class='Comment_Multi_Line'>/* test for &GT; 24:00:00 */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>&GT; </span><span class='Number'>24</span> <span class='Operator'>|| 
</span>                    <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>== </span><span class='Number'>24</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)))</span> 
                    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Operator'>: 
</span>                <span class='Delimiter'>{ 
</span><a name="LN1934"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Local'>tz</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/datetime.h.html#LN299"><span class='Ref_to_Proto'>DecodeTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1934"><span class='Ref_To_Local'>tz</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * Already have a time zone? Then maybe this is the second 
                     * field of a POSIX time: EST+3 (equivalent to PST) 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& 
</span>                        <a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>== </span><a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a> <span class='Operator'>&& 
</span>                        isalpha<span class='Parentheses'>((</span><span class='Keyword'>unsigned char</span><span class='Parentheses'>) </span><span class='Operator'>*</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>-= </span><a href="dt_common.c.html#LN1934"><span class='Ref_To_Local'>tz</span></a><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1934"><span class='Ref_To_Local'>tz</span></a><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="dt.h.html#LN136"><span class='Ref_to_Const'>DTK_NUMBER</span></a><span class='Operator'>: 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * Was this an "ISO date" with embedded field labels? An 
                 * example is "y2001m02d04" - thomas 2001-02-04 
                 */ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN1969"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span><a name="LN1970"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Local'>val</span><span class='Delimiter'>; 
</span> 
                    <a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>= </span>strtol<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * only a few kinds are allowed to have an embedded 
                     * decimal 
                     */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) 
</span>                        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>case</span> <a href="dt.h.html#LN170"><span class='Ref_to_Const'>DTK_JULIAN</span></a><span class='Operator'>: 
</span>                            <span class='Control'>case</span> <a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Operator'>: 
</span>                            <span class='Control'>case</span> <a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Operator'>: 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Control'>default</span><span class='Operator'>: 
</span>                                <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>case</span> <a href="dt.h.html#LN164"><span class='Ref_to_Const'>DTK_YEAR</span></a><span class='Operator'>: 
</span>                            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN91"><span class='Ref_to_Const'>YEAR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN162"><span class='Ref_to_Const'>DTK_MONTH</span></a><span class='Operator'>: 
</span> 
                            <span class='Comment_Multi_Line'>/* 
                             * already have a month and hour? then assume 
                             * minutes 
                             */ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span> <span class='Operator'>&& 
</span>                                <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN99"><span class='Ref_to_Const'>HOUR</span></a><span class='Parentheses'>))</span> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Delimiter'>{ 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN100"><span class='Ref_to_Const'>MINUTE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Control'>else</span> 
                            <span class='Delimiter'>{ 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN160"><span class='Ref_to_Const'>DTK_DAY</span></a><span class='Operator'>: 
</span>                            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN159"><span class='Ref_to_Const'>DTK_HOUR</span></a><span class='Operator'>: 
</span>                            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN99"><span class='Ref_to_Const'>HOUR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN158"><span class='Ref_to_Const'>DTK_MINUTE</span></a><span class='Operator'>: 
</span>                            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN100"><span class='Ref_to_Const'>MINUTE</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN157"><span class='Ref_to_Const'>DTK_SECOND</span></a><span class='Operator'>: 
</span>                            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN101"><span class='Ref_to_Const'>SECOND</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span><a name="LN2038"></a>                                <span class='Keyword'>double</span>      <span class='Declare_Local'>frac</span><span class='Delimiter'>; 
</span> 
                                <a href="dt_common.c.html#LN2038"><span class='Ref_To_Local'>frac</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                                    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2038"><span class='Ref_To_Local'>frac</span></a> <span class='Operator'>* </span><span class='Number'>1000000</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Operator'>: 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../include/utils/datetime.h.html#LN299"><span class='Ref_to_Proto'>DecodeTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN170"><span class='Ref_to_Const'>DTK_JULIAN</span></a><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/*** 
                             * previous field was a label for "julian date"? 
                             ***/ 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span>                            <a href="../../../include/utils/datetime.h.html#LN290"><span class='Ref_to_Proto'>j2date</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1970"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Comment_Multi_Line'>/* fractional Julian Day? */ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>== </span><span class='String'>'.'</span><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span><a name="LN2062"></a>                                <span class='Keyword'>double</span>      <span class='Declare_Local'>time</span><span class='Delimiter'>; 
</span> 
                                <a href="dt_common.c.html#LN2062"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>= </span>strtod<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1969"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>) 
</span>                                    <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>|= </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/timestamp.h.html#LN86"><span class='Ref_to_Proto'>dt2time</span></a><span class='Parentheses'>((</span><a href="dt_common.c.html#LN2062"><span class='Ref_To_Local'>time</span></a> <span class='Operator'>* </span><a href="../../../include/datatype/timestamp.h.html#LN90"><span class='Ref_to_Const'>USECS_PER_DAY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>case</span> <a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a><span class='Operator'>: 
</span>                            <span class='Comment_Multi_Line'>/* previous field was "t" for ISO time */ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN37"><span class='Ref_to_Proto'>DecodeNumberField</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1800"><span class='Ref_To_Local'>is2digits</span></a><span class='Parentheses'>))</span> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>!= </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>) 
</span>                                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>default</span><span class='Operator'>: 
</span>                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch ptype &raquo; </span> 
 
                    <a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if ptype!=0 &raquo; </span> 
                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span><a name="LN2093"></a>                    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cp</span><span class='Delimiter'>; 
</span><a name="LN2094"></a>                    <span class='Keyword'>int</span>         <span class='Declare_Local'>flen</span><span class='Delimiter'>; 
</span> 
                    <a href="dt_common.c.html#LN2094"><span class='Ref_To_Local'>flen</span></a> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2093"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='String'>'.'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* Embedded decimal and no date yet? */ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2093"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>))</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN43"><span class='Ref_to_Proto'>DecodeDate</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Comment_Multi_Line'>/* embedded decimal and several digits before? */ 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2093"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& </span><a href="dt_common.c.html#LN2094"><span class='Ref_To_Local'>flen</span></a> <span class='Operator'>- </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2093"><span class='Ref_To_Local'>cp</span></a><span class='Parentheses'>) </span><span class='Operator'>&GT; </span><span class='Number'>2</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* 
                         * Interpret as a concatenated date or time Set the 
                         * type field to allow decoding other fields later. 
                         * Example: 20011223 or 040506 
                         */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN37"><span class='Ref_to_Proto'>DecodeNumberField</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2094"><span class='Ref_To_Local'>flen</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1800"><span class='Ref_To_Local'>is2digits</span></a><span class='Parentheses'>))</span> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2094"><span class='Ref_To_Local'>flen</span></a> <span class='Operator'>&GT; </span><span class='Number'>4</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="../../../backend/utils/adt/datetime.c.html#LN37"><span class='Ref_to_Proto'>DecodeNumberField</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2094"><span class='Ref_To_Local'>flen</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Delimiter'>, 
</span>                                          <span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1800"><span class='Ref_To_Local'>is2digits</span></a><span class='Parentheses'>))</span> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Comment_Multi_Line'>/* otherwise it is a single date/time field... */ 
</span>                    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN34"><span class='Ref_to_Proto'>DecodeNumber</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2094"><span class='Ref_To_Local'>flen</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Delimiter'>, 
</span>                               <span class='Operator'>&</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>fsec</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1800"><span class='Ref_To_Local'>is2digits</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>EuroDates</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>case</span> <a href="dt.h.html#LN137"><span class='Ref_to_Const'>DTK_STRING</span></a><span class='Operator'>: 
</span>            <span class='Control'>case</span> <a href="dt.h.html#LN144"><span class='Ref_to_Const'>DTK_SPECIAL</span></a><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN1794"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>= </span><a href="../../../include/utils/datetime.h.html#LN327"><span class='Ref_to_Proto'>DecodeSpecial</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>field</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1794"><span class='Ref_To_Local'>type</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN97"><span class='Ref_to_Const'>IGNORE_DTF</span></a><span class='Parentheses'>) 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span> 
                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1794"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1794"><span class='Ref_To_Local'>type</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>case</span> <a href="dt.h.html#LN89"><span class='Ref_to_Const'>RESERV</span></a><span class='Operator'>: 
</span>                        <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>case</span> <a href="dt.h.html#LN150"><span class='Ref_to_Const'>DTK_NOW</span></a><span class='Operator'>: 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/datetime.h.html#LN288"><span class='Ref_to_Proto'>GetCurrentDateTime</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>case</span> <a href="dt.h.html#LN151"><span class='Ref_to_Const'>DTK_YESTERDAY</span></a><span class='Operator'>: 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/datetime.h.html#LN288"><span class='Ref_to_Proto'>GetCurrentDateTime</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/datetime.h.html#LN290"><span class='Ref_to_Proto'>j2date</span></a><span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN290"><span class='Ref_to_Func'>date2j</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>) </span><span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                                    <span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>case</span> <a href="dt.h.html#LN152"><span class='Ref_to_Const'>DTK_TODAY</span></a><span class='Operator'>: 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/datetime.h.html#LN288"><span class='Ref_to_Proto'>GetCurrentDateTime</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>case</span> <a href="dt.h.html#LN153"><span class='Ref_to_Const'>DTK_TOMORROW</span></a><span class='Operator'>: 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Delimiter'>; 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/datetime.h.html#LN288"><span class='Ref_to_Proto'>GetCurrentDateTime</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="../../../include/utils/datetime.h.html#LN290"><span class='Ref_to_Proto'>j2date</span></a><span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN290"><span class='Ref_to_Func'>date2j</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, 
</span>                                    <span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>case</span> <a href="dt.h.html#LN154"><span class='Ref_to_Const'>DTK_ZULU</span></a><span class='Operator'>: 
</span>                                <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a> <span class='Operator'>| </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_min <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_sec <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                                    <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                            <span class='Control'>default</span><span class='Operator'>: 
</span>                                <span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch val &raquo; </span> 
 
                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * already have a (numeric) month? then see if we can 
                         * substitute... 
                         */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN90"><span class='Ref_to_Const'>MONTH</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& !</span><a href="dt_common.c.html#LN1799"><span class='Ref_To_Local'>haveTextMonth</span></a> <span class='Operator'>&& 
</span>                            <span class='Operator'>!</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>&GT;= </span><span class='Number'>1</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>&LT;= </span><span class='Number'>31</span><span class='Parentheses'>)</span> 
                        <span class='Delimiter'>{ 
</span>                            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>= </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon<span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN92"><span class='Ref_to_Const'>DAY</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <a href="dt_common.c.html#LN1799"><span class='Ref_To_Local'>haveTextMonth</span></a> <span class='Operator'>= </span><span class='Boolean'>TRUE</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN116"><span class='Ref_to_Const'>DTZMOD</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * daylight savings time modifier (solves "MET DST" 
                         * syntax) 
                         */ 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>|= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>-= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * set mask for TZ here _or_ check for DTZ later when 
                         * getting default timezone 
                         */ 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>|= </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>= -</span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Operator'>: 
</span>                        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_isdst <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>= -</span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="dt.h.html#LN141"><span class='Ref_to_Const'>DTK_TZ</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN97"><span class='Ref_to_Const'>IGNORE_DTF</span></a><span class='Operator'>: 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN98"><span class='Ref_to_Const'>AMPM</span></a><span class='Operator'>: 
</span>                        <a href="dt_common.c.html#LN1798"><span class='Ref_To_Local'>mer</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN107"><span class='Ref_to_Const'>ADBC</span></a><span class='Operator'>: 
</span>                        <a href="dt_common.c.html#LN1801"><span class='Ref_To_Local'>bc</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN73"><span class='Ref_to_Const'>BC</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN105"><span class='Ref_to_Const'>DOW</span></a><span class='Operator'>: 
</span>                        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_wday <span class='Operator'>= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN106"><span class='Ref_to_Const'>UNITS</span></a><span class='Operator'>: 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>case</span> <a href="dt.h.html#LN114"><span class='Ref_to_Const'>ISOTIME</span></a><span class='Operator'>: 
</span> 
                        <span class='Comment_Multi_Line'>/* 
                         * This is a filler field "t" indicating that the next 
                         * field is time. Try to verify that this is sensible. 
                         */ 
</span>                        <a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/* No preceding date? Then quit... */ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                        <span class='Comment_Multi_Line'>/*** 
                         * We will need one of the following fields: 
                         *  DTK_NUMBER should be hhmmss.fff 
                         *  DTK_TIME should be hh:mm:ss.fff 
                         *  DTK_DATE should be hhmmss-zz 
                         ***/ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&GT;= </span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>nf</span></a> <span class='Operator'>- </span><span class='Number'>1</span> <span class='Operator'>|| 
</span>                            <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><a href="dt.h.html#LN136"><span class='Ref_to_Const'>DTK_NUMBER</span></a> <span class='Operator'>&& 
</span>                             <a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><a href="dt.h.html#LN140"><span class='Ref_to_Const'>DTK_TIME</span></a> <span class='Operator'>&& 
</span>                             <a href="dt_common.c.html#LN1789"><span class='Ref_to_Parameter'>ftype</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN1796"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>] </span><span class='Operator'>!= </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Parentheses'>))</span> 
                            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
                        <a href="dt_common.c.html#LN1795"><span class='Ref_To_Local'>ptype</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN1797"><span class='Ref_To_Local'>val</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>default</span><span class='Operator'>: 
</span>                        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch type &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>default</span><span class='Operator'>: 
</span>                <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch ftype[i] &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a> <span class='Operator'>& </span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>|= </span><a href="dt_common.c.html#LN1793"><span class='Ref_To_Local'>tmask</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for i=0;i&LT;nf;i++ &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* there is no year zero in AD/BC notation; i.e. "1 BC" == year 0 */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1801"><span class='Ref_To_Local'>bc</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>= -</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1800"><span class='Ref_To_Local'>is2digits</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT; </span><span class='Number'>70</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+= </span><span class='Number'>2000</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>&LT; </span><span class='Number'>100</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+= </span><span class='Number'>1900</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1798"><span class='Ref_To_Local'>mer</span></a> <span class='Operator'>!= </span><a href="dt.h.html#LN70"><span class='Ref_to_Const'>HR24</span></a> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>&GT; </span><span class='Number'>12</span><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1798"><span class='Ref_To_Local'>mer</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN68"><span class='Ref_to_Const'>AM</span></a> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>== </span><span class='Number'>12</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1798"><span class='Ref_To_Local'>mer</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN69"><span class='Ref_to_Const'>PM</span></a> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>!= </span><span class='Number'>12</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_hour <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* do additional checking for full date specs... */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>dtype</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN139"><span class='Ref_to_Const'>DTK_DATE</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>) </span><span class='Operator'>!= </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><a href="dt.h.html#LN187"><span class='Ref_to_Const'>DTK_TIME_M</span></a><span class='Parentheses'>)</span> <span class='Operator'>? </span><span class='Number'>1</span> <span class='Operator'>: -</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * check for valid day of month, now that we know for sure the month 
         * and year... 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mday <span class='Operator'>&GT; </span><a href="dt_common.c.html#LN12"><span class='Ref_to_Global_Var'>day_tab</span></a><span class='Delimiter'>[</span><a href="../../../timezone/private.h.html#LN142"><span class='Ref_to_Macro'>isleap</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_year<span class='Parentheses'>)</span><span class='Delimiter'>][</span><a href="dt_common.c.html#LN1790"><span class='Ref_to_Parameter'>tm</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * backend tried to find local timezone here but we don't use the 
         * result afterwards anyway so we only check for this error: daylight 
         * savings time modifier but no standard timezone? 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a><span class='Parentheses'>)</span> <span class='Operator'>== </span><a href="dt.h.html#LN186"><span class='Ref_to_Const'>DTK_DATE_M</span></a> <span class='Operator'>&& </span><a href="dt_common.c.html#LN1803"><span class='Ref_To_Local'>tzp</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& !</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a><span class='Parentheses'>))</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN1792"><span class='Ref_To_Local'>fmask</span></a> <span class='Operator'>& </span><a href="dt.h.html#LN184"><span class='Ref_to_Macro'>DTK_M</span></a><span class='Parentheses'>(</span><a href="dt.h.html#LN116"><span class='Ref_to_Const'>DTZMOD</span></a><span class='Parentheses'>)))</span> 
            <span class='Control'>return</span> <span class='Operator'>-</span><span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if *dtype==DTK_DATE &raquo; </span> 
 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end DecodeDateTime &raquo; </span>   <span class='Comment_Single_Line'>/* DecodeDateTime() */ 
</span> 
<span class='Comment_Multi_Line'>/* Function works as follows: 
 * 
 * 
 * */ 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN2361"></a><span class='Declare_Function'>find_end_token</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmt</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * str: here is28the day12the hour fmt: here is%dthe day%hthe hour 
     * 
     * we extract the 28, we read the percent sign and the type "d" then this 
     * functions gets called as find_end_token("28the day12the hour", "the 
     * day%hthehour") 
     * 
     * fmt points to "the day%hthehour", next_percent points to %hthehour and 
     * we have to find a match for everything between these positions ("the 
     * day"). We look for "the day" in str and know that the pattern we are 
     * about to scan ends where this string starts (right after the "28") 
     * 
     * At the end, *fmt is '\0' and *str isn't. end_position then is 
     * unchanged. 
     */ 
</span><a name="LN2378"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>end_position</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2379"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>next_percent</span><span class='Delimiter'>, 
</span><a name="LN2380"></a>               <span class='Operator'>*</span><span class='Declare_Local'>subst_location</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN2381"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>scan_offset</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2382"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>last_char</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* are we at the end? */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!*</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Comment_Multi_Line'>/* not at the end */ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'%'</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * there is no delimiter, skip to the next delimiter if we're reading 
         * a number and then something that is not a number "9:15pm", we might 
         * be able to recover with the strtol end pointer. Go for the next 
         * percent sign 
         */ 
</span>        <a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="dt_common.c.html#LN2379"><span class='Ref_To_Local'>next_percent</span></a> <span class='Operator'>= </span>strchr<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a><span class='Delimiter'>, </span><span class='String'>'%'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2379"><span class='Ref_To_Local'>next_percent</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * we don't want to allocate extra memory, so we temporarily set the 
         * '%' sign to '\0' and call strstr However since we allow whitespace 
         * to float around everything, we have to shorten the pattern until we 
         * reach a non-whitespace character 
         */ 
</span> 
        <a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2379"><span class='Ref_To_Local'>next_percent</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='String'>' '</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a> <span class='Operator'>- </span><span class='Number'>1</span> <span class='Operator'>&GT; </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a><span class='Parentheses'>)</span> 
            <a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a><span class='Operator'>--</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2382"><span class='Ref_To_Local'>last_char</span></a> <span class='Operator'>= *</span><a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * the haystack is the str and the needle is the original fmt but it 
         * ends at the position where the next percent sign would be 
         */ 
</span> 
        <span class='Comment_Multi_Line'>/* 
         * There is one special case. Imagine: str = " 2", fmt = "%d %...", 
         * since we want to allow blanks as "dynamic" padding we have to 
         * accept this. Now, we are called with a fmt of " %..." and look for 
         * " " in str. We find it at the first position and never read the 
         * 2... 
         */ 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a> <span class='Operator'>= </span>strstr<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2382"><span class='Ref_To_Local'>last_char</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if next_percent &raquo; </span> 
    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * there is no other percent sign. So everything up to the end has to 
         * match. 
         */ 
</span>        <a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* 
         * maybe we have the following case: 
         * 
         * str = "4:15am" fmt = "%M:%S %p" 
         * 
         * at this place we could have 
         * 
         * str = "15am" fmt = " %p" 
         * 
         * and have set fmt to " " because overwrote the % sign with a NULL 
         * 
         * In this case where we would have to match a space but can't find 
         * it, set end_position to the end of the string 
         */ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a><span class='Parentheses'>)</span><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>' '</span> <span class='Operator'>&& </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>fmt</span></a> <span class='Operator'>+ </span><a href="dt_common.c.html#LN2381"><span class='Ref_To_Local'>scan_offset</span></a> <span class='Operator'>+ </span><span class='Number'>1</span> <span class='Operator'>== </span><a href="dt_common.c.html#LN2380"><span class='Ref_To_Local'>subst_location</span></a><span class='Parentheses'>)</span> 
            <a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a> <span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2361"><span class='Ref_to_Parameter'>str</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> <a href="dt_common.c.html#LN2378"><span class='Ref_To_Local'>end_position</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end find_end_token &raquo; </span> 
 
<span class='Keyword'>static int 
</span><a name="LN2466"></a><span class='Declare_Function'>pgtypes_defmt_scan</span><span class='Parentheses'>(</span><span class='Control'>union</span> <a href="extern.h.html#LN26"><span class='Ref_to_Union'>un_fmt_comb</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>scan_val</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>scan_type</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>pstr</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pfmt</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Comment_Multi_Line'>/* 
     * scan everything between pstr and pstr_end. This is not including the 
     * last character so we might set it to '\0' for the parsing 
     */ 
</span> 
<a name="LN2473"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>last_char</span><span class='Delimiter'>; 
</span><a name="LN2474"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>err</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN2475"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pstr_end</span><span class='Delimiter'>; 
</span><a name="LN2476"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>strtol_end</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>**</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>        <a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN2475"><span class='Ref_To_Local'>pstr_end</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2360"><span class='Ref_to_Func'>find_end_token</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN2475"><span class='Ref_To_Local'>pstr_end</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* there was an error, no match */ 
</span>        <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <a href="dt_common.c.html#LN2473"><span class='Ref_To_Local'>last_char</span></a> <span class='Operator'>= *</span><a href="dt_common.c.html#LN2475"><span class='Ref_To_Local'>pstr_end</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN2475"><span class='Ref_To_Local'>pstr_end</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>switch</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>scan_type</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>case</span> <a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Operator'>: 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * numbers may be blank-padded, this is the only deviation from 
             * the fmt-string we accept 
             */ 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>**</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>                <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>scan_val</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned int</span><span class='Parentheses'>) </span>strtol<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2476"><span class='Ref_To_Local'>strtol_end</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>                <a href="dt_common.c.html#LN2474"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="extern.h.html#LN22"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT_LONG</span></a><span class='Operator'>: 
</span>            <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>**</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>                <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Parentheses'>)</span><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            errno <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>scan_val</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN31"><span class='Ref_to_Member'>luint_val</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned long int</span><span class='Parentheses'>) </span>strtol<span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2476"><span class='Ref_To_Local'>strtol_end</span></a><span class='Delimiter'>, </span><span class='Number'>10</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>errno<span class='Parentheses'>) 
</span>                <a href="dt_common.c.html#LN2474"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Control'>case</span> <a href="extern.h.html#LN10"><span class='Ref_to_Const'>PGTYPES_TYPE_STRING_MALLOCED</span></a><span class='Operator'>: 
</span>            <a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>scan_val</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN28"><span class='Ref_to_Member'>str_val</span></a> <span class='Operator'>= </span><a href="common.c.html#LN17"><span class='Ref_to_Func'>pgtypes_strdup</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>scan_val</span></a><span class='Operator'>-&GT;</span><a href="extern.h.html#LN28"><span class='Ref_to_Member'>str_val</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                <a href="dt_common.c.html#LN2474"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch scan_type &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2476"><span class='Ref_To_Local'>strtol_end</span></a> <span class='Operator'>&& *</span><a href="dt_common.c.html#LN2476"><span class='Ref_To_Local'>strtol_end</span></a><span class='Parentheses'>) 
</span>        <span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2476"><span class='Ref_To_Local'>strtol_end</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <span class='Operator'>*</span><a href="dt_common.c.html#LN2466"><span class='Ref_to_Parameter'>pstr</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2475"><span class='Ref_To_Local'>pstr_end</span></a><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="dt_common.c.html#LN2475"><span class='Ref_To_Local'>pstr_end</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2473"><span class='Ref_To_Local'>last_char</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="dt_common.c.html#LN2474"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end pgtypes_defmt_scan &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* XXX range checking */ 
</span><span class='Keyword'>int 
</span><a name="LN2528"></a><span class='Declare_Function'>PGTYPEStimestamp_defmt_scan</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fmt</span><span class='Delimiter'>, </span><a href="../include/pgtypes_timestamp.h.html#LN8"><span class='Ref_to_Typedef'>timestamp</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>d</span><span class='Delimiter'>, 
</span><a name="LN2529"></a>                            <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>year</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>month</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>day</span><span class='Delimiter'>, 
</span><a name="LN2530"></a>                            <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>hour</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>minute</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>second</span><span class='Delimiter'>, 
</span><a name="LN2531"></a>                            <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>tz</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN2533"></a>    <span class='Control'>union</span> <a href="extern.h.html#LN26"><span class='Ref_to_Union'>un_fmt_comb</span></a> <span class='Declare_Local'>scan_val</span><span class='Delimiter'>; 
</span><a name="LN2534"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>scan_type</span><span class='Delimiter'>; 
</span> 
<a name="LN2536"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pstr</span><span class='Delimiter'>, 
</span><a name="LN2537"></a>               <span class='Operator'>*</span><span class='Declare_Local'>pfmt</span><span class='Delimiter'>, 
</span><a name="LN2538"></a>               <span class='Operator'>*</span><span class='Declare_Local'>tmp</span><span class='Delimiter'>; 
</span><a name="LN2539"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>err</span> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><a name="LN2540"></a>    <span class='Keyword'>unsigned int </span><span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span><a name="LN2541"></a>    <span class='Control'>struct</span> <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a>   <span class='Declare_Local'>tm</span><span class='Delimiter'>; 
</span> 
    <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>fmt</span></a><span class='Delimiter'>; 
</span>    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>= *</span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>str</span></a><span class='Delimiter'>; 
</span> 
    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>== </span><span class='String'>' '</span><span class='Parentheses'>) 
</span>            <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a> <span class='Operator'>!= </span><span class='String'>'%'</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a> <span class='Operator'>== *</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Comment_Multi_Line'>/* Error: no match */ 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Comment_Multi_Line'>/* here *pfmt equals '%' */ 
</span>        <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>        <span class='Control'>switch</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>case</span> <span class='String'>'a'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * we parse the day and see if it is a week day but we do not 
                 * check if the week day really matches the date 
                 */ 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN500"><span class='Ref_to_Global_Var'>pgtypes_date_weekdays_short</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN500"><span class='Ref_to_Global_Var'>pgtypes_date_weekdays_short</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, 
</span>                                strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN500"><span class='Ref_to_Global_Var'>pgtypes_date_weekdays_short</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* found it */ 
</span>                        <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN500"><span class='Ref_to_Global_Var'>pgtypes_date_weekdays_short</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'A'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* see note above */ 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN68"><span class='Ref_to_Global_Var'>days</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN68"><span class='Ref_to_Global_Var'>days</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN68"><span class='Ref_to_Global_Var'>days</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* found it */ 
</span>                        <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN68"><span class='Ref_to_Global_Var'>days</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'b'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'h'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN65"><span class='Ref_to_Global_Var'>months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN65"><span class='Ref_to_Global_Var'>months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN65"><span class='Ref_to_Global_Var'>months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* found it */ 
</span>                        <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="../../../backend/utils/adt/datetime.c.html#LN65"><span class='Ref_to_Global_Var'>months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'B'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* see note above */ 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN502"><span class='Ref_to_Global_Var'>pgtypes_date_months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN502"><span class='Ref_to_Global_Var'>pgtypes_date_months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN502"><span class='Ref_to_Global_Var'>pgtypes_date_months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>))</span> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                    <span class='Delimiter'>{ 
</span>                        <span class='Comment_Multi_Line'>/* found it */ 
</span>                        <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN502"><span class='Ref_to_Global_Var'>pgtypes_date_months</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Control'>break</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'c'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* XXX */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'C'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>* </span><span class='Number'>100</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'d'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'e'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'D'</span><span class='Operator'>: 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * we have to concatenate the strings in order to be able to 
                 * find the end of the substitution 
                 */ 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a> <span class='Operator'>= </span><a href="common.c.html#LN7"><span class='Ref_to_Func'>pgtypes_alloc</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><span class='String'>"%m/%d/%y"</span><span class='Parentheses'>) </span><span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><span class='String'>"%m/%d/%y"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                strcat<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN329"><span class='Ref_to_Proto'>PGTYPEStimestamp_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'m'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'y'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'g'</span><span class='Operator'>:</span>           <span class='Comment_Single_Line'>/* XXX difference to y (ISO) */ 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* not yet set */ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>+= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>&LT; </span><span class='Number'>100</span><span class='Parentheses'>) 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>+= </span><span class='Number'>1900</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'G'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* XXX difference to %V (ISO) */ 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'H'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'I'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'k'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'l'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'j'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Comment_Multi_Line'>/* 
                 * XXX what should we do with that? We could say that it's 
                 * sufficient if we have the year and the day within the year 
                 * to get at least a specific day. 
                 */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'M'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'n'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>== </span><span class='String'>'\n'</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'p'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"am"</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"a.m."</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"pm"</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"p.m."</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'P'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"AM"</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"A.M."</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"PM"</span><span class='Delimiter'>, </span><span class='Number'>2</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span>strncmp<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><span class='String'>"P.M."</span><span class='Delimiter'>, </span><span class='Number'>4</span><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>+= </span><span class='Number'>12</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>+= </span><span class='Number'>4</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'r'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a> <span class='Operator'>= </span><a href="common.c.html#LN7"><span class='Ref_to_Func'>pgtypes_alloc</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><span class='String'>"%I:%M:%S %p"</span><span class='Parentheses'>) </span><span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><span class='String'>"%I:%M:%S %p"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                strcat<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN329"><span class='Ref_to_Proto'>PGTYPEStimestamp_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'R'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a> <span class='Operator'>= </span><a href="common.c.html#LN7"><span class='Ref_to_Func'>pgtypes_alloc</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><span class='String'>"%H:%M"</span><span class='Parentheses'>) </span><span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><span class='String'>"%H:%M"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                strcat<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN329"><span class='Ref_to_Proto'>PGTYPEStimestamp_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'s'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN22"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT_LONG</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Comment_Multi_Line'>/* number of seconds in scan_val.luint_val */ 
</span>                <span class='Delimiter'>{ 
</span><a name="LN2815"></a>                    <span class='Control'>struct</span> <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a>  <span class='Operator'>*</span><span class='Declare_Local'>tms</span><span class='Delimiter'>; 
</span><a name="LN2816"></a>                    time_t      <span class='Declare_Local'>et</span> <span class='Operator'>= </span><span class='Parentheses'>(</span>time_t<span class='Parentheses'>) </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN31"><span class='Ref_to_Member'>luint_val</span></a><span class='Delimiter'>; 
</span> 
                    <a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a> <span class='Operator'>= </span>gmtime<span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2816"><span class='Ref_To_Local'>et</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Operator'>-&GT;</span>tm_year <span class='Operator'>+ </span><span class='Number'>1900</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Operator'>-&GT;</span>tm_mon <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Operator'>-&GT;</span>tm_mday<span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Operator'>-&GT;</span>tm_hour<span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Operator'>-&GT;</span>tm_min<span class='Delimiter'>; 
</span>                        <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2815"><span class='Ref_To_Local'>tms</span></a><span class='Operator'>-&GT;</span>tm_sec<span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>else</span> 
                        <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'S'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>== </span><span class='String'>'\t'</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'T'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a> <span class='Operator'>= </span><a href="common.c.html#LN7"><span class='Ref_to_Func'>pgtypes_alloc</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><span class='String'>"%H:%M:%S"</span><span class='Parentheses'>) </span><span class='Operator'>+ </span>strlen<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><span class='String'>"%H:%M:%S"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                strcat<span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt.h.html#LN329"><span class='Ref_to_Proto'>PGTYPEStimestamp_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>d</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2538"><span class='Ref_To_Local'>tmp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>return</span> <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'u'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&GT; </span><span class='Number'>7</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'U'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&GT; </span><span class='Number'>53</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'V'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>|| </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&GT; </span><span class='Number'>53</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'w'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&GT; </span><span class='Number'>6</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'W'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a> <span class='Operator'>&GT; </span><span class='Number'>53</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'x'</span><span class='Operator'>: 
</span>            <span class='Control'>case</span> <span class='String'>'X'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* XXX */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'Y'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN15"><span class='Ref_to_Const'>PGTYPES_TYPE_UINT</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN29"><span class='Ref_to_Member'>uint_val</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'z'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN10"><span class='Ref_to_Const'>PGTYPES_TYPE_STRING_MALLOCED</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="../../../include/utils/datetime.h.html#LN299"><span class='Ref_to_Proto'>DecodeTimezone</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN28"><span class='Ref_to_Member'>str_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN28"><span class='Ref_to_Member'>str_val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'Z'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a> <span class='Operator'>= </span><a href="extern.h.html#LN10"><span class='Ref_to_Const'>PGTYPES_TYPE_STRING_MALLOCED</span></a><span class='Delimiter'>; 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN2465"><span class='Ref_to_Func'>pgtypes_defmt_scan</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2534"><span class='Ref_To_Local'>scan_type</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Comment_Multi_Line'>/* 
                     * XXX use DecodeSpecial instead?  Do we need strcasecmp 
                     * here? 
                     */ 
</span>                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="../../../backend/utils/adt/datetime.c.html#LN167"><span class='Ref_to_Global_Var'>szdatetktbl</span></a><span class='Delimiter'>; </span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                    <span class='Delimiter'>{ 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="dt_common.c.html#LN18"><span class='Ref_to_Global_Var'>datetktbl</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="dt.h.html#LN205"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN94"><span class='Ref_to_Const'>TZ</span></a> <span class='Operator'>|| </span><a href="dt_common.c.html#LN18"><span class='Ref_to_Global_Var'>datetktbl</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="dt.h.html#LN205"><span class='Ref_to_Member'>type</span></a> <span class='Operator'>== </span><a href="dt.h.html#LN95"><span class='Ref_to_Const'>DTZ</span></a><span class='Parentheses'>) </span><span class='Operator'>&& 
</span>                            <a href="../../../port/pgstrcasecmp.c.html#LN34"><span class='Ref_to_Func'>pg_strcasecmp</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN18"><span class='Ref_to_Global_Var'>datetktbl</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><a href="dt.h.html#LN204"><span class='Ref_to_Member'>token</span></a><span class='Delimiter'>, 
</span>                                          <a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN28"><span class='Ref_to_Member'>str_val</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <span class='Delimiter'>{ 
</span>                            <span class='Operator'>*</span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a> <span class='Operator'>= -</span><a href="dt_common.c.html#LN18"><span class='Ref_to_Global_Var'>datetktbl</span></a><span class='Delimiter'>[</span><a href="dt_common.c.html#LN2540"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Operator'>.</span><span class='Keyword'>value</span><span class='Delimiter'>; 
</span>                            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                            <span class='Control'>break</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                    <span class='Delimiter'>} 
</span>                    <a href="../../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="dt_common.c.html#LN2533"><span class='Ref_To_Local'>scan_val</span></a><span class='Operator'>.</span><a href="extern.h.html#LN28"><span class='Ref_to_Member'>str_val</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !err &raquo; </span> 
                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>                <span class='Comment_Multi_Line'>/* XXX */ 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>case</span> <span class='String'>'%'</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2537"><span class='Ref_To_Local'>pfmt</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a> <span class='Operator'>== </span><span class='String'>'%'</span><span class='Parentheses'>) 
</span>                    <a href="dt_common.c.html#LN2536"><span class='Ref_To_Local'>pstr</span></a><span class='Operator'>++</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Control'>default</span><span class='Operator'>: 
</span>                <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch *pfmt &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end while *pfmt &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a> <span class='Operator'>= </span><span class='Number'>1970</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>&GT; </span><span class='Number'>59</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>&GT; </span><span class='Number'>59</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>&GT; </span><span class='Number'>24</span> <span class='Operator'>||</span>       <span class='Comment_Single_Line'>/* test for &GT; 24:00:00 */ 
</span>            <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>== </span><span class='Number'>24</span> <span class='Operator'>&& </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span> <span class='Operator'>|| *</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>&GT; </span><a href="../../../include/datatype/timestamp.h.html#LN68"><span class='Ref_to_Const'>MONTHS_PER_YEAR</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>&GT; </span><a href="dt_common.c.html#LN12"><span class='Ref_to_Global_Var'>day_tab</span></a><span class='Delimiter'>[</span><a href="../../../timezone/private.h.html#LN142"><span class='Ref_to_Macro'>isleap</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Parentheses'>)</span><span class='Delimiter'>][</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a> <span class='Operator'>= </span><a href="dt_common.c.html#LN12"><span class='Ref_to_Global_Var'>day_tab</span></a><span class='Delimiter'>[</span><a href="../../../timezone/private.h.html#LN142"><span class='Ref_to_Macro'>isleap</span></a><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Parentheses'>)</span><span class='Delimiter'>][</span><span class='Operator'>*</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Delimiter'>]; 
</span>            <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Operator'>.</span>tm_sec <span class='Operator'>= *</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>second</span></a><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Operator'>.</span>tm_min <span class='Operator'>= *</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>minute</span></a><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Operator'>.</span>tm_hour <span class='Operator'>= *</span><a href="dt_common.c.html#LN2530"><span class='Ref_to_Parameter'>hour</span></a><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Operator'>.</span>tm_mday <span class='Operator'>= *</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>day</span></a><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Operator'>.</span>tm_mon <span class='Operator'>= *</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>month</span></a><span class='Delimiter'>; 
</span>        <a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Operator'>.</span>tm_year <span class='Operator'>= *</span><a href="dt_common.c.html#LN2529"><span class='Ref_to_Parameter'>year</span></a><span class='Delimiter'>; 
</span> 
        <a href="timestamp.c.html#LN40"><span class='Ref_to_Func'>tm2timestamp</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="dt_common.c.html#LN2541"><span class='Ref_To_Local'>tm</span></a><span class='Delimiter'>, </span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2531"><span class='Ref_to_Parameter'>tz</span></a><span class='Delimiter'>, </span><a href="dt_common.c.html#LN2528"><span class='Ref_to_Parameter'>d</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !err &raquo; </span> 
    <span class='Control'>return</span> <a href="dt_common.c.html#LN2539"><span class='Ref_To_Local'>err</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end PGTYPEStimestamp_defmt_scan &raquo; </span> 
 
<span class='Comment_Multi_Line'>/* XXX: 1900 is compiled in as the base for years */ 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>