<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\interfaces\libpq\fe-print.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\interfaces\libpq\fe-print.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:11 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/*------------------------------------------------------------------------- 
 * 
 * fe-print.c 
 *    functions for pretty-printing query results 
 * 
 * Portions Copyright (c) 1996-2017, PostgreSQL Global Development Group 
 * Portions Copyright (c) 1994, Regents of the University of California 
 * 
 * These functions were formerly part of fe-exec.c, but they 
 * didn't really belong there. 
 * 
 * IDENTIFICATION 
 *    src/interfaces/libpq/fe-print.c 
 * 
 *------------------------------------------------------------------------- 
 */ 
</span><span class='Keyword'>#include </span><span class='String'>"postgres_fe.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;signal.h&GT;</span> 
 
<span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<span class='Keyword'>#include </span><span class='String'>"win32.h"</span> 
<span class='Directive'>#else</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;unistd.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;sys/ioctl.h&GT;</span> 
<span class='Directive'>#endif</span> 
 
<span class='Directive'>#ifdef</span> HAVE_TERMIOS_H 
<span class='Keyword'>#include </span><span class='String'>&LT;termios.h&GT;</span> 
<span class='Directive'>#else</span> 
<span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<span class='Keyword'>#include </span><span class='String'>&LT;sys/termios.h&GT;</span> 
<span class='Directive'>#endif</span> 
<span class='Directive'>#endif</span> 
 
<span class='Keyword'>#include </span><span class='String'>"libpq-fe.h"</span> 
<span class='Keyword'>#include </span><span class='String'>"libpq-int.h"</span> 
 
 
<a name="LN39"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>do_field</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, 
</span><a name="LN40"></a>         <span class='Keyword'>const int </span><span class='Declare_Parameter'>i</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>j</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>fs_len</span><span class='Delimiter'>, 
</span><a name="LN41"></a>         <span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fields</span><span class='Delimiter'>, 
</span><a name="LN42"></a>         <span class='Keyword'>const int </span><span class='Declare_Parameter'>nFields</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fieldNames</span><span class='Delimiter'>, 
</span><a name="LN43"></a>         <span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldNotNum</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldMax</span><span class='Delimiter'>, 
</span><a name="LN44"></a>         <span class='Keyword'>const int </span><span class='Declare_Parameter'>fieldMaxLen</span><span class='Delimiter'>, </span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN45"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>do_header</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>nFields</span><span class='Delimiter'>, 
</span><a name="LN46"></a>          <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldMax</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fieldNames</span><span class='Delimiter'>, </span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldNotNum</span><span class='Delimiter'>, 
</span><a name="LN47"></a>          <span class='Keyword'>const int </span><span class='Declare_Parameter'>fs_len</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN48"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>output_row</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>nFields</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fields</span><span class='Delimiter'>, 
</span><a name="LN49"></a>           <span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldNotNum</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldMax</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>border</span><span class='Delimiter'>, 
</span><a name="LN50"></a>           <span class='Keyword'>const int </span><span class='Declare_Parameter'>row_index</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN51"></a><span class='Keyword'>static void </span><span class='Declare_Prototype'>fill</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>length</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>max</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>filler</span><span class='Delimiter'>, </span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fp</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Comment_Multi_Line'>/* 
 * PQprint() 
 * 
 * Format results of a query for printing. 
 * 
 * PQprintOpt is a typedef (structure) that contains 
 * various flags and options. consult libpq-fe.h for 
 * details 
 * 
 * This function should probably be removed sometime since psql 
 * doesn't use it anymore. It is unclear to what extent this is used 
 * by external clients, however. 
 */ 
</span><span class='Keyword'>void 
</span><a name="LN67"></a><span class='Declare_Function'>PQprint</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN69"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nFields</span><span class='Delimiter'>; 
</span> 
    <a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* only print rows with at least 1 field.  */ 
</span><a name="LN75"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN76"></a>                    <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span><a name="LN77"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>nTups</span><span class='Delimiter'>; 
</span><a name="LN78"></a>        <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>fieldMax</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* in case we don't use them */ 
</span><a name="LN79"></a>        <span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Local'>fieldNotNum</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN80"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>border</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN81"></a>        <span class='Keyword'>char</span>      <span class='Operator'>**</span><span class='Declare_Local'>fields</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><a name="LN82"></a>        <span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Local'>fieldNames</span><span class='Delimiter'>; 
</span><a name="LN83"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>fieldMaxLen</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN84"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>numFieldName</span><span class='Delimiter'>; 
</span><a name="LN85"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>fs_len</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN86"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>total_line_length</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN87"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>usePipe</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN88"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>pagerenv</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#if</span> defined<span class='Parentheses'>(</span>ENABLE_THREAD_SAFETY<span class='Parentheses'>) </span><span class='Operator'>&& !</span>defined<span class='Parentheses'>(</span><a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a><span class='Parentheses'>) 
</span><a name="LN91"></a>        <a href="../../include/libpq/pqsignal.h.html#LN21"><span class='Ref_to_Typedef'>sigset_t</span></a>    <span class='Declare_Local'>osigset</span><span class='Delimiter'>; 
</span><a name="LN92"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>sigpipe_masked</span> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span><a name="LN93"></a>        <span class='Keyword'>bool</span>        <span class='Declare_Local'>sigpipe_pending</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Directive'>#if</span> <span class='Operator'>!</span>defined<span class='Parentheses'>(</span>ENABLE_THREAD_SAFETY<span class='Parentheses'>) </span><span class='Operator'>&& !</span>defined<span class='Parentheses'>(</span><a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a><span class='Parentheses'>) 
</span><a name="LN96"></a>        <a href="../../include/port.h.html#LN469"><span class='Ref_to_Typedef'>pqsigfunc</span></a>   <span class='Declare_Local'>oldsigpipehandler</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
<span class='Directive'>#ifdef</span> TIOCGWINSZ 
<a name="LN100"></a>        <span class='Control'>struct</span> <a href="fe-print.c.html#LN102"><span class='Ref_to_Struct'>winsize</span></a> <span class='Declare_Local'>screen_size</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
<a name="LN102"></a>        <span class='Control'>struct</span> <span class='Declare_Local'>winsize</span> 
        <span class='Delimiter'>{ 
</span><a name="LN104"></a>            <span class='Keyword'>int</span>         <span class='Declare_Member'>ws_row</span><span class='Delimiter'>; 
</span><a name="LN105"></a>            <span class='Keyword'>int</span>         <span class='Declare_Member'>ws_col</span><span class='Delimiter'>; 
</span><a name="LN106"></a>        <span class='Delimiter'>}</span>           <span class='Declare_Local'>screen_size</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
 
        <a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN82"><span class='Ref_To_Local'>fieldNames</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Parentheses'>)</span> <a href="../../include/snowball/header.h.html#LN54"><span class='Ref_to_Macro'>calloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>))))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN79"><span class='Ref_To_Local'>fieldNotNum</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/snowball/header.h.html#LN54"><span class='Ref_to_Macro'>calloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>, </span><span class='Number'>1</span><span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN78"><span class='Ref_To_Local'>fieldMax</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>)</span> <a href="../../include/snowball/header.h.html#LN54"><span class='Ref_to_Macro'>calloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))))</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN84"><span class='Ref_To_Local'>numFieldName</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>             <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN187"><span class='Ref_to_Member'>fieldName</span></a> <span class='Operator'>&& </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN187"><span class='Ref_to_Member'>fieldName</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN84"><span class='Ref_To_Local'>numFieldName</span></a><span class='Delimiter'>]; 
</span>             <a href="fe-print.c.html#LN84"><span class='Ref_To_Local'>numFieldName</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>; 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN131"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span><a name="LN132"></a>            <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN84"><span class='Ref_To_Local'>numFieldName</span></a> <span class='Operator'>&& </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN187"><span class='Ref_to_Member'>fieldName</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>][</span><span class='Number'>0</span><span class='Delimiter'>]</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>            <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN187"><span class='Ref_to_Member'>fieldName</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>: </span><a href="libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <a href="fe-print.c.html#LN82"><span class='Ref_To_Local'>fieldNames</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="fe-print.c.html#LN132"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN131"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN132"><span class='Ref_To_Local'>s</span></a> <span class='Operator'>? </span>strlen<span class='Parentheses'>(</span><a href="fe-print.c.html#LN132"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN78"><span class='Ref_To_Local'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="fe-print.c.html#LN131"><span class='Ref_To_Local'>len</span></a><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN131"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>+= </span><a href="fe-print.c.html#LN85"><span class='Ref_To_Local'>fs_len</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN131"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>&GT; </span><a href="fe-print.c.html#LN83"><span class='Ref_To_Local'>fieldMaxLen</span></a><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN83"><span class='Ref_To_Local'>fieldMaxLen</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN131"><span class='Ref_To_Local'>len</span></a><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN86"><span class='Ref_To_Local'>total_line_length</span></a> <span class='Operator'>+= </span><a href="fe-print.c.html#LN131"><span class='Ref_To_Local'>len</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <a href="fe-print.c.html#LN86"><span class='Ref_To_Local'>total_line_length</span></a> <span class='Operator'>+= </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>* </span>strlen<span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>            <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a> <span class='Operator'>= </span>stdout<span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN183"><span class='Ref_to_Member'>pager</span></a> <span class='Operator'>&& </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a> <span class='Operator'>== </span>stdout <span class='Operator'>&& </span>isatty<span class='Parentheses'>(</span>fileno<span class='Parentheses'>(</span>stdin<span class='Parentheses'>))</span> <span class='Operator'>&& 
</span>            isatty<span class='Parentheses'>(</span>fileno<span class='Parentheses'>(</span>stdout<span class='Parentheses'>)))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* 
             * If we think there'll be more than one screen of output, try to 
             * pipe to the pager program. 
             */ 
</span><span class='Directive'>#ifdef</span> TIOCGWINSZ 
            <span class='Control'>if</span> <span class='Parentheses'>(</span>ioctl<span class='Parentheses'>(</span>fileno<span class='Parentheses'>(</span>stdout<span class='Parentheses'>)</span><span class='Delimiter'>, </span>TIOCGWINSZ<span class='Delimiter'>, </span><span class='Operator'>&</span><a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Parentheses'>)</span> <span class='Operator'>== -</span><span class='Number'>1</span> <span class='Operator'>|| 
</span>                <a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN105"><span class='Ref_to_Member'>ws_col</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                <a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN104"><span class='Ref_to_Member'>ws_row</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                <a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN104"><span class='Ref_to_Member'>ws_row</span></a> <span class='Operator'>= </span><span class='Number'>24</span><span class='Delimiter'>; 
</span>                <a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN105"><span class='Ref_to_Member'>ws_col</span></a> <span class='Operator'>= </span><span class='Number'>80</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span><span class='Directive'>#else</span> 
            <a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN104"><span class='Ref_to_Member'>ws_row</span></a> <span class='Operator'>= </span><span class='Number'>24</span><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN105"><span class='Ref_to_Member'>ws_col</span></a> <span class='Operator'>= </span><span class='Number'>80</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
            <a href="fe-print.c.html#LN88"><span class='Ref_To_Local'>pagerenv</span></a> <span class='Operator'>= </span>getenv<span class='Parentheses'>(</span><span class='String'>"PAGER"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Comment_Multi_Line'>/* if PAGER is unset, empty or all-white-space, don't use pager */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN88"><span class='Ref_To_Local'>pagerenv</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL </span><span class='Operator'>&& 
</span>                strspn<span class='Parentheses'>(</span><a href="fe-print.c.html#LN88"><span class='Ref_To_Local'>pagerenv</span></a><span class='Delimiter'>, </span><span class='String'>" \t\r\n"</span><span class='Parentheses'>)</span> <span class='Operator'>!= </span>strlen<span class='Parentheses'>(</span><a href="fe-print.c.html#LN88"><span class='Ref_To_Local'>pagerenv</span></a><span class='Parentheses'>)</span> <span class='Operator'>&& 
</span>                <span class='Operator'>!</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a> <span class='Operator'>&& 
</span>                <span class='Parentheses'>((</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>&& 
</span>                  <a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>&GT;= </span><a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN104"><span class='Ref_to_Member'>ws_row</span></a><span class='Parentheses'>)</span> <span class='Operator'>|| 
</span>                 <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>&& 
</span>                  <a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN86"><span class='Ref_To_Local'>total_line_length</span></a> <span class='Operator'>/ </span><a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN105"><span class='Ref_to_Member'>ws_col</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>* 
</span>                  <span class='Parentheses'>(</span><span class='Number'>1</span> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>))</span> <span class='Operator'>&GT;= </span><a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN104"><span class='Ref_to_Member'>ws_row</span></a> <span class='Operator'>- 
</span>                  <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN178"><span class='Ref_to_Member'>header</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>* 
</span>                  <span class='Parentheses'>(</span><a href="fe-print.c.html#LN86"><span class='Ref_To_Local'>total_line_length</span></a> <span class='Operator'>/ </span><a href="fe-print.c.html#LN100"><span class='Ref_To_Local'>screen_size</span></a><span class='Operator'>.</span><a href="fe-print.c.html#LN105"><span class='Ref_to_Member'>ws_col</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>* </span><span class='Number'>2</span> 
                  <span class='Operator'>- </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN178"><span class='Ref_to_Member'>header</span></a> <span class='Operator'>!= </span><span class='Number'>0</span><span class='Parentheses'>)</span> <span class='Operator'>* </span><span class='Number'>2</span>       <span class='Comment_Single_Line'>/* row count and newline */ 
</span>                  <span class='Parentheses'>)))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN313"><span class='Ref_to_Macro'>popen</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN88"><span class='Ref_To_Local'>pagerenv</span></a><span class='Delimiter'>, </span><span class='String'>"w"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="fe-print.c.html#LN87"><span class='Ref_To_Local'>usePipe</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifndef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
<span class='Directive'>#ifdef</span> ENABLE_THREAD_SAFETY 
                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-secure.c.html#LN426"><span class='Ref_to_Func'>pq_block_sigpipe</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="fe-print.c.html#LN91"><span class='Ref_To_Local'>osigset</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="fe-print.c.html#LN93"><span class='Ref_To_Local'>sigpipe_pending</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>)</span> 
                        <a href="fe-print.c.html#LN92"><span class='Ref_To_Local'>sigpipe_masked</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
                    <a href="fe-print.c.html#LN96"><span class='Ref_To_Local'>oldsigpipehandler</span></a> <span class='Operator'>= </span><a href="../../port/pqsignal.c.html#LN38"><span class='Ref_to_Func'>pqsignal</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32.h.html#LN192"><span class='Ref_to_Const'>SIGPIPE</span></a><span class='Delimiter'>, </span><a href="../../include/port/win32.h.html#LN184"><span class='Ref_to_Const'>SIG_IGN</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* ENABLE_THREAD_SAFETY */ 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WIN32 */ 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                    <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a> <span class='Operator'>= </span>stdout<span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if pagerenv!=NULL&&strsp... &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if po-&GT;pager&&fout==stdo... &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a> <span class='Operator'>|| </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN81"><span class='Ref_To_Local'>fields</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Parentheses'>)</span> <a href="../../include/snowball/header.h.html#LN54"><span class='Ref_to_Macro'>calloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>* </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>))))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN178"><span class='Ref_to_Member'>header</span></a> <span class='Operator'>&& !</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a><span class='Parentheses'>) 
</span>                    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"%-*s%s Value\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                            <a href="fe-print.c.html#LN83"><span class='Ref_To_Local'>fieldMaxLen</span></a> <span class='Operator'>- </span><a href="fe-print.c.html#LN85"><span class='Ref_To_Local'>fs_len</span></a><span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"Field"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"%s%sValue\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"Field"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span><a name="LN220"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>len</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span><a name="LN224"></a>                    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span><a href="fe-print.c.html#LN82"><span class='Ref_To_Local'>fieldNames</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]; 
</span> 
                    <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN224"><span class='Ref_To_Local'>s</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <a href="fe-print.c.html#LN220"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>+= </span>strlen<span class='Parentheses'>(</span><a href="fe-print.c.html#LN224"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>) </span><span class='Operator'>+ </span><a href="fe-print.c.html#LN85"><span class='Ref_To_Local'>fs_len</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Parentheses'>)</span> 
                        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                fputc<span class='Parentheses'>(</span><span class='String'>'\n'</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN220"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>-= </span><a href="fe-print.c.html#LN85"><span class='Ref_To_Local'>fs_len</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN220"><span class='Ref_To_Local'>len</span></a><span class='Operator'>--</span><span class='Delimiter'>; </span>fputc<span class='Parentheses'>(</span><span class='String'>'-'</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                fputc<span class='Parentheses'>(</span><span class='String'>'\n'</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if po-&GT;header&&!po-&GT;html... &raquo; </span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>&& </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN186"><span class='Ref_to_Member'>caption</span></a><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;center&GT;&LT;h2&GT;%s&LT;/h2&GT;&LT;/center&GT;\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN186"><span class='Ref_to_Member'>caption</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                        <span class='String'>"&LT;center&GT;&LT;h2&GT;"</span> 
                        <span class='String'>"Query retrieved %d rows * %d fields"</span> 
                        <span class='String'>"&LT;/h2&GT;&LT;/center&GT;\n"</span><span class='Delimiter'>, 
</span>                        <a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>                    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                            <span class='String'>"&LT;table %s&GT;&LT;caption align=\"top\"&GT;%d&LT;/caption&GT;\n"</span><span class='Delimiter'>, 
</span>                            <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"-- RECORD %d --\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN39"><span class='Ref_to_Proto'>do_field</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN76"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN85"><span class='Ref_To_Local'>fs_len</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN81"><span class='Ref_To_Local'>fields</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>, 
</span>                         <a href="fe-print.c.html#LN82"><span class='Ref_To_Local'>fieldNames</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN79"><span class='Ref_To_Local'>fieldNotNum</span></a><span class='Delimiter'>, 
</span>                         <a href="fe-print.c.html#LN78"><span class='Ref_To_Local'>fieldMax</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN83"><span class='Ref_To_Local'>fieldMaxLen</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a> <span class='Operator'>&& </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>) 
</span>                <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;/table&GT;\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a> <span class='Operator'>|| </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN178"><span class='Ref_to_Member'>header</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN186"><span class='Ref_to_Member'>caption</span></a><span class='Parentheses'>) 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                           <span class='String'>"&LT;table %s&GT;&LT;caption align=\"top\"&GT;%s&LT;/caption&GT;\n"</span><span class='Delimiter'>, 
</span>                                <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>, 
</span>                                <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN186"><span class='Ref_to_Member'>caption</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                                <span class='String'>"&LT;table %s&GT;&LT;caption align=\"top\"&GT;"</span> 
                                <span class='String'>"Retrieved %d rows * %d fields"</span> 
                                <span class='String'>"&LT;/caption&GT;\n"</span><span class='Delimiter'>, 
</span>                           <a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>                <span class='Control'>else</span> 
                    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;table %s&GT;"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN185"><span class='Ref_to_Member'>tableOpt</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN178"><span class='Ref_to_Member'>header</span></a><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN80"><span class='Ref_To_Local'>border</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN45"><span class='Ref_to_Proto'>do_header</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN78"><span class='Ref_To_Local'>fieldMax</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN82"><span class='Ref_To_Local'>fieldNames</span></a><span class='Delimiter'>, 
</span>                                   <a href="fe-print.c.html#LN79"><span class='Ref_To_Local'>fieldNotNum</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN85"><span class='Ref_To_Local'>fs_len</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN77"><span class='Ref_To_Local'>nTups</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN48"><span class='Ref_to_Proto'>output_row</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN69"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN81"><span class='Ref_To_Local'>fields</span></a><span class='Delimiter'>, 
</span>                           <a href="fe-print.c.html#LN79"><span class='Ref_To_Local'>fieldNotNum</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN78"><span class='Ref_To_Local'>fieldMax</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN80"><span class='Ref_To_Local'>border</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN75"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN81"><span class='Ref_To_Local'>fields</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN80"><span class='Ref_To_Local'>border</span></a><span class='Parentheses'>) 
</span>                <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN80"><span class='Ref_To_Local'>border</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !po-&GT;expanded&&(po-&GT;a... &raquo; </span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN178"><span class='Ref_to_Member'>header</span></a> <span class='Operator'>&& !</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"(%d row%s)\n\n"</span><span class='Delimiter'>, </span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <span class='Parentheses'>(</span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>? </span><span class='String'>""</span> <span class='Operator'>: </span><span class='String'>"s"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN78"><span class='Ref_To_Local'>fieldMax</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN79"><span class='Ref_To_Local'>fieldNotNum</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>((</span><span class='Keyword'>void </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="fe-print.c.html#LN82"><span class='Ref_To_Local'>fieldNames</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN87"><span class='Ref_To_Local'>usePipe</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> <a href="../../include/c.h.html#LN61"><span class='Ref_to_Const'>WIN32</span></a> 
            _pclose<span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
            <a href="../../include/port.h.html#LN314"><span class='Ref_to_Macro'>pclose</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Directive'>#ifdef</span> ENABLE_THREAD_SAFETY 
            <span class='Comment_Multi_Line'>/* we can't easily verify if EPIPE occurred, so say it did */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN92"><span class='Ref_To_Local'>sigpipe_masked</span></a><span class='Parentheses'>) 
</span>                <a href="fe-secure.c.html#LN476"><span class='Ref_to_Func'>pq_reset_sigpipe</span></a><span class='Parentheses'>(</span><span class='Operator'>&</span><a href="fe-print.c.html#LN91"><span class='Ref_To_Local'>osigset</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN93"><span class='Ref_To_Local'>sigpipe_pending</span></a><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
            <a href="../../port/pqsignal.c.html#LN38"><span class='Ref_to_Func'>pqsignal</span></a><span class='Parentheses'>(</span><a href="../../include/port/win32.h.html#LN192"><span class='Ref_to_Const'>SIGPIPE</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN96"><span class='Ref_To_Local'>oldsigpipehandler</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* ENABLE_THREAD_SAFETY */ 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* WIN32 */ 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a> <span class='Operator'>&& !</span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>) 
</span>            <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;/table&GT;\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN67"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if nFields&GT;0 &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end PQprint &raquo; </span> 
 
 
<span class='Keyword'>static void 
</span><a name="LN325"></a><span class='Declare_Function'>do_field</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, 
</span><a name="LN326"></a>         <span class='Keyword'>const int </span><span class='Declare_Parameter'>i</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>j</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>fs_len</span><span class='Delimiter'>, 
</span><a name="LN327"></a>         <span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fields</span><span class='Delimiter'>, 
</span><a name="LN328"></a>         <span class='Keyword'>const int </span><span class='Declare_Parameter'>nFields</span><span class='Delimiter'>, </span><span class='Keyword'>char const </span><span class='Operator'>** </span><span class='Declare_Parameter'>fieldNames</span><span class='Delimiter'>, 
</span><a name="LN329"></a>         <span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldNotNum</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldMax</span><span class='Delimiter'>, 
</span><a name="LN330"></a>         <span class='Keyword'>const int </span><span class='Declare_Parameter'>fieldMaxLen</span><span class='Delimiter'>, </span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN332"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>pval</span><span class='Delimiter'>, 
</span><a name="LN333"></a>               <span class='Operator'>*</span><span class='Declare_Local'>p</span><span class='Delimiter'>; 
</span><a name="LN334"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>plen</span><span class='Delimiter'>; 
</span><a name="LN335"></a>    <span class='Keyword'>bool</span>        <span class='Declare_Local'>skipit</span><span class='Delimiter'>; 
</span> 
    <a href="fe-print.c.html#LN334"><span class='Ref_To_Local'>plen</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN489"><span class='Ref_to_Proto'>PQgetlength</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN334"><span class='Ref_To_Local'>plen</span></a> <span class='Operator'>&LT; </span><span class='Number'>1</span> <span class='Operator'>|| !</span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>|| !*</span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a> <span class='Operator'>|| </span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>) 
</span>            <a href="fe-print.c.html#LN335"><span class='Ref_To_Local'>skipit</span></a> <span class='Operator'>= </span><span class='Boolean'>true</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="fe-print.c.html#LN335"><span class='Ref_To_Local'>skipit</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span>            <span class='Control'>goto</span> <span class='Symbol_Characters'>&darr;</span><a href="fe-print.c.html#LN426"><span class='Ref_to_Label'>efield</span></a><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> 
        <a href="fe-print.c.html#LN335"><span class='Ref_To_Local'>skipit</span></a> <span class='Operator'>= </span><span class='Boolean'>false</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN335"><span class='Ref_To_Local'>skipit</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a> <span class='Operator'>&& !</span><a href="fe-print.c.html#LN329"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Comment_Multi_Line'>/* Detect whether field contains non-numeric data */ 
</span><a name="LN358"></a>            <span class='Keyword'>char</span>        <span class='Declare_Local'>ch</span> <span class='Operator'>= </span><span class='String'>'0'</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN333"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="fe-print.c.html#LN333"><span class='Ref_To_Local'>p</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN333"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>+= </span><a href="libpq-fe.h.html#LN588"><span class='Ref_to_Proto'>PQmblen</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN333"><span class='Ref_To_Local'>p</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>res</span></a><span class='Operator'>-&GT;</span><a href="libpq-int.h.html#LN188"><span class='Ref_to_Member'>client_encoding</span></a><span class='Parentheses'>))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>= *</span><a href="fe-print.c.html#LN333"><span class='Ref_To_Local'>p</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>((</span><a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>&GT;= </span><span class='String'>'0'</span> <span class='Operator'>&& </span><a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>&LT;= </span><span class='String'>'9'</span><span class='Parentheses'>) </span><span class='Operator'>|| 
</span>                      <a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>== </span><span class='String'>'.'</span> <span class='Operator'>|| 
</span>                      <a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>== </span><span class='String'>'E'</span> <span class='Operator'>|| 
</span>                      <a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>== </span><span class='String'>'e'</span> <span class='Operator'>|| 
</span>                      <a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>== </span><span class='String'>' '</span> <span class='Operator'>|| 
</span>                      <a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>== </span><span class='String'>'-'</span><span class='Parentheses'>))</span> 
                <span class='Delimiter'>{ 
</span>                    <a href="fe-print.c.html#LN329"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span> 
            <span class='Comment_Multi_Line'>/* 
             * Above loop will believe E in first column is numeric; also, we 
             * insist on a digit in the last column for a numeric. This test 
             * is still not bulletproof but it handles most cases. 
             */ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'E'</span> <span class='Operator'>|| *</span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>== </span><span class='String'>'e'</span> <span class='Operator'>|| 
</span>                <span class='Operator'>!</span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>&GT;= </span><span class='String'>'0'</span> <span class='Operator'>&& </span><a href="fe-print.c.html#LN358"><span class='Ref_To_Local'>ch</span></a> <span class='Operator'>&LT;= </span><span class='String'>'9'</span><span class='Parentheses'>))</span> 
                <a href="fe-print.c.html#LN329"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if po-&GT;align&&!fieldNotN... &raquo; </span> 
 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a> <span class='Operator'>|| </span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN334"><span class='Ref_To_Local'>plen</span></a> <span class='Operator'>&GT; </span><a href="fe-print.c.html#LN329"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN329"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="fe-print.c.html#LN334"><span class='Ref_To_Local'>plen</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN327"><span class='Ref_to_Parameter'>fields</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>i</span></a> <span class='Operator'>* </span><a href="fe-print.c.html#LN328"><span class='Ref_to_Parameter'>nFields</span></a> <span class='Operator'>+ </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN334"><span class='Ref_To_Local'>plen</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)))</span> 
            <span class='Delimiter'>{ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <a href="../../../contrib/cube/cubeparse.y.html#LN150"><span class='Ref_to_Proto'>strcpy</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN327"><span class='Ref_to_Parameter'>fields</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>i</span></a> <span class='Operator'>* </span><a href="fe-print.c.html#LN328"><span class='Ref_to_Parameter'>nFields</span></a> <span class='Operator'>+ </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>], </span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN182"><span class='Ref_to_Member'>expanded</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>                    <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                            <span class='String'>"&LT;tr&GT;&LT;td align=\"left\"&GT;&LT;b&GT;%s&LT;/b&GT;&LT;/td&GT;"</span> 
                            <span class='String'>"&LT;td align=\"%s\"&GT;%s&LT;/td&GT;&LT;/tr&GT;\n"</span><span class='Delimiter'>, 
</span>                            <a href="fe-print.c.html#LN328"><span class='Ref_to_Parameter'>fieldNames</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>], 
</span>                            <a href="fe-print.c.html#LN329"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>? </span><span class='String'>"left"</span> <span class='Operator'>: </span><span class='String'>"right"</span><span class='Delimiter'>, 
</span>                            <a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Control'>else</span> 
                <span class='Delimiter'>{ 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN179"><span class='Ref_to_Member'>align</span></a><span class='Parentheses'>) 
</span>                        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                                <span class='String'>"%-*s%s %s\n"</span><span class='Delimiter'>, 
</span>                                <a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fieldMaxLen</span></a> <span class='Operator'>- </span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>fs_len</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN328"><span class='Ref_to_Parameter'>fieldNames</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>], 
</span>                                <a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, 
</span>                                <a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                                <span class='String'>"%s%s%s\n"</span><span class='Delimiter'>, 
</span>                                <a href="fe-print.c.html#LN328"><span class='Ref_to_Parameter'>fieldNames</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a><span class='Delimiter'>], </span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if po-&GT;expanded &raquo; </span> 
            <span class='Control'>else</span> 
            <span class='Delimiter'>{ 
</span>                <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>                <span class='Delimiter'>{ 
</span>                    <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN332"><span class='Ref_To_Local'>pval</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN426"></a>            <span class='Label'>efield</span><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>((</span><a href="fe-print.c.html#LN326"><span class='Ref_to_Parameter'>j</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><a href="fe-print.c.html#LN328"><span class='Ref_to_Parameter'>nFields</span></a><span class='Parentheses'>)</span> 
                        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN325"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>else</span> 
                        fputc<span class='Parentheses'>(</span><span class='String'>'\n'</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN330"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                <span class='Delimiter'>} 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if !skipit &raquo; </span> 
<span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end do_field &raquo; </span> 
 
 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN439"></a><span class='Declare_Function'>do_header</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>nFields</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldMax</span><span class='Delimiter'>, 
</span><a name="LN440"></a>          <span class='Keyword'>const char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fieldNames</span><span class='Delimiter'>, </span><span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldNotNum</span><span class='Delimiter'>, 
</span><a name="LN441"></a>          <span class='Keyword'>const int </span><span class='Declare_Parameter'>fs_len</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN443"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>j</span><span class='Delimiter'>;</span>              <span class='Comment_Single_Line'>/* for loop index */ 
</span><a name="LN444"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>border</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;tr&GT;"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span><a name="LN450"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>tot</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN451"></a>        <span class='Keyword'>int</span>         <span class='Declare_Local'>n</span> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; 
</span><a name="LN452"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>p</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN451"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN451"><span class='Ref_To_Local'>n</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <a href="fe-print.c.html#LN450"><span class='Ref_To_Local'>tot</span></a> <span class='Operator'>+= </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN451"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>] </span><span class='Operator'>+ </span><a href="fe-print.c.html#LN441"><span class='Ref_to_Parameter'>fs_len</span></a> <span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>? </span><span class='Number'>2</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>            <a href="fe-print.c.html#LN450"><span class='Ref_To_Local'>tot</span></a> <span class='Operator'>+= </span><a href="fe-print.c.html#LN441"><span class='Ref_to_Parameter'>fs_len</span></a> <span class='Operator'>* </span><span class='Number'>2</span> <span class='Operator'>+ </span><span class='Number'>2</span><span class='Delimiter'>; 
</span>        <a href="fe-print.c.html#LN444"><span class='Ref_To_Local'>border</span></a> <span class='Operator'>= </span><a href="../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN450"><span class='Ref_To_Local'>tot</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN444"><span class='Ref_To_Local'>border</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="fe-print.c.html#LN452"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN444"><span class='Ref_To_Local'>border</span></a><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN467"></a>            <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fs</span> <span class='Operator'>= </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>; 
</span> 
            <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="fe-print.c.html#LN467"><span class='Ref_To_Local'>fs</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <span class='Operator'>*</span><a href="fe-print.c.html#LN452"><span class='Ref_To_Local'>p</span></a><span class='Operator'>++ = </span><span class='String'>'+'</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN474"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN474"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>+ </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>? </span><span class='Number'>2</span> <span class='Operator'>: </span><span class='Number'>0</span><span class='Parentheses'>)</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN474"><span class='Ref_To_Local'>len</span></a><span class='Operator'>--</span><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="fe-print.c.html#LN452"><span class='Ref_To_Local'>p</span></a><span class='Operator'>++ = </span><span class='String'>'-'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>nFields</span></a><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span><a name="LN479"></a>                <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>fs</span> <span class='Operator'>= </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>; 
</span> 
                <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="fe-print.c.html#LN479"><span class='Ref_To_Local'>fs</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                    <span class='Operator'>*</span><a href="fe-print.c.html#LN452"><span class='Ref_To_Local'>p</span></a><span class='Operator'>++ = </span><span class='String'>'+'</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>        <span class='Operator'>*</span><a href="fe-print.c.html#LN452"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"%s\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN444"><span class='Ref_To_Local'>border</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end else &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN493"></a>        <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>s</span> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN441"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;th align=\"%s\"&GT;%s&LT;/th&GT;"</span><span class='Delimiter'>, 
</span>                    <a href="fe-print.c.html#LN440"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>? </span><span class='String'>"left"</span> <span class='Operator'>: </span><span class='String'>"right"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN440"><span class='Ref_to_Parameter'>fieldNames</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span><a name="LN502"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>n</span> <span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="fe-print.c.html#LN493"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN502"><span class='Ref_To_Local'>n</span></a> <span class='Operator'>&GT; </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="fe-print.c.html#LN502"><span class='Ref_To_Local'>n</span></a><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                        <a href="fe-print.c.html#LN440"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>? </span><span class='String'>" %-*s "</span> <span class='Operator'>: </span><span class='String'>" %*s "</span><span class='Delimiter'>, 
</span>                        <a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><a href="fe-print.c.html#LN493"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN440"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>? </span><span class='String'>"%-*s"</span> <span class='Operator'>: </span><span class='String'>"%*s"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><a href="fe-print.c.html#LN493"><span class='Ref_To_Local'>s</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>|| </span><span class='Parentheses'>(</span><a href="fe-print.c.html#LN443"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>&LT; </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>nFields</span></a><span class='Parentheses'>)</span> 
                <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for j=0;j&LT;nFields;j++ &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;/tr&GT;\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN439"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"\n%s\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN444"><span class='Ref_To_Local'>border</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="fe-print.c.html#LN444"><span class='Ref_To_Local'>border</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end do_header &raquo; </span> 
 
 
<span class='Keyword'>static void 
</span><a name="LN525"></a><span class='Declare_Function'>output_row</span><span class='Parentheses'>(</span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN176"><span class='Ref_to_Typedef'>PQprintOpt</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>po</span><span class='Delimiter'>, </span><span class='Keyword'>const int </span><span class='Declare_Parameter'>nFields</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>**</span><span class='Declare_Parameter'>fields</span><span class='Delimiter'>, 
</span><a name="LN526"></a>           <span class='Keyword'>unsigned char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldNotNum</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldMax</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>border</span><span class='Delimiter'>, 
</span><a name="LN527"></a>           <span class='Keyword'>const int </span><span class='Declare_Parameter'>row_index</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN529"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>field_index</span><span class='Delimiter'>;</span>    <span class='Comment_Single_Line'>/* for loop index */ 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;tr&GT;"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span><a name="LN537"></a>        <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>p</span> <span class='Operator'>= </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fields</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN527"><span class='Ref_to_Parameter'>row_index</span></a> <span class='Operator'>* </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>nFields</span></a> <span class='Operator'>+ </span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a><span class='Delimiter'>]; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"&LT;td align=\"%s\"&GT;%s&LT;/td&GT;"</span><span class='Delimiter'>, 
</span>                    <a href="fe-print.c.html#LN526"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a><span class='Delimiter'>] </span><span class='Operator'>? </span><span class='String'>"left"</span> <span class='Operator'>: </span><span class='String'>"right"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN537"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN537"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, 
</span>                    <a href="fe-print.c.html#LN526"><span class='Ref_to_Parameter'>fieldNotNum</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a><span class='Delimiter'>] </span><span class='Operator'>? 
</span>                    <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>? </span><span class='String'>" %-*s "</span> <span class='Operator'>: </span><span class='String'>"%-*s"</span><span class='Parentheses'>) </span><span class='Operator'>: 
</span>                    <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>? </span><span class='String'>" %*s "</span> <span class='Operator'>: </span><span class='String'>"%*s"</span><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                    <a href="fe-print.c.html#LN526"><span class='Ref_to_Parameter'>fieldMax</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a><span class='Delimiter'>], 
</span>                    <a href="fe-print.c.html#LN537"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN537"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a> <span class='Operator'>|| </span><a href="fe-print.c.html#LN529"><span class='Ref_To_Local'>field_index</span></a> <span class='Operator'>+ </span><span class='Number'>1</span> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>nFields</span></a><span class='Parentheses'>) 
</span>                <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN184"><span class='Ref_to_Member'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN537"><span class='Ref_To_Local'>p</span></a><span class='Parentheses'>) 
</span>            <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN537"><span class='Ref_To_Local'>p</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for field_index=0;field_i... &raquo; </span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN181"><span class='Ref_to_Member'>html3</span></a><span class='Parentheses'>) 
</span>        <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><span class='String'>"&LT;/tr&GT;"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>po</span></a><span class='Operator'>-&GT;</span><a href="libpq-fe.h.html#LN180"><span class='Ref_to_Member'>standard</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"\n%s"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN526"><span class='Ref_to_Parameter'>border</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    fputc<span class='Parentheses'>(</span><span class='String'>'\n'</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN525"><span class='Ref_to_Parameter'>fout</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end output_row &raquo; </span> 
 
 
 
<span class='Comment_Multi_Line'>/* 
 * really old printing routines 
 */ 
</span> 
<span class='Keyword'>void 
</span><a name="LN570"></a><span class='Declare_Function'>PQdisplayTuples</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, 
</span><a name="LN571"></a>                FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fp</span><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* where to send the output */ 
</span><a name="LN572"></a>                <span class='Keyword'>int </span><span class='Declare_Parameter'>fillAlign</span><span class='Delimiter'>,</span>  <span class='Comment_Single_Line'>/* pad the fields with spaces */ 
</span><a name="LN573"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>fieldSep</span><span class='Delimiter'>,</span>   <span class='Comment_Single_Line'>/* field separator */ 
</span><a name="LN574"></a>                <span class='Keyword'>int </span><span class='Declare_Parameter'>printHeader</span><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* display headers? */ 
</span><a name="LN575"></a>                <span class='Keyword'>int </span><span class='Declare_Parameter'>quiet</span> 
<span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN578"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DEFAULT_FIELD_SEP</span> <span class='String'>" "</span> 
 
<a name="LN580"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN581"></a>                <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span><a name="LN582"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nFields</span><span class='Delimiter'>; 
</span><a name="LN583"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nTuples</span><span class='Delimiter'>; 
</span><a name="LN584"></a>    <span class='Keyword'>int</span>        <span class='Operator'>*</span><span class='Declare_Local'>fLength</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN573"><span class='Ref_to_Parameter'>fieldSep</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="fe-print.c.html#LN573"><span class='Ref_to_Parameter'>fieldSep</span></a> <span class='Operator'>= </span><a href="../../bin/psql/settings.h.html#LN14"><span class='Ref_to_Const'>DEFAULT_FIELD_SEP</span></a><span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Get some useful info about the results */ 
</span>    <a href="fe-print.c.html#LN582"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="fe-print.c.html#LN583"><span class='Ref_To_Local'>nTuples</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a> <span class='Operator'>== </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>        <a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a> <span class='Operator'>= </span>stdout<span class='Delimiter'>; 
</span> 
    <span class='Comment_Multi_Line'>/* Figure the field lengths to align to */ 
</span>    <span class='Comment_Multi_Line'>/* will be somewhat time consuming for very large results */ 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN572"><span class='Ref_to_Parameter'>fillAlign</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN582"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>* </span><span class='Keyword'>sizeof</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN582"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span>strlen<span class='Parentheses'>(</span><a href="libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN583"><span class='Ref_To_Local'>nTuples</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN612"></a>                <span class='Keyword'>int</span>         <span class='Declare_Local'>flen</span> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN489"><span class='Ref_to_Proto'>PQgetlength</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN612"><span class='Ref_To_Local'>flen</span></a> <span class='Operator'>&GT; </span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>]</span><span class='Parentheses'>) 
</span>                    <a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><a href="fe-print.c.html#LN612"><span class='Ref_To_Local'>flen</span></a><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if fillAlign &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN574"><span class='Ref_to_Parameter'>printHeader</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Comment_Multi_Line'>/* first, print out the attribute names */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN582"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN572"><span class='Ref_to_Parameter'>fillAlign</span></a><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN51"><span class='Ref_to_Proto'>fill</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='String'>' '</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN573"><span class='Ref_to_Parameter'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Comment_Multi_Line'>/* Underline the attribute names */ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN582"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN572"><span class='Ref_to_Parameter'>fillAlign</span></a><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN51"><span class='Ref_to_Proto'>fill</span></a><span class='Parentheses'>(</span><span class='Number'>0</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>], </span><span class='String'>'-'</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN573"><span class='Ref_to_Parameter'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if printHeader &raquo; </span> 
 
    <span class='Comment_Multi_Line'>/* next, print out the instances */ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN583"><span class='Ref_To_Local'>nTuples</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN582"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Delimiter'>, </span><span class='String'>"%s"</span><span class='Delimiter'>, </span><a href="libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN572"><span class='Ref_to_Parameter'>fillAlign</span></a><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN51"><span class='Ref_to_Proto'>fill</span></a><span class='Parentheses'>(</span>strlen<span class='Parentheses'>(</span><a href="libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN580"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN581"><span class='Ref_To_Local'>j</span></a><span class='Delimiter'>], </span><span class='String'>' '</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="../ecpg/preproc/pgc.l.html#LN390"><span class='Ref_to_Proto'>fputs</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN573"><span class='Ref_to_Parameter'>fieldSep</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN575"><span class='Ref_to_Parameter'>quiet</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Delimiter'>, </span><span class='String'>"\nQuery returned %d row%s.\n"</span><span class='Delimiter'>, </span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span>                <span class='Parentheses'>(</span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN570"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>) </span><span class='Operator'>== </span><span class='Number'>1</span><span class='Parentheses'>)</span> <span class='Operator'>? </span><span class='String'>""</span> <span class='Operator'>: </span><span class='String'>"s"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    fflush<span class='Parentheses'>(</span><a href="fe-print.c.html#LN571"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN584"><span class='Ref_To_Local'>fLength</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end PQdisplayTuples &raquo; </span> 
 
 
 
<span class='Keyword'>void 
</span><a name="LN668"></a><span class='Declare_Function'>PQprintTuples</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><a href="libpq-fe.h.html#LN146"><span class='Ref_to_Typedef'>PGresult</span></a> <span class='Operator'>*</span><span class='Declare_Parameter'>res</span><span class='Delimiter'>, 
</span><a name="LN669"></a>              FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fout</span><span class='Delimiter'>,</span>       <span class='Comment_Single_Line'>/* output stream */ 
</span><a name="LN670"></a>              <span class='Keyword'>int </span><span class='Declare_Parameter'>PrintAttNames</span><span class='Delimiter'>,</span>    <span class='Comment_Single_Line'>/* print attribute names or not */ 
</span><a name="LN671"></a>              <span class='Keyword'>int </span><span class='Declare_Parameter'>TerseOutput</span><span class='Delimiter'>,</span>  <span class='Comment_Single_Line'>/* delimiter bars or not? */ 
</span><a name="LN672"></a>              <span class='Keyword'>int </span><span class='Declare_Parameter'>colWidth</span>      <span class='Comment_Single_Line'>/* width of column, if 0, use variable width */ 
</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN675"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nFields</span><span class='Delimiter'>; 
</span><a name="LN676"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>nTups</span><span class='Delimiter'>; 
</span><a name="LN677"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>i</span><span class='Delimiter'>, 
</span><a name="LN678"></a>                <span class='Declare_Local'>j</span><span class='Delimiter'>; 
</span><a name="LN679"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>formatString</span><span class='Delimiter'>[</span><span class='Number'>80</span><span class='Delimiter'>]; 
</span><a name="LN680"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>tborder</span> <span class='Operator'>= </span><span class='Null_Value'>NULL</span><span class='Delimiter'>; 
</span> 
    <a href="fe-print.c.html#LN675"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN474"><span class='Ref_to_Proto'>PQnfields</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN668"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <a href="fe-print.c.html#LN676"><span class='Ref_To_Local'>nTups</span></a> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN473"><span class='Ref_to_Proto'>PQntuples</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN668"><span class='Ref_to_Parameter'>res</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN672"><span class='Ref_to_Parameter'>colWidth</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN679"><span class='Ref_To_Local'>formatString</span></a><span class='Delimiter'>, </span><span class='String'>"%%s %%-%ds"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN672"><span class='Ref_to_Parameter'>colWidth</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
        <a href="../../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN679"><span class='Ref_To_Local'>formatString</span></a><span class='Delimiter'>, </span><span class='String'>"%%s %%s"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN675"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{</span>                           <span class='Comment_Single_Line'>/* only print rows with at least 1 field.  */ 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN671"><span class='Ref_to_Parameter'>TerseOutput</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN695"></a>            <span class='Keyword'>int</span>         <span class='Declare_Local'>width</span><span class='Delimiter'>; 
</span> 
            <a href="fe-print.c.html#LN695"><span class='Ref_To_Local'>width</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN675"><span class='Ref_To_Local'>nFields</span></a> <span class='Operator'>* </span><span class='Number'>14</span><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Parentheses'>) </span><a href="../../include/snowball/header.h.html#LN49"><span class='Ref_to_Macro'>malloc</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN695"><span class='Ref_To_Local'>width</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><a href="win32.c.html#LN36"><span class='Ref_to_Func'>libpq_gettext</span></a><span class='Parentheses'>(</span><span class='String'>"out of memory\n"</span><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>                abort<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN695"><span class='Ref_To_Local'>width</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>                <a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'-'</span><span class='Delimiter'>; 
</span>            <a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Delimiter'>[</span><a href="fe-print.c.html#LN695"><span class='Ref_To_Local'>width</span></a><span class='Delimiter'>] </span><span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>            <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"%s\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN675"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN670"><span class='Ref_to_Parameter'>PrintAttNames</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN679"><span class='Ref_To_Local'>formatString</span></a><span class='Delimiter'>, 
</span>                        <a href="fe-print.c.html#LN671"><span class='Ref_to_Parameter'>TerseOutput</span></a> <span class='Operator'>? </span><span class='String'>""</span> <span class='Operator'>: </span><span class='String'>"|"</span><span class='Delimiter'>, 
</span>                        <a href="libpq-fe.h.html#LN476"><span class='Ref_to_Proto'>PQfname</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN668"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a><span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN670"><span class='Ref_to_Parameter'>PrintAttNames</span></a><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN671"><span class='Ref_to_Parameter'>TerseOutput</span></a><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"|\n%s\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN676"><span class='Ref_To_Local'>nTups</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span>            <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN678"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="fe-print.c.html#LN678"><span class='Ref_To_Local'>j</span></a> <span class='Operator'>&LT; </span><a href="fe-print.c.html#LN675"><span class='Ref_To_Local'>nFields</span></a><span class='Delimiter'>; </span><a href="fe-print.c.html#LN678"><span class='Ref_To_Local'>j</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span><a name="LN732"></a>                <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Local'>pval</span> <span class='Operator'>= </span><a href="libpq-fe.h.html#LN488"><span class='Ref_to_Proto'>PQgetvalue</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN668"><span class='Ref_to_Parameter'>res</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN677"><span class='Ref_To_Local'>i</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN678"><span class='Ref_To_Local'>j</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN679"><span class='Ref_To_Local'>formatString</span></a><span class='Delimiter'>, 
</span>                        <a href="fe-print.c.html#LN671"><span class='Ref_to_Parameter'>TerseOutput</span></a> <span class='Operator'>? </span><span class='String'>""</span> <span class='Operator'>: </span><span class='String'>"|"</span><span class='Delimiter'>, 
</span>                        <a href="fe-print.c.html#LN732"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>? </span><a href="fe-print.c.html#LN732"><span class='Ref_To_Local'>pval</span></a> <span class='Operator'>: </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN671"><span class='Ref_to_Parameter'>TerseOutput</span></a><span class='Parentheses'>) 
</span>                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>else</span> 
                <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN669"><span class='Ref_to_Parameter'>fout</span></a><span class='Delimiter'>, </span><span class='String'>"|\n%s\n"</span><span class='Delimiter'>, </span><a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if nFields&GT;0 &raquo; </span> 
 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Parentheses'>) 
</span>        <a href="../../include/snowball/header.h.html#LN64"><span class='Ref_to_Macro'>free</span></a><span class='Parentheses'>(</span><a href="fe-print.c.html#LN680"><span class='Ref_To_Local'>tborder</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end PQprintTuples &raquo; </span> 
 
 
<span class='Comment_Multi_Line'>/* simply send out max-length number of filler characters to fp */ 
</span> 
<span class='Keyword'>static void 
</span><a name="LN753"></a><span class='Declare_Function'>fill</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>length</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>max</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Declare_Parameter'>filler</span><span class='Delimiter'>, </span>FILE <span class='Operator'>*</span><span class='Declare_Parameter'>fp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN755"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>count</span><span class='Delimiter'>; 
</span> 
    <a href="fe-print.c.html#LN755"><span class='Ref_To_Local'>count</span></a> <span class='Operator'>= </span><a href="fe-print.c.html#LN753"><span class='Ref_to_Parameter'>max</span></a> <span class='Operator'>- </span><a href="fe-print.c.html#LN753"><span class='Ref_to_Parameter'>length</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="fe-print.c.html#LN755"><span class='Ref_To_Local'>count</span></a><span class='Operator'>-- &GT;= </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>        putc<span class='Parentheses'>(</span><a href="fe-print.c.html#LN753"><span class='Ref_to_Parameter'>filler</span></a><span class='Delimiter'>, </span><a href="fe-print.c.html#LN753"><span class='Ref_to_Parameter'>fp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>