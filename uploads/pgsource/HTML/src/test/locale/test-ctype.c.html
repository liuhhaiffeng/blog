<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\test\locale\test-ctype.c</title>
<LINK REL=StyleSheet HREF="../../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\test\locale\test-ctype.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:14 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* 
 * src/test/locale/test-ctype.c 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 
   test-ctype.c 
 
Written by Oleg BroytMann, phd2@earthling.net 
   with help from Oleg Bartunov, oleg@sai.msu.su 
Copyright (C) 1998 PhiloSoft Design 
 
This is copyrighted but free software. You can use it, modify and distribute 
in original or modified form providing that the author's names and the above 
copyright notice will remain. 
 
Disclaimer, legal notice and absence of warranty. 
   This software provided "as is" without any kind of warranty. In no event 
the author shall be liable for any damage, etc. 
 
*/ 
</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;stdio.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;locale.h&GT;</span> 
<span class='Keyword'>#include </span><span class='String'>&LT;ctype.h&GT;</span> 
 
<a name="LN26"></a><span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Prototype'>flag</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>b</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN27"></a><span class='Keyword'>void</span>        <span class='Declare_Prototype'>describe_char</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>c</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<span class='Keyword'>#undef </span>LONG_FLAG 
 
<span class='Keyword'>char </span><span class='Operator'>* 
</span><a name="LN32"></a><span class='Declare_Function'>flag</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>b</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><span class='Directive'>#ifdef</span> LONG_FLAG 
    <span class='Control'>return</span> <a href="test-ctype.c.html#LN32"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>? </span><span class='String'>"yes"</span> <span class='Operator'>: </span><span class='String'>"no"</span><span class='Delimiter'>; 
</span><span class='Directive'>#else</span> 
    <span class='Control'>return</span> <a href="test-ctype.c.html#LN32"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>? </span><span class='String'>"+"</span> <span class='Operator'>: </span><span class='String'>" "</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span> 
<span class='Delimiter'>} 
</span> 
<span class='Keyword'>void 
</span><a name="LN42"></a><span class='Declare_Function'>describe_char</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>c</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN44"></a>    <span class='Keyword'>unsigned char </span><span class='Declare_Local'>cp</span> <span class='Operator'>= </span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, 
</span><a name="LN45"></a>                <span class='Declare_Local'>up</span> <span class='Operator'>= </span>toupper<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, 
</span><a name="LN46"></a>                <span class='Declare_Local'>lo</span> <span class='Operator'>= </span>tolower<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span>isprint<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN44"><span class='Ref_To_Local'>cp</span></a><span class='Parentheses'>))</span> 
        <a href="test-ctype.c.html#LN44"><span class='Ref_To_Local'>cp</span></a> <span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span>isprint<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN45"><span class='Ref_To_Local'>up</span></a><span class='Parentheses'>))</span> 
        <a href="test-ctype.c.html#LN45"><span class='Ref_To_Local'>up</span></a> <span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span>isprint<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN46"><span class='Ref_To_Local'>lo</span></a><span class='Parentheses'>))</span> 
        <a href="test-ctype.c.html#LN46"><span class='Ref_To_Local'>lo</span></a> <span class='Operator'>= </span><span class='String'>' '</span><span class='Delimiter'>; 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"chr#%-4d%2c%6s%6s%6s%6s%6s%6s%6s%6s%6s%6s%6s%4c%4c\n"</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN44"><span class='Ref_To_Local'>cp</span></a><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isalnum<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isalpha<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>iscntrl<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isdigit<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>islower<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isgraph<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isprint<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>ispunct<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isspace<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isupper<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN26"><span class='Ref_to_Proto'>flag</span></a><span class='Parentheses'>(</span>isxdigit<span class='Parentheses'>(</span><a href="test-ctype.c.html#LN42"><span class='Ref_to_Parameter'>c</span></a><span class='Parentheses'>))</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN46"><span class='Ref_To_Local'>lo</span></a><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN45"><span class='Ref_To_Local'>up</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>int 
</span><a name="LN59"></a><span class='Declare_Function'>main</span><span class='Parentheses'>() 
</span><span class='Delimiter'>{ 
</span><a name="LN61"></a>    <span class='Keyword'>short</span>       <span class='Declare_Local'>c</span><span class='Delimiter'>; 
</span><a name="LN62"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>cur_locale</span><span class='Delimiter'>; 
</span> 
    <a href="test-ctype.c.html#LN62"><span class='Ref_To_Local'>cur_locale</span></a> <span class='Operator'>= </span><a href="../../include/port.h.html#LN201"><span class='Ref_to_Macro'>setlocale</span></a><span class='Parentheses'>(</span>LC_ALL<span class='Delimiter'>, </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="test-ctype.c.html#LN62"><span class='Ref_To_Local'>cur_locale</span></a><span class='Parentheses'>) 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><span class='String'>"Successfully set locale to \"%s\"\n"</span><span class='Delimiter'>, </span><a href="test-ctype.c.html#LN62"><span class='Ref_To_Local'>cur_locale</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>else</span> 
    <span class='Delimiter'>{ 
</span>        <a href="../../../contrib/seg/segscan.l.html#LN10"><span class='Ref_to_Macro'>fprintf</span></a><span class='Parentheses'>(</span>stderr<span class='Delimiter'>, </span><span class='String'>"Cannot setup locale. Either your libc does not provide\nlocale support, or your locale data is corrupt, or you have not set\nLANG or LC_CTYPE environment variable to proper value. Program aborted.\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> <span class='Number'>1</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <a href="../../include/port.h.html#LN173"><span class='Ref_to_Macro'>printf</span></a><span class='Parentheses'>(</span><span class='String'>"char#  char alnum alpha cntrl digit lower graph print punct space upper xdigit lo up\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><a href="test-ctype.c.html#LN61"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>= </span><span class='Number'>0</span><span class='Delimiter'>; </span><a href="test-ctype.c.html#LN61"><span class='Ref_To_Local'>c</span></a> <span class='Operator'>&LT;= </span><span class='Number'>255</span><span class='Delimiter'>; </span><a href="test-ctype.c.html#LN61"><span class='Ref_To_Local'>c</span></a><span class='Operator'>++</span><span class='Parentheses'>) 
</span>        <a href="test-ctype.c.html#LN27"><span class='Ref_to_Proto'>describe_char</span></a><span class='Parentheses'>(</span><a href="test-ctype.c.html#LN61"><span class='Ref_To_Local'>c</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end main &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>