<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\timezone\strftime.c</title>
<LINK REL=StyleSheet HREF="../../C_Cpp_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\timezone\strftime.c</b></p></td>
<td align='right'>
Wed Jun 14 08:26:15 2017
</td></tr>
<tr><td><a href='../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Comment_Multi_Line'>/* Convert a broken-down timestamp to a string. */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Copyright 1989 The Regents of the University of California. 
 * All rights reserved. 
 * 
 * Redistribution and use in source and binary forms, with or without 
 * modification, are permitted provided that the following conditions 
 * are met: 
 * 1. Redistributions of source code must retain the above copyright 
 *    notice, this list of conditions and the following disclaimer. 
 * 2. Redistributions in binary form must reproduce the above copyright 
 *    notice, this list of conditions and the following disclaimer in the 
 *    documentation and/or other materials provided with the distribution. 
 * 3. Neither the name of the University nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software 
 *    without specific prior written permission. 
 * 
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE 
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS 
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) 
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT 
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY 
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF 
 * SUCH DAMAGE. 
 */ 
</span> 
<span class='Comment_Multi_Line'>/* 
 * Based on the UCB version with the copyright notice appearing above. 
 * 
 * This is ANSIish only when "multibyte character == plain character". 
 * 
 * IDENTIFICATION 
 *    src/timezone/strftime.c 
 */ 
</span> 
<span class='Keyword'>#include </span><span class='String'>"postgres.h"</span> 
 
<span class='Keyword'>#include </span><span class='String'>&LT;fcntl.h&GT;</span> 
 
<span class='Keyword'>#include </span><span class='String'>"private.h"</span> 
 
 
<a name="LN47"></a><span class='Control'>struct</span> <span class='Declare_Struct'>lc_time_T</span> 
<span class='Delimiter'>{ 
</span><a name="LN49"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>mon</span><span class='Delimiter'>[</span><a href="private.h.html#LN114"><span class='Ref_to_Const'>MONSPERYEAR</span></a><span class='Delimiter'>]; 
</span><a name="LN50"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>month</span><span class='Delimiter'>[</span><a href="private.h.html#LN114"><span class='Ref_to_Const'>MONSPERYEAR</span></a><span class='Delimiter'>]; 
</span><a name="LN51"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>wday</span><span class='Delimiter'>[</span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Delimiter'>]; 
</span><a name="LN52"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>weekday</span><span class='Delimiter'>[</span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Delimiter'>]; 
</span><a name="LN53"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>X_fmt</span><span class='Delimiter'>; 
</span><a name="LN54"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>x_fmt</span><span class='Delimiter'>; 
</span><a name="LN55"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>c_fmt</span><span class='Delimiter'>; 
</span><a name="LN56"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>am</span><span class='Delimiter'>; 
</span><a name="LN57"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>pm</span><span class='Delimiter'>; 
</span><a name="LN58"></a>    <span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Member'>date_fmt</span><span class='Delimiter'>; 
}; 
</span> 
<a name="LN61"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>Locale</span>  <span class='Parentheses'>(</span><span class='Operator'>&</span><a href="strftime.c.html#LN63"><span class='Ref_to_Global_Var'>C_time_locale</span></a><span class='Parentheses'>) 
</span> 
<a name="LN63"></a><span class='Keyword'>static const </span><span class='Control'>struct</span> <a href="strftime.c.html#LN47"><span class='Ref_to_Struct'>lc_time_T</span></a> <span class='Declare_Var'>C_time_locale</span> <span class='Operator'>= </span><span class='Delimiter'>{ 
</span>    <span class='Delimiter'>{ 
</span>        <span class='String'>"Jan"</span><span class='Delimiter'>, </span><span class='String'>"Feb"</span><span class='Delimiter'>, </span><span class='String'>"Mar"</span><span class='Delimiter'>, </span><span class='String'>"Apr"</span><span class='Delimiter'>, </span><span class='String'>"May"</span><span class='Delimiter'>, </span><span class='String'>"Jun"</span><span class='Delimiter'>, 
</span>        <span class='String'>"Jul"</span><span class='Delimiter'>, </span><span class='String'>"Aug"</span><span class='Delimiter'>, </span><span class='String'>"Sep"</span><span class='Delimiter'>, </span><span class='String'>"Oct"</span><span class='Delimiter'>, </span><span class='String'>"Nov"</span><span class='Delimiter'>, </span><span class='String'>"Dec"</span> 
    <span class='Delimiter'>}, { 
</span>        <span class='String'>"January"</span><span class='Delimiter'>, </span><span class='String'>"February"</span><span class='Delimiter'>, </span><span class='String'>"March"</span><span class='Delimiter'>, </span><span class='String'>"April"</span><span class='Delimiter'>, </span><span class='String'>"May"</span><span class='Delimiter'>, </span><span class='String'>"June"</span><span class='Delimiter'>, 
</span>        <span class='String'>"July"</span><span class='Delimiter'>, </span><span class='String'>"August"</span><span class='Delimiter'>, </span><span class='String'>"September"</span><span class='Delimiter'>, </span><span class='String'>"October"</span><span class='Delimiter'>, </span><span class='String'>"November"</span><span class='Delimiter'>, </span><span class='String'>"December"</span> 
    <span class='Delimiter'>}, { 
</span>        <span class='String'>"Sun"</span><span class='Delimiter'>, </span><span class='String'>"Mon"</span><span class='Delimiter'>, </span><span class='String'>"Tue"</span><span class='Delimiter'>, </span><span class='String'>"Wed"</span><span class='Delimiter'>, 
</span>        <span class='String'>"Thu"</span><span class='Delimiter'>, </span><span class='String'>"Fri"</span><span class='Delimiter'>, </span><span class='String'>"Sat"</span> 
    <span class='Delimiter'>}, { 
</span>        <span class='String'>"Sunday"</span><span class='Delimiter'>, </span><span class='String'>"Monday"</span><span class='Delimiter'>, </span><span class='String'>"Tuesday"</span><span class='Delimiter'>, </span><span class='String'>"Wednesday"</span><span class='Delimiter'>, 
</span>        <span class='String'>"Thursday"</span><span class='Delimiter'>, </span><span class='String'>"Friday"</span><span class='Delimiter'>, </span><span class='String'>"Saturday"</span> 
    <span class='Delimiter'>}, 
</span> 
    <span class='Comment_Multi_Line'>/* X_fmt */ 
</span>    <span class='String'>"%H:%M:%S"</span><span class='Delimiter'>, 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * x_fmt 
     * 
     * C99 requires this format. Using just numbers (as here) makes Quakers 
     * happier; it's also compatible with SVR4. 
     */ 
</span>    <span class='String'>"%m/%d/%y"</span><span class='Delimiter'>, 
</span> 
    <span class='Comment_Multi_Line'>/* 
     * c_fmt 
     * 
     * C99 requires this format. Previously this code used "%D %X", but we now 
     * conform to C99. Note that "%a %b %d %H:%M:%S %Y" is used by Solaris 
     * 2.3. 
     */ 
</span>    <span class='String'>"%a %b %e %T %Y"</span><span class='Delimiter'>, 
</span> 
    <span class='Comment_Multi_Line'>/* am */ 
</span>    <span class='String'>"AM"</span><span class='Delimiter'>, 
</span> 
    <span class='Comment_Multi_Line'>/* pm */ 
</span>    <span class='String'>"PM"</span><span class='Delimiter'>, 
</span> 
    <span class='Comment_Multi_Line'>/* date_fmt */ 
</span>    <span class='String'>"%a %b %e %H:%M:%S %Z %Y"</span> 
<span class='Delimiter'>}; 
</span> 
<a name="LN108"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>_add</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN109"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>_conv</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN110"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>_fmt</span><span class='Parentheses'>(</span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Control'>struct</span> <span class='Declare_Parameter'>pg_tm</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, 
</span><a name="LN111"></a>     <span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>int</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span><a name="LN112"></a><span class='Keyword'>static char </span><span class='Operator'>*</span><span class='Declare_Prototype'>_yconv</span><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>int</span><span class='Delimiter'>, </span><span class='Keyword'>bool</span><span class='Delimiter'>, </span><span class='Keyword'>bool</span><span class='Delimiter'>, </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Declare_Parameter'>char</span> <span class='Operator'>*</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
<a name="LN114"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>IN_NONE</span> <span class='Number'>0</span> 
<a name="LN115"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>IN_SOME</span> <span class='Number'>1</span> 
<a name="LN116"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>IN_THIS</span> <span class='Number'>2</span> 
<a name="LN117"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>IN_ALL</span>  <span class='Number'>3</span> 
 
 
size_t 
<a name="LN121"></a><span class='Declare_Function'>pg_strftime</span><span class='Parentheses'>(</span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>s</span><span class='Delimiter'>, </span>size_t <span class='Declare_Parameter'>maxsize</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>format</span><span class='Delimiter'>, 
</span><a name="LN122"></a>            <span class='Keyword'>const </span><span class='Control'>struct</span> <a href="../include/pgtime.h.html#LN24"><span class='Ref_to_Struct'>pg_tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN124"></a>    <span class='Keyword'>char</span>       <span class='Operator'>*</span><span class='Declare_Local'>p</span><span class='Delimiter'>; 
</span><a name="LN125"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>warn</span><span class='Delimiter'>; 
</span> 
    <a href="strftime.c.html#LN125"><span class='Ref_To_Local'>warn</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN114"><span class='Ref_to_Const'>IN_NONE</span></a><span class='Delimiter'>; 
</span>    <a href="strftime.c.html#LN124"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>format</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN122"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>s</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>s</span></a> <span class='Operator'>+ </span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>maxsize</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="strftime.c.html#LN125"><span class='Ref_To_Local'>warn</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN124"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>== </span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>s</span></a> <span class='Operator'>+ </span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>maxsize</span></a><span class='Parentheses'>) 
</span>        <span class='Control'>return</span> <span class='Number'>0</span><span class='Delimiter'>; 
</span>    <span class='Operator'>*</span><a href="strftime.c.html#LN124"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>= </span><span class='String'>'\0'</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="strftime.c.html#LN124"><span class='Ref_To_Local'>p</span></a> <span class='Operator'>- </span><a href="strftime.c.html#LN121"><span class='Ref_to_Parameter'>s</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN136"></a><span class='Declare_Function'>_fmt</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>format</span><span class='Delimiter'>, </span><span class='Keyword'>const </span><span class='Control'>struct</span> <a href="../include/pgtime.h.html#LN24"><span class='Ref_to_Struct'>pg_tm</span></a> <span class='Operator'>* </span><span class='Declare_Parameter'>t</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pt</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptlim</span><span class='Delimiter'>, 
</span><a name="LN137"></a>     <span class='Keyword'>int </span><span class='Operator'>*</span><span class='Declare_Parameter'>warnp</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>; </span><span class='Operator'>*</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a><span class='Delimiter'>; </span><span class='Operator'>++</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a> <span class='Operator'>== </span><span class='String'>'%'</span><span class='Parentheses'>) 
</span>        <span class='Delimiter'>{ 
</span><a name="LN143"></a>    <span class='Label'>label</span><span class='Operator'>: 
</span>            <span class='Control'>switch</span> <span class='Parentheses'>(</span><span class='Operator'>*++</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a><span class='Parentheses'>) 
</span>            <span class='Delimiter'>{ 
</span>                <span class='Control'>case</span> <span class='String'>'\0'</span><span class='Operator'>: 
</span>                    <span class='Operator'>--</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a><span class='Delimiter'>; 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'A'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                               <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>&GT;= </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                              <span class='String'>"?"</span> <span class='Operator'>: </span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>weekday<span class='Delimiter'>[</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a><span class='Delimiter'>], 
</span>                              <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'a'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                               <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>&GT;= </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                              <span class='String'>"?"</span> <span class='Operator'>: </span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>wday<span class='Delimiter'>[</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a><span class='Delimiter'>], 
</span>                              <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'B'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                               <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a> <span class='Operator'>&GT;= </span><a href="private.h.html#LN114"><span class='Ref_to_Const'>MONSPERYEAR</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                              <span class='String'>"?"</span> <span class='Operator'>: </span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>month<span class='Delimiter'>[</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a><span class='Delimiter'>], 
</span>                              <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'b'</span><span class='Operator'>: 
</span>                <span class='Control'>case</span> <span class='String'>'h'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>|| 
</span>                               <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a> <span class='Operator'>&GT;= </span><a href="private.h.html#LN114"><span class='Ref_to_Const'>MONSPERYEAR</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                              <span class='String'>"?"</span> <span class='Operator'>: </span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>mon<span class='Delimiter'>[</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a><span class='Delimiter'>], 
</span>                              <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'C'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * %C used to do a... _fmt("%a %b %e %X %Y", t); 
                     * ...whereas now POSIX 1003.2 calls for something 
                     * completely different. (ado, 1993-05-24) 
                     */ 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN112"><span class='Ref_to_Proto'>_yconv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN31"><span class='Ref_to_Member'>tm_year</span></a><span class='Delimiter'>, </span><a href="private.h.html#LN137"><span class='Ref_to_Const'>TM_YEAR_BASE</span></a><span class='Delimiter'>, 
</span>                                <span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>false</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'c'</span><span class='Operator'>: 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN186"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>warn2</span> <span class='Operator'>= </span><a href="strftime.c.html#LN115"><span class='Ref_to_Const'>IN_SOME</span></a><span class='Delimiter'>; 
</span> 
                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>c_fmt<span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="strftime.c.html#LN186"><span class='Ref_To_Local'>warn2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN186"><span class='Ref_To_Local'>warn2</span></a> <span class='Operator'>== </span><a href="strftime.c.html#LN117"><span class='Ref_to_Const'>IN_ALL</span></a><span class='Parentheses'>) 
</span>                            <a href="strftime.c.html#LN186"><span class='Ref_To_Local'>warn2</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN116"><span class='Ref_to_Const'>IN_THIS</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN186"><span class='Ref_To_Local'>warn2</span></a> <span class='Operator'>&GT; *</span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>) 
</span>                            <span class='Operator'>*</span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN186"><span class='Ref_To_Local'>warn2</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'D'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><span class='String'>"%m/%d/%y"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'d'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN29"><span class='Ref_to_Member'>tm_mday</span></a><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'E'</span><span class='Operator'>: 
</span>                <span class='Control'>case</span> <span class='String'>'O'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * C99 locale modifiers. The sequences  %Ec %EC %Ex %EX 
                     * %Ey %EY  %Od %oe %OH %OI %Om %OM  %OS %Ou %OU %OV %Ow 
                     * %OW %Oy are supposed to provide alternate 
                     * representations. 
                     */ 
</span>                    <span class='Control'>goto</span> <span class='Symbol_Characters'>&uarr;</span><a href="strftime.c.html#LN143"><span class='Ref_to_Label'>label</span></a><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'e'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN29"><span class='Ref_to_Member'>tm_mday</span></a><span class='Delimiter'>, </span><span class='String'>"%2d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'F'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><span class='String'>"%Y-%m-%d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'H'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'I'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a> <span class='Operator'>% </span><span class='Number'>12</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                               <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a> <span class='Operator'>% </span><span class='Number'>12</span><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='Number'>12</span><span class='Delimiter'>, 
</span>                               <span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'j'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN33"><span class='Ref_to_Member'>tm_yday</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='String'>"%03d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'k'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * This used to be...  _conv(t-&GT;tm_hour % 12 ? t-&GT;tm_hour 
                     * % 12 : 12, 2, ' '); ...and has been changed to the 
                     * below to match SunOS 4.1.1 and Arnold Robbins' strftime 
                     * version 3.0. That is, "%k" and "%l" have been swapped. 
                     * (ado, 1993-05-24) 
                     */ 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a><span class='Delimiter'>, </span><span class='String'>"%2d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span><span class='Directive'>#ifdef</span> KITCHEN_SINK 
                <span class='Control'>case</span> <span class='String'>'K'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * After all this time, still unclaimed! 
                     */ 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><span class='String'>"kitchen sink"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span><span class='Directive'>#endif</span>   <span class='Comment_Single_Line'>/* defined KITCHEN_SINK */ 
</span>                <span class='Control'>case</span> <span class='String'>'l'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * This used to be...  _conv(t-&GT;tm_hour, 2, ' '); ...and 
                     * has been changed to the below to match SunOS 4.1.1 and 
                     * Arnold Robbin's strftime version 3.0. That is, "%k" and 
                     * "%l" have been swapped. (ado, 1993-05-24) 
                     */ 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a> <span class='Operator'>% </span><span class='Number'>12</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                               <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a> <span class='Operator'>% </span><span class='Number'>12</span><span class='Parentheses'>) </span><span class='Operator'>: </span><span class='Number'>12</span><span class='Delimiter'>, 
</span>                               <span class='String'>"%2d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'M'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN27"><span class='Ref_to_Member'>tm_min</span></a><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'m'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN30"><span class='Ref_to_Member'>tm_mon</span></a> <span class='Operator'>+ </span><span class='Number'>1</span><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'n'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><span class='String'>"\n"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'p'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN28"><span class='Ref_to_Member'>tm_hour</span></a> <span class='Operator'>&GT;= </span><span class='Parentheses'>(</span><a href="private.h.html#LN108"><span class='Ref_to_Const'>HOURSPERDAY</span></a> <span class='Operator'>/ </span><span class='Number'>2</span><span class='Parentheses'>))</span> <span class='Operator'>? 
</span>                              <a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>pm <span class='Operator'>: 
</span>                              <a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>am<span class='Delimiter'>, 
</span>                              <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'R'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><span class='String'>"%H:%M"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'r'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><span class='String'>"%I:%M:%S %p"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'S'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN26"><span class='Ref_to_Member'>tm_sec</span></a><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'T'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><span class='String'>"%H:%M:%S"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'t'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><span class='String'>"\t"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'U'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN33"><span class='Ref_to_Member'>tm_yday</span></a> <span class='Operator'>+ </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a> <span class='Operator'>- 
</span>                                <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a><span class='Parentheses'>) </span><span class='Operator'>/ </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Delimiter'>, 
</span>                               <span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'u'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * From Arnold Robbins' strftime version 3.0: "ISO 8601: 
                     * Weekday as a decimal number [1 (Monday) - 7]" (ado, 
                     * 1993-05-24) 
                     */ 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                               <a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a> <span class='Operator'>: </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a><span class='Delimiter'>, 
</span>                               <span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'V'</span><span class='Operator'>:</span>       <span class='Comment_Single_Line'>/* ISO 8601 week number */ 
</span>                <span class='Control'>case</span> <span class='String'>'G'</span><span class='Operator'>:</span>       <span class='Comment_Single_Line'>/* ISO 8601 year (four digits) */ 
</span>                <span class='Control'>case</span> <span class='String'>'g'</span><span class='Operator'>:</span>       <span class='Comment_Single_Line'>/* ISO 8601 year (two digits) */ 
</span><span class='Comment_Multi_Line'>/* 
 * From Arnold Robbins' strftime version 3.0: "the week number of the 
 * year (the first Monday as the first day of week 1) as a decimal number 
 * (01-53)." 
 * (ado, 1993-05-24) 
 * 
 * From &LT;http://www.ft.uni-erlangen.de/~mskuhn/iso-time.html&GT; by Markus Kuhn: 
 * "Week 01 of a year is per definition the first week which has the 
 * Thursday in this year, which is equivalent to the week which contains 
 * the fourth day of January. In other words, the first week of a new year 
 * is the week which has the majority of its days in the new year. Week 01 
 * might also contain days from the previous year and the week before week 
 * 01 of a year is the last week (52 or 53) of the previous year even if 
 * it contains days from the new year. A week starts with Monday (day 1) 
 * and ends with Sunday (day 7). For example, the first week of the year 
 * 1997 lasts from 1996-12-30 to 1997-01-05..." 
 * (ado, 1996-01-02) 
 */ 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN328"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>year</span><span class='Delimiter'>; 
</span><a name="LN329"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>base</span><span class='Delimiter'>; 
</span><a name="LN330"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>yday</span><span class='Delimiter'>; 
</span><a name="LN331"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>wday</span><span class='Delimiter'>; 
</span><a name="LN332"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>w</span><span class='Delimiter'>; 
</span> 
                        <a href="strftime.c.html#LN328"><span class='Ref_To_Local'>year</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN31"><span class='Ref_to_Member'>tm_year</span></a><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a> <span class='Operator'>= </span><a href="private.h.html#LN137"><span class='Ref_to_Const'>TM_YEAR_BASE</span></a><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN330"><span class='Ref_To_Local'>yday</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN33"><span class='Ref_to_Member'>tm_yday</span></a><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN331"><span class='Ref_To_Local'>wday</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>for</span> <span class='Parentheses'>(</span><span class='Delimiter'>;;</span><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span><a name="LN340"></a>                            <span class='Keyword'>int</span>         <span class='Declare_Local'>len</span><span class='Delimiter'>; 
</span><a name="LN341"></a>                            <span class='Keyword'>int</span>         <span class='Declare_Local'>bot</span><span class='Delimiter'>; 
</span><a name="LN342"></a>                            <span class='Keyword'>int</span>         <span class='Declare_Local'>top</span><span class='Delimiter'>; 
</span> 
                            <a href="strftime.c.html#LN340"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>= </span><a href="private.h.html#LN156"><span class='Ref_to_Macro'>isleap_sum</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN328"><span class='Ref_To_Local'>year</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                                <a href="private.h.html#LN111"><span class='Ref_to_Const'>DAYSPERLYEAR</span></a> <span class='Operator'>: 
</span>                                <a href="private.h.html#LN110"><span class='Ref_to_Const'>DAYSPERNYEAR</span></a><span class='Delimiter'>; 
</span> 
                            <span class='Comment_Multi_Line'>/* 
                             * What yday (-3 ... 3) does the ISO year begin 
                             * on? 
                             */ 
</span>                            <a href="strftime.c.html#LN341"><span class='Ref_To_Local'>bot</span></a> <span class='Operator'>= </span><span class='Parentheses'>((</span><a href="strftime.c.html#LN330"><span class='Ref_To_Local'>yday</span></a> <span class='Operator'>+ </span><span class='Number'>11</span> <span class='Operator'>- </span><a href="strftime.c.html#LN331"><span class='Ref_To_Local'>wday</span></a><span class='Parentheses'>) </span><span class='Operator'>% 
</span>                                   <a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Parentheses'>)</span> <span class='Operator'>- </span><span class='Number'>3</span><span class='Delimiter'>; 
</span> 
                            <span class='Comment_Multi_Line'>/* 
                             * What yday does the NEXT ISO year begin on? 
                             */ 
</span>                            <a href="strftime.c.html#LN342"><span class='Ref_To_Local'>top</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN341"><span class='Ref_To_Local'>bot</span></a> <span class='Operator'>- 
</span>                                <span class='Parentheses'>(</span><a href="strftime.c.html#LN340"><span class='Ref_To_Local'>len</span></a> <span class='Operator'>% </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN342"><span class='Ref_To_Local'>top</span></a> <span class='Operator'>&LT; -</span><span class='Number'>3</span><span class='Parentheses'>) 
</span>                                <a href="strftime.c.html#LN342"><span class='Ref_To_Local'>top</span></a> <span class='Operator'>+= </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Delimiter'>; 
</span>                            <a href="strftime.c.html#LN342"><span class='Ref_To_Local'>top</span></a> <span class='Operator'>+= </span><a href="strftime.c.html#LN340"><span class='Ref_To_Local'>len</span></a><span class='Delimiter'>; 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN330"><span class='Ref_To_Local'>yday</span></a> <span class='Operator'>&GT;= </span><a href="strftime.c.html#LN342"><span class='Ref_To_Local'>top</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <span class='Operator'>++</span><a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a><span class='Delimiter'>; 
</span>                                <a href="strftime.c.html#LN332"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>= </span><span class='Number'>1</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN330"><span class='Ref_To_Local'>yday</span></a> <span class='Operator'>&GT;= </span><a href="strftime.c.html#LN341"><span class='Ref_To_Local'>bot</span></a><span class='Parentheses'>) 
</span>                            <span class='Delimiter'>{ 
</span>                                <a href="strftime.c.html#LN332"><span class='Ref_To_Local'>w</span></a> <span class='Operator'>= </span><span class='Number'>1</span> <span class='Operator'>+ </span><span class='Parentheses'>((</span><a href="strftime.c.html#LN330"><span class='Ref_To_Local'>yday</span></a> <span class='Operator'>- </span><a href="strftime.c.html#LN341"><span class='Ref_To_Local'>bot</span></a><span class='Parentheses'>) </span><span class='Operator'>/ 
</span>                                         <a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                                <span class='Control'>break</span><span class='Delimiter'>; 
</span>                            <span class='Delimiter'>} 
</span>                            <span class='Operator'>--</span><a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a><span class='Delimiter'>; 
</span>                            <a href="strftime.c.html#LN330"><span class='Ref_To_Local'>yday</span></a> <span class='Operator'>+= </span><a href="private.h.html#LN156"><span class='Ref_to_Macro'>isleap_sum</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN328"><span class='Ref_To_Local'>year</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a><span class='Parentheses'>) </span><span class='Operator'>? 
</span>                                <a href="private.h.html#LN111"><span class='Ref_to_Const'>DAYSPERLYEAR</span></a> <span class='Operator'>: 
</span>                                <a href="private.h.html#LN110"><span class='Ref_to_Const'>DAYSPERNYEAR</span></a><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for ;; &raquo; </span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a> <span class='Operator'>== </span><span class='String'>'V'</span><span class='Parentheses'>) 
</span>                            <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN332"><span class='Ref_To_Local'>w</span></a><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, 
</span>                                       <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>*</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a> <span class='Operator'>== </span><span class='String'>'g'</span><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Operator'>*</span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN117"><span class='Ref_to_Const'>IN_ALL</span></a><span class='Delimiter'>; 
</span>                            <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN112"><span class='Ref_to_Proto'>_yconv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN328"><span class='Ref_To_Local'>year</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a><span class='Delimiter'>, 
</span>                                        <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                            <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN112"><span class='Ref_to_Proto'>_yconv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN328"><span class='Ref_To_Local'>year</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN329"><span class='Ref_To_Local'>base</span></a><span class='Delimiter'>, 
</span>                                        <span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'v'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * From Arnold Robbins' strftime version 3.0: "date as 
                     * dd-bbb-YYYY" (ado, 1993-05-24) 
                     */ 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><span class='String'>"%e-%b-%Y"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'W'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>((</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN33"><span class='Ref_to_Member'>tm_yday</span></a> <span class='Operator'>+ </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a> <span class='Operator'>- 
</span>                                <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>? 
</span>                                 <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>) </span><span class='Operator'>: 
</span>                                 <span class='Parentheses'>(</span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a> <span class='Operator'>- </span><span class='Number'>1</span><span class='Parentheses'>)))</span> <span class='Operator'>/ </span><a href="private.h.html#LN109"><span class='Ref_to_Const'>DAYSPERWEEK</span></a><span class='Delimiter'>, 
</span>                               <span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'w'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN32"><span class='Ref_to_Member'>tm_wday</span></a><span class='Delimiter'>, </span><span class='String'>"%d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'X'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>X_fmt<span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'x'</span><span class='Operator'>: 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN419"></a>                        <span class='Keyword'>int</span>         <span class='Declare_Local'>warn2</span> <span class='Operator'>= </span><a href="strftime.c.html#LN115"><span class='Ref_to_Const'>IN_SOME</span></a><span class='Delimiter'>; 
</span> 
                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>x_fmt<span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, </span><span class='Operator'>&</span><a href="strftime.c.html#LN419"><span class='Ref_To_Local'>warn2</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN419"><span class='Ref_To_Local'>warn2</span></a> <span class='Operator'>== </span><a href="strftime.c.html#LN117"><span class='Ref_to_Const'>IN_ALL</span></a><span class='Parentheses'>) 
</span>                            <a href="strftime.c.html#LN419"><span class='Ref_To_Local'>warn2</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN116"><span class='Ref_to_Const'>IN_THIS</span></a><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN419"><span class='Ref_To_Local'>warn2</span></a> <span class='Operator'>&GT; *</span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>) 
</span>                            <span class='Operator'>*</span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN419"><span class='Ref_To_Local'>warn2</span></a><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'y'</span><span class='Operator'>: 
</span>                    <span class='Operator'>*</span><a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN117"><span class='Ref_to_Const'>IN_ALL</span></a><span class='Delimiter'>; 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN112"><span class='Ref_to_Proto'>_yconv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN31"><span class='Ref_to_Member'>tm_year</span></a><span class='Delimiter'>, </span><a href="private.h.html#LN137"><span class='Ref_to_Const'>TM_YEAR_BASE</span></a><span class='Delimiter'>, 
</span>                                <span class='Boolean'>false</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                                <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'Y'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN112"><span class='Ref_to_Proto'>_yconv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN31"><span class='Ref_to_Member'>tm_year</span></a><span class='Delimiter'>, </span><a href="private.h.html#LN137"><span class='Ref_to_Const'>TM_YEAR_BASE</span></a><span class='Delimiter'>, 
</span>                                <span class='Boolean'>true</span><span class='Delimiter'>, </span><span class='Boolean'>true</span><span class='Delimiter'>, 
</span>                                <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'Z'</span><span class='Operator'>: 
</span>                    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN36"><span class='Ref_to_Member'>tm_zone</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN36"><span class='Ref_to_Member'>tm_zone</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * C99 says that %Z must be replaced by the empty string 
                     * if the time zone is not determinable. 
                     */ 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'z'</span><span class='Operator'>: 
</span>                    <span class='Delimiter'>{ 
</span><a name="LN450"></a>                        <span class='Keyword'>long</span>        <span class='Declare_Local'>diff</span><span class='Delimiter'>; 
</span><a name="LN451"></a>                        <span class='Keyword'>char const </span><span class='Operator'>*</span><span class='Declare_Local'>sign</span><span class='Delimiter'>; 
</span><a name="LN452"></a>                        <span class='Keyword'>bool</span>        <span class='Declare_Local'>negative</span><span class='Delimiter'>; 
</span> 
                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN34"><span class='Ref_to_Member'>tm_isdst</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                            <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN35"><span class='Ref_to_Member'>tm_gmtoff</span></a><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN452"><span class='Ref_To_Local'>negative</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Delimiter'>; 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>== </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN36"><span class='Ref_to_Member'>tm_zone</span></a> <span class='Operator'>!= </span><span class='Null_Value'>NULL</span><span class='Parentheses'>) 
</span>                                <a href="strftime.c.html#LN452"><span class='Ref_To_Local'>negative</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Operator'>-&GT;</span><a href="../include/pgtime.h.html#LN36"><span class='Ref_to_Member'>tm_zone</span></a><span class='Delimiter'>[</span><span class='Number'>0</span><span class='Delimiter'>] </span><span class='Operator'>== </span><span class='String'>'-'</span><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN452"><span class='Ref_To_Local'>negative</span></a><span class='Parentheses'>) 
</span>                        <span class='Delimiter'>{ 
</span>                            <a href="strftime.c.html#LN451"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= </span><span class='String'>"-"</span><span class='Delimiter'>; 
</span>                            <a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>= -</span><a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a><span class='Delimiter'>; 
</span>                        <span class='Delimiter'>} 
</span>                        <span class='Control'>else</span> 
                            <a href="strftime.c.html#LN451"><span class='Ref_To_Local'>sign</span></a> <span class='Operator'>= </span><span class='String'>"+"</span><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN451"><span class='Ref_To_Local'>sign</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>/= </span><a href="private.h.html#LN106"><span class='Ref_to_Const'>SECSPERMIN</span></a><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>= </span><span class='Parentheses'>(</span><a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>/ </span><a href="private.h.html#LN107"><span class='Ref_to_Const'>MINSPERHOUR</span></a><span class='Parentheses'>) </span><span class='Operator'>* </span><span class='Number'>100</span> <span class='Operator'>+ 
</span>                            <span class='Parentheses'>(</span><a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a> <span class='Operator'>% </span><a href="private.h.html#LN107"><span class='Ref_to_Const'>MINSPERHOUR</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                        <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN450"><span class='Ref_To_Local'>diff</span></a><span class='Delimiter'>, </span><span class='String'>"%04d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Delimiter'>} 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'+'</span><span class='Operator'>: 
</span>                    <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN110"><span class='Ref_to_Proto'>_fmt</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN61"><span class='Ref_to_Const'>Locale</span></a><span class='Operator'>-&GT;</span>date_fmt<span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>t</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Delimiter'>, 
</span>                              <a href="strftime.c.html#LN137"><span class='Ref_to_Parameter'>warnp</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>                    <span class='Control'>continue</span><span class='Delimiter'>; 
</span>                <span class='Control'>case</span> <span class='String'>'%'</span><span class='Operator'>: 
</span> 
                    <span class='Comment_Multi_Line'>/* 
                     * X311J/88-090 (4.12.3.5): if conversion char is 
                     * undefined, behavior is undefined.  Print out the 
                     * character itself as printf(3) also does. 
                     */ 
</span>                <span class='Control'>default</span><span class='Operator'>: 
</span>                    <span class='Control'>break</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end switch *++format &raquo; </span> 
        <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end if *format=='%' &raquo; </span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>== </span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>) 
</span>            <span class='Control'>break</span><span class='Delimiter'>; 
</span>        <span class='Operator'>*</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Operator'>++ = *</span><a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>format</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>}</span><span class='Auto_Annotations'> &laquo; end for ;*format;++format &raquo; </span> 
    <span class='Control'>return</span> <a href="strftime.c.html#LN136"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end _fmt &raquo; </span> 
 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN500"></a><span class='Declare_Function'>_conv</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>n</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>format</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pt</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptlim</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN502"></a>    <span class='Keyword'>char</span>        <span class='Declare_Local'>buf</span><span class='Delimiter'>[</span><a href="private.h.html#LN90"><span class='Ref_to_Macro'>INT_STRLEN_MAXIMUM</span></a><span class='Parentheses'>(</span><span class='Keyword'>int</span><span class='Parentheses'>) </span><span class='Operator'>+</span><span class='Number'>1</span><span class='Delimiter'>]; 
</span> 
    <a href="../include/port.h.html#LN170"><span class='Ref_to_Macro'>sprintf</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN502"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN500"><span class='Ref_to_Parameter'>format</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN500"><span class='Ref_to_Parameter'>n</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN502"><span class='Ref_To_Local'>buf</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN500"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN500"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN509"></a><span class='Declare_Function'>_add</span><span class='Parentheses'>(</span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>str</span><span class='Delimiter'>, </span><span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pt</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptlim</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN509"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>&LT; </span><a href="strftime.c.html#LN509"><span class='Ref_to_Parameter'>ptlim</span></a> <span class='Operator'>&& </span><span class='Parentheses'>(</span><span class='Operator'>*</span><a href="strftime.c.html#LN509"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= *</span><a href="strftime.c.html#LN509"><span class='Ref_to_Parameter'>str</span></a><span class='Operator'>++</span><span class='Parentheses'>) </span><span class='Operator'>!= </span><span class='String'>'\0'</span><span class='Parentheses'>)</span> 
        <span class='Operator'>++</span><a href="strftime.c.html#LN509"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="strftime.c.html#LN509"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Multi_Line'>/* 
 * POSIX and the C Standard are unclear or inconsistent about 
 * what %C and %y do if the year is negative or exceeds 9999. 
 * Use the convention that %C concatenated with %y yields the 
 * same output as %Y, and that %Y contains at least 4 bytes, 
 * with more only if necessary. 
 */ 
</span><span class='Keyword'>static char </span><span class='Operator'>* 
</span><a name="LN524"></a><span class='Declare_Function'>_yconv</span><span class='Parentheses'>(</span><span class='Keyword'>int </span><span class='Declare_Parameter'>a</span><span class='Delimiter'>, </span><span class='Keyword'>int </span><span class='Declare_Parameter'>b</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>convert_top</span><span class='Delimiter'>, </span><span class='Keyword'>bool </span><span class='Declare_Parameter'>convert_yy</span><span class='Delimiter'>, 
</span><a name="LN525"></a>       <span class='Keyword'>char </span><span class='Operator'>*</span><span class='Declare_Parameter'>pt</span><span class='Delimiter'>, </span><span class='Keyword'>const char </span><span class='Operator'>*</span><span class='Declare_Parameter'>ptlim</span><span class='Parentheses'>) 
</span><span class='Delimiter'>{ 
</span><a name="LN527"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>lead</span><span class='Delimiter'>; 
</span><a name="LN528"></a>    <span class='Keyword'>int</span>         <span class='Declare_Local'>trail</span><span class='Delimiter'>; 
</span> 
<a name="LN530"></a><span class='Keyword'>#define </span><span class='Declare_Constant'>DIVISOR</span> <span class='Number'>100</span> 
    <a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN524"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>% </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a> <span class='Operator'>+ </span><a href="strftime.c.html#LN524"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>% </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a><span class='Delimiter'>; 
</span>    <a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN524"><span class='Ref_to_Parameter'>a</span></a> <span class='Operator'>/ </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a> <span class='Operator'>+ </span><a href="strftime.c.html#LN524"><span class='Ref_to_Parameter'>b</span></a> <span class='Operator'>/ </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a> <span class='Operator'>+ </span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>/ </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a><span class='Delimiter'>; 
</span>    <a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>%= </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>+= </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>--</span><a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>else</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>&GT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>-= </span><a href="strftime.c.html#LN530"><span class='Ref_to_Const'>DIVISOR</span></a><span class='Delimiter'>; 
</span>        <span class='Operator'>++</span><a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN524"><span class='Ref_to_Parameter'>convert_top</span></a><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a> <span class='Operator'>== </span><span class='Number'>0</span> <span class='Operator'>&& </span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) 
</span>            <a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN108"><span class='Ref_to_Proto'>_add</span></a><span class='Parentheses'>(</span><span class='String'>"-0"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>else</span> 
            <a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(</span><a href="strftime.c.html#LN527"><span class='Ref_To_Local'>lead</span></a><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="strftime.c.html#LN524"><span class='Ref_to_Parameter'>convert_yy</span></a><span class='Parentheses'>) 
</span>        <a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a> <span class='Operator'>= </span><a href="strftime.c.html#LN109"><span class='Ref_to_Proto'>_conv</span></a><span class='Parentheses'>(((</span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>&LT; </span><span class='Number'>0</span><span class='Parentheses'>) </span><span class='Operator'>? -</span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a> <span class='Operator'>: </span><a href="strftime.c.html#LN528"><span class='Ref_To_Local'>trail</span></a><span class='Parentheses'>)</span><span class='Delimiter'>, </span><span class='String'>"%02d"</span><span class='Delimiter'>, </span><a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>, </span><a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>ptlim</span></a><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> <a href="strftime.c.html#LN525"><span class='Ref_to_Parameter'>pt</span></a><span class='Delimiter'>; 
}</span><span class='Auto_Annotations'> &laquo; end _yconv &raquo; </span> 
</pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>