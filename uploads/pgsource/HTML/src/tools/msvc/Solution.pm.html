<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="Source Insight Version 4.00.0084 Built on 2017-02-26">
<meta charset='UTF-8' />
<style type='text/css'><!--
TD {background-color: #C0C0C0; font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.blurb {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 70%; }
.filename {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 120%; font-weight: bold; }
.dirname {font-family: 'Verdana', 'Arial', 'Helvetica', Sans-Serif; font-size: 100%; font-weight: bold; margin-top: 2.5em;}
--></style>
<title>src\tools\msvc\Solution.pm</title>
<LINK REL=StyleSheet HREF="../../../Perl_Source_File.css" TYPE='text/css' MEDIA=screen>
</head>
<body bgcolor=#ffffff>
<table bgcolor='#c0c0c0' width='100%'>
<tr><td><p class='filename'><b>src\tools\msvc\Solution.pm</b></p></td>
<td align='right'>
Wed Jun 14 08:26:15 2017
</td></tr>
<tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table>
<pre>
</span><span class='Keyword'>package </span>Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual C++ solution file generation 
# 
# src/tools/msvc/Solution.pm 
# 
</span><span class='Control'>use</span> Carp<span class='Delimiter'>; 
</span><span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> VSObjectFactory<span class='Delimiter'>; 
</span> 
<a name="LN12"></a><span class='Control'>sub</span> <span class='Declare_Function'>_new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$options   <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span><span class='Delimiter'>{ 
</span>        projects                   <span class='Operator'>=&GT; </span><span class='Delimiter'>{}, 
</span>        options                    <span class='Operator'>=&GT; </span>$options<span class='Delimiter'>, 
</span>        numver                     <span class='Operator'>=&GT; </span><span class='String'>''</span><span class='Delimiter'>, 
</span>        strver                     <span class='Operator'>=&GT; </span><span class='String'>''</span><span class='Delimiter'>, 
</span>        VisualStudioVersion        <span class='Operator'>=&GT; </span><span class='Keyword'>undef</span><span class='Delimiter'>, 
</span>        MinimumVisualStudioVersion <span class='Operator'>=&GT; </span><span class='Keyword'>undef</span><span class='Delimiter'>, 
</span>        vcver                      <span class='Operator'>=&GT; </span><span class='Keyword'>undef</span><span class='Delimiter'>, 
</span>        platform                   <span class='Operator'>=&GT; </span><span class='Keyword'>undef</span><span class='Delimiter'>, }; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN67"><span class='Ref_to_Func'>DeterminePlatform</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$bits <span class='Operator'>= </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} </span><span class='Operator'>eq </span><span class='String'>'Win32'</span> <span class='Operator'>? </span>32 <span class='Operator'>: </span>64<span class='Delimiter'>; 
</span> 
    $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float4byval<span class='Delimiter'>} </span><span class='Operator'>= </span>1 
      <span class='Control'>unless</span> <span class='Keyword'>exists </span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float4byval<span class='Delimiter'>}; 
</span>    $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float8byval<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='Parentheses'>(</span>$bits <span class='Operator'>== </span>64<span class='Parentheses'>) 
</span>      <span class='Control'>unless</span> <span class='Keyword'>exists </span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float8byval<span class='Delimiter'>}; 
</span>    <span class='Control'>die</span> <span class='String'>"float8byval not permitted on 32 bit platforms"</span> 
      <span class='Control'>if</span> $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float8byval<span class='Delimiter'>} </span><span class='Operator'>&& </span>$bits <span class='Operator'>== </span>32<span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xslt<span class='Delimiter'>} </span><span class='Operator'>&& !</span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>}</span><span class='Parentheses'>) 
</span>    <span class='Delimiter'>{ 
</span>        <span class='Control'>die</span> <span class='String'>"XSLT requires XML\n"</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>blocksize<span class='Delimiter'>} </span><span class='Operator'>= </span>8 
      <span class='Control'>unless</span> $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>blocksize<span class='Delimiter'>};</span>    <span class='Comment_Single_Line'># undef or 0 means default 
</span>    <span class='Control'>die</span> <span class='String'>"Bad blocksize $options-&GT;{blocksize}"</span> 
      <span class='Control'>unless</span> <span class='Keyword'>grep </span><span class='Delimiter'>{ </span>$_ <span class='Operator'>== </span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>blocksize<span class='Delimiter'>} } </span><span class='Parentheses'>(</span>1<span class='Delimiter'>, </span>2<span class='Delimiter'>, </span>4<span class='Delimiter'>, </span>8<span class='Delimiter'>, </span>16<span class='Delimiter'>, </span>32<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>segsize<span class='Delimiter'>} </span><span class='Operator'>= </span>1 
      <span class='Control'>unless</span> $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>segsize<span class='Delimiter'>};</span>      <span class='Comment_Single_Line'># undef or 0 means default 
</span>     <span class='Comment_Single_Line'># only allow segsize 1 for now, as we can't do large files yet in windows 
</span>    <span class='Control'>die</span> <span class='String'>"Bad segsize $options-&GT;{segsize}"</span> 
      <span class='Control'>unless</span> $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>segsize<span class='Delimiter'>} </span><span class='Operator'>== </span>1<span class='Delimiter'>; 
</span>    $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_blocksize<span class='Delimiter'>} </span><span class='Operator'>= </span>8 
      <span class='Control'>unless</span> $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_blocksize<span class='Delimiter'>};</span>    <span class='Comment_Single_Line'># undef or 0 means default 
</span>    <span class='Control'>die</span> <span class='String'>"Bad wal_blocksize $options-&GT;{wal_blocksize}"</span> 
      <span class='Control'>unless</span> <span class='Keyword'>grep </span><span class='Delimiter'>{ </span>$_ <span class='Operator'>== </span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_blocksize<span class='Delimiter'>} } 
</span>          <span class='Parentheses'>(</span>1<span class='Delimiter'>, </span>2<span class='Delimiter'>, </span>4<span class='Delimiter'>, </span>8<span class='Delimiter'>, </span>16<span class='Delimiter'>, </span>32<span class='Delimiter'>, </span>64<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_segsize<span class='Delimiter'>} </span><span class='Operator'>= </span>16 
      <span class='Control'>unless</span> $options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_segsize<span class='Delimiter'>};</span>      <span class='Comment_Single_Line'># undef or 0 means default 
</span>    <span class='Control'>die</span> <span class='String'>"Bad wal_segsize $options-&GT;{wal_segsize}"</span> 
      <span class='Control'>unless</span> <span class='Keyword'>grep </span><span class='Delimiter'>{ </span>$_ <span class='Operator'>== </span>$options<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_segsize<span class='Delimiter'>} } </span><span class='Parentheses'>(</span>1<span class='Delimiter'>, </span>2<span class='Delimiter'>, </span>4<span class='Delimiter'>, </span>8<span class='Delimiter'>, </span>16<span class='Delimiter'>, </span>32<span class='Delimiter'>, </span>64<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<a name="LN62"></a><span class='Control'>sub</span> <span class='Declare_Function'>GetAdditionalHeaders</span> 
<span class='Delimiter'>{ 
</span>    <span class='Control'>return</span> <span class='String'>''</span><span class='Delimiter'>; 
} 
</span> 
<a name="LN67"></a><span class='Control'>sub</span> <span class='Declare_Function'>DeterminePlatform</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$self <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span> 
    <span class='Comment_Single_Line'># Examine CL help output to determine if we are in 32 or 64-bit mode. 
</span>    <span class='Keyword'>my </span>$output <span class='Operator'>= `</span>cl <span class='Operator'>/? </span>2<span class='Operator'>&GT;&</span>1<span class='Operator'>`</span><span class='Delimiter'>; 
</span>    $<span class='Operator'>? &GT;&GT; </span>8 <span class='Operator'>== </span>0 or <span class='Control'>die</span> <span class='String'>"cl command not found"</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='Parentheses'>(</span>$output <span class='Operator'>=~ /^\/favor:&LT;.+AMD64/m</span><span class='String'>) ? 'x64' : 'Win32'; 
</span>    <span class='Keyword'>print </span><span class='String'>"Detected hardware platform: $self-&GT;{platform}\n"</span><span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Single_Line'># Return 1 if $oldfile is newer than $newfile, or if $newfile doesn't exist. 
# Special case - if config.pl has changed, always return 1 
</span><a name="LN80"></a><span class='Control'>sub</span> <span class='Declare_Function'>IsNewer</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span><span class='Parentheses'>(</span>$newfile<span class='Delimiter'>, </span>$oldfile<span class='Parentheses'>)</span> <span class='Operator'>= </span>@_<span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>   $oldfile <span class='Operator'>ne </span><span class='String'>'src/tools/msvc/config.pl'</span> 
        <span class='Operator'>&& </span>$oldfile <span class='Operator'>ne </span><span class='String'>'src/tools/msvc/config_default.pl'</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>return</span> 1 
          <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>-</span>f <span class='String'>'src/tools/msvc/config.pl'</span><span class='Parentheses'>)</span> 
          <span class='Operator'>&& </span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span>$newfile<span class='Delimiter'>, </span><span class='String'>'src/tools/msvc/config.pl'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>return</span> 1 
          <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>-</span>f <span class='String'>'src/tools/msvc/config_default.pl'</span><span class='Parentheses'>)</span> 
          <span class='Operator'>&& </span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span>$newfile<span class='Delimiter'>, </span><span class='String'>'src/tools/msvc/config_default.pl'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> 1 <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>!</span><span class='Parentheses'>(</span><span class='Operator'>-</span>e $newfile<span class='Parentheses'>))</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>@nstat <span class='Operator'>= </span><span class='Keyword'>stat</span><span class='Parentheses'>(</span>$newfile<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>@ostat <span class='Operator'>= </span><span class='Keyword'>stat</span><span class='Parentheses'>(</span>$oldfile<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> 1 <span class='Control'>if</span> <span class='Parentheses'>(</span>$nstat<span class='Delimiter'>[</span>9<span class='Delimiter'>] </span><span class='Operator'>&LT; </span>$ostat<span class='Delimiter'>[</span>9<span class='Delimiter'>]</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>return</span> 0<span class='Delimiter'>; 
} 
</span> 
<span class='Comment_Single_Line'># Copy a file, *not* preserving date. Only works for text files. 
</span><a name="LN101"></a><span class='Control'>sub</span> <span class='Declare_Function'>copyFile</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span><span class='Parentheses'>(</span>$src<span class='Delimiter'>, </span>$dest<span class='Parentheses'>)</span> <span class='Operator'>= </span>@_<span class='Delimiter'>; 
</span>    <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$i<span class='Delimiter'>, </span><span class='String'>'&LT;'</span><span class='Delimiter'>, </span>$src<span class='Parentheses'>)</span>  <span class='Operator'>|| </span>croak <span class='String'>"Could not open $src"</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$o<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span>$dest<span class='Parentheses'>)</span> <span class='Operator'>|| </span>croak <span class='String'>"Could not open $dest"</span><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>&LT;</span>$i<span class='Operator'>&GT;</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span>$o $_<span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Keyword'>close</span><span class='Parentheses'>(</span>$i<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>close</span><span class='Parentheses'>(</span>$o<span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a name="LN114"></a><span class='Control'>sub</span> <span class='Declare_Function'>GenerateFiles</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$self <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$bits <span class='Operator'>= </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} </span><span class='Operator'>eq </span><span class='String'>'Win32'</span> <span class='Operator'>? </span>32 <span class='Operator'>: </span>64<span class='Delimiter'>; 
</span> 
    <span class='Comment_Single_Line'># Parse configure.in to get version numbers 
</span>    <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$c<span class='Delimiter'>, </span><span class='String'>'&LT;'</span><span class='Delimiter'>, </span><span class='String'>"configure.in"</span><span class='Parentheses'>)</span> 
      <span class='Operator'>|| </span>confess<span class='Parentheses'>(</span><span class='String'>"Could not open configure.in for reading\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>&LT;</span>$c<span class='Operator'>&GT;</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>/^AC_INIT\(\[PostgreSQL\], \[([^\]]+)\]/</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>strver<span class='Delimiter'>} </span><span class='Operator'>= </span>$1<span class='Delimiter'>; 
</span>            <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>strver<span class='Delimiter'>} </span><span class='Operator'>!~ /^(\d+)(?:\.(\d+))?/</span><span class='Parentheses'>)</span> 
            <span class='Delimiter'>{ 
</span>                confess <span class='String'>"Bad format of version: $self-&GT;{strver}\n"</span><span class='Delimiter'>; 
</span>            <span class='Delimiter'>} 
</span>            $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>numver<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='Keyword'>sprintf</span><span class='Parentheses'>(</span><span class='String'>"%d%04d"</span><span class='Delimiter'>, </span>$1<span class='Delimiter'>, </span>$2 <span class='Operator'>? </span>$2 <span class='Operator'>: </span>0<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>majorver<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='Keyword'>sprintf</span><span class='Parentheses'>(</span><span class='String'>"%d"</span><span class='Delimiter'>, </span>$1<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Keyword'>close</span><span class='Parentheses'>(</span>$c<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    confess <span class='String'>"Unable to parse configure.in for all variables!"</span> 
      <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>strver<span class='Delimiter'>} </span><span class='Operator'>eq </span><span class='String'>''</span> <span class='Operator'>|| </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>numver<span class='Delimiter'>} </span><span class='Operator'>eq </span><span class='String'>''</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span><span class='String'>"src/include/pg_config_os.h"</span><span class='Delimiter'>, </span><span class='String'>"src/include/port/win32.h"</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Copying pg_config_os.h...\n"</span><span class='Delimiter'>; 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span><span class='String'>"src/include/port/win32.h"</span><span class='Delimiter'>, </span><span class='String'>"src/include/pg_config_os.h"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span><span class='String'>"src/include/pg_config.h"</span><span class='Delimiter'>, </span><span class='String'>"src/include/pg_config.h.win32"</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating pg_config.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$i<span class='Delimiter'>, </span><span class='String'>'&LT;'</span><span class='Delimiter'>, </span><span class='String'>"src/include/pg_config.h.win32"</span><span class='Parentheses'>)</span> 
          <span class='Operator'>|| </span>confess <span class='String'>"Could not open pg_config.h.win32\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$o<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span><span class='String'>"src/include/pg_config.h"</span><span class='Parentheses'>)</span> 
          <span class='Operator'>|| </span>confess <span class='String'>"Could not write to pg_config.h\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>my </span>$extraver <span class='Operator'>= </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>extraver<span class='Delimiter'>}; 
</span>        $extraver <span class='Operator'>= </span><span class='String'>''</span> <span class='Control'>unless</span> <span class='Keyword'>defined </span>$extraver<span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>&LT;</span>$i<span class='Operator'>&GT;</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Operator'>s</span><span class='String'>{PG_VERSION "[^"]+"}{PG_VERSION "$self-&GT;{</span>strver<span class='Delimiter'>}</span>$extraver<span class='String'>"}; 
</span>            <span class='Operator'>s</span><span class='String'>{PG_VERSION_NUM \d+}{PG_VERSION_NUM $self-&GT;{</span>numver<span class='Delimiter'>}}; 
</span><span class='Operator'>s</span><span class='String'>{PG_VERSION_STR "[^"]+"}{PG_VERSION_STR "PostgreSQL $self-&GT;{</span>strver<span class='Delimiter'>}</span>$extraver<span class='Delimiter'>, </span>compiled by Visual C<span class='Operator'>++ </span>build <span class='String'>" CppAsString2(_MSC_VER) "</span><span class='Delimiter'>, </span>$bits<span class='Operator'>-</span>bit<span class='String'>"}; 
</span>            <span class='Keyword'>print </span>$o $_<span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define PG_MAJORVERSION \"$self-&GT;{majorver}\"\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define LOCALEDIR \"/share/locale\"\n"</span> 
          <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>nls<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"/* defines added by config steps */\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#ifndef IGNORE_CONFIGURED_SETTINGS\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define USE_ASSERT_CHECKING 1\n"</span> 
          <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>asserts<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define USE_LDAP 1\n"</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>ldap<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define HAVE_LIBZ 1\n"</span>   <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>zlib<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define USE_OPENSSL 1\n"</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define ENABLE_NLS 1\n"</span>  <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>nls<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
        <span class='Keyword'>print </span>$o <span class='String'>"#define BLCKSZ "</span><span class='Delimiter'>, </span>1024 <span class='Operator'>* </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>blocksize<span class='Delimiter'>}, 
</span>          <span class='String'>"\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define RELSEG_SIZE "</span><span class='Delimiter'>, 
</span>          <span class='Parentheses'>(</span>1024 <span class='Operator'>/ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>blocksize<span class='Delimiter'>}</span><span class='Parentheses'>)</span> <span class='Operator'>* 
</span>          $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>segsize<span class='Delimiter'>} </span><span class='Operator'>* 
</span>          1024<span class='Delimiter'>, </span><span class='String'>"\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define XLOG_BLCKSZ "</span><span class='Delimiter'>, 
</span>          1024 <span class='Operator'>* </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_blocksize<span class='Delimiter'>}, </span><span class='String'>"\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define XLOG_SEG_SIZE ("</span><span class='Delimiter'>, </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>wal_segsize<span class='Delimiter'>}, 
</span>          <span class='String'>" * 1024 * 1024)\n"</span><span class='Delimiter'>; 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float4byval<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define USE_FLOAT4_BYVAL 1\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define FLOAT4PASSBYVAL true\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define FLOAT4PASSBYVAL false\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>float8byval<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define USE_FLOAT8_BYVAL 1\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define FLOAT8PASSBYVAL true\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define FLOAT8PASSBYVAL false\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span> 
        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>uuid<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define HAVE_UUID_OSSP\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define HAVE_UUID_H\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define HAVE_LIBXML2\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define USE_LIBXML\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xslt<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define HAVE_LIBXSLT\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define USE_LIBXSLT\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define ENABLE_GSS 1\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define USE_ICU 1\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Keyword'>my </span>$port <span class='Operator'>= </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span><span class='String'>"--with-pgport"</span><span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#undef DEF_PGPORT\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#undef DEF_PGPORT_STR\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define DEF_PGPORT $port\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o <span class='String'>"#define DEF_PGPORT_STR \"$port\"\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#define VAL_CONFIGURE \""</span> 
          <span class='Operator'>. </span>$self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN683"><span class='Ref_to_Func'>GetFakeConfigure</span></a><span class='Parentheses'>()</span> <span class='Operator'>. </span><span class='String'>"\"\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='String'>"#endif /* IGNORE_CONFIGURED_SETTINGS */\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$o<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$i<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>"src/include/pg_config_ext.h"</span><span class='Delimiter'>, 
</span>            <span class='String'>"src/include/pg_config_ext.h.win32"</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Copying pg_config_ext.h...\n"</span><span class='Delimiter'>; 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span> 
            <span class='String'>"src/include/pg_config_ext.h.win32"</span><span class='Delimiter'>, 
</span>            <span class='String'>"src/include/pg_config_ext.h"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN491"><span class='Ref_to_Func'>GenerateDefFile</span></a><span class='Parentheses'>(</span> 
        <span class='String'>"src/interfaces/libpq/libpqdll.def"</span><span class='Delimiter'>, 
</span>        <span class='String'>"src/interfaces/libpq/exports.txt"</span><span class='Delimiter'>, 
</span>        <span class='String'>"LIBPQ"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN491"><span class='Ref_to_Func'>GenerateDefFile</span></a><span class='Parentheses'>(</span> 
        <span class='String'>"src/interfaces/ecpg/ecpglib/ecpglib.def"</span><span class='Delimiter'>, 
</span>        <span class='String'>"src/interfaces/ecpg/ecpglib/exports.txt"</span><span class='Delimiter'>, 
</span>        <span class='String'>"LIBECPG"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN491"><span class='Ref_to_Func'>GenerateDefFile</span></a><span class='Parentheses'>(</span> 
        <span class='String'>"src/interfaces/ecpg/compatlib/compatlib.def"</span><span class='Delimiter'>, 
</span>        <span class='String'>"src/interfaces/ecpg/compatlib/exports.txt"</span><span class='Delimiter'>, 
</span>        <span class='String'>"LIBECPG_COMPAT"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN491"><span class='Ref_to_Func'>GenerateDefFile</span></a><span class='Parentheses'>(</span> 
        <span class='String'>"src/interfaces/ecpg/pgtypeslib/pgtypeslib.def"</span><span class='Delimiter'>, 
</span>        <span class='String'>"src/interfaces/ecpg/pgtypeslib/exports.txt"</span><span class='Delimiter'>, 
</span>        <span class='String'>"LIBPGTYPES"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/backend/utils/fmgrtab.c'</span><span class='Delimiter'>, </span><span class='String'>'src/include/catalog/pg_proc.h'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating fmgrtab.c, fmgroids.h, fmgrprotos.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'src/backend/utils'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>"perl -I ../catalog Gen_fmgrtab.pl ../../../src/include/catalog/pg_proc.h"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'../../..'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/include/utils/fmgroids.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/utils/fmgroids.h'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span><span class='String'>'src/backend/utils/fmgroids.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/include/utils/fmgroids.h'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/include/utils/fmgrprotos.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/utils/fmgrprotos.h'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span> 
            <span class='String'>'src/backend/utils/fmgrprotos.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/include/utils/fmgrprotos.h'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/include/storage/lwlocknames.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/storage/lmgr/lwlocknames.txt'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating lwlocknames.c and lwlocknames.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'src/backend/storage/lmgr'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span><span class='String'>'perl generate-lwlocknames.pl lwlocknames.txt'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'../../../..'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/include/storage/lwlocknames.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/storage/lmgr/lwlocknames.h'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span> 
            <span class='String'>'src/backend/storage/lmgr/lwlocknames.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/include/storage/lwlocknames.h'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/include/dynloader.h'</span><span class='Delimiter'>, </span><span class='String'>'src/backend/port/dynloader/win32.h'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span><span class='String'>'src/backend/port/dynloader/win32.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/include/dynloader.h'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span><span class='String'>'src/include/utils/probes.h'</span><span class='Delimiter'>, </span><span class='String'>'src/backend/utils/probes.d'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating probes.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>'perl src/backend/utils/Gen_dummy_probes.pl src/backend/utils/probes.d &GT; src/include/utils/probes.h'</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>python<span class='Delimiter'>} 
</span>        <span class='Operator'>&& </span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/pl/plpython/spiexceptions.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/include/backend/errcodes.txt'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating spiexceptions.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>'perl src/pl/plpython/generate-spiexceptions.pl src/backend/utils/errcodes.txt &GT; src/pl/plpython/spiexceptions.h'</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/include/utils/errcodes.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/utils/errcodes.txt'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating errcodes.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>'perl src/backend/utils/generate-errcodes.pl src/backend/utils/errcodes.txt &GT; src/backend/utils/errcodes.h'</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span><span class='String'>'src/backend/utils/errcodes.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/include/utils/errcodes.h'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/pl/plpgsql/src/plerrcodes.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/utils/errcodes.txt'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating plerrcodes.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>'perl src/pl/plpgsql/src/generate-plerrcodes.pl src/backend/utils/errcodes.txt &GT; src/pl/plpgsql/src/plerrcodes.h'</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>tcl<span class='Delimiter'>} 
</span>        <span class='Operator'>&& </span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/pl/tcl/pltclerrcodes.h'</span><span class='Delimiter'>, </span><span class='String'>'src/backend/utils/errcodes.txt'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating pltclerrcodes.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>'perl src/pl/tcl/generate-pltclerrcodes.pl src/backend/utils/errcodes.txt &GT; src/pl/tcl/pltclerrcodes.h'</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/backend/utils/sort/qsort_tuple.c'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/utils/sort/gen_qsort_tuple.pl'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating qsort_tuple.c...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>'perl src/backend/utils/sort/gen_qsort_tuple.pl &GT; src/backend/utils/sort/qsort_tuple.c'</span> 
        <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/interfaces/libpq/libpq.rc'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/interfaces/libpq/libpq.rc.in'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating libpq.rc...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>my </span><span class='Parentheses'>(</span>$sec<span class='Delimiter'>, </span>$min<span class='Delimiter'>, </span>$hour<span class='Delimiter'>, </span>$mday<span class='Delimiter'>, </span>$mon<span class='Delimiter'>, </span>$year<span class='Delimiter'>, </span>$wday<span class='Delimiter'>, </span>$yday<span class='Delimiter'>, </span>$isdst<span class='Parentheses'>)</span> <span class='Operator'>= 
</span>          <span class='Keyword'>localtime</span><span class='Parentheses'>(</span><span class='Keyword'>time</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>my </span>$d <span class='Operator'>= </span><span class='Parentheses'>(</span>$year <span class='Operator'>- </span>100<span class='Parentheses'>)</span> <span class='Operator'>. </span><span class='String'>"$yday"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$i<span class='Delimiter'>, </span><span class='String'>'&LT;'</span><span class='Delimiter'>, </span><span class='String'>'src/interfaces/libpq/libpq.rc.in'</span><span class='Parentheses'>)</span> 
          <span class='Operator'>|| </span>confess <span class='String'>"Could not open libpq.rc.in"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$o<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span><span class='String'>'src/interfaces/libpq/libpq.rc'</span><span class='Parentheses'>)</span> 
          <span class='Operator'>|| </span>confess <span class='String'>"Could not open libpq.rc"</span><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>&LT;</span>$i<span class='Operator'>&GT;</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Operator'>s</span><span class='String'>/(VERSION.*),0/$1,$d/</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$o<span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$i<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$o<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span><span class='String'>'src/bin/psql/sql_help.h'</span><span class='Delimiter'>, </span><span class='String'>'src/bin/psql/create_help.pl'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating sql_help.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'src/bin/psql'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span><span class='String'>"perl create_help.pl ../../../doc/src/sgml/ref sql_help"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'../../..'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/interfaces/ecpg/preproc/preproc.y'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/backend/parser/gram.y'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating preproc.y...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'src/interfaces/ecpg/preproc'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>system</span><span class='Parentheses'>(</span><span class='String'>'perl parse.pl &LT; ../../../backend/parser/gram.y &GT; preproc.y'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'../../../..'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>            <span class='String'>'src/interfaces/ecpg/include/ecpg_config.h'</span><span class='Delimiter'>, 
</span>            <span class='String'>'src/interfaces/ecpg/include/ecpg_config.h.in'</span><span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating ecpg_config.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$o<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span><span class='String'>'src/interfaces/ecpg/include/ecpg_config.h'</span><span class='Parentheses'>)</span> 
          <span class='Operator'>|| </span>confess <span class='String'>"Could not open ecpg_config.h"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span><span class='Comment_Single_Line'>#if (_MSC_VER &GT; 1200) 
#define HAVE_LONG_LONG_INT_64 
#define ENABLE_THREAD_SAFETY 1 
</span>EOF 
        <span class='Keyword'>print </span>$o <span class='String'>"#endif\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$o<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Control'>unless</span> <span class='Parentheses'>(</span><span class='Operator'>-</span>f <span class='String'>"src/port/pg_config_paths.h"</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating pg_config_paths.h...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$o<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span><span class='String'>'src/port/pg_config_paths.h'</span><span class='Parentheses'>)</span> 
          <span class='Operator'>|| </span>confess <span class='String'>"Could not open pg_config_paths.h"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$o <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span><span class='Comment_Single_Line'>#define PGBINDIR "/bin" 
#define PGSHAREDIR "/share" 
#define SYSCONFDIR "/etc" 
#define INCLUDEDIR "/include" 
#define PKGINCLUDEDIR "/include" 
#define INCLUDEDIRSERVER "/include/server" 
#define LIBDIR "/lib" 
#define PKGLIBDIR "/lib" 
#define LOCALEDIR "/share/locale" 
#define DOCDIR "/doc" 
#define HTMLDIR "/doc" 
#define MANDIR "/man" 
</span>EOF 
        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$o<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Keyword'>my </span>$mf <span class='Operator'>= </span>Project<span class='Operator'>::</span>read_file<span class='Parentheses'>(</span><span class='String'>'src/backend/catalog/Makefile'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $mf <span class='Operator'>=~ s</span><span class='String'>{\\\r?\n}{}g; 
</span>    $mf <span class='Operator'>=~ /^POSTGRES_BKI_SRCS\s*:?=[^,]+,(.*)\)$/</span>gm 
      <span class='Operator'>|| </span>croak <span class='String'>"Could not find POSTGRES_BKI_SRCS in Makefile\n"</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>@allbki <span class='Operator'>= </span><span class='Keyword'>split </span><span class='Operator'>/\s+/</span><span class='Delimiter'>, </span>$1<span class='Delimiter'>; 
</span>    <span class='Control'>foreach</span> <span class='Keyword'>my </span>$bki <span class='Parentheses'>(</span>@allbki<span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>next</span> <span class='Control'>if</span> $bki <span class='Operator'>eq </span><span class='String'>""</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>( 
</span>                <span class='String'>'src/backend/catalog/postgres.bki'</span><span class='Delimiter'>, 
</span>                <span class='String'>"src/include/catalog/$bki"</span><span class='Parentheses'>))</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span><span class='String'>"Generating postgres.bki and schemapg.h...\n"</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'src/backend/catalog'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>my </span>$bki_srcs <span class='Operator'>= </span><span class='Keyword'>join</span><span class='Parentheses'>(</span><span class='String'>' ../../../src/include/catalog/'</span><span class='Delimiter'>, </span>@allbki<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>system</span><span class='Parentheses'>(</span> 
<span class='String'>"perl genbki.pl -I../../../src/include/catalog --set-version=$self-&GT;{majorver} $bki_srcs"</span> 
            <span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>chdir</span><span class='Parentheses'>(</span><span class='String'>'../../..'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <a href="Solution.pm.html#LN101"><span class='Ref_to_Func'>copyFile</span></a><span class='Parentheses'>(</span> 
                <span class='String'>'src/backend/catalog/schemapg.h'</span><span class='Delimiter'>, 
</span>                <span class='String'>'src/include/catalog/schemapg.h'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>last</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$o<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span><span class='String'>"doc/src/sgml/version.sgml"</span><span class='Parentheses'>)</span> 
      <span class='Operator'>|| </span>croak <span class='String'>"Could not write to version.sgml\n"</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>print </span>$o <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span><span class='Operator'>&LT;!</span>ENTITY version <span class='String'>"$self-&GT;{strver}"</span><span class='Operator'>&GT; 
&LT;!</span>ENTITY majorversion <span class='String'>"$self-&GT;{majorver}"</span><span class='Operator'>&GT; 
</span>EOF 
    <span class='Keyword'>close</span><span class='Parentheses'>(</span>$o<span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a name="LN491"></a><span class='Control'>sub</span> <span class='Declare_Function'>GenerateDefFile</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$deffile<span class='Delimiter'>, </span>$txtfile<span class='Delimiter'>, </span>$libname<span class='Parentheses'>)</span> <span class='Operator'>= </span>@_<span class='Delimiter'>; 
</span> 
    <span class='Control'>if</span> <span class='Parentheses'>(</span><a href="Solution.pm.html#LN80"><span class='Ref_to_Func'>IsNewer</span></a><span class='Parentheses'>(</span>$deffile<span class='Delimiter'>, </span>$txtfile<span class='Parentheses'>))</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Keyword'>print </span><span class='String'>"Generating $deffile...\n"</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$if<span class='Delimiter'>, </span><span class='String'>'&LT;'</span><span class='Delimiter'>, </span>$txtfile<span class='Parentheses'>)</span> <span class='Operator'>|| </span>confess<span class='Parentheses'>(</span><span class='String'>"Could not open $txtfile\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$of<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span>$deffile<span class='Parentheses'>)</span> <span class='Operator'>|| </span>confess<span class='Parentheses'>(</span><span class='String'>"Could not open $deffile\n"</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>print </span>$of <span class='String'>"LIBRARY $libname\nEXPORTS\n"</span><span class='Delimiter'>; 
</span>        <span class='Control'>while</span> <span class='Parentheses'>(</span><span class='Operator'>&LT;</span>$if<span class='Operator'>&GT;</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Control'>next</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>/^#/</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Control'>next</span> <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>/^\s*$/</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>my </span><span class='Parentheses'>(</span>$f<span class='Delimiter'>, </span>$o<span class='Parentheses'>)</span> <span class='Operator'>= </span><span class='Keyword'>split</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$of <span class='String'>" $f @ $o\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$of<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Keyword'>close</span><span class='Parentheses'>(</span>$if<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
} 
</span> 
<a name="LN513"></a><span class='Control'>sub</span> <span class='Declare_Function'>AddProject</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$name<span class='Delimiter'>, </span>$type<span class='Delimiter'>, </span>$folder<span class='Delimiter'>, </span>$initialdir<span class='Parentheses'>)</span> <span class='Operator'>= </span>@_<span class='Delimiter'>; 
</span> 
    <span class='Keyword'>my </span>$proj <span class='Operator'>= 
</span>      VSObjectFactory<span class='Operator'>::</span><a href="VSObjectFactory.pm.html#LN61"><span class='Ref_to_Func'>CreateProject</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}, </span>$name<span class='Delimiter'>, </span>$type<span class='Delimiter'>, </span>$self<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>push </span>@<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>$folder<span class='Delimiter'>} }, </span>$proj<span class='Delimiter'>; 
</span>    $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN182"><span class='Ref_to_Func'>AddDir</span></a><span class='Parentheses'>(</span>$initialdir<span class='Parentheses'>)</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>$initialdir<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>zlib<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>zlib<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>zlib<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\zdll.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span><span class='Operator'>-</span>e <span class='String'>"$self-&GT;{options}-&GT;{openssl}/lib/VC/ssleay32MD.lib"</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span> 
                $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\VC\ssleay32.lib'</span><span class='Delimiter'>, </span>1<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span> 
                $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\VC\libeay32.lib'</span><span class='Delimiter'>, </span>1<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span> 
                $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\ssleay32.lib'</span><span class='Delimiter'>, </span>1<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span> 
                $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\libeay32.lib'</span><span class='Delimiter'>, </span>1<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>nls<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>nls<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>nls<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\libintl.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\inc\krb5'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\i386\krb5_32.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\i386\comerr32.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\i386\gssapi32.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>iconv<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>iconv<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>iconv<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\iconv.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} </span><span class='Operator'>eq </span><span class='String'>'Win32'</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\icuin.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\icuuc.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\icudt.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>        <span class='Control'>else</span> 
        <span class='Delimiter'>{ 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib64\icuin.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib64\icuuc.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib64\icudt.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include\libxml2'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\libxml2.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xslt<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xslt<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xslt<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\libxslt.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>uuid<span class='Delimiter'>}</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN140"><span class='Ref_to_Func'>AddIncludeDir</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>uuid<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\include'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><a href="Project.pm.html#LN124"><span class='Ref_to_Func'>AddLibrary</span></a><span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>uuid<span class='Delimiter'>} </span><span class='Operator'>. </span><span class='String'>'\lib\uuid.lib'</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Delimiter'>} 
</span>    <span class='Control'>return</span> $proj<span class='Delimiter'>; 
} 
</span> 
<a name="LN596"></a><span class='Control'>sub</span> <span class='Declare_Function'>Save</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span><span class='Parentheses'>(</span>$self<span class='Parentheses'>)</span> <span class='Operator'>= </span>@_<span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>%flduid<span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN114"><span class='Ref_to_Func'>GenerateFiles</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>    <span class='Control'>foreach</span> <span class='Keyword'>my </span>$fld <span class='Parentheses'>(</span><span class='Keyword'>keys </span>%<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>foreach</span> <span class='Keyword'>my </span>$proj <span class='Parentheses'>(</span>@<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>$fld<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            $proj<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN596"><span class='Ref_to_Func'>Save</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Keyword'>open</span><span class='Parentheses'>(</span><span class='Keyword'>my </span>$sln<span class='Delimiter'>, </span><span class='String'>'&GT;'</span><span class='Delimiter'>, </span><span class='String'>"pgsql.sln"</span><span class='Parentheses'>)</span> <span class='Operator'>|| </span>croak <span class='String'>"Could not write to pgsql.sln\n"</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>Microsoft Visual Studio Solution File<span class='Delimiter'>, </span>Format Version $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>} 
</span><span class='Comment_Single_Line'># $self-&GT;{visualStudioName} 
</span>EOF 
 
    <span class='Keyword'>print </span>$sln $self<span class='Operator'>-&GT;</span><a href="Solution.pm.html#LN62"><span class='Ref_to_Func'>GetAdditionalHeaders</span></a><span class='Parentheses'>()</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>foreach</span> <span class='Keyword'>my </span>$fld <span class='Parentheses'>(</span><span class='Keyword'>keys </span>%<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>foreach</span> <span class='Keyword'>my </span>$proj <span class='Parentheses'>(</span>@<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>$fld<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>Project<span class='Parentheses'>(</span><span class='String'>"{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}"</span><span class='Parentheses'>)</span> <span class='Operator'>= </span><span class='String'>"$proj-&GT;{name}"</span><span class='Delimiter'>, </span><span class='String'>"$proj-&GT;{name}$proj-&GT;{filenameExtension}"</span><span class='Delimiter'>, </span><span class='String'>"$proj-&GT;{guid}"</span> 
EndProject 
EOF 
        <span class='Delimiter'>} 
</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$fld <span class='Operator'>ne </span><span class='String'>""</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            $flduid<span class='Delimiter'>{</span>$fld<span class='Delimiter'>} </span><span class='Operator'>= </span>Win32<span class='Operator'>::</span>GuidGen<span class='Parentheses'>()</span><span class='Delimiter'>; 
</span>            <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>Project<span class='Parentheses'>(</span><span class='String'>"{2150E333-8FDC-42A3-9474-1A3956D46DE8}"</span><span class='Parentheses'>)</span> <span class='Operator'>= </span><span class='String'>"$fld"</span><span class='Delimiter'>, </span><span class='String'>"$fld"</span><span class='Delimiter'>, </span><span class='String'>"$flduid{$fld}"</span> 
EndProject 
EOF 
        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>Global 
    GlobalSection<span class='Parentheses'>(</span>SolutionConfigurationPlatforms<span class='Parentheses'>)</span> <span class='Operator'>= </span>preSolution 
        Debug<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>}</span><span class='Operator'>= </span>Debug<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} 
</span>        Release<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} </span><span class='Operator'>= </span>Release<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} 
</span>    EndGlobalSection 
    GlobalSection<span class='Parentheses'>(</span>ProjectConfigurationPlatforms<span class='Parentheses'>)</span> <span class='Operator'>= </span>postSolution 
EOF 
 
    <span class='Control'>foreach</span> <span class='Keyword'>my </span>$fld <span class='Parentheses'>(</span><span class='Keyword'>keys </span>%<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>foreach</span> <span class='Keyword'>my </span>$proj <span class='Parentheses'>(</span>@<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>$fld<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>        $proj<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>guid<span class='Delimiter'>}</span><span class='Operator'>.</span>Debug<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>}</span><span class='Operator'>.</span>ActiveCfg <span class='Operator'>= </span>Debug<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} 
</span>        $proj<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>guid<span class='Delimiter'>}</span><span class='Operator'>.</span>Debug<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>}</span><span class='Operator'>.</span>Build<span class='Operator'>.</span>0  <span class='Operator'>= </span>Debug<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} 
</span>        $proj<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>guid<span class='Delimiter'>}</span><span class='Operator'>.</span>Release<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>}</span><span class='Operator'>.</span>ActiveCfg <span class='Operator'>= </span>Release<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} 
</span>        $proj<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>guid<span class='Delimiter'>}</span><span class='Operator'>.</span>Release<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>}</span><span class='Operator'>.</span>Build<span class='Operator'>.</span>0 <span class='Operator'>= </span>Release<span class='Operator'>|</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>platform<span class='Delimiter'>} 
</span>EOF 
        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>    EndGlobalSection 
    GlobalSection<span class='Parentheses'>(</span>SolutionProperties<span class='Parentheses'>)</span> <span class='Operator'>= </span>preSolution 
        HideSolutionNode <span class='Operator'>= </span>FALSE 
    EndGlobalSection 
    GlobalSection<span class='Parentheses'>(</span>NestedProjects<span class='Parentheses'>)</span> <span class='Operator'>= </span>preSolution 
EOF 
 
    <span class='Control'>foreach</span> <span class='Keyword'>my </span>$fld <span class='Parentheses'>(</span><span class='Keyword'>keys </span>%<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
    <span class='Delimiter'>{ 
</span>        <span class='Control'>next</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>$fld <span class='Operator'>eq </span><span class='String'>""</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>        <span class='Control'>foreach</span> <span class='Keyword'>my </span>$proj <span class='Parentheses'>(</span>@<span class='Delimiter'>{ </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>projects<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>$fld<span class='Delimiter'>} }</span><span class='Parentheses'>)</span> 
        <span class='Delimiter'>{ 
</span>            <span class='Keyword'>print </span>$sln <span class='String'>"\t\t$proj-&GT;{guid} = $flduid{$fld}\n"</span><span class='Delimiter'>; 
</span>        <span class='Delimiter'>} 
</span>    <span class='Delimiter'>} 
</span> 
    <span class='Keyword'>print </span>$sln <span class='Operator'>&LT;&LT;</span>EOF<span class='Delimiter'>; 
</span>    EndGlobalSection 
EndGlobal 
EOF 
    <span class='Keyword'>close</span><span class='Parentheses'>(</span>$sln<span class='Parentheses'>)</span><span class='Delimiter'>; 
} 
</span> 
<a name="LN683"></a><span class='Control'>sub</span> <span class='Declare_Function'>GetFakeConfigure</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$self <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span> 
    <span class='Keyword'>my </span>$cfg <span class='Operator'>= </span><span class='String'>'--enable-thread-safety'</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --enable-cassert'</span>   <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>asserts<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --enable-nls'</span>       <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>nls<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --enable-tap-tests'</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>tap_tests<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-ldap'</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>ldap<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --without-zlib'</span> <span class='Control'>unless</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>zlib<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-extra-version'</span> <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>extraver<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-openssl'</span>       <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>openssl<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-ossp-uuid'</span>     <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>uuid<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-libxml'</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xml<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-libxslt'</span>       <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>xslt<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-gssapi'</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>gss<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-icu'</span>           <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>icu<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-tcl'</span>           <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>tcl<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-perl'</span>          <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>perl<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    $cfg <span class='Operator'>.= </span><span class='String'>' --with-python'</span>        <span class='Control'>if</span> <span class='Parentheses'>(</span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>options<span class='Delimiter'>}</span><span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>python<span class='Delimiter'>}</span><span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $cfg<span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>package </span>VS2005Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual Studio 2005 solution file 
# 
</span> 
<span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> base <span class='Keyword'>qw</span><span class='String'>(Solution)</span><span class='Delimiter'>; 
</span> 
<a name="LN717"></a><span class='Control'>sub</span> <span class='Declare_Function'>new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span>$classname<span class='Operator'>-&GT;</span>SUPER<span class='Operator'>::</span><a href="Project.pm.html#LN12"><span class='Ref_to_Func'>_new</span></a><span class='Parentheses'>(</span>@_<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='String'>'9.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}</span>               <span class='Operator'>= </span><span class='String'>'8.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>visualStudioName<span class='Delimiter'>}</span>    <span class='Operator'>= </span><span class='String'>'Visual Studio 2005'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>package </span>VS2008Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual Studio 2008 solution file 
# 
</span> 
<span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> base <span class='Keyword'>qw</span><span class='String'>(Solution)</span><span class='Delimiter'>; 
</span> 
<a name="LN740"></a><span class='Control'>sub</span> <span class='Declare_Function'>new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span>$classname<span class='Operator'>-&GT;</span>SUPER<span class='Operator'>::</span><a href="Project.pm.html#LN12"><span class='Ref_to_Func'>_new</span></a><span class='Parentheses'>(</span>@_<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='String'>'10.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}</span>               <span class='Operator'>= </span><span class='String'>'9.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>visualStudioName<span class='Delimiter'>}</span>    <span class='Operator'>= </span><span class='String'>'Visual Studio 2008'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>package </span>VS2010Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual Studio 2010 solution file 
# 
</span> 
<span class='Control'>use</span> Carp<span class='Delimiter'>; 
</span><span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> base <span class='Keyword'>qw</span><span class='String'>(Solution)</span><span class='Delimiter'>; 
</span> 
<a name="LN764"></a><span class='Control'>sub</span> <span class='Declare_Function'>new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span>$classname<span class='Operator'>-&GT;</span>SUPER<span class='Operator'>::</span><a href="Project.pm.html#LN12"><span class='Ref_to_Func'>_new</span></a><span class='Parentheses'>(</span>@_<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='String'>'11.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}</span>               <span class='Operator'>= </span><span class='String'>'10.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>visualStudioName<span class='Delimiter'>}</span>    <span class='Operator'>= </span><span class='String'>'Visual Studio 2010'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>package </span>VS2012Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual Studio 2012 solution file 
# 
</span> 
<span class='Control'>use</span> Carp<span class='Delimiter'>; 
</span><span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> base <span class='Keyword'>qw</span><span class='String'>(Solution)</span><span class='Delimiter'>; 
</span> 
<a name="LN788"></a><span class='Control'>sub</span> <span class='Declare_Function'>new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span>$classname<span class='Operator'>-&GT;</span>SUPER<span class='Operator'>::</span><a href="Project.pm.html#LN12"><span class='Ref_to_Func'>_new</span></a><span class='Parentheses'>(</span>@_<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='String'>'12.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}</span>               <span class='Operator'>= </span><span class='String'>'11.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>visualStudioName<span class='Delimiter'>}</span>    <span class='Operator'>= </span><span class='String'>'Visual Studio 2012'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>package </span>VS2013Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual Studio 2013 solution file 
# 
</span> 
<span class='Control'>use</span> Carp<span class='Delimiter'>; 
</span><span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> base <span class='Keyword'>qw</span><span class='String'>(Solution)</span><span class='Delimiter'>; 
</span> 
<a name="LN812"></a><span class='Control'>sub</span> <span class='Declare_Function'>new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span>$classname<span class='Operator'>-&GT;</span>SUPER<span class='Operator'>::</span><a href="Project.pm.html#LN12"><span class='Ref_to_Func'>_new</span></a><span class='Parentheses'>(</span>@_<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>}</span>        <span class='Operator'>= </span><span class='String'>'12.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}</span>                      <span class='Operator'>= </span><span class='String'>'12.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>visualStudioName<span class='Delimiter'>}</span>           <span class='Operator'>= </span><span class='String'>'Visual Studio 2013'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>VisualStudioVersion<span class='Delimiter'>}</span>        <span class='Operator'>= </span><span class='String'>'12.0.21005.1'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>MinimumVisualStudioVersion<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='String'>'10.0.40219.1'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<span class='Keyword'>package </span>VS2015Solution<span class='Delimiter'>; 
</span> 
<span class='Comment_Single_Line'># 
# Package that encapsulates a Visual Studio 2015 solution file 
# 
</span> 
<span class='Control'>use</span> Carp<span class='Delimiter'>; 
</span><span class='Control'>use</span> strict<span class='Delimiter'>; 
</span><span class='Control'>use</span> warnings<span class='Delimiter'>; 
</span><span class='Control'>use</span> base <span class='Keyword'>qw</span><span class='String'>(Solution)</span><span class='Delimiter'>; 
</span> 
<a name="LN838"></a><span class='Control'>sub</span> <span class='Declare_Function'>new</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span>$classname <span class='Operator'>= </span><span class='Keyword'>shift</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>my </span>$self      <span class='Operator'>= </span>$classname<span class='Operator'>-&GT;</span>SUPER<span class='Operator'>::</span><a href="Project.pm.html#LN12"><span class='Ref_to_Func'>_new</span></a><span class='Parentheses'>(</span>@_<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span>    <span class='Keyword'>bless</span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$classname<span class='Parentheses'>)</span><span class='Delimiter'>; 
</span> 
    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>solutionFileVersion<span class='Delimiter'>}</span>        <span class='Operator'>= </span><span class='String'>'12.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>vcver<span class='Delimiter'>}</span>                      <span class='Operator'>= </span><span class='String'>'14.00'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>visualStudioName<span class='Delimiter'>}</span>           <span class='Operator'>= </span><span class='String'>'Visual Studio 2015'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>VisualStudioVersion<span class='Delimiter'>}</span>        <span class='Operator'>= </span><span class='String'>'14.0.24730.2'</span><span class='Delimiter'>; 
</span>    $self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>MinimumVisualStudioVersion<span class='Delimiter'>} </span><span class='Operator'>= </span><span class='String'>'10.0.40219.1'</span><span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> $self<span class='Delimiter'>; 
} 
</span> 
<a name="LN853"></a><span class='Control'>sub</span> <span class='Declare_Function'>GetAdditionalHeaders</span> 
<span class='Delimiter'>{ 
</span>    <span class='Keyword'>my </span><span class='Parentheses'>(</span>$self<span class='Delimiter'>, </span>$f<span class='Parentheses'>)</span> <span class='Operator'>= </span>@_<span class='Delimiter'>; 
</span> 
    <span class='Control'>return</span> <span class='Operator'>qq</span><span class='String'>|VisualStudioVersion = $self-&GT;{VisualStudioVersion} 
</span>MinimumVisualStudioVersion <span class='Operator'>= </span>$self<span class='Operator'>-&GT;</span><span class='Delimiter'>{</span>MinimumVisualStudioVersion<span class='Delimiter'>} 
</span><span class='Operator'>|</span><span class='Delimiter'>; 
} 
</span> 
1<span class='Delimiter'>; 
</span></pre>
<table bgcolor='#c0c0c0' width='100%'><tr><td><a href='../../../Contents.html'>Contents</a></td></tr>
</table><hr><p class='blurb' align='center'><a href='http://www.sourceinsight.com'>HTML Created by Source Insight Version 4.00.0084 Built on 2017-02-26</a></p>
</body></html>